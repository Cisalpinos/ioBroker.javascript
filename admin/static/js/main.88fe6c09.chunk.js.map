{"version":3,"sources":["Components/RulesEditor/components/CurrentItem/style.module.scss","Components/RulesEditor/components/CustomDate/style.module.scss","Components/RulesEditor/components/GenericBlock/style.module.scss","Components/RulesEditor/style.module.scss","Components/RulesEditor/components/CardMenu/style.module.scss","Components/RulesEditor/components/CustomButton/style.module.scss","Components/RulesEditor/components/CustomInput/style.module.scss","Components/RulesEditor/components/CustomModal/style.module.scss","Components/RulesEditor/components/CustomSlider/style.module.scss","Components/RulesEditor/components/DragWrapper/style.module.scss","Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss","Components/RulesEditor/components/CustomCheckbox/style.module.scss","Components/RulesEditor/components/CustomSelect/style.module.scss","Components/RulesEditor/components/CustomSwitch/style.module.scss","Components/RulesEditor/components/CustomTime/style.module.scss","Components/RulesEditor/components/ContentBlockItems/style.module.scss","assets/js.png","assets/blockly.png","assets/typescript.png","assets/rules.png","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/tileRules.png","Dialogs/New.js","Dialogs/Error.js","Dialogs/AdapterDebug.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Dialogs/Export.js","Dialogs/Import.js","Components/BlocklyEditor.js","Dialogs/ScriptEditor.js","Components/RulesEditor/helpers/MaterialDynamicIcon.js","Components/RulesEditor/components/CardMenu/index.js","Components/RulesEditor/helpers/deepCopy.js","Components/RulesEditor/helpers/filterElement.js","Components/RulesEditor/components/CustomButton/index.js","Components/RulesEditor/components/CustomCheckbox/index.js","Components/RulesEditor/components/CustomInput/index.js","Components/RulesEditor/components/CustomInstance/index.js","Components/RulesEditor/components/CustomModal/index.js","Components/RulesEditor/components/CustomSelect/index.js","Components/RulesEditor/components/CustomSlider/index.js","Components/RulesEditor/components/CustomSwitch/index.js","Components/RulesEditor/components/CustomTime/index.js","Components/RulesEditor/components/CustomDate/index.js","Components/RulesEditor/helpers/utils.js","Components/RulesEditor/helpers/Tour.js","Components/RulesEditor/components/GenericBlock/index.js","Components/RulesEditor/components/Blocks/ActionSayText.js","Components/RulesEditor/components/Blocks/ActionSendEmail.js","Components/RulesEditor/components/Blocks/ActionTelegram.js","Components/RulesEditor/components/Blocks/ActionPushover.js","Components/RulesEditor/components/Blocks/ActionWhatsappcmb.js","Components/RulesEditor/components/Blocks/ActionPushsafer.js","Components/RulesEditor/helpers/Compile.js","Components/RulesEditor/components/Blocks/TriggerScriptSave.js","Components/RulesEditor/components/Blocks/TriggerSchedule.js","Components/RulesEditor/components/Blocks/TriggerState.js","Components/assets/hysteresis.png","Components/RulesEditor/components/Blocks/ConditionState.js","Components/RulesEditor/components/Blocks/ConditionTime.js","Components/RulesEditor/components/Blocks/ConditionAstrological.js","Components/RulesEditor/components/Blocks/ActionSetState.js","Components/RulesEditor/components/StandardBlocks/index.js","Components/RulesEditor/components/Blocks/ActionExec.js","Components/RulesEditor/components/Blocks/ActionHTTPCall.js","Components/RulesEditor/components/Blocks/ActionPrintText.js","Components/RulesEditor/components/Blocks/ActionPause.js","Components/RulesEditor/components/Blocks/ActionFunction.js","Components/RulesEditor/components/Blocks/ActionSetStateDelayed.js","Components/RulesEditor/components/ContextWrapper/index.js","Components/RulesEditor/components/CurrentItem/index.js","Components/RulesEditor/helpers/findElement.js","Components/RulesEditor/components/CustomDragLayer/index.js","Components/RulesEditor/hooks/useStateLocal.js","Components/RulesEditor/helpers/cardSort.js","Components/RulesEditor/components/DragWrapper/index.js","Components/RulesEditor/components/ContentBlockItems/DialogHelp.js","Components/RulesEditor/components/ContentBlockItems/DialogCondition.js","Components/RulesEditor/components/ContentBlockItems/index.js","Components/RulesEditor/components/CardMenu/CustomDragItem.js","Components/RulesEditor/components/HamburgerMenu/index.js","Components/RulesEditor/components/Menu/index.js","Components/RulesEditor/index.js","Components/Debugger/Editor.js","Components/Debugger/Console.js","Components/Debugger/Stack.js","Components/Debugger/index.js","Editor.js","assets/blockly2js.png","assets/rules2js.png","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","Components/RulesEditor/components/Menu/style.module.scss"],"names":["module","exports","DialogRename","props","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","this","nextProps","Dialog","event","reason","maxWidth","fullWidth","open","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","width","autoFocus","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","variant","onClick","color","startIcon","React","Component","withStyles","theme","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","type","html","lang","getLanguage","includes","window","focus","Card","className","classes","card","CardActionArea","CardMedia","media","image","title","CardContent","complexity","text","CardActions","size","openHtml","textAlign","getRulesCard","getBlocklyCard","getJSCard","getTSCard","display","height","fontStyle","marginBottom","spacing","DialogNew","onAdd","existingItems","indexOf","error","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","DialogAdapterDebug","adapterToDebug","enabled","socket","getObject","then","obj","common","setObject","_id","onDebug","jsInstance","filter","localStorage","getItem","showAskForStop","jsInstanceHost","getAdapterInstances","onlyWWW","adapter","host","icon","sort","a","b","jsInstanceObj","startsWith","js","Grid","List","component","ListItem","button","selected","ListItemIcon","src","alt","ListItemText","primary","toLowerCase","onDoubleClick","container","direction","Input","filterWithButton","placeholder","setItem","endAdornment","InputAdornment","position","IconButton","renderJavascriptList","renderInstances","buttonIcon","marginRight","marginTop","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","images","ImgBlockly","ImgJS","def","ImgRules","ImgTypeScript","getObjectName","en","toString","prepareList","data","modified","result","depth","index","ids","Object","keys","engineType","engine","it","idA","idB","parentIndex","Droppable","onDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","ref","clsx","children","Draggable","useDrag","opacity","isDragging","drag","transform","SideDrawer","expanded","JSON","parse","inputRef","createRef","listItems","scripts","problems","reorder","themeName","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","showAdapterDebug","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","cb","tasks","shift","match","that","substring","getState","err","readProblems","subscribeState","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","newState","filterListStatic","ensureSelectedIsVisibleStatic","getIsAllZeroInstancesStatic","stopPropagation","saveExpanded","iconButtons","debugMode","iconButtonsDisabled","onEnableDisable","onEdit","Promise","resolve","whiteSpace","padding","overflow","flex","onToggle","filtered","filteredPartly","childrenFiltered","depthPx","assign","marginLeft","cursor","isExpanded","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","script","scriptReorder","folderReorder","onDblClick","listItemIcon","getTextStyle","ListItemSecondaryAction","renderItemButtonsOnEnd","source","newId","items","dragging","isFilteredOut","reactChildren","element","renderListItem","renderOneItem","onDragFinish","dense","disablePadding","mainList","copyId","word","m","menuAnchorFilterEl","filterIcon","selectedItem","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","showError","iconDropdownMenu","onCloseMenu","onExpertModeChange","onExport","onImport","onThemeChange","newThemeName","onAddNew","onCopy","RootRef","rootRef","toolbarSearch","clearTimeout","filterList","onSearch","toolbarButtons","float","mini","currentTarget","getMainMenu","onAddNewFolder","folders","footerButtons","Blockly","footerButtonsRight","onExpandAll","onCollapseAll","onDebugInstance","renamingItem","copingItem","Drawer","menu","paper","drawerPaper","anchor","toolbar","getToolbarButtons","Divider","backend","HTML5Backend","innerMenu","renderAllItems","footer","getBottomButtons","newName","newInstance","getUniqueName","getFolders","getUniqueFolderName","getAdapterDebugDialog","objects","found","lastIndexOf","nState","selectId","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","gText","Log","logHandler","message","allLines","lines","editing","generateLine","severity","ms","date","Date","ts","toLocaleString","goBottom","lastIndex","messagesEnd","trTime","trSeverity","substr","current","scrollIntoView","behavior","registerLogHandler","unregisterLogHandler","scrollToBottom","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","logBoxInner","table","clear","logBox","toolbox","clearLog","onLayoutChange","layoutIcon","verticalLayout","onHideLog","renderLogList","hasOwnProperty","verticalAlign","info","warn","debug","silly","fontFamily","boxShadow","isIdOfGlobalScript","test","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","monacoCounter","waitForMonaco","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","componentDidMount","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","useUnknownInCatchVariables","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","glyphMargin","breakpoints","onDidChangeModelContent","getValue","loadTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","location","showDecorators","options","selectOnLineNumbers","setEditorOptions","setValue","onToggleBreakpoint","onMouseDown","detail","glyphMarginLeft","lineNumber","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","currentScriptName","isGlobalScript","partialDeclarationsPath","wantedTypings","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","col","column","decorations","columnNumber","isWholeLine","bp","glyphMarginClassName","deltaDecorations","ranges","getVisibleRanges","revealLineInCenter","initNewScript","scrollToLineIfNeeded","insertTextIntoEditor","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","themeType","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","left","tabIndex","defaultProps","DialogImport","fullHeight","toolboxXml","resize","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","Xml","workspaceToDom","allBlocks","getAllBlocks","blocks","searchBlocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","searchId","updateBackground","loadCode","fileLang","setAttribute","onload","onreadystatechange","readyState","getElementsByTagName","fileCustom","svgResize","xml","l","decodeURIComponent","atob","block","unselect","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","trim","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","jsCode2Blockly","domToWorkspace","blocklyRemoveOrphanedShadows","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","_originalStyle","stroke","fill","removeEventListener","blocklyCode2JSCode","outerHTML","p1","MSG","CustomBlocks","_b","Words","HUE","onImportBlocks","componentDidUpdate","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","url","callback","scriptTag","onerror","loadJS","loadScripts","adapters","toLoad","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","DialogScriptEditor","isReturn","args","argsTitle","adapterName","ICON_CACHE","MaterialDynamicIcon","iconName","useState","setUrl","useEffect","Element","Icons","CardMenu","active","onTouchMove","cls","switchesItem","switchesItemActive","iconTheme","deepCopy","userRules","additionalParameter","filterElement","CustomButton","square","CustomCheckbox","customValue","switchChecked","setSwitchChecked","Checkbox","checked","Boolean","native","styleComponentBlock","memo","CustomInput","multiline","rows","inputText","setInputText","InputProps","SelectMod","borderBottomColor","CustomInstance","multiple","attr","onInstanceHide","setOptions","_options","unshift","renderValue","input","placeContent","title2","FormHelperText","CustomModal","titleButtonApply","titleButtonClose","onApply","textInput","defaultValue","disableEscapeKeyDown","modalDialog","modalWrapper","i18n","CustomSelect","doNotTranslate","doNotTranslate2","v","onlyItem","only","titleShort","sel","valueOnly","CustomSlider","min","max","step","unit","marks","Slider","valueLabelDisplay","mark","CustomSwitch","FormControlLabel","control","Switch","CustomTime","InputLabelProps","shrink","DAYS","CustomDate","month","days","padStart","getName","STEPS","steps","selector","GenericBlock","renderText","frontText","backText","nameBlock","doNotTranslateBack","displayFlex","blockMarginTop","renderSwitch","renderNameText","signature","displayItalic","renderNumber","settings","openCheckbox","visibility","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","buttonText","findIcon","getSelectIdIcon","catch","renderObjectID","showSelectId","checkReadOnly","lastObjectIdChange","write","Utils","getObjectNameFromObj","imagePrefix","dialogName","getThemeName","statesOnly","onOk","role","states","read","setOnUpdate","renderIconTag","iconTag","tagCard","tagCardArray","onChangeTag","openTagMenu","renderTime","renderSelect","renderInstance","hideAttributes","renderDialog","onShowDialog","iconDialog","renderModalInput","openModal","noTextEdit","renderDate","renderTags","isTourOpen","tourStep","setTourStep","keepMounted","tag","onTagChange","search","newTagCardArray","newSettings","newTagCard","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","_attr","getData","onValueChanged","render","inputs","helpDialog","notFound","iconThemCard","iconThemCardSelectable","blockName","nameCard","iconHelp","helpText","nameRender","controlMenuTop","renderDebugInfo","renderSpecific","oid","instanceSelectionOptions","instanceSelectionDef","debugMessage","enableSimulation","debugHideTimeout","onDebugMessage","blockId","hideTimeout","debugInfo","renderDebug","context","trigger","oidType","PureComponent","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","getStaticData","config","volume","getReplacesInText","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","_setUsers","users","user","userName","firstName","ActionPushover","sound","priority","ActionWhatsappcmb","phone","ActionPushsafer","device","vibration","DEFAULT_RULE","triggers","conditions","justCheck","actions","compileTriggers","json","jsonTriggers","prelines","hist","conds","cond","findBlock","_context","condition","conditionsDebug","conditionsVars","compile","ors","_ors","compileConditions","compileActions","_else","else","line","action","Compile","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_ONCHANGE","STANDARD_FUNCTION_STATE","STANDARD_FUNCTION_STATE_ONCHANGE","NO_FUNCTION","TriggerScriptSave","TriggerScheduleBlock","coordinates","astro","offset","offsetValue","latitude","longitude","sunValue","SunCalc","getTimes","_time2String","order","time","astroTime","setMinutes","interval","_setAstro","_setInterval","textCron","alignItems","openDialog","convertCronToText","cronExpression","wizardText","wizard","valid","Schedule","now2string","state2text","default","func","cron","at","hours","minutes","dow","_dow","intervals","start","Transition","forwardRef","Slide","TriggerState","valOld","ackOld","valueAck","valueNotAck","ack","openSimulate","simulateValue","simulateAck","parseFloat","TransitionComponent","onKeyUp","keyCode","onWriteValue","Array","isArray","HYSTERESIS","ConditionState","onShowHelp","showHysteresisHelp","toUpperCase","compareWith","useTrigger","oidUnit","oidStates","isAllTriggersOnState","_setInputs","HysteresisImage","debugValue","histComp","compare","ConditionTime","withDate","ConditionAstrological","ActionSetState","toggle","oidMax","oidMin","oidRole","oidWrite","oidStep","isNaN","f","ignore","StandardBlocks","TriggerSchedule","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","paused","pause","_getOptions","ActionFunction","ActionSetStateDelayed","delay","clearRunning","ADAPTERS","telegram","email","sayit","pushover","ContextWrapperCreate","createContext","ContextWrapper","setBlocks","setOnDebugMessage","setEnableSimulation","adapterBlocksArray","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","ctrlKey","newItem","clientWidth","cardStyle","cardStyleActive","drag_mobile","controlMenu","newItemsSwitches","closeBtn","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","isSnapToGrid","Math","round","snapToGrid","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","renderItem","useStateLocal","events","nameEvents","newHeadCells","funcSet","_","throttle","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","findCard","copyCard","clone","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","end","dropResult","getDropResult","idNumber","preview","useRef","canDrop","hover","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","isMobile","innerWidth","DialogHelp","letterSpacing","DialogCondition","AdditionallyContentBlockItems","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","targetId","contentBlockItem","addClassHeight","contentHeightOn","contentHeightOff","wrapperMargin","clientHeight","emptyBlockStyle","emptyBlock","emptyBlockNone","ContentBlockItems","nameAdditionally","border","additionallyClickItems","setAdditionallyClickItems","checkLocal","showHelp","setShowHelp","showConditionDialog","setShowConditionDialog","newArray","idx","setAnimation","mainBlockItemRules","addClassOverflow","nameBlockItems","selectOnChange","_userRules","selectOnChangeHelp","selectOnChangeHelpIcon","booleanAdditionally","newAdditionally","blockCardAdd","cardAdd","CustomDragItem","onDoubl","HamburgerMenu","hamburgerMenu","animate","Menu","addClass","setAllBlocks","onChangeBlocks","hamburgerOnOff","setHamburgerOnOff","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","ClickAwayListener","mouseEvent","touchEvent","onClickAway","menuWrapper","addClassMenu","hamburgerWrapper","hamburgerOff","menuRules","addClassBackground","addClassPosition","menuOff","controlPanel","AppBar","controlPanelAppBar","Tabs","Tab","switchesRenderWrapper","nothingFound","resetSearch","menuTitle","marginAuto","inputWidth","RulesEditor","scriptId","running","importExport","setImportExport","modal","setModal","_jsInstance","_jsAlive","handler","handlerStatus","msg","ruleId","subscribeObject","unsubscribeObject","setAddClass","wrapperRules","rootWrapper","Editor","editorDiv","scriptName","borderRight","lineBreakpoint","lineCode","lineCurrentCode","lineCurrent","Console","onClearAllLogs","consoleLine","console_log","console_warn","console_error","console_debug","consoleSeverity","textTransform","consoleTime","consoleText","Stack","framesSize","editValue","callFrames","editRef","onExpressionNameUpdate","scopeValue","onBlur","scopeNameName","scopeNameEqual","scopeNameValue","formatValue","scopeType","scopeName","valueType","scopeButtonDel","onExpressionDelete","expressions","renderExpression","frame","mainScriptId","currentScriptId","fileName","onChangeCurrentFrame","currentFrame","frameRoot","frameTextRoot","frameTextPrimary","secondary","frameTextSecondary","functionName","forEdit","description","valueFunc","valueUndefined","valueNull","valueString","valueBoolean","enableClipboard","collapsed","displayDataTypes","valueNone","onWriteScopeValue","variableName","scopeNumber","callFrameId","scopeId","editable","scopeValueEditable","renderExpressions","scopes","local","properties","renderScope","closure","customClassName","splitter","primaryIndex","secondaryMinSize","primaryMinSize","vertical","secondaryInitialSize","onSecondaryPaneSizeChange","onDragEnd","listRoot","renderOneFrameTitle","toolbarScopes","onExpressionAdd","scopesAfterToolbar","renderScopes","scopeType_local","scopeType_closure","scopeType_user","textOverflow","scopeButton","selectedFrame","valueNumber","valueObject","Debugger","fromInstance","cmd","debugInstance","tabs","random","starting","finished","started","getLocation","reinitBreakpoints","readCurrentScope","readExpressions","scope","sendToInstance","toolsTab","logErrors","logWarnings","logs","expression","locations","queryBreakpoints","alert","toolSize","stopOnException","scopeChain","global","arrow","monospace","bpListItem","bpListPrimary","bpListSecondary","getTextAtLocation","indicatorColor","scrollButtons","tabText","closeButton","closeTab","tabFile","Toolbar","buttonRestart","onRestart","buttonRun","onResume","buttonPause","onPause","buttonNext","onNext","buttonStep","onStepIn","buttonOut","onStepOut","buttonException","onToggleException","renderTabs","getPossibleBreakpoints","sourceId","toggleBreakpoint","logWarning","_console","Badge","badgeContent","tabsRoot","tabRoot","renderFrames","renderConsole","LinearProgress","renderToolbar","renderCode","renderQueryBreakpoints","renderTools","renderError","minHeight","buttonStop","borderTop","COLOR_DEBUG","COLOR_VERBOSE","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","visible","cmdToBlockly","cmdToRules","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","_changed","verbose","removeNonExistingScripts","oldSource","commonLocal","nextCommon","getSelect","showConfirmDialog","nowSelected","isScriptChanged","ok","onTabClose","question","confirmCallback","confirm","onTabChange","textColor","tabIcon","tabChanged","tabChangedIcon","wrapped","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","menuDebugAnchorEl","menuIcon","askAboutDebug","onDebugModeChange","cancel","isInstanceRunning","isScriptRunning","changedAll","onLocate","notRunning","textButton","saveButton","onSave","textIcon","onSaveAll","onCancel","sendCommandToBlockly","onConvertBlockly2JS","sendCommandToRules","toolbarButtonsDisabled","badgeMargin","getDebugBadge","resizing","selectedId","Snackbar","anchorOrigin","horizontal","autoHideDuration","ContentProps","closeToast","isAnyRulesExists","isOpen","onRequestClose","goToStep","getTabs","getToolbar","getScriptEditor","getAskAboutDebug","getBlocklyEditor","getRulesEditor","getDebug","getConfirmDialog","getSelectIdDialog","getCronDialog","getEditorDialog","getDebugMenu","getToast","getTour","hintText","DialogImportFile","imageStatus","files","file","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","handleDropFile","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","iconError","iconOk","reader","FileReader","onabort","readAsDataURL","borderWidth","borderStyle","borderColor","boxSizing","App","translations","require","bottomButtons","autoSubscribeLog","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","menuSize","importFile","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","systemConfig","diag","sentryEnabled","disableDataReporting","sentryDSN","Sentry","dsn","release","version","integrations","SentryIntegrations","uuidObj","uuid","setUser","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","reject","getObjectView","instancesArray","promises","instanceId","all","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","expert","isFolder","reg","RegExp","onSelect","newCommon","_obj","extendObject","_rev","getLiveHost","getFullYear","getMonth","getDate","getRawSocket","emit","link","click","remove","download","onImportConfirmed","showMessage","reduce","sum","onUpdateScript","showLogButton","menuOpenCloseButton","onDragStart","renderEditor","toggleLogLayout","splitterDivs","menuDivWithoutMenu","mainDiv","SideMenu","update","setThemeName","getThemeType","renderMain","GenericApp","flexGrow","menuDiv","splitterDivWithMenu","progress","hostname","build","ReactDOM","DndProvider","TouchBackend","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"6EACAA,EAAOC,QAAU,CAAC,UAAY,yBAAyB,gBAAkB,+BAA+B,YAAc,2BAA2B,SAAW,wBAAwB,SAAW,wBAAwB,YAAc,6B,oBCArOD,EAAOC,QAAU,CAAC,KAAO,sB,0ECAzBD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,SAAW,wBAAwB,gBAAkB,+BAA+B,aAAe,4BAA4B,uBAAyB,sCAAsC,SAAW,wBAAwB,UAAY,yBAAyB,UAAY,yBAAyB,YAAc,2BAA2B,SAAW,wBAAwB,eAAiB,8BAA8B,UAAY,yBAAyB,OAAS,sBAAsB,QAAU,uBAAuB,YAAc,2BAA2B,eAAiB,8BAA8B,UAAY,yBAAyB,UAAY,yBAAyB,SAAW,wBAAwB,QAAU,uBAAuB,cAAgB,+B,oBCAxzBD,EAAOC,QAAU,CAAC,aAAe,4BAA4B,YAAc,2BAA2B,SAAW,0B,oBCAjHD,EAAOC,QAAU,CAAC,aAAe,4BAA4B,mBAAqB,kCAAkC,UAAY,2B,oBCAhID,EAAOC,QAAU,CAAC,KAAO,oBAAoB,OAAS,sBAAsB,KAAO,sB,oBCAnFD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,oBAAsB,mCAAmC,iBAAmB,gCAAgC,oBAAsB,mCAAmC,aAAe,4BAA4B,YAAc,2BAA2B,MAAQ,uB,oBCAnRD,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,sB,oBCApDD,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,sB,oBCApDD,EAAOC,QAAU,CAAC,aAAe,oCAAoC,cAAgB,qCAAqC,QAAU,+BAA+B,uBAAyB,gD,oBCA5LD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sB,yCCAzBD,EAAOC,QAAU,CAAC,OAAS,sBAAsB,gBAAkB,+BAA+B,WAAa,0BAA0B,UAAY,yBAAyB,eAAiB,8BAA8B,mBAAqB,kCAAkC,uBAAyB,sCAAsC,eAAiB,8BAA8B,mBAAqB,kCAAkC,eAAiB,8BAA8B,iBAAmB,gCAAgC,cAAgB,6BAA6B,gBAAkB,+BAA+B,YAAc,2BAA2B,iBAAmB,gCAAgC,QAAU,uBAAuB,aAAe,4BAA4B,iBAAmB,gCAAgC,eAAiB,gC,k2lKCDt1B,gzFCAA,ohJCAA,oyFCAA,g3L,0ICuBTC,G,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAgCVC,aAAe,WACX,EAAKD,MAAME,WAlCI,EAqCnBC,SAAW,WACP,EAAKH,MAAMI,SAAS,EAAKC,MAAO,EAAKC,MAAMC,GAAI,EAAKD,MAAME,KAAM,EAAKF,MAAMG,UAC3E,EAAKT,MAAME,WAvCI,EA0CnBQ,aAAe,SAAAF,GACX,EAAKG,SAAS,CAACH,OAAMD,GAAI,EAAKK,MAAMJ,MAzCpC,EAAKF,MAAQ,CACTE,KAAMR,EAAMQ,KACZD,GAAIP,EAAMO,GACVE,SAAUT,EAAMS,UAAY,GAEhC,EAAKI,gBAAkBb,EAAMc,QAAUd,EAAMe,YAAcf,EAAMS,UAAYT,EAAMe,UAAU,IAAMf,EAAMe,UAAUC,OAAS,GAC5H,EAAKC,OAAS,EAAKC,UAAUlB,EAAMO,IACnC,EAAKF,MAAQL,EAAMO,GATJ,E,6CAYnB,SAAUA,GACN,IAAMY,GAASZ,GAAM,IAAIa,MAAM,KAE/B,OADAD,EAAME,MACCF,EAAMG,KAAK,O,mBAGtB,SAAMd,GAEF,OADAA,GAAQA,GAAQ,IAAIe,QAAQ,uBAAwB,KAC7CC,KAAKP,OAAS,IAAMT,I,uCAG/B,SAA0BiB,GAClBA,EAAUjB,OAASgB,KAAKxB,MAAMQ,MAC9BgB,KAAKb,SAAS,CAACH,KAAMiB,EAAUjB,OAE/BiB,EAAUlB,KAAOiB,KAAKxB,MAAMO,KAC5BiB,KAAKP,OAASO,KAAKN,UAAUO,EAAUlB,IACvCiB,KAAKb,SAAS,CAACJ,GAAIkB,EAAUlB,Q,oBAiBrC,WAAU,IAAD,OACL,OAAO,gBAACmB,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTC,WAAW,EACXC,MAAM,EACN,kBAAgB,4BALb,UAOH,eAACC,GAAA,EAAD,CAAazB,GAAG,4BAAhB,SAA6C0B,IAAKC,EAAE,YACpD,eAACC,GAAA,EAAD,UACI,wBAAMC,YAAU,EAACC,aAAa,MAA9B,UACI,eAACC,GAAA,EAAD,CACIC,MAAO,CAACC,MAAO,QACfjC,GAAG,gBACHkC,WAAS,EACTC,MAAOT,IAAKC,EAAE,QACdS,MAAOnB,KAAKlB,MAAME,KAClBoC,WAAY,SAACC,GACM,UAAXA,EAAGC,MAEHD,EAAGE,iBACHC,YAAW,kBAAM,EAAK7C,aAAY,OAG1C8C,SAAU,SAAAC,GAAC,OAAI,EAAKxC,aAAawC,EAAEC,OAAOR,QAC1CS,OAAO,WAEX,eAACd,GAAA,EAAD,CACI/B,GAAG,mBACHgC,MAAO,CAACC,MAAO,QACfE,MAAOT,IAAKC,EAAE,MACdS,MAAOnB,KAAKlB,MAAMC,GAClB8C,UAAU,EACVD,OAAO,WAGP5B,KAAKX,gBACD,gBAACyC,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAYC,QAAQ,WAApB,SAAgCvB,IAAKC,EAAE,cACvC,eAACuB,GAAA,EAAD,CACId,MAAOnB,KAAKlB,MAAMG,SAClBwC,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAACF,SAAUiD,SAASR,EAAEC,OAAOR,MAAO,OACjEgB,WAAY,CAACnD,KAAM,WAAYD,GAAI,YAHvC,SAKKiB,KAAKxB,MAAMe,UAAU6C,KAAI,SAAAnD,GAAQ,OAAI,eAACoD,EAAA,EAAD,CAAyBlB,MAAOlC,EAAhC,SAA2CA,GAAY,KAAxCA,gBAM7E,gBAACqD,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKrB,SAAU+D,MAAM,UAAUC,UAAW,eAAC,KAAD,IAA/E,SAA2FlC,IAAKC,EAAE,QAClG,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKvB,aAAckE,UAAW,eAAC,KAAD,IAAnE,SAAmFlC,IAAKC,EAAE,sB,GAnG/EkC,IAAMC,WAmHlBC,gBAtHA,SAAAC,GAAK,MAAK,KAsHVD,CAAmBvE,ICvH5ByE,G,kDACF,WAAYxE,GAAQ,IAAD,8BACf,cAAMA,IAgBVC,aAAe,WACX,EAAKD,MAAME,QAAQ,OAlBJ,EAqBnBC,SAAW,WACP,EAAKH,MAAMyE,SAAS,EAAKnE,MAAMC,IAC/B,EAAKP,MAAME,QAAQ,EAAKF,MAAM2C,QArB9B,EAAKrC,MAAQ,CACTE,KAAMR,EAAMQ,KACZD,GAAIP,EAAMO,IAJC,E,6DAQnB,SAA0BkB,GAClBA,EAAUjB,OAASgB,KAAKxB,MAAMQ,MAC9BgB,KAAKb,SAAS,CAACH,KAAMiB,EAAUjB,OAE/BiB,EAAUlB,KAAOiB,KAAKxB,MAAMO,IAC5BiB,KAAKb,SAAS,CAACJ,GAAIkB,EAAUlB,O,oBAarC,WACI,OAAO,gBAACmB,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTE,MAAM,EACN,kBAAgB,4BAJb,UAMH,eAACC,GAAA,EAAD,CAAazB,GAAG,4BAAhB,SAA6C0B,IAAKC,EAAE,mBACpD,gBAACC,GAAA,EAAD,WACI,eAAC,IAAD,IACA,uBAAMI,MAAO,CAACmC,SAAU,GAAIC,WAAY,QAAxC,SAAkD1C,IAAKC,EAAE,YAAaV,KAAKlB,MAAME,WAErF,gBAACsD,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKrB,SAAU+D,MAAM,UAAUC,UAAW,eAAC,KAAD,IAA/E,SAA2FlC,IAAKC,EAAE,QAClG,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKvB,aAAckE,UAAW,eAAC,KAAD,IAAnE,SAAmFlC,IAAKC,EAAE,sB,GAzC/EkC,IAAMC,WAsDlBC,gBA1DA,SAAAC,GAAK,MAAK,KA0DVD,CAAmBE,I,kDChC5BI,G,4MACF3E,aAAe,WACX,EAAKD,MAAME,W,EAGfC,SAAW,SAAA0E,GACP,EAAK7E,MAAME,QAAQ2E,I,8CAGvB,SAASC,GACL,IAAMC,EAAO9C,IAAK+C,cACbF,EAAKG,SAAS,kBAA8B,OAATF,GAA0B,OAATA,IACrDD,EAAOA,EAAKvD,QAAQ,SAAU,IAAMwD,EAAO,MAEnCG,OAAOnD,KAAK+C,EAAM,UAC1BK,U,uBAGR,WAAa,IAAD,OACR,OAAO,gBAACC,GAAA,EAAD,CAAMC,UAAW7D,KAAKxB,MAAMsF,QAAQC,KAApC,UACH,gBAACC,GAAA,EAAD,CACIvB,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,kBAD5D,UAEI,eAACuF,GAAA,EAAD,CACIJ,UAAW7D,KAAKxB,MAAMsF,QAAQI,MAC9BC,MCjEL,6oFDkEKC,MAAM,eAEV,gBAACC,GAAA,EAAD,WACI,6CACA,sBAAKR,UAAW7D,KAAKxB,MAAMsF,QAAQQ,WAAnC,SAAgD7D,IAAKC,EAAE,qBACvD,sBAAKmD,UAAW7D,KAAKxB,MAAMsF,QAAQS,KAAnC,SAA0C9D,IAAKC,EAAE,0BAGzD,gBAAC8D,GAAA,EAAD,WACI,eAACjC,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,kBAA7F,SAAgH+B,IAAKC,EAAE,SACvH,eAAC6B,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKiC,SAAS,sFAAlE,SAAyJjE,IAAKC,EAAE,wB,uBAK5K,WAAa,IAAD,OACR,OAAO,gBAACkD,GAAA,EAAD,CAAMC,UAAW7D,KAAKxB,MAAMsF,QAAQC,KAApC,UACH,gBAACC,GAAA,EAAD,CACIvB,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,kBAD5D,UAEI,eAACuF,GAAA,EAAD,CACIJ,UAAW7D,KAAKxB,MAAMsF,QAAQI,MAC9BC,MEvFL,qjEFwFKC,MAAM,eAEV,gBAACC,GAAA,EAAD,WACI,6CACA,sBAAKR,UAAW7D,KAAKxB,MAAMsF,QAAQQ,WAAnC,SAAgD7D,IAAKC,EAAE,uBACvD,sBAAKmD,UAAW7D,KAAKxB,MAAMsF,QAAQS,KAAnC,SAA0C9D,IAAKC,EAAE,0BAGzD,gBAAC8D,GAAA,EAAD,WACI,eAACjC,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,kBAA7F,SAAgH+B,IAAKC,EAAE,SACvH,eAAC6B,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKiC,SAAS,sFAAlE,SAAyJjE,IAAKC,EAAE,wB,4BAK5K,WAAkB,IAAD,OACb,OAAQ,gBAACkD,GAAA,EAAD,CAAMC,UAAW7D,KAAKxB,MAAMsF,QAAQC,KAApC,UACJ,gBAACC,GAAA,EAAD,CAAgBvB,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,YAAxE,UACI,eAACuF,GAAA,EAAD,CACIJ,UAAW7D,KAAKxB,MAAMsF,QAAQI,MAC9BC,MG5GL,iuHH6GKC,MAAM,YAEV,gBAACC,GAAA,EAAD,WACI,0CACA,sBAAKR,UAAW7D,KAAKxB,MAAMsF,QAAQQ,WAAnC,SAAgD7D,IAAKC,EAAE,YACvD,sBAAKmD,UAAW7D,KAAKxB,MAAMsF,QAAQS,KAAnC,SAA0C9D,IAAKC,EAAE,+BAGzD,gBAAC8D,GAAA,EAAD,WACI,eAACjC,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,YAA7F,SAA0G+B,IAAKC,EAAE,SACjH,eAAC6B,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKiC,SAAS,mFAAlE,SAAsJjE,IAAKC,EAAE,wB,0BAKzK,WAAgB,IAAD,OACX,OAAQ,gBAACkD,GAAA,EAAD,CAAMC,UAAW7D,KAAKxB,MAAMsF,QAAQC,KAApC,UACJ,gBAACC,GAAA,EAAD,CAAgBvB,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,UAAxE,UACI,eAACuF,GAAA,EAAD,CACIJ,UAAW7D,KAAKxB,MAAMsF,QAAQI,MAC9BC,MIjIL,6jVJkIKC,MAAM,UAEV,gBAACC,GAAA,EAAD,WACI,wCACA,sBAAKR,UAAW7D,KAAKxB,MAAMsF,QAAQQ,WAAnC,SAAgD7D,IAAKC,EAAE,UACvD,sBAAKmD,UAAW7D,KAAKxB,MAAMsF,QAAQS,KAAnC,SAA0C9D,IAAKC,EAAE,6BAGzD,gBAAC8D,GAAA,EAAD,WACI,eAACjC,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKjE,MAAME,SAAW,EAAKF,MAAME,QAAQ,UAA7F,SAAwG+B,IAAKC,EAAE,SAC/G,eAAC6B,GAAA,EAAD,CAAQkC,KAAK,QAAQ/B,MAAM,UAAUD,QAAS,kBAAM,EAAKiC,SAAS,sFAAlE,SAAyJjE,IAAKC,EAAE,wB,oBAI5K,WACI,OAAO,gBAACR,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTC,WAAW,EACXC,MAAM,EACN,kBAAgB,4BALb,UAOH,eAACC,GAAA,EAAD,CAAazB,GAAG,4BAAhB,SAA6C0B,IAAKC,EAAE,oBACpD,gBAACC,GAAA,EAAD,CAAeI,MAAO,CAAC4D,UAAW,UAAlC,UACK3E,KAAK4E,eACL5E,KAAK6E,iBACL7E,KAAK8E,YACL9E,KAAK+E,eAEV,eAACzC,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQE,QAASzC,KAAKvB,aAAckE,UAAW,eAAC,KAAD,IAA/C,SAA+DlC,IAAKC,EAAE,qB,GAvH3DkC,IAAMC,WAiIlBC,gBApJA,SAAAC,GAAK,MAAK,CACrBgB,KAAM,CACF1D,SAAU,IACV2E,QAAS,eACTpD,OAAQ,iBAEZsC,MAAO,CACHe,OAAQ,KAEZV,KAAM,CACFlE,SAAU,KAEdiE,WAAY,CACRnB,WAAY,OACZ+B,UAAW,SACXC,aAAcpC,EAAMqC,QAAQ,OAqIrBtC,CAAmBM,IKlJ5BiC,G,kDACF,WAAY7G,GAAQ,IAAD,8BACf,cAAMA,IAsBVC,aAAe,WACX,EAAKD,MAAME,WAxBI,EA2BnBC,SAAW,WACP,EAAKH,MAAM8G,MAAM,EAAKlG,MAAM,EAAKN,MAAME,MAAO,EAAKF,MAAME,KAAM,EAAKF,MAAMG,SAAU,EAAKT,MAAM6E,MAC/F,EAAK7E,MAAME,WA7BI,EAgCnBQ,aAAe,SAAAF,GACX,IAAMD,EAAK,EAAKK,MAAMJ,GACjBA,EAGD,EAAKR,MAAM+G,gBAA2D,IAA1C,EAAK/G,MAAM+G,cAAcC,QAAQzG,GAC7D,EAAKI,SAAS,CAACH,OAAMD,KAAI0G,MAAOhF,IAAKC,EAAE,oBAEvC,EAAKvB,SAAS,CAACH,OAAMD,KAAI0G,MAAO,KALhC,EAAKtG,SAAS,CAACH,OAAMD,KAAI0G,MAAOhF,IAAKC,EAAE,gCAjC3C,EAAK5B,MAAQ,CACTE,KAAMR,EAAMQ,MAAQ,SACpBC,SAAUT,EAAMS,UAAY,EAC5ByG,OAAQlH,EAAMkH,OACdD,MAAO,IAEX,EAAKpG,gBAAkBb,EAAMc,QAAUd,EAAMe,YAAcf,EAAMS,UAAYT,EAAMe,UAAU,IAAMf,EAAMe,UAAUC,OAAS,GAR7G,E,yCAWnB,SAAMR,GAGF,OADAA,GADAA,EAAOA,GAAQgB,KAAKlB,MAAME,MAAQ,IACtBe,QAAQ,wBAAyB,MACrCC,KAAKlB,MAAQkB,KAAKlB,MAAM4G,OAAS1F,KAAKxB,MAAMkH,QAAU,IAAM1G,I,uCAGxE,SAA0BiB,GAClBA,EAAUjB,OAASgB,KAAKxB,MAAMQ,MAC9BgB,KAAKb,SAAS,CAACH,KAAMiB,EAAUjB,S,oBAyBvC,WAAU,IAAD,OACL,OAAO,gBAACkB,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTC,WAAW,EACXC,MAAM,EACN,kBAAgB,4BALb,UAOH,eAACC,GAAA,EAAD,CAAazB,GAAG,4BAAhB,SAA6CiB,KAAKxB,MAAM4F,OAAS3D,IAAKC,EAAE,gBACxE,eAACC,GAAA,EAAD,UACI,wBAAMC,YAAU,EAACC,aAAa,MAA9B,UACI,eAACC,GAAA,EAAD,CACIC,MAAO,CAACC,MAAO,QACfjC,GAAG,gBACHkC,WAAS,EACTwE,QAASzF,KAAKlB,MAAM2G,MACpBvE,MAAOT,IAAKC,EAAE,QACdS,MAAOnB,KAAKlB,MAAME,KAClB2G,WAAY3F,KAAKlB,MAAM2G,MACvBrE,WAAY,SAACC,GACM,UAAXA,EAAGC,MAEHD,EAAGE,iBACHC,YAAW,kBAAM,EAAK7C,aAAY,OAG1C8C,SAAU,SAAAC,GAAC,OAAI,EAAKxC,aAAawC,EAAEC,OAAOR,QAC1CS,OAAO,WAEX,gBAACE,GAAA,EAAD,CAAaf,MAAO,CAAC6E,SAAU,KAA/B,UACI,eAAC7D,GAAA,EAAD,CAAYC,QAAQ,SAApB,SAA8BvB,IAAKC,EAAE,YACrC,eAACuB,GAAA,EAAD,CACIlB,MAAO,CAACC,MAAO,QACfG,MAAOnB,KAAKlB,MAAM4G,OAClBjE,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAACuG,OAAQhE,EAAEC,OAAOR,SAC/CgB,WAAY,CAACnD,KAAM,SAAUD,GAAI,UAJrC,SAMKiB,KAAKxB,MAAMqH,QAAQzD,KAAI,SAAAsD,GACpB,IAAM/F,EAAQ+F,EAAO3G,GAAGa,MAAM,KAC9BD,EAAMmG,OAAO,EAAG,GAChB,IAAMC,EAAQ,GACVhH,EAAK,YAaT,OAZAY,EAAMqG,SAAQ,SAACC,EAAGC,GACdnH,GAAM,IAAMkH,EACZ,IAAME,EAAK,EAAK3H,MAAMqH,QAAQO,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAOA,KACnDoH,EACAJ,EAAMO,KAAKH,EAAGnH,MAEd+G,EAAMO,KAAKL,MAGdF,EAAMvG,QACPuG,EAAMO,KAAKZ,EAAO1G,MAEd,eAACqD,EAAA,EAAD,CAA0BlB,MAAOuE,EAAO3G,GAAxC,SAA6CgH,EAAMjG,KAAK,QAAzC4F,EAAO3G,YAI1C,eAAC+B,GAAA,EAAD,CACI/B,GAAG,mBACHgC,MAAO,CAACC,MAAO,QACfE,MAAOT,IAAKC,EAAE,MACdS,MAAOnB,KAAKZ,QACZyC,UAAU,EACVD,OAAO,WAGP5B,KAAKX,gBACD,gBAACyC,GAAA,EAAD,WACA,eAACC,GAAA,EAAD,CAAYC,QAAQ,WAApB,SAAgCvB,IAAKC,EAAE,cACvC,eAACuB,GAAA,EAAD,CACId,MAAOnB,KAAKlB,MAAMG,SAClBwC,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAACF,SAAUiD,SAASR,EAAEC,OAAOR,MAAO,OACjEgB,WAAY,CAACnD,KAAM,WAAYD,GAAI,YAHvC,SAKKiB,KAAKxB,MAAMe,UAAU6C,KAAI,SAAAnD,GAAQ,OAAK,eAACoD,EAAA,EAAD,CAAsClB,MAAOlC,EAA7C,SAAwDA,GAAY,KAArD,WAAaA,gBAMvF,gBAACqD,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKrB,SAAUkD,WAAY7B,KAAKlB,MAAM2G,MAAO/C,MAAM,UAAUC,UAAW,eAAC,KAAD,IAA7G,SAAyHlC,IAAKC,EAAE,QAChI,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKvB,aAAckE,UAAW,eAAC,KAAD,IAAnE,SAAmFlC,IAAKC,EAAE,sB,GAhIlFkC,IAAMC,WAoJfC,gBAxJA,SAAAC,GAAK,MAAK,KAwJVD,CAAmBuC,I,UClJ5BkB,G,kDACF,WAAY/H,GAAQ,IAAD,8BACf,cAAMA,IAGVG,SAAW,WACP,EAAKH,MAAME,SAAW,EAAKF,MAAME,WAHjC8H,QAAQC,IAAI,iBAFG,E,0CAQnB,WAAU,IAAD,OACL,OAAO,gBAACvG,GAAA,EAAD,CACHK,MAAM,EACNF,SAAS,KACTC,WAAW,EACX5B,QAAS,kBAAM,EAAKC,YACpB,kBAAgB,qBAChB,mBAAiB,2BANd,UAQH,eAAC6B,GAAA,EAAD,CAAaqD,UAAW7D,KAAKxB,MAAMsF,QAAQ4C,gBAC9B5C,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQ8C,YACnC7H,GAAG,qBAFhB,SAEsCiB,KAAKxB,MAAM4F,OAAS3D,IAAKC,EAAE,WACjE,eAACC,GAAA,EAAD,UACI,eAACkG,GAAA,EAAD,CAAmB9H,GAAG,2BAAtB,SACKiB,KAAKxB,MAAM+F,MAAQ9D,IAAKC,EAAE,sBAGnC,eAAC4B,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAK9D,YAAY+D,MAAM,UAAUzB,WAAS,EAAC0B,UAAW,eAAC,KAAD,IAAjG,SAA6GlC,IAAKC,EAAE,iB,GA3B1GkC,IAAMC,WAwCjBC,gBApDA,SAAAC,GAAK,MAAK,CACrB2D,gBAAiB,CACbI,WAAY/D,EAAMgE,QAAQtB,MAAMuB,MAEpCJ,WAAY,CACRlE,MAAOK,EAAMgE,QAAQtB,MAAMwB,aAC3B,OAAQ,CACJvE,MAAOK,EAAMgE,QAAQtB,MAAMwB,kBA6CxBnE,CAAmByD,I,yCCrB5BW,G,kDACF,WAAY1I,GAAQ,IAAD,8BACf,cAAMA,IA+CVG,SAAW,WAEP,GAAI,EAAKG,MAAMS,UAAU6G,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAO,EAAKD,MAAMqI,kBAAgBC,QACzE,OAAO,EAAK5I,MAAM6I,OAAOC,UAAU,kBAAoB,EAAKxI,MAAMqI,gBAC7DI,MAAK,SAAAC,GACFA,EAAIC,OAAOL,SAAU,EACrB,EAAK5I,MAAM6I,OAAOK,UAAUF,EAAIG,IAAKH,GAChCD,MAAK,kBACF,EAAK/I,MAAMoJ,QAAQ,EAAK9I,MAAM+I,WAAY,EAAK/I,MAAMqI,sBAGrE,EAAK3I,MAAMoJ,QAAQ,EAAK9I,MAAM+I,WAAY,EAAK/I,MAAMqI,iBAzDzD,EAAKrI,MAAQ,CACTS,UAAW,GACXuI,OAAQpE,OAAOqE,aAAaC,QAAQ,4BAA8B,GAClEC,gBAAgB,EAChBJ,WAAYnE,OAAOqE,aAAaC,QAAQ,8BAAgC,GACxEE,eAAgB,GAChBf,eAAgBzD,OAAOqE,aAAaC,QAAQ,6BAA+B,IARhE,E,qDAYnB,WAAqB,IAAD,OAChBhI,KAAKxB,MAAM6I,OAAOc,sBACbZ,MAAK,SAAAhI,IACFA,EAAYA,EAAUuI,QAAO,SAAA5B,GAAC,aAAIA,KAAK,UAACA,EAAEuB,cAAH,aAAC,EAAUW,YAAShG,KAAI,SAAAiE,GAAU,IAAD,MAC9DrH,EAAOqH,EAAKsB,IAAI5H,QAAQ,qBAAsB,IACpD,EAAkBf,EAAKY,MAAM,KAAtByI,EAAP,oBACA,MAAO,CACHtJ,GAAIC,EACJoI,QAAO,UAAEf,EAAKoB,cAAP,aAAE,EAAaL,QACtBkB,KAAI,UAAEjC,EAAKoB,cAAP,aAAE,EAAaa,KACnBC,MAAM,UAAAlC,EAAKoB,cAAL,eAAac,MAAb,wBAAqCF,EAArC,YAAgDhC,EAAKoB,OAAOc,MAAS,QAGzEC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1J,GAAK2J,EAAE3J,GAAK,EAAK0J,EAAE1J,GAAK2J,EAAE3J,IAAM,EAAI,KAC/D,IAEImJ,EAFAL,EAAa,EAAK/I,MAAM+I,YAAc,GACtCc,EAAgB,EAAK7J,MAAM+I,YAActI,EAAU6G,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAO,EAAKD,MAAM+I,cAItF,EAAK/I,MAAM+I,YAAec,EAK3BT,EAAiBS,EAAgBA,EAAcL,KAAO,IAHtDJ,GADAL,EAAatI,EAAU6G,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,GAAG6J,WAAW,mBACzBf,EAAWS,KAAO,GAChDT,EAAaA,EAAaA,EAAW9I,GAAK,IAK9C,IAAIoI,EAAiB,EAAKrI,MAAMqI,gBAAkB,GAC9CA,IAAmB5H,EAAU6G,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAOoI,OACtDA,EAAiB,IAGrB,EAAKhI,SAAS,CAACI,YAAWsI,aAAYV,iBAAgBe,wB,kCAoBlE,WAAwB,IAAD,OACbW,EAAK7I,KAAKlB,MAAMS,UAAUuI,QAAO,SAAAzB,GAAI,OAAIA,EAAKtH,GAAG6J,WAAW,kBAClE,OAAIC,EAAGrJ,OAAS,EACL,KAEA,gBAACsJ,GAAA,EAAD,CAAMzC,MAAI,EAAV,UACH,sBAAKxC,UAAW7D,KAAKxB,MAAMsF,QAAQM,MAAnC,SAA2C3D,IAAKC,EAAE,UAClD,eAACqI,EAAA,EAAD,CAAMC,UAAU,MAAhB,SACKH,EAAGzG,KAAI,SAAAiE,GAAI,OAAI,gBAAC4C,EAAA,EAAD,CACZC,QAAM,EACNC,SAAU,EAAKrK,MAAM+I,aAAexB,EAAKtH,GACzC0D,QAAS,EAAKtD,SAAS,CAAC0I,WAAYxB,EAAKtH,GAAImJ,eAAgB7B,EAAKiC,OAHtD,UAKZ,eAACc,EAAA,EAAD,UAAc,sBAAKC,IAAKhD,EAAKkC,KAAMe,IAAKjD,EAAKtH,GAAI8E,UAAW,EAAKrF,MAAMsF,QAAQyE,SAC/E,eAACgB,EAAA,EAAD,CAAcC,QAASnD,EAAKtH,kB,6BAOhD,WAAmB,IAAD,OACd,GAAKiB,KAAKlB,MAAM+I,WAET,CACH,IAAMtI,EAAYS,KAAKlB,MAAMS,UAAUuI,QAAO,SAAAzB,GAAI,OAC9CA,EAAKtH,KAAO,EAAKD,MAAM+I,YAAcxB,EAAKiC,OAAS,EAAKxJ,MAAMoJ,kBAAoB,EAAKpJ,MAAMgJ,QAAUzB,EAAKtH,GAAG0E,SAAS,EAAK3E,MAAMgJ,OAAO2B,mBAC9I,OAAO,gBAACX,GAAA,EAAD,CAAMzC,MAAI,EAAV,UACH,sBAAKxC,UAAW7D,KAAKxB,MAAMsF,QAAQM,MAAnC,SAA2C3D,IAAKC,EAAE,eAClD,eAACqI,EAAA,EAAD,CAAMC,UAAU,MAAhB,SACKzJ,EAAU6C,KAAI,SAAAiE,GAAI,OAAI,gBAAC4C,EAAA,EAAD,CACnBC,QAAM,EACNC,SAAU,EAAKrK,MAAMqI,iBAAmBd,EAAKtH,GAC7C2K,cAAe,kBAAM,EAAKvK,SAAS,CAACgI,eAAgBd,EAAKtH,KAAK,kBAAM,EAAKJ,eACzE8D,QAAS,kBAAM,EAAKtD,SAAS,CAACgI,eAAgBd,EAAKtH,MAJhC,UAMnB,eAACqK,EAAA,EAAD,UAAc,sBAAKC,IAAKhD,EAAKkC,KAAMe,IAAKjD,EAAKtH,GAAI8E,UAAW,EAAKrF,MAAMsF,QAAQyE,SAC/E,eAACgB,EAAA,EAAD,CAAcC,QAASnD,EAAKtH,gBAdxC,OAAO,eAAC+J,GAAA,EAAD,CAAMzC,MAAI,M,oBAqBzB,WAAU,IAAD,OACL,OAAO,gBAACnG,GAAA,EAAD,CACHG,SAAS,KACTC,WAAW,EACXC,MAAM,EACN7B,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5B,kBAAgB,4BALb,UAOH,eAACI,GAAA,EAAD,CAAazB,GAAG,4BAAhB,SAA6CiB,KAAKxB,MAAM4F,OAAS3D,IAAKC,EAAE,oBACxE,eAACC,GAAA,EAAD,UACI,gBAACmI,GAAA,EAAD,CAAMa,WAAS,EAACC,UAAU,SAA1B,UACI,eAACd,GAAA,EAAD,CAAMzC,MAAI,EAAV,SACI,eAACwD,EAAA,EAAD,CACI/F,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQgG,kBACnC3I,MAAOnB,KAAKlB,MAAMgJ,OAClBiC,YAAatJ,IAAKC,EAAE,UACpBe,SAAU,SAAAC,GACN,EAAKvC,SAAS,CAAC2I,OAAQpG,EAAEC,OAAOR,QAChCuC,OAAOqE,aAAaiC,QAAQ,0BAA2BtI,EAAEC,OAAOR,QAEpE8I,aACI,eAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,SACKnK,KAAKlB,MAAMgJ,OAAS,eAACsC,EAAA,EAAD,CACjB3F,KAAK,QACL,aAAW,6BACXhC,QAAS,kBAAM,EAAKtD,SAAS,CAAC2I,OAAQ,MAHrB,SAKjB,eAAC,KAAD,MACY,SAKhC,eAACgB,GAAA,EAAD,CAAMzC,MAAI,EAAV,SACI,gBAACyC,GAAA,EAAD,CAAMa,WAAS,EAAf,UACK3J,KAAKqK,uBACLrK,KAAKsK,4BAMtB,gBAAChI,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASzC,KAAKrB,SAAUkD,UAAW7B,KAAKlB,MAAM+I,aAAe7H,KAAKlB,MAAMqI,eAAgBzE,MAAM,UAAUC,UAAW,eAAC,KAAD,IAA/I,SAA2JlC,IAAKC,EAAE,WAClK,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAKjE,MAAME,WAAWiE,UAAW,eAAC,KAAD,IAA5E,SAA4FlC,IAAKC,EAAE,qB,GAzJlFkC,IAAMC,WAqKxBC,gBA1LA,SAAAC,GAAK,MAAK,CACrBwH,WAAY,CACRC,YAAazH,EAAMqC,QAAQ,IAE/BmD,KAAM,CACFvH,MAAO,GACPiE,OAAQ,IAEZ6C,OAAQ,CACJ9G,MAAO,QAEX8I,iBAAkB,CACd9I,MAAO,QAEXoD,MAAO,CACHjB,WAAY,OACZsH,UAAW1H,EAAMqC,QAAQ,OA0KlBtC,CAAmBoE,ICrJ5BwD,GAAYC,KAAM,KAClBC,GAAgBC,KAAO,KACvBC,GAAcC,IAAI,KAClBC,GAAU,YACVC,GAAYD,GAAU,UACtBE,GAAYF,GAAU,UACtBG,GAAe,IAGfC,GAAiB,CACnBtE,WAAY,UACZpE,MAAO,SAyJL2I,GAAS,CACX,QAAWC,GACX,gBAAiBC,GACjBC,IAAKD,GACL,MAAQE,GACR,gBAAiBC,IAGfC,GAAgB,SAAC5M,EAAIyI,EAAKjE,GAE5B,OADAA,EAAOA,GAAQ9C,IAAK+C,cAChBgE,GAAOA,EAAIC,QAAUD,EAAIC,OAAOzI,KACD,kBAApBwI,EAAIC,OAAOzI,MACVwI,EAAIC,OAAOzI,KAAKuE,IAASiE,EAAIC,OAAOzI,KAAK4M,IAAM7M,EAAGgB,QAAQ,eAAgB,KAAK8L,WAEhFrE,EAAIC,OAAOzI,KAAK6M,WAGpB9M,EAAGgB,QAAQ,eAAgB,KAIpC+L,GAAc,SAAAC,GAqBhB,IApBA,IAuEIC,EAvEEC,EAAS,CAAC,CACZlN,GAAIiM,GACJkB,MAAO,EACPC,MAAO,EACPzG,OAAQ,KACRtB,MAAO,OACPf,KAAM,WAEJ+I,EAAMC,OAAOC,KAAKP,GAYf7F,EAAI,EAAGA,EAAIkG,EAAI5M,OAAQ0G,IAAK,CACjC,IAAMsB,EAAMuE,EAAKK,EAAIlG,IACfvG,EAAQyM,EAAIlG,GAAGtG,MAAM,KAC3BD,EAAME,MACNoM,EAAO3F,KAAK,CACRvH,GAAIqN,EAAIlG,GACR9B,MAAOuH,GAAcS,EAAIlG,GAAIsB,GAC7BJ,QAASI,GAAOA,EAAIC,QAAUD,EAAIC,OAAOL,QACzC8E,MAAOvM,EAAMH,OAAS,EACtB6D,KAAmB,WAAbmE,EAAInE,KAAoBmE,EAAIC,OAAO8E,WAAa,SACtD7G,OAAQ/F,EAAMH,OAAS,EAAIG,EAAMG,KAAK,KAAO,KAC7Cb,SAAUuI,EAAIC,OAAO+E,OAAStK,SAASsF,EAAIC,OAAO+E,OAAO5M,MAAM,KAAKC,MAAO,KAAO,EAAI,OAyC9F,GACImM,GAAW,EAGXC,EAAOjG,SAAQ,SAAAK,GACX,GAAIA,EAAKX,SACUuG,EAAO7F,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAOsH,EAAKX,UACnC,CACT,IAAM/F,EAAQ0G,EAAKX,OAAO9F,MAAM,KAChCD,EAAME,MACNoM,EAAO3F,KAAK,CACRvH,GAAIsH,EAAKX,OACTtB,MAAOiC,EAAKX,OAAO9F,MAAM,KAAKC,MAC9BqM,MAAOvM,EAAMH,OAAS,EACtB6D,KAAM,SACNqC,OAAQ/F,EAAMH,OAAS,EAAIG,EAAMG,KAAK,KAAO,OAEjDkM,GAAW,YAIlBA,GAkCT,OA/BAC,EAAOzD,MAAK,SAACC,EAAGC,GACZ,IAAMgE,EAAMjE,EAAE1J,GAAG0K,cACXkD,EAAMjE,EAAE3J,GAAG0K,cACjB,MAAe,WAAXhB,EAAEpF,MAAgC,WAAXqF,EAAErF,MACjB,EACU,WAAXqF,EAAErF,MAAgC,WAAXoF,EAAEpF,MAIhCqJ,EAAMC,EAHC,EAKAD,EAAMC,GACL,EAED,KAKfV,EAAOjG,SAAQ,SAACK,EAAMH,GAAP,OAAaG,EAAK8F,MAAQjG,KAGzC+F,EAAOjG,SAAQ,SAAAK,GACX,GAAIA,EAAKX,OAAQ,CACb,IAAMA,EAASuG,EAAO7F,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAOsH,EAAKX,UAC5CA,IACAW,EAAKuG,YAAclH,EAAOyG,WAK/BF,GAGEY,GAAY,SAACrO,GACtB,IAAQsO,EAAUtO,EAAVsO,OAER,EAAqCC,YAAQ,CACzCC,OAAQ,CAAC,UACTC,KAAM,SAAAvL,GAAC,OAAIwL,EAASJ,EAAOpL,QAAKyL,GAChCC,QAAS,SAAAC,GAAO,MAAK,CACjBH,OAAQG,EAAQH,OAAO,CAAEI,SAAS,IAClCC,UAAWF,EAAQH,aAL3B,0BAASA,EAAT,EAASA,OAAQK,EAAjB,EAAiBA,UAAYN,EAA7B,KASA,OAAO,sBAAKO,IAAKP,EAAMpJ,UAAW4J,YAAKP,GAAU,qBAAsBK,GAAa,sBAA7E,SACF/O,EAAMkP,YAIFC,GAAY,SAAAnP,GACrB,IAAQQ,EAASR,EAATQ,KACR,EAA4B4O,YAAQ,CAChCvK,KAAM,SACNgD,KAAM,iBAAO,CAACrH,SACdoO,QAAS,SAAAC,GAAO,MAAK,CAACQ,QAASR,EAAQS,aAAe,GAAM,MAHhE,mBAASD,EAAT,KAASA,QAAWE,EAApB,KAMA,OAAO,sBAAKP,IAAKO,EAAMhN,MAAO,CAAE8M,UAASG,UAAW,wBAA7C,SACFxP,EAAMkP,YAITO,G,kDACF,WAAYzP,GAAQ,IAAD,sBACf,cAAMA,GAEN,IAAI0P,EAAWxK,OAAOqE,aAAerE,OAAOqE,aAAaC,QAAQ,qBAAuB,KACxF,IACIkG,EAAWC,KAAKC,MAAMF,IAAa,GACrC,MAAOxM,GACLwM,EAAW,GAGf,EAAKG,SAAW,IAAIzL,IAAM0L,UAE1B,EAAKxP,MAAQ,CACTyP,UAAWzC,GAAYtN,EAAMgQ,SAAW,IACxCN,SAAUA,EACVO,SAAU,GACVC,SAAS,EACTC,UAAW,EAAKnQ,MAAMmQ,UACtBxF,SAAUzF,OAAOqE,cAAerE,OAAOqE,aAAaC,QAAQ,sBAA+B,KAC3F4G,gBAAgB,EAChBC,gBAAgB,EAChBC,aAAc,GACdC,SAAU,KACVC,SAAU,KACVC,aAAc,KACdC,UAAW,GACX3P,UAAWf,EAAMe,WAAa,GAC9B4P,YAAY,EACZC,aAAc,KACdC,YAAY,EACZC,WAAY,EAAK9Q,MAAM8Q,WACvBC,WAAY,GACZvO,MAAO,EAAKxC,MAAMwC,OAAS,IAC3BwO,WAAY9L,OAAOqE,cAAerE,OAAOqE,aAAaC,QAAQ,wBAA+B,GAC7FyH,aAAc/L,OAAOqE,cAAerE,OAAOqE,aAAaC,QAAQ,0BAAiC,GACjG0H,iBAAkB,EAAKlR,MAAMkR,kBAAoB,GACjDC,YAAanR,EAAMmR,YACnBC,kBAAkB,GAGtB,IAAMC,EAAS,EAAKC,0BAxCL,OAyCXD,IACA,EAAK/Q,MAAMoP,SAAW2B,GAI1B,EAAKE,YAAc,KAEnB,EAAKjR,MAAMkR,mBAAqB,EAAKC,wBAErC,EAAKxB,SAAW,KAChB,EAAKyB,cAAgB,KACrB,EAAKC,sBAAwB,EAAKC,iBAAiBC,KAAtB,gBApDd,E,gDAuDnB,SAAaC,EAAIC,GAAQ,IAAD,OAIpB,GAHKA,IACDA,EAAQlE,OAAOC,KAAKtM,KAAKxB,MAAMgQ,UAE9B+B,GAAUA,EAAM/Q,OAEd,CACH,IAAMT,EAAKwR,EAAMC,QACjB,GAAIxQ,KAAKxB,MAAMgQ,QAAQzP,IACa,WAAhCiB,KAAKxB,MAAMgQ,QAAQzP,GAAIsE,MACvBrD,KAAKxB,MAAMgQ,QAAQzP,GAAI0I,QACvBzH,KAAKxB,MAAMgQ,QAAQzP,GAAI0I,OAAOL,UAC7BrI,EAAG0R,MAAM,yBACZ,CACE,IAAMxR,EAAWe,KAAKxB,MAAMgQ,QAAQzP,GAAI0I,OAAO+E,OAAO5M,MAAM,KAAKC,MAC3D6Q,EAAO1Q,KACP2H,EAAM,cAAgB1I,EAAW,kBAAoBF,EAAG4R,UAAU3F,GAAQxL,OAAS,GAEzFQ,KAAKxB,MAAM6I,OAAOuJ,SAASjJ,GAAK,SAACkJ,EAAK/R,GAClC4R,EAAKN,iBAAiBzI,EAAK7I,GAC3B0C,YAAW,kBAAMkP,EAAKI,aAAaR,EAAIC,KAAQ,WAGnD/O,YAAW,kBAAM,EAAKsP,aAAaR,EAAIC,KAAQ,QAlBnDD,GAAMA,M,+BAuBd,WAAqB,IAAD,OAChBtQ,KAAK8Q,cAAa,WACd,EAAKtS,MAAMe,UAAUyG,SAAQ,SAAA/G,GACzB,EAAKT,MAAM6I,OAAO0J,eAAe,cAAgB9R,EAAW,mBAAoB,EAAKkR,+B,kCAKjG,WAAwB,IAAD,OACnBnQ,KAAKxB,MAAMe,UAAUyG,SAAQ,SAAA/G,GACzB,EAAKT,MAAM6I,OAAO2J,iBAAiB,cAAgB/R,EAAW,mBAAoB,EAAKkR,4B,8BAI/F,SAAiBpR,EAAID,GAAQ,IAAD,OACxB,GAAKA,GAAUC,EAAf,CACAA,EAAKiM,GAAU,IAAMjM,EAAGgB,QAAQ,oCAAqC,IAEhEC,KAAKyO,WACNzO,KAAKyO,SAAWN,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM2P,YAEzD,IAAIyC,GAAU,EAEd,GAAIpS,EAAMqS,KAC6B,IAA/BnR,KAAKyO,SAASjJ,QAAQzG,KACtBiB,KAAKyO,SAASnI,KAAKvH,GACnBmS,GAAU,OAEX,CACH,IAAME,EAAMpR,KAAKyO,SAASjJ,QAAQzG,IACrB,IAATqS,IACApR,KAAKyO,SAAS3I,OAAOsL,EAAK,GAC1BF,GAAU,GAIdA,IAAYlR,KAAKkQ,gBACjBlQ,KAAKkQ,cAAgB1O,YAAW,WAC5B,EAAK0O,cAAgB,KACrB,EAAK/Q,SAAS,CAACsP,SAAU,EAAKA,WAC9B,EAAKA,SAAW,OACjB,S,wBAmEX,SAAW4C,EAAiBf,GACxB,IAAMgB,EAAWrD,EAAWsD,iBACxBF,EACArR,KAAKlB,MAAMyP,UACXvO,KAAKlB,MAAMuQ,WACXrP,KAAKlB,MAAMyQ,WACXvP,KAAKxB,MAAMgQ,SAGX8C,EACAtR,KAAKb,SAASmS,GAAU,kBAAMhB,GAAMA,OAC7BA,GACPA,M,qCAuBR,SAAwBnH,EAAU+E,GAC9BD,EAAWuD,8BAA8BrI,GAAYnJ,KAAKlB,MAAMqK,SAAU+E,GAAYlO,KAAKlB,MAAMoP,SAAUlO,KAAKlB,MAAMyP,a,mCA0E1H,SAAsBA,EAAWhP,GAG7B,OAFAgP,EAAYA,GAAavO,KAAKlB,MAAMyP,UACpChP,EAAYA,GAAaS,KAAKlB,MAAMS,UAC7B0O,EAAWwD,4BAA4BlD,GAAavO,KAAKlB,MAAMyP,UAAWhP,GAAaS,KAAKlB,MAAMS,a,0BAG7G,SAAa2O,GACTxK,OAAOqE,aAAaiC,QAAQ,oBAAqBmE,KAAK8C,UAAU/C,GAAYlO,KAAKlB,MAAMoP,a,uBAG3F,SAAU2C,GACN7Q,KAAKb,SAAS,CAAC+P,UAAW2B,M,sBAG9B,SAAS9R,EAAI2C,GAET,GADAA,GAAKA,EAAEgQ,kBACH3S,IAAOiM,GAAX,CAGA,IAAMkD,EAAQ,YAAOlO,KAAKlB,MAAMoP,UAC1BoD,EAAW,CAACpD,YACZkD,EAAMlD,EAAS1I,QAAQzG,IAChB,IAATqS,GACAlD,EAASpI,OAAOsL,EAAK,GACjBpR,KAAKlB,MAAMqK,UAAYnJ,KAAKlB,MAAMqK,SAASP,WAAW7J,EAAK,OAC3DuS,EAASnI,SAAWpK,EACpB2E,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,oBAAqBjL,MAG5EmP,EAAS5H,KAAKvH,GACdmP,EAAS1F,QAEbxI,KAAKb,SAAS,CAAC+O,aACflO,KAAK2R,aAAazD,M,oCAGtB,SAAuB7H,EAAMqH,GAAW,IAAD,OACnC,GAAI1N,KAAKlB,MAAM4P,QACX,OAAO,KAEX,GAAkB,WAAdrI,EAAKhD,KAAmB,CACxB,IAAIX,EAAQ2D,EAAKe,QAAUsD,GAAYI,GAKvC,OAJIzE,EAAKe,UAAqD,IAA1CpH,KAAKlB,MAAM2P,SAASjJ,QAAQa,EAAKtH,MACjD2D,EAAQkI,IAGL,CACH,eAACR,EAAA,EAAD,CACIvG,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQ8N,YAAa5R,KAAKxB,MAAMqT,WAAa7R,KAAKxB,MAAMsF,QAAQgO,qBAC3FrP,QAAS,SAAAf,GACLA,EAAEgQ,kBACF,EAAKlT,MAAMuT,iBAAmB,EAAKvT,MAAMuT,gBAAgB1L,EAAKtH,IAAKsH,EAAKe,UAE5EhD,MAAOiC,EAAKe,QAAU3G,IAAKC,EAAE,gBAAkBD,IAAKC,EAAE,cACtDmB,SAAU7B,KAAKxB,MAAMqT,UAErB9Q,MAAO,CAAC2B,SATZ,SAUK2D,EAAKe,QAAU,eAAC,IAAD,IAAe,eAAC,IAAD,KAF3B,aAIRpH,KAAKlB,MAAMkC,MAAQmK,GAAe,eAACf,EAAA,EAAD,CAE9BvG,UAAW4J,YAAKzN,KAAKxB,MAAMqT,WAAa7R,KAAKxB,MAAMsF,QAAQgO,qBAC3D1N,MAAO3D,IAAKC,EAAE,iBACdmB,SAAUwE,EAAKtH,KAAOmM,IAAa7E,EAAKtH,KAAOkM,IAAajL,KAAKxB,MAAMqT,UACvEpP,QAAS,SAAAf,GAAC,OAAI,EAAKuB,SAASoD,EAAM3E,IALJ,SAKQ,eAAC,IAAD,KAJlC,UAI+D,KACvE,eAAC0I,EAAA,EAAD,CACIvG,UAAW4J,YAAKzN,KAAKxB,MAAMqT,WAAa7R,KAAKxB,MAAMsF,QAAQgO,qBAC3DjQ,SAAU7B,KAAKxB,MAAMqT,UAErBzN,MAAO3D,IAAKC,EAAE,oCACd+B,QAAS,SAAAf,GAAC,OAAI,EAAKsQ,OAAO3L,EAAM3E,IALpC,SAOI,eAAC,IAAD,KAJI,eAOT,OAAI1B,KAAKlB,MAAMkC,MAAQmK,GACtB9E,EAAKtH,KAAOiM,IAAW3E,EAAKtH,KAAOkM,IAAa5E,EAAKtH,KAAOmM,IAAewC,GAAaA,EAASlO,OAQ1F,KAPA,eAAC4K,EAAA,EAAD,CACHvG,UAAW4J,YAAKzN,KAAKxB,MAAMqT,WAAa7R,KAAKxB,MAAMsF,QAAQgO,qBAE3D1N,MAAO3D,IAAKC,EAAE,iBACdmB,SAAUwE,EAAKtH,KAAOmM,IAAa7E,EAAKtH,KAAOkM,IAAajL,KAAKxB,MAAMqT,UACvEpP,QAAS,SAAAf,GAAC,OAAI,EAAKuB,SAASoD,EAAM3E,IAL/B,SAKmC,eAAC,IAAD,KAHlC,eAJT,I,sBAcX,SAAS2E,EAAM3E,GAAI,IAAD,OAEd,OADAA,GAAKA,EAAEgQ,kBACA,IAAIO,SAAQ,SAAAC,GACK,kBAAT7L,EACP,EAAKlH,SAAS,CAAC6P,SAAU3I,IAEzB,EAAKlH,SAAS,CAAC6P,SAAU3I,EAAKtH,U,oBAK1C,SAAOsH,EAAM3E,GACT1B,KAAKyC,QAAQ4D,EAAM3E,GACnB1B,KAAKxB,MAAMwT,QAAUhS,KAAKxB,MAAMwT,OAAO3L,EAAKtH,M,0BAGhD,SAAasH,GACT,OAAKrG,KAAKlB,MAAM4P,SAAyB,WAAdrI,EAAKhD,KAUrB,CACH8O,WAAY,SACZC,QAAS,cAXN,CAEHpR,MAAM,eAAD,OAAiBhB,KAAKlB,MAAMkC,MAAQmK,GAAe,IAAM,IAAzD,OACLkH,SAAU,SACVF,WAAY,SACZG,KAAM,OACNF,QAAS,gB,qBAUrB,SAAQ/L,EAAM3E,GAEV,GADAA,GAAKA,EAAEgQ,mBACF1R,KAAKlB,MAAM4P,SAAWrI,EAAM,CAC7B,IAAM6H,EAAWlO,KAAK8P,wBAAwBzJ,GACxCiL,EAAW,CAACnI,SAAU9C,EAAKtH,IAC7BmP,IACAoD,EAASpD,SAAWA,GAExBlO,KAAKb,SAASmS,GACd5N,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,oBAAqB3D,EAAKtH,O,wBAIrF,SAAWsH,EAAM3E,GACbA,GAAKA,EAAEgQ,kBACH1R,KAAKlB,MAAM4P,UAGG,WAAdrI,EAAKhD,KACLrD,KAAKuS,SAASlM,EAAKtH,IAEnBiB,KAAKgS,OAAO3L,M,2BAIpB,SAAcA,GACV,SAAIA,EAAKmM,UAAanM,EAAKoM,qBAEvBzS,KAAKlB,MAAM0Q,YAA4B,WAAdnJ,EAAKhD,MAAqBgD,EAAKhD,OAASrD,KAAKlB,MAAM0Q,iBAI5ExP,KAAKlB,MAAM2Q,cACG,WAAdpJ,EAAKhD,QAE4B,YAA5BrD,KAAKlB,MAAM2Q,eAA+BpJ,EAAKe,SACnB,WAA5BpH,KAAKlB,MAAM2Q,cAA6BpJ,EAAKe,WACjB,aAA5BpH,KAAKlB,MAAM2Q,cAAiCpJ,EAAKe,UAAqD,IAA1CpH,KAAKlB,MAAM2P,SAASjJ,QAAQa,EAAKtH,OAK9FsH,EAAKtH,KAAOmM,KAAclL,KAAKlB,MAAMwQ,e,4BAGjD,SAAejJ,EAAMqH,EAAUgF,GAAmB,IAAD,OAC7C,GAAIrM,EAAKtH,KAAOiM,KAAYhL,KAAKlB,MAAM4P,QACnC,OAAO,KAGX,IAAMiE,EA9yBQ,IA8yBG3S,KAAKlB,MAAM4P,QAAUrI,EAAK6F,MAAQ7F,EAAK6F,MAAQ,GAE5D9H,EAAQiC,EAAKjC,MAEjB,GAAIpE,KAAKlB,MAAMyQ,WAAY,CACvB,IAAM6B,EAAMhN,EAAMqF,cAAcjE,QAAQxF,KAAKlB,MAAMyQ,WAAW9F,gBACjD,IAAT2H,IACAhN,EAAQ,CACH,gCAAmBA,EAAMuM,UAAU,EAAGS,IAA5B,SACV,uBAAmBrQ,MAAO,CAAC2B,MAAO,UAAlC,SAA8C0B,EAAMuM,UAAUS,EAAKA,EAAMpR,KAAKlB,MAAMyQ,WAAW/P,SAArF,UACV,gCAAmB4E,EAAMuM,UAAUS,EAAMpR,KAAKlB,MAAMyQ,WAAW/P,SAArD,WAKlBQ,KAAKlB,MAAMkR,oBAAoC,WAAd3J,EAAKhD,OACvCe,EAAQ,CACJ,wBAAqBA,MAAO3D,IAAKC,EAAE,YAAamD,UAAW7D,KAAKxB,MAAMsF,QAAQvE,UAA9E,cAA2F8G,EAAKpH,SAAhG,OAAU,YACV,gCAAmBmF,GAAT,WAGlB,IAAMsK,EAAU1O,KAAKlB,MAAM4P,UAAY1O,KAAKxB,MAAMqT,UAE5C9Q,EAAQsL,OAAOuG,OAAO,CACxBC,WAAYF,EACZG,OAA0B,WAAdzM,EAAKhD,MAAqBqL,EAAU,UAAY,UAC5D1N,MAAM,eAAD,OAAsB2R,EAAtB,QACNtM,EAAKtH,KAAOiB,KAAKlB,MAAMqK,UAAauF,EAA2B,GAAjBtD,IAE5CsD,IACD3N,EAAM8M,QAAUxH,EAAKoM,eAAiB,GAAM,GAG5CpM,EAAKtH,KAAOmM,IAAa7E,EAAKtH,KAAOiB,KAAKlB,MAAMqK,WAChDpI,EAAM2B,MAAQ,WAGlB,IAAIqQ,EAAa1M,EAAKtH,KAAOiM,IACxB+H,GAAcrF,IACfqF,EAAa/S,KAAKlB,MAAMoP,SAASzK,SAAS4C,EAAKtH,KAGnD,IAMIiU,EANAC,EAAY,GACZ5M,EAAKtH,KAAOmM,GACZ+H,EAAUvQ,MAAQ,UACX2D,EAAKtH,KAAOkM,KACnBgI,EAAUvQ,MAAQ,WAIlBsQ,EADc,WAAd3M,EAAKhD,KACOoK,YAAKzN,KAAKxB,MAAMsF,QAAQoP,WAAYxE,EAAU1O,KAAKxB,MAAMsF,QAAQqP,kBAAoBnT,KAAKxB,MAAMsF,QAAQsP,qBAExG3F,YAAKzN,KAAKxB,MAAMsF,QAAQuP,WAAY3E,EAAU1O,KAAKxB,MAAMsF,QAAQwP,kBAAoBtT,KAAKxB,MAAMsF,QAAQyP,qBAGxH,IAAIC,EAAgB,KAKpB,OAJKd,GAAoBA,EAAiBlT,QAAYkO,GAAYA,EAASlO,UACvEgU,EAAgB,uBAAM3P,UAAW7D,KAAKxB,MAAMsF,QAAQ0P,cAApC,SAAoDd,GAAoBA,EAAiBlT,SAAWkO,EAASlO,OAAzD,UAAqEkT,EAAiBlT,OAAtF,YAAgGkO,EAASlO,OAAzG,KAAqHkO,EAASlO,UAG/L,gBAACyJ,EAAA,EAAD,CAEHlI,MAAOA,EACP8C,UAAW4J,YACO,WAAdpH,EAAKhD,KAAoBrD,KAAKxB,MAAMsF,QAAQxE,OAASU,KAAKxB,MAAMsF,QAAQ2P,OACxE/E,GAAyB,WAAdrI,EAAKhD,MAAqB,iBACrCqL,GAAyB,WAAdrI,EAAKhD,MAAqB,iBACrCqL,GAAW1O,KAAKxB,MAAMsF,QAAQ4K,QAC9BA,GAAyB,WAAdrI,EAAKhD,MAAsBrD,KAAKxB,MAAMsF,QAAQ4P,cACzDhF,GAAyB,WAAdrI,EAAKhD,MAAqBrD,KAAKxB,MAAMsF,QAAQ6P,eAE5DlR,QAAS,SAAAf,GAAC,OAAI,EAAKe,QAAQ4D,EAAM3E,IACjCgI,cAAe,SAAAhI,GAAC,OAAI,EAAKkS,WAAWvN,EAAM3E,IAZvC,UAcH,eAAC0H,EAAA,EAAD,CACItF,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQ+P,cADvC,SAGkB,WAAdxN,EAAKhD,KACGqL,GAAWqE,EACP,eAAC,KAAD,CAAkBlP,UAAWmP,EAAWjS,MAAOkS,EAAWxQ,QAAS,SAAAf,GAAC,OAAKgN,GAAW,EAAK6D,SAASlM,EAAKtH,GAAI2C,MAC3G,eAAC,KAAD,CAAkBmC,UAAWmP,EAAWjS,MAAOkS,EAAWxQ,QAAS,SAAAf,GAAC,OAAKgN,GAAW,EAAK6D,SAASlM,EAAKtH,GAAI2C,MAGnH,sBAAKmC,UAAWmP,EAAW1J,IAAKjD,EAAKhD,KAAMgG,IAAKgC,GAAOhF,EAAKhD,OAASgI,GAAOG,QAEpF,eAACjC,EAAA,EAAD,CACIzF,QAAS,CAAC0F,QAASnD,EAAKtH,KAAOiB,KAAKlB,MAAMqK,UAAauF,OAAwCvB,EAA9BnN,KAAKxB,MAAMsF,QAAQqF,UACpFpI,MAAOf,KAAK8T,aAAazN,GAAOmD,QAAU,kCAAOpF,EAAOoP,OAC5D,eAACO,EAAA,EAAD,UAA0B/T,KAAKgU,uBAAuB3N,EAAMqH,OA3BvDrH,EAAKtH,M,0BA+BlB,SAAakV,EAAQtS,GACjB,IAAIuS,EAAQvS,EAAS,IAAMsS,EAAOrU,MAAM,KAAKC,MACzCqU,IAAUD,IAENjU,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAOmV,OAC9CA,GAAS,IAAMzT,IAAKC,EAAE,SAG1BV,KAAKxB,MAAMI,UAAYoB,KAAKxB,MAAMI,SAASqV,EAAQC,M,2BAK3D,SAAcC,EAAO9N,EAAM+N,GAAW,IAAD,OAC7B1B,GAAoB1S,KAAKlB,MAAM2Q,cAAgBzP,KAAKlB,MAAM0Q,aAAe2E,EAAMrM,QAAO,SAAA5B,GAAC,OAAIA,EAAER,SAAWW,EAAKtH,KAAM,EAAKsV,cAAcnO,MACtIwH,EAAWyG,EAAMrM,QAAO,SAAA5B,GAAC,OAAIA,EAAER,SAAWW,EAAKtH,MAEnD,IAAIiB,KAAKqU,cAAchO,KAIL,WAAdA,EAAKhD,OAAsBrD,KAAKlB,MAAM2Q,eAAgBzP,KAAKlB,MAAM0Q,YAAgBkD,EAAiBlT,QAAtG,CAGA,IAII8U,EAJE5F,EAAU1O,KAAKlB,MAAM4P,UAAY1O,KAAKxB,MAAMqT,UAE5C0C,EAAUvU,KAAKwU,eAAenO,EAAMqH,EAAUgF,GAC9CzG,EAAS,GAuBf,OArBIyB,IAAagB,GAAW1O,KAAKlB,MAAMoP,SAASzK,SAAS4C,EAAKtH,KAAOsH,EAAKtH,KAAOiM,MAC7EsJ,EAAgB5G,EAAStL,KAAI,SAAAqK,GAAE,OAAI,EAAKgI,cAAcN,EAAO1H,OAG7DiC,EACkB,WAAdrI,EAAKhD,KACL4I,EAAO3F,KAAK,gBAAC,GAAD,CAAwCwG,OAAQ,SAAApL,GAAC,OAAI,EAAKgT,aAAahT,EAAE1C,KAAMqH,EAAKtH,KAApF,UACR,eAAC,GAAD,CAAwCC,KAAMqH,EAAKtH,GAAnD,SAAwDwV,GAAxC,aAAelO,EAAKtH,IACnCuV,GAAiB,OAFM,aAAejO,EAAKtH,KAKhDkN,EAAO3F,KAAK,gBAAC,GAAD,CAAwCtH,KAAMqH,EAAKtH,GAAnD,UACPwV,EACAD,GAAiB,OAFM,aAAejO,EAAKtH,MAMpDkN,EAAO3F,KAAKiO,GACZD,GAAiBA,EAActO,SAAQ,SAAAtE,GAAC,OAAIuK,EAAO3F,KAAK5E,OAGrDuK,K,4BAGX,SAAekI,GAAQ,IAAD,OACZlI,EAASkI,EACVrM,QAAO,SAAAzB,GAAI,OAAKA,EAAKX,UACrBtD,KAAI,SAAAiE,GAAI,OACL,EAAKoO,cAAcN,EAAO9N,MAElC,OAAO,eAAC0C,EAAA,EAAD,CACH4L,OAAO,EACPC,gBAAgB,EAChB/Q,UAAW7D,KAAKxB,MAAMsF,QAAQ+Q,SAH3B,SAKF5I,M,sBAIT,SAASvK,GAAI,IAAD,OACRA,GAAKA,EAAEgQ,kBAGP,IAFA,IAAIrL,EAAOrG,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAF,GAAC,OAAIA,EAAEnH,KAAO,EAAKD,MAAMqK,YAC1DzD,EAASsF,GACN3E,GAAsB,WAAdA,EAAKhD,MAChBgD,EAAOrG,KAAKlB,MAAMyP,UAAUlI,EAAKuG,aAEjCvG,IACAX,EAASW,EAAKtH,IAGlBiB,KAAK0F,OAASA,EACd1F,KAAKb,SAAS,CAAC8P,cAAc,M,oBAGjC,SAAOvN,EAAG3C,GACN2C,GAAKA,EAAEgQ,kBAGP,IAFA,IAAIrL,EAAOrG,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAF,GAAC,OAAIA,EAAEnH,KAAOA,KAC/C2G,EAASsF,GACN3E,GAAsB,WAAdA,EAAKhD,MAChBgD,EAAOrG,KAAKlB,MAAMyP,UAAUlI,EAAKuG,aAEjCvG,IACAX,EAASW,EAAKtH,IAGlBiB,KAAK0F,OAASA,EACd1F,KAAKb,SAAS,CAAC2P,aAAc/P,M,4BAGjC,SAAe2C,GAAI,IAAD,OACdA,GAAKA,EAAEgQ,kBAGP,IAFA,IAAIrL,EAAOrG,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAF,GAAC,OAAIA,EAAEnH,KAAO,EAAKD,MAAMqK,YAC1DzD,EAASsF,GACN3E,GAAsB,WAAdA,EAAKhD,MAChBgD,EAAOrG,KAAKlB,MAAMyP,UAAUlI,EAAKuG,aAEjCvG,IACAX,EAASW,EAAKtH,IAGlBiB,KAAK0F,OAASA,EACd1F,KAAKb,SAAS,CAAC0P,gBAAgB,M,sBAGnC,SAASnN,GACLA,GAAKA,EAAEgQ,kBACP1R,KAAKb,SAAS,CAAC4P,SAAU/O,KAAKlB,MAAMqK,a,2BAGxC,SAAc2L,GAAS,IAAD,OACd5O,EAAI,EACJ6O,EAAOtU,IAAKC,EAAE,UAAY,IAC9B,GAAIoU,EAAQ,CACR,IAAI9V,EAAO2M,GAAcmJ,EAAQ9U,KAAKxB,MAAMgQ,QAAQsG,IAC9CE,EAAIhW,EAAKyR,MAAM,QACjBuE,GACAD,EAAO/V,EAAKe,QAAQ,OAAQ,IAC5BmG,EAAIhE,SAAS8S,EAAE,GAAI,IAAM,GAEzBD,EAAO/V,EAKf,KAAOgB,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAO,EAAK2G,OAAS,IAAMqP,EAAKhV,QAAQ,QAAS,KAAOmG,MAC9FA,IAGJ,OAAO6O,EAAO7O,I,iCAGlB,WAGI,IAHmB,IAAD,OACdA,EAAI,EAEDlG,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAO,EAAK2G,OAAS,IAAMjF,IAAKC,EAAE,UAAY,IAAMwF,MAC1FA,IAEJ,OAAOzF,IAAKC,EAAE,UAAY,IAAMwF,I,yBAGpC,SAAYoK,GACRtQ,KAAKb,SAAS,CAACgQ,YAAY,EAAOC,aAAc,KAAM6F,mBAAoB,MAAO3E,K,4BAGrF,WACI,MAAO,EACyB,IAA5BtQ,KAAKlB,MAAM2Q,cAA0B,eAAC,IAAD,CAAU5L,UAAW7D,KAAKxB,MAAMsF,QAAQoR,WAAYnU,MAAO,CAAC2B,MAAOgI,OAC5E,IAA5B1K,KAAKlB,MAAM2Q,cAA2B,eAAC,IAAD,CAAW5L,UAAW7D,KAAKxB,MAAMsF,QAAQoR,WAAYnU,MAAO,CAAC2B,MAAOoI,MAChF,YAA1B9K,KAAKlB,MAAM0Q,YAA6B,KACd,kBAA1BxP,KAAKlB,MAAM0Q,YAAmC,KACpB,kBAA1BxP,KAAKlB,MAAM0Q,YAAmC,Q,yBAItD,SAAY9B,EAAUyH,GAAe,IAAD,OAChC,OAAO,gBAAC,IAAD,CAEHpW,GAAG,YACHqW,SAAUpV,KAAKlB,MAAMsQ,aACrB7O,KAAMP,KAAKlB,MAAMqQ,WACjBzQ,QAAS,kBAAM,EAAKS,SAAS,CAACgQ,YAAY,EAAOC,aAAc,QAC/DiG,WAAY,CACRtU,MAAO,CACHuU,UAAWC,MARhB,UAaFvV,KAAKlB,MAAMkC,OAASmK,GAAe,gBAAC9I,EAAA,EAAD,CAEhCR,SAAU7B,KAAKxB,MAAMqT,YAAc7R,KAAKlB,MAAMqK,UAAYnJ,KAAKlB,MAAMqK,WAAa+B,IAAalL,KAAKlB,MAAMqK,WAAa8B,IAAcyC,GAAYA,EAASlO,OAC1JiD,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACF,EAAKzC,MAAMyP,UAAUnI,MAAK,SAAAC,GAAI,OAAIA,EAAKX,SAAW,EAAK5G,MAAMqK,YAC7D,EAAKqM,UAAU/U,IAAKC,EAAE,kCAI1B,EAAKvB,SAAS,CAACgQ,YAAY,EAAOC,aAAc,OAAO,kBACnD,EAAKnM,SAAS,EAAKnE,MAAMqK,UAAU5B,MAAK,mBAZhB,UAa7B,eAAC,IAAD,CAAY1D,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,iBAAmB1U,MAAO,CAAC2B,MAAO,SAAUjC,IAAKC,EAAE,YAZ5F,UAaM,KACd,gBAAC2B,EAAA,EAAD,CAEIR,SAAU7B,KAAKxB,MAAMqT,UACrB1I,SAAUnJ,KAAKlB,MAAMwQ,WACrB7M,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKmU,aAAY,kBACb,EAAKlX,MAAMmX,oBAAsB,EAAKnX,MAAMmX,oBAAoB,EAAK7W,MAAMwQ,gBARvF,UAUI,eAAC,IAAD,CAAYzL,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,iBAAkB1U,MAAO,CAAC2B,MAAO1C,KAAKlB,MAAMwQ,WAAa,SAAW,aAAc7O,IAAKC,EAAE,iBAT/H,cAWPV,KAAKxB,MAAMoX,UAAY,gBAACvT,EAAA,EAAD,CAEpBI,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKmU,aAAY,kBAAM,EAAKlX,MAAMoX,eALlB,UAOpB,eAAC,KAAD,CAAY/R,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,mBAAqBhV,IAAKC,EAAE,wBANlE,aAQPV,KAAKxB,MAAMqX,UAAY,gBAACxT,EAAA,EAAD,CACpBR,SAAU7B,KAAKxB,MAAMqT,UAErBpP,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKmU,aAAY,kBAAM,EAAKlX,MAAMqX,eANlB,UAQpB,eAAC,KAAD,CAAYhS,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,mBAAqBhV,IAAKC,EAAE,oBANlE,UAQPV,KAAKxB,MAAMsX,eAAiB,gBAACzT,EAAA,EAAD,CAEzBI,QAAS,SAAAtC,GAAK,OACV,EAAKuV,aAAY,WAIb,IAAMK,EAAwC,SAAzB,EAAKjX,MAAM6P,UAAuB,OAC1B,SAAzB,EAAK7P,MAAM6P,UAAuB,UAAqC,YAAzB,EAAK7P,MAAM6P,UAA0B,QACtD,UAAzB,EAAK7P,MAAM6P,UAAwB,OAAS,UACpD,EAAKnQ,MAAMsX,cAAcC,OAVR,UAYzB,eAAC,IAAD,CAAUlS,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,mBAAqBhV,IAAKC,EAAE,6BAA8BV,KAAKlB,MAAM6P,aAXzG,QAaP3O,KAAKxB,MAAMwX,UAAY,gBAAC3T,EAAA,EAAD,CACWR,UAAW7B,KAAKlB,MAAMqK,WAAagM,GAAsC,WAAtBA,EAAa9R,KAChEZ,QAAS,SAAAtC,GACL,IAAMgJ,EAAW,EAAKrK,MAAMqK,SAC5B,EAAKuM,aAAY,kBAAM,EAAKO,OAAO9V,EAAOgJ,OAJzD,UAMpB,eAAC,IAAD,CAAUtF,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,mBAAqBhV,IAAKC,EAAE,iBANlC,QAQrCV,KAAKlB,MAAMwQ,YAAc,gBAACjN,EAAA,EAAD,CACtBR,SAAU7B,KAAKxB,MAAMqT,UAErBpP,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKmU,aAAY,kBACb,EAAKvW,SAAS,CAACyQ,kBAAkB,QAPnB,UAStB,eAAC,IAAD,CAAW/L,UAAW7D,KAAKxB,MAAMsF,QAAQ2R,mBAAoBhV,IAAKC,EAAE,oBAPhE,mBAlFJ,U,+BA+FZ,WAAqB,IAAD,OACVuL,EAAS,GACTnI,EAAU9D,KAAKxB,MAAMsF,QACrB4K,EAAU1O,KAAKlB,MAAM4P,UAAY1O,KAAKxB,MAAMqT,UAClD,GAAI7R,KAAKlB,MAAMuQ,aAAerP,KAAKxB,MAAMqT,UACrC5F,EAAO3F,KAAK,eAAC4P,EAAA,EAAD,CAA+BC,QAASnW,KAAKqO,SAA7C,SAAuD,eAACxE,EAAA,EAAD,CAE/D1I,MAAOnB,KAAKlB,MAAMyQ,WAClB1L,UAAWC,EAAQsS,cACnB5I,IAAKxN,KAAKqO,SACVpN,WAAW,EACX8I,YAAatJ,IAAKC,EAAE,aACpBe,SAAU,SAAAC,GACN,EAAKvC,SAAS,CAACoQ,WAAY7N,EAAEC,OAAOR,QACpC,EAAK4O,aAAesG,aAAa,EAAKtG,aACtC,EAAKA,YAAcvO,YAAW,WAC1B,EAAKuO,YAAc,KACnB,EAAKuG,YAAW,GAChB,EAAK9X,MAAM+X,UAAY,EAAK/X,MAAM+X,SAAS,EAAKzX,MAAMyQ,cACvD,OAbH,gBADiB,oBAkBzBtD,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CAERvG,UAAWC,EAAQ0S,eACnBzV,MAAO,CAAC0V,MAAO,SACfrS,MAAO3D,IAAKC,EAAE,mBACd+B,QAAS,SAAAf,GACLA,EAAEgQ,kBACF,EAAK4E,YAAW,GAAO,kBAAM,EAAK9X,MAAM+X,UAAY,EAAK/X,MAAM+X,SAAS,EAAKzX,MAAMyQ,gBAP/E,SASX,eAAC,IAAD,KARO,kBAURvP,KAAKlB,MAAMyQ,YAActD,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CAEjCsM,KAAK,OACLtS,MAAO3D,IAAKC,EAAE,sBACdmD,UAAWC,EAAQ0S,eACnBzV,MAAO,CAAC0J,UAAW,EAAGgM,MAAO,SAC7BhU,QAAS,SAAAf,GACLA,EAAEgQ,kBACF,EAAKvS,SAAS,CAACoQ,WAAY,KAAK,WAC5B,EAAK+G,YAAW,GAChB,EAAK9X,MAAM+X,UAAY,EAAK/X,MAAM+X,SAAS,EAAKzX,MAAMyQ,gBAV7B,SAapC,eAAC,IAAD,CAAWrM,SAAS,WAZb,oBAaL,CACH,IAAKwL,EAAS,CAEVzC,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CAER,aAAW,OACX,YAAWpK,KAAKlB,MAAMqQ,WAAa,iBAAchC,EACjD/I,MAAO3D,IAAKC,EAAE,QACd,gBAAc,OACd+B,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKpC,SAAS,CAACgQ,YAAY,EAAMC,aAAcjP,EAAMwW,iBATjD,SAaJ,eAAC,IAAD,KAZA,eAgBR,IACIjJ,EADEyH,EAAenV,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAO,EAAKD,MAAMqK,YAEtEgM,GAAgBnV,KAAKlB,MAAMkC,OAASmK,IAAsC,WAAtBgK,EAAa9R,OACjEqK,EAAW1N,KAAKlB,MAAMyP,UAAUzG,QAAO,SAAA5B,GAAC,OAAIA,EAAER,SAAW,EAAK5G,MAAMqK,aAIxE8C,EAAO3F,KAAKtG,KAAK4W,YAAYlJ,EAAUyH,IAGvClJ,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CACRvI,SAAU7B,KAAKxB,MAAMqT,UAErBzN,MAAO3D,IAAKC,EAAE,qBACdmD,UAAW4J,YAAK3J,EAAQ0S,eAAgBxW,KAAKxB,MAAMqT,WAAa/N,EAAQgO,qBACxE/Q,MAAO,CAAC2B,MAAOgM,EAAU,MAAQ,WACjCjM,QAAS,SAAAf,GAAC,OAAI,EAAKsU,SAAStU,IANpB,SAOX,eAAC,IAAD,KALO,eAQRuK,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CACRvI,SAAU7B,KAAKxB,MAAMqT,UAErBzN,MAAO3D,IAAKC,EAAE,qBACdmD,UAAW4J,YAAK3J,EAAQ0S,eAAgBxW,KAAKxB,MAAMqT,WAAa/N,EAAQgO,qBACxE/Q,MAAO,CAAC2B,MAAOgM,EAAU,MAAQ,WACjCjM,QAAS,kBAAM,EAAKoU,kBANZ,SAOX,eAAC,IAAD,KALO,eASZ5K,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CAERvI,SAAU6M,GAAW1O,KAAKxB,MAAMqT,UAChChO,UAAW4J,YAAK3J,EAAQ0S,eAAgBxW,KAAKxB,MAAMqT,WAAa/N,EAAQgO,qBACxE1N,MAAO3D,IAAKC,EAAE,qBACdK,MAAO,CAAC0V,MAAO,QAAS5I,QAAS7N,KAAKxB,MAAMqT,UAAY,GAAOnD,EAAU,EAAI,GAC7EjM,QAAS,SAAAf,GACLA,EAAEgQ,kBACF,EAAKvS,SAAS,CAACkQ,YAAY,KARvB,SAUX,eAAC,IAAD,KATO,WAYRpD,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CACRvI,SAAU7B,KAAKxB,MAAMqT,UAErBzN,MAAO3D,IAAKC,EAAE,8BACdmD,UAAW4J,YAAK3J,EAAQ0S,eAAgBxW,KAAKxB,MAAMqT,WAAa/N,EAAQgO,qBACxE/Q,MAAO,CAAC2B,MAAOgM,EAAU,MAAQ,UAAW+H,MAAO,SACnDhU,QAAS,SAAAf,GACLA,EAAEgQ,kBACF,EAAKvS,SAAS,CAACuP,SAAU,EAAK5P,MAAM4P,WARhC,SAUX,eAAC,IAAD,KARO,aAUHA,GAAW1O,KAAKlB,MAAMqK,UAAYnJ,KAAKlB,MAAMqK,WAAa+B,IAAalL,KAAKlB,MAAMqK,WAAa8B,IAEhGgB,EAAO3F,KAAK,eAAC8D,EAAA,EAAD,CACRvG,UAAW4J,YAAK3J,EAAQ0S,eAAgBxW,KAAKxB,MAAMqT,WAAa/N,EAAQgO,qBACxEjQ,SAAU7B,KAAKxB,MAAMqT,UACrBzN,MAAO3D,IAAKC,EAAE,UAEd+B,QAAS,SAAAf,GAAC,OAAI,EAAK9C,SAAS8C,IALpB,SAMX,eAAC,IAAD,KAFO,WAmBhB,OAAOuK,I,wBAGX,WACI,IAAM6K,EAAU,CAAC,CAAC/X,GAAIiM,GAAShM,KAAMyB,IAAKC,EAAE,iBAI5C,OAHAV,KAAKlB,MAAMyP,UAAUvI,SAAQ,SAAAK,GAAI,MACf,WAAdA,EAAKhD,MAAqByT,EAAQxQ,KAAK,CAACvH,GAAIsH,EAAKtH,GAAIC,KAAMqH,EAAKjC,WAE7D0S,I,2BAGX,WACI9W,KAAKb,SAAS,CAAC+O,SAAU,KACzBlO,KAAK2R,aAAa,M,yBAGtB,WAAe,IAAD,OACJzD,EAAW,GACjBlO,KAAKlB,MAAMyP,UAAUvI,SAAQ,SAAAK,GAAI,OAC7B,EAAKvH,MAAMyP,UAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG/G,SAAWW,EAAKtH,OAAOmP,EAAS5H,KAAKD,EAAKtH,OACjFiB,KAAKb,SAAS,CAAC+O,aACflO,KAAK2R,aAAazD,K,8BAGtB,WAAoB,IAAD,OACf,OAAIlO,KAAKlB,MAAM4P,SAAW1O,KAAKxB,MAAMqT,UAC1B,KAEJ,CACH,eAAC,IAAD,CAEIhO,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BhW,MAAO,CAAC2B,MAAOgI,GAAWmD,QAAqC,YAA5B7N,KAAKlB,MAAM2Q,aAA6B,EAAI,GAAK3I,WAAwC,YAA5B9G,KAAKlB,MAAM2Q,aAA6B,OAAS,WACjJrL,MAAO3D,IAAKC,EAAE,6BACd+B,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,IAAMkO,EAA2C,YAA5B,EAAK3Q,MAAM2Q,aAA6B,GAAK,UAClE/L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,wBAAyByF,GAC5E,EAAKtQ,SAAS,CAACsQ,mBATf,mBAaR,eAAC,IAAD,CAEIrL,MAAO3D,IAAKC,EAAE,4BACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BhW,MAAO,CAAC2B,MAAOoI,GAAa+C,QAAqC,WAA5B7N,KAAKlB,MAAM2Q,aAA4B,EAAI,GAAK3I,WAAwC,WAA5B9G,KAAKlB,MAAM2Q,aAA4B,OAAS,WACjJhN,QAAS,SAAAtC,GACL,IAAMsP,EAA2C,WAA5B,EAAK3Q,MAAM2Q,aAA4B,GAAK,SACjE/L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,wBAAyByF,GAC5E,EAAKtQ,SAAS,CAACsQ,mBAPf,kBAUR,eAAC,IAAD,CAEIrL,MAAO3D,IAAKC,EAAE,mCACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BhW,MAAO,CAAC2B,MAAOkI,GAAeiD,QAAqC,aAA5B7N,KAAKlB,MAAM2Q,aAA8B,EAAI,GAAK3I,WAAwC,aAA5B9G,KAAKlB,MAAM2Q,aAA8B,OAAS,WACvJhN,QAAS,SAAAtC,GACL,IAAMsP,EAA2C,aAA5B,EAAK3Q,MAAM2Q,aAA8B,GAAK,WACnE/L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,wBAAyByF,GAC5E,EAAKtQ,SAAS,CAACsQ,mBAPf,mBAUR,sBAEI5L,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BzN,IAAI,UACJvI,MAAO,CAAC8M,QAAmC,YAA1B7N,KAAKlB,MAAM0Q,WAA2B,EAAI,GAAK1I,WAAsC,YAA1B9G,KAAKlB,MAAM0Q,WAA2B,OAAS,WAC3HnG,IAAKgC,GAAO2L,SAAW3L,GAAOG,IAC9B/I,QAAS,SAAAtC,GACL,IAAMqP,EAAuC,YAA1B,EAAK1Q,MAAM0Q,WAA2B,GAAK,UAC9D9L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,sBAAuBwF,GAC1E,EAAKrQ,SAAS,CAACqQ,iBARf,iBAWR,sBAEI3L,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BzN,IAAI,aACJvI,MAAO,CAAC8M,QAAmC,kBAA1B7N,KAAKlB,MAAM0Q,WAAiC,EAAI,GAAK1I,WAAsC,kBAA1B9G,KAAKlB,MAAM0Q,WAAiC,OAAS,WACvInG,IAAKgC,GAAO,kBAAoBA,GAAOG,IACvC/I,QAAS,SAAAtC,GACL,IAAMqP,EAAuC,kBAA1B,EAAK1Q,MAAM0Q,WAAiC,GAAK,gBACpE9L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,sBAAuBwF,GAC1E,EAAKrQ,SAAS,CAACqQ,iBARf,YAWR,sBAEI3L,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BzN,IAAI,aACJvI,MAAO,CAAC8M,QAAmC,kBAA1B7N,KAAKlB,MAAM0Q,WAAiC,EAAI,GAAK1I,WAAsC,kBAA1B9G,KAAKlB,MAAM0Q,WAAiC,OAAS,WACvInG,IAAKgC,GAAO,kBAAoBA,GAAOG,IACvC/I,QAAS,SAAAtC,GACL,IAAMqP,EAAuC,kBAA1B,EAAK1Q,MAAM0Q,WAAiC,GAAK,gBACpE9L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,sBAAuBwF,GAC9E,EAAKrQ,SAAS,CAACqQ,iBARX,YAWR,sBAEI3L,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAC9BzN,IAAI,QACJvI,MAAO,CAAC8M,QAAmC,UAA1B7N,KAAKlB,MAAM0Q,WAAyB,EAAI,GAAK1I,WAAsC,kBAA1B9G,KAAKlB,MAAM0Q,WAAiC,OAAS,WAC/HnG,IAAKgC,GAAM,OAAaA,GAAOG,IAC/B/I,QAAS,SAAAtC,GACL,IAAMqP,EAAuC,UAA1B,EAAK1Q,MAAM0Q,WAAyB,GAAK,QAC5D9L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,sBAAuBwF,GAC9E,EAAKrQ,SAAS,CAACqQ,iBARX,eAWR,eAAC,IAAD,CAA+B3L,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAAgB,IAAM/W,KAAKxB,MAAMsF,QAAQmT,mBAAoB7S,MAAO3D,IAAKC,EAAE,cAAe+B,QAAS,kBAAM,EAAKyU,gBAAxJ,aACnBlX,KAAKlB,MAAMoP,SAAS1O,OAAS,eAAC,IAAD,CAAmCqE,UAAW7D,KAAKxB,MAAMsF,QAAQiT,cAAgB,IAAM/W,KAAKxB,MAAMsF,QAAQmT,mBAAoB7S,MAAO3D,IAAKC,EAAE,gBAAiB+B,QAAS,kBAAM,EAAK0U,kBAA5J,eAAiL,Q,mCAI3O,WAAyB,IAAD,OACpB,GAAInX,KAAKlB,MAAM8Q,iBACX,OAAO,eAAC,GAAD,CACHvI,OAAQrH,KAAKxB,MAAM6I,OACnB3I,QAAS,kBAAM,EAAKS,SAAS,CAACyQ,kBAAkB,KAChDhI,QAAS,SAAC3I,EAAUoJ,GAAX,OAAuB,EAAKlJ,SAAS,CAACyQ,kBAAkB,IAAQ,kBAAM,EAAKpR,MAAM4Y,gBAAgB,CAACnY,WAAUoJ,oB,oBAKjI,WAAU,IAAD,OACEvE,EAAW9D,KAAKxB,MAAhBsF,QAEDuT,EAAerX,KAAKlB,MAAMiQ,UAAY/O,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAF,GAAC,OAAIA,EAAEnH,KAAO,EAAKD,MAAMiQ,YACzFuI,EAAatX,KAAKlB,MAAMgQ,cAAgB9O,KAAKxB,MAAMgQ,QAAQxO,KAAKlB,MAAMgQ,cAE5E,MAAO,CACH,gBAACyI,EAAA,EAAD,CAEI/U,QAAQ,YACRqB,UAAWC,EAAQ0T,KACnB1T,QAAS,CAAC2T,MAAO3T,EAAQ4T,aACzBC,OAAO,OACPlV,QAAS,kBAAM,EAAKA,QAAQ,CAAC1D,GAAI,MANrC,UAQI,sBAAK8E,UAAWC,EAAQ8T,QAAxB,SACK5X,KAAK6X,sBAGV,eAACC,EAAA,EAAD,IAEA,eAAC,IAAD,CAAiBC,QAASC,IAA1B,SACI,sBAAKnU,UAAWC,EAAQmU,UAAxB,SACKjY,KAAKkY,eAAelY,KAAKlB,MAAMyP,eAIxC,eAACuJ,EAAA,EAAD,IAEA,sBAAKjU,UAAWC,EAAQqU,OAAxB,SAAiCnY,KAAKoY,uBArBlC,UAwBRf,EAAe,eAAC,GAAD,CAEXrY,KAAMqY,EAAajT,MACnBA,MAAO3D,IAAKC,EAAE,UACd3B,GAAIiB,KAAKlB,MAAMiQ,SACfzP,OAA8B,WAAtB+X,EAAahU,KACrBpE,SAAUoY,EAAapY,SACvBM,UAAWS,KAAKxB,MAAMe,UACtBb,QAAS,kBAAM,EAAKS,SAAS,CAAC4P,UAAU,KACxCnQ,SAAU,SAACC,EAAOwZ,EAASnE,EAAOoE,GAAxB,OAAwC,EAAK9Z,MAAMI,UAAY,EAAKJ,MAAMI,SAASC,EAAOwZ,EAASnE,EAAOoE,KARhH,iBASH,KAELtY,KAAKlB,MAAMkQ,SAAW,eAAC,GAAD,CAElBhQ,KAAMgB,KAAKlB,MAAMyP,UAAUnI,MAAK,SAAAF,GAAC,OAAIA,EAAEnH,KAAO,EAAKD,MAAMkQ,YAAU5K,MACnErF,GAAIiB,KAAKlB,MAAMkQ,SACftQ,QAAS,kBAAM,EAAKS,SAAS,CAAC6P,UAAU,KACxC/L,SAAU,SAAAlE,GAAE,OAAI,EAAKP,MAAMyE,UAAY,EAAKzE,MAAMyE,SAASlE,KAJvD,iBAKH,KAELiB,KAAKlB,MAAMmQ,aAAe,eAAC,GAAD,CAEtBvQ,QAAS,SAAA2E,GACL,EAAKlE,SAAS,CAAC8P,cAAc,IAC7B5L,GAAQ,EAAKlE,SAAS,CAACyP,eAAgBvL,MAHvC,sBAKH,KAELrD,KAAKlB,MAAM8P,eAAiB,eAAC,GAAD,CAExBlQ,QAAS,kBAAM,EAAKS,SAAS,CAACyP,gBAAgB,KAC9CxK,MAAO3D,IAAKC,EAAE,qBACd1B,KAAOgB,KAAKuY,gBACZ1S,QAAU7F,KAAKwY,aACflZ,QAAS,EACTiG,cAAevF,KAAKlB,MAAMyP,UAAUnM,KAAI,SAAAiE,GAAI,OAAIA,EAAKtH,MACrDE,SAAUe,KAAKxB,MAAMe,UAAU,IAAM,EACrCA,UAAWS,KAAKxB,MAAMe,UACtB8D,KAAMrD,KAAKlB,MAAM8P,eACjBlJ,OAAQ1F,KAAK0F,OACbJ,MAAO,SAACvG,EAAIC,EAAMC,EAAUoE,GAArB,OACH,EAAK7E,MAAMwX,UAAY,EAAKxX,MAAMwX,SAASjX,EAAIC,GAAM,EAAOC,EAAUoE,KAZtE,qBAaH,KAELrD,KAAKlB,MAAMgQ,aAAe,eAAC,GAAD,CAEtBpQ,QAAS,kBAAM,EAAKS,SAAS,CAAC2P,aAAc,MAC5C1K,MAAO3D,IAAKC,EAAE,eACd1B,KAAOgB,KAAKuY,cAAcvY,KAAKlB,MAAMgQ,cACrCjJ,QAAS7F,KAAKwY,aACdlZ,QAAQ,EACRL,SAAUiD,SAAUoV,GAAcA,EAAW7P,QAAU6P,EAAW7P,OAAO+E,QAAU8K,EAAW7P,OAAO+E,OAAO5M,MAAM,KAAKC,OAAU,EAAG,IACpIN,UAAWS,KAAKxB,MAAMe,UACtB8D,KAAOiU,GAAcA,EAAW7P,QAAU6P,EAAW7P,OAAO8E,YAAe,gBAC3E7G,OAAQ1F,KAAK0F,OACbJ,MAAO,SAACvG,EAAIC,EAAMC,EAAUoE,GACxB,IAAMiU,EAAa,EAAKxY,MAAMgQ,cAAgB,EAAKtQ,MAAMgQ,QAAQ,EAAK1P,MAAMgQ,cACxEwI,GAAcA,EAAW7P,SAEzB6P,EAAW7P,OAAOL,SAAU,GAEhC,EAAK5I,MAAMwX,UAAY,EAAKxX,MAAMwX,SAASjX,EAAIC,GAAM,EAAOC,EAAUoE,EAAMiU,GAAcA,EAAW7P,QAAU6P,EAAW7P,OAAOwM,UAhBjI,sBAkBH,KAELjU,KAAKlB,MAAM+P,eAAiB,eAAC,GAAD,CAExBnQ,QAAS,kBAAM,EAAKS,SAAS,CAAC0P,gBAAgB,KAC9CzK,MAAO3D,IAAKC,EAAE,qBACdmF,QAAS7F,KAAKwY,aACdxZ,KAAMgB,KAAKyY,sBACX/S,OAAQ1F,KAAK0F,OACbJ,MAAO,SAACvG,EAAIC,GAAL,OACH,EAAKR,MAAMwX,UAAY,EAAKxX,MAAMwX,SAASjX,EAAIC,GAAM,KAPrD,qBAQH,KAELgB,KAAKlB,MAAMoQ,UAAY,eAAC,GAAD,CAAaxQ,QAAS,kBAAM,EAAKS,SAAS,CAAC+P,UAAW,MAAM3K,KAAMvE,KAAKlB,MAAMoQ,YAAe,KAEnHlP,KAAK0Y,4B,+BA7jCb,SAAwBrH,EAAiB9C,EAAWc,EAAYE,EAAYoJ,GACxEpK,EAAYJ,KAAKC,MAAMD,KAAK8C,UAAU1C,IACtC,IAAI2C,GAAU,EACVI,EAAW,CAAC/C,aAChB,IAAwB,IAApB8C,GAA6BhC,GAAcE,EAAY,CACvD,IAAMhL,EAAOgL,EAAW9F,cAwBxB,GAvBA8E,EAAUvI,SAAQ,SAAAK,GACd,IAAMtH,EAAKsH,EAAKjC,MAAMqF,cACtBpD,EAAKoM,gBAAiB,EACtB,IAAImG,GAA8B,IAAtB7Z,EAAGyG,QAAQjB,GACvB,IAAKqU,GAAUD,GAAWA,EAAQtS,EAAKtH,KAAO4Z,EAAQtS,EAAKtH,IAAI0I,QAAUkR,EAAQtS,EAAKtH,IAAI0I,OAAOwM,OAC7F,GAA2C,YAAvC0E,EAAQtS,EAAKtH,IAAI0I,OAAO8E,WAA0B,CAClD,IAAM6E,EAAMuH,EAAQtS,EAAKtH,IAAI0I,OAAOwM,OAAO4E,YAAY,MACvDD,GAA0F,IAAlFD,EAAQtS,EAAKtH,IAAI0I,OAAOwM,OAAOtD,UAAU,EAAGS,GAAK3H,cAAcjE,QAAQjB,QAE/EqU,GAAwE,IAAhED,EAAQtS,EAAKtH,IAAI0I,OAAOwM,OAAOxK,cAAcjE,QAAQjB,GAGjEqU,EACIvS,EAAKmM,WACLnM,EAAKmM,UAAW,EAChBtB,GAAU,GAEN7K,EAAKmM,WACbnM,EAAKmM,UAAW,EAChBtB,GAAU,MAIdA,EAEA,IAAK,IAAIhL,EAAIqI,EAAU/O,OAAS,EAAG0G,GAAK,EAAGA,IAAK,CAC5C,IAAMG,EAAOkI,EAAUrI,GACvB,IAAKG,EAAKmM,UAAYnM,EAAKoM,eAAgB,CACvC,IAAIhG,EAAKpG,EACT,GACQoG,EAAG/G,QAAU6I,EAAU9B,EAAGG,eAC1BsE,GAAU,EACV3C,EAAU9B,EAAGG,aAAa6F,gBAAiB,GAE/ChG,EAAKA,EAAG/G,QAAU6I,EAAU9B,EAAGG,aAAe2B,EAAU9B,EAAGG,aAAe,WACtEH,UAKpB8B,EAAUvI,SAAQ,SAAAK,IACVA,EAAKmM,UAAYnM,EAAKoM,kBACtBpM,EAAKmM,UAAW,EAChBnM,EAAKoM,gBAAiB,EACtBvB,GAAU,OAGM,IAApBG,IACAC,EAAS/B,WAAa,GACtB+B,EAASjC,YAAa,EACtB6B,GAAU,GAIlB,OAAOA,EAAUI,EAAW,O,2CAmBhC,SAAqCnI,EAAU+E,EAAUK,GACrDL,EAAWC,KAAKC,MAAMD,KAAK8C,UAAU/C,IACrC,IAAIgD,GAAU,EAGV/K,EAAyB,kBAAbgD,EAAwBA,EAAWoF,EAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAOoK,KAClF,IAEIhD,EAAKA,GAAMA,EAAGT,QAAU6I,EAAUnI,MAAK,SAAAqG,GAAE,OAAIA,EAAG1N,KAAOoH,EAAGT,aAErB,IAA7BwI,EAAS1I,QAAQW,EAAGpH,MACpBmP,EAAS5H,KAAKH,EAAGpH,IACjBmS,GAAU,SAGd/K,GACR,OAAO+K,GAAWhD,I,sCAOtB,SAAgC1P,EAAOM,GACnC,IAAMwS,EAAW,GACbJ,GAAU,EAKd,GAJIpS,EAAMwQ,aAAe9Q,EAAM8Q,aAC3B4B,GAAU,EACVI,EAAShC,WAAa9Q,EAAM8Q,YAE5BxQ,EAAM6Q,cAAgBnR,EAAMmR,aAAenR,EAAMgQ,QAAS,CAC1D,IAAMD,EAAYzC,GAAYtN,EAAMgQ,SAAW,IAI/C,GAFA8C,EAAS/C,UAAYA,EAEjBzP,EAAMyQ,WAAY,CAClB,IAAMuJ,EAAS7K,EAAWsD,kBAAiB,EAAMhD,EAAWzP,EAAMuQ,WAAYvQ,EAAMyQ,WAAY/Q,EAAMgQ,SACtGsK,GAAUzM,OAAOuG,OAAOtB,EAAUwH,GAGtC,IAAM9I,EAAqB/B,EAAWwD,4BAA4BlD,EAAW/P,EAAMe,WAAa,IAE1FsQ,EAAS5B,EAAWuD,8BAA8B1S,EAAMqK,SAAUrK,EAAMoP,SAAUpP,EAAMyP,WAE9F+C,EAAStB,mBAAqBA,EAC1BH,IACAyB,EAASpD,SAAW2B,GAExBqB,GAAU,EAYd,GATIpS,EAAMkC,QAAUxC,EAAMwC,QACtBkQ,GAAU,EACVI,EAAStQ,MAAQxC,EAAMwC,OAEvBlC,EAAM6P,YAAcnQ,EAAMmQ,YAC1BuC,GAAU,EACVI,EAAS3C,UAAYnQ,EAAMmQ,WAG3BnQ,EAAMua,UAAYja,EAAMqK,WAAa3K,EAAMua,SAAU,CACrD,IAAM1S,EAAOvH,EAAMyP,UAAUnI,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAOP,EAAMua,YAE5D,IAAKja,EAAM4P,SAAWrI,EAAM,CACxB,IAAM6H,EAAWD,EAAWuD,8BAA8BnL,EAAMvH,EAAMoP,SAAUpP,EAAMyP,WACtF+C,EAASnI,SAAW9C,EAAKtH,GACrBmP,IACAoD,EAASpD,SAAWA,GAExBgD,GAAU,EACVxN,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,oBAAqB3D,EAAKtH,KAIrF,OAAImS,EACOI,EAEA,O,yCAIf,SAAmC/C,EAAWhP,GAC1C,IAAIyQ,GAAsBzQ,EAAU,IAAMA,EAAUC,QAAU,EAS9D,OAPIwQ,GACAzB,EAAUvI,SAAQ,SAAAK,GACI,WAAdA,EAAKhD,MAAuC,IAAlBgD,EAAKpH,WAC/B+Q,GAAqB,MAI1BA,M,GA3SUpN,IAAMC,WA8tChBC,gBA1iDA,SAAAC,GAAK,MAAK,CACrB2U,YAAa,CACTvN,SAAU,WACVnJ,MAAO,OACPiE,OAAQ,OACRoN,SAAU,UAEduF,QAAS,CACL3S,OAAQlC,EAAM6U,QAAQ3S,QAE1BuR,eAAgB,CACZ9T,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAiB,mBAAqB,oBAE/DyO,oBAAqB,CACjBhK,OAAQ,kBACR+F,QAAS,IAEbuI,cAAe,CACXpV,MAAO,qBACPgY,WAAY,OACZnG,WAAY,GAEhBjB,YAAa,CACT5Q,MAAO,GACPiE,OAAQ,GACRmN,QAAS,GAEbqD,iBAAkB,CACdwD,aAAc,GAElBC,eAAgB,CACZ/O,SAAU,WACVgP,MAAO,GACPC,IAAK,mBAET5B,KAAM,CACFxW,MAAO,OACPiE,OAAQ,QAEZgT,UAAW,CACPjX,MAAO,OACPiE,OAAQ,oBACRoU,UAAW,SACXC,UAAW,QAEfzF,aAAc,CACVjO,SAAU,IAEdsP,WAAY,CACRlU,MAAO,GACPiE,OAAQ,GACRsU,aAAc,EACd/O,YAAa,GAEjB6I,WAAY,CACRrS,MAAO,GACPiE,OAAQ,GACRsU,aAAc,EACd9O,UAAW,EACXtF,aAAc,EACd0N,WAAY,EACZrI,YAAa,GAEjBlL,OAAQ,CAEJwT,OAAQ,UACRV,QAAS,EACToH,WAAY,QAEhB7F,cAAe,CACX9F,QAAS,GACT4L,mBAAoB,OACpBC,mBAAoB,WAExBxG,WAAY,CACRlS,MAAO,GACPiE,OAAQ,IAEZkO,kBAAmB,CACfwG,WAAY,EACZC,cAAe,EACfC,YAAa,EACbZ,aAAc,GAElB7F,oBAAqB,CACjBN,OAAQ,UACR6G,WAAY,EACZC,cAAe,EACfC,YAAa,EACbZ,aAAc,GAElBxF,OAAQ,CACJX,OAAQ,UACRV,QAAS,EACToH,WAAY,QAEhB9F,cAAe,CACX7F,QAAS,EACT4L,mBAAoB,OACpBC,mBAAoB,WAExBhL,QAAS,GAGToL,aAAc,CACV9Y,MAAO,GACPiE,OAAQ,IAEZkE,SAAWiC,GACX7L,UAAW,CACPmD,MAAO,OACPQ,SAAU,WAEdsQ,cAAe,CACXiD,MAAO,QACPjM,YAAa,EACbtH,SAAU,GACV2K,QAAS,IAEbsK,OAAQ,CACJlT,OAAQ,IAEZ8R,cAAe,CACX,UAAW,CACPgD,gBAAiB,WAErBrX,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,UAAY,UACnDyP,OAAQ,UACRrI,UAAW,EACXD,YAAa,EACbvF,OAAQ,GACRjE,MAAO,IAEXiW,mBAAoB,CAChBR,MAAO,SAGX5B,SAAU,CACN,+CAAgD,CAC5C/N,WAAY,WAEhB,wCAAyC,CACrC+G,QAAS,GAEb,wCAAyC,CACrCA,QAAS,QAy5CN/K,CAAmBmL,I,UCrmDlC,SAAS+L,GAAcC,GACnB,IAAI1V,EACA2B,EAAI+T,EAAEC,WAiBV,OAhBIhU,EAAI,KAAIA,EAAI,IAAMA,EAAE2F,YACxBtH,EAAO2B,EAAI,KAEXA,EAAI+T,EAAEE,cACE,KAAIjU,EAAI,IAAMA,EAAE2F,YACxBtH,GAAQ2B,EAAI,KACZA,EAAI+T,EAAEG,cACE,KAAIlU,EAAI,IAAMA,EAAE2F,YACxBtH,GAAQ2B,EAAI,KACZA,EAAI+T,EAAEI,mBACE,GACJnU,EAAI,KAAOA,EAAE2F,WACN3F,EAAI,MACXA,EAAI,IAAMA,EAAE2F,YAEhBtH,GAAQ2B,EAgGZ,IAAIoU,GAAQ,GAENC,G,kDACF,WAAY/b,GAAQ,IAAD,8BACf,cAAMA,IAsBVgc,WAAa,SAAAC,GACT,IAAIC,EAAW,EAAK5b,MAAM6b,MACpBxR,EAAW,EAAKrK,MAAM8b,QAAQxU,MAAK,SAAArH,GAAE,OAAqC,IAAjC0b,EAAQA,QAAQjV,QAAQzG,MACvE,GAAKoK,EAAL,CAIA,IAAIwR,EAAQD,EAASvR,IAAa,GAC9B5E,EAAO+V,GAAMnR,IAAa,GAE9BwR,EAAMrU,KAAK,EAAKuU,aAAaJ,IAC7B,IAAIK,EAAWL,EAAQK,SACN,SAAbA,GAAoC,SAAbA,IACvBA,GAAY,KAEhB,IAnDWC,EAmDLC,EAAO,IAAIC,KAAKR,EAAQS,IAC9B3W,EAAK+B,KAAL,UAAa0U,EAAKG,iBAAlB,aApDWJ,EAoDqCC,EAAKX,kBAnDrDU,EAAK,GACE,KAAOA,EAEdA,EAAK,IACE,IAAMA,EAEVA,GA6CH,cAA6ED,EAA7E,cAA2FL,EAAQA,UAC/FE,EAAMnb,OAAS,MACfmb,EAAM7U,OAAO,EAAG6U,EAAMnb,OAAS,KAC/B+E,EAAKuB,OAAO,EAAG6U,EAAMnb,OAAS,MAElC8a,GAAMnR,GAAY5E,EAClBmW,EAASvR,GAAYwR,EAErB,EAAKxb,SAAS,CAACwb,MAAOD,MA7CtB,EAAK5b,MAAQ,CACT6b,MAAO,GACPS,UAAU,EACVjS,SAAU,KACVyR,QAAS,EAAKpc,MAAMoc,SAAW,IAEnC,EAAKS,UAAY,KACjB,EAAKC,YAAc1Y,IAAM0L,YATV,E,gDAYnB,SAAamM,GACT,OAAO,sBAAiE5W,UAAW7D,KAAKxB,MAAMsF,QAAQ2W,EAAQK,UAAvG,UACH,qBAAiBjX,UAAW7D,KAAKxB,MAAMsF,QAAQyX,OAA/C,SAAwDvB,GAAc,IAAIiB,KAAKR,EAAQS,MAA/E,UACR,qBAAqBrX,UAAW7D,KAAKxB,MAAMsF,QAAQ0X,WAAnD,SAAgEf,EAAQK,UAAhE,cACR,8BAAqBL,EAAQA,SAArB,eAHI,MAAQA,EAAQS,GAAK,IAAMT,EAAQA,QAAQgB,QAAQ,O,4BAOvE,WACIzb,KAAKsb,aAAetb,KAAKsb,YAAYI,SAAW1b,KAAKsb,YAAYI,QAAQC,eAAe,CAACC,SAAU,a,+BA6BvG,WACI5b,KAAKxB,MAAM6I,OAAOwU,mBAAmB7b,KAAKwa,c,kCAG9C,WACIxa,KAAKxB,MAAM6I,OAAOyU,qBAAqB9b,KAAKwa,c,gCAGhD,WACIxa,KAAKlB,MAAMsc,UAAYpb,KAAK+b,mB,oBAmChC,YApHJ,SAAyBC,GACrB,IAAM7V,EAAKzC,OAAOuY,SAASC,cAAc,YACzC/V,EAAGhF,MAAQ6a,EACXtY,OAAOuY,SAASE,KAAKC,YAAYjW,GACjCA,EAAGkW,SACH3Y,OAAOuY,SAASK,YAAY,QAC5B5Y,OAAOuY,SAASE,KAAKI,YAAYpW,GA+G7BqW,EAAiBlC,GAAMta,KAAKlB,MAAMqK,WAAa,IAAIrJ,KAAK,S,sBAG5D,WACI,IAAI4a,EAAW1a,KAAKlB,MAAM6b,MACtBD,EAAS1a,KAAKlB,MAAMqK,YACpBuR,EAAS1a,KAAKlB,MAAMqK,UAAY,IAEhCmR,GAAMta,KAAKlB,MAAMqK,YACjBmR,GAAMta,KAAKlB,MAAMqK,UAAY,IAEjCnJ,KAAKb,SAAS,CAACwb,MAAOD,M,2BAG1B,SAAcC,GACV,OAAI3a,KAAKlB,MAAMqK,UAAYwR,GAASA,EAAMnb,OAC/B,uBAAKqE,UAAW7D,KAAKxB,MAAMsF,QAAQ2Y,YAAnC,UACH,wBAAsB5Y,UAAW7D,KAAKxB,MAAMsF,QAAQ4Y,MAApD,SAA2D,iCAAQ/B,KAAxD,YACX,sBAA0BnN,IAAKxN,KAAKsb,YAAava,MAAO,CAAC0V,MAAO,OAAQkG,MAAO,SAAtE,oBAF8C,WAKpD,sBAAmB9Y,UAAW7D,KAAKxB,MAAMsF,QAAQ2Y,YAAa1b,MAAO,CAAC8Y,YAAa,IAAnF,SAAyFpZ,IAAKC,EAAE,gBAAvF,a,oBAIxB,WAAU,IAAD,OACCia,EAAQ3a,KAAKlB,MAAMqK,UAAYnJ,KAAKlB,MAAM6b,MAAM3a,KAAKlB,MAAMqK,UACjE,OAAO,uBAAKtF,UAAW7D,KAAKxB,MAAMsF,QAAQ8Y,OAAnC,UACH,uBAAK/Y,UAAW7D,KAAKxB,MAAMsF,QAAQ+Y,QAAnC,UACI,eAACzS,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKtD,SAAS,CAACic,UAAW,EAAKtc,MAAMsc,YAAY1Y,MAAO1C,KAAKlB,MAAMsc,SAAW,YAAc,GAAlK,SAAsK,eAAC,IAAD,MACrKT,GAASA,EAAMnb,OAAS,eAAC4K,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKqa,YAA3E,SAAuF,eAAC,IAAD,MAA6B,KAC5InC,GAASA,EAAMnb,OAAS,eAAC4K,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKwT,UAA3E,SAAqF,eAAC,IAAD,MAA2B,KACxIjW,KAAKxB,MAAMue,eAAiB,eAAC3S,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKjE,MAAMue,kBAAkB3Y,MAAO3D,IAAKC,EAAE,iBAAjH,SAAmI,sBAAKmD,UAAW7D,KAAKxB,MAAMsF,QAAQkZ,WAAY1T,IAAI,QAAQD,IAAKrJ,KAAKxB,MAAMye,eAvP/N,6LACA,yLAsP2S,KACvT,eAAC7S,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKjE,MAAM0e,aAAa9Y,MAAO3D,IAAKC,EAAE,aAA5G,SAA0H,eAAC,IAAD,QAL9E,WAO/CV,KAAKmd,cAAcxC,S,uCApE5B,SAAgCnc,EAAOM,GACnC,IAAIoS,GAAU,EACVI,EAAW,GAEf,GAAI9S,EAAM2K,WAAarK,EAAMqK,SAAU,CACnC,IAAIA,EAAW3K,EAAM2K,SACjBuR,EAAW5b,EAAM6b,MACrBD,EAASvR,GAAYuR,EAASvR,IAAa,GAC3CmR,GAAMnR,GAAYmR,GAAMnR,IAAa,GACrCmI,EAASnI,SAAWA,EACpB+H,GAAU,EAGd,GAAI/C,KAAK8C,UAAUzS,EAAMoc,WAAazM,KAAK8C,UAAUnS,EAAM8b,SAAU,CACjE,IAAMA,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUzS,EAAMoc,UAChD1J,GAAU,EACV,IAAIwJ,EAAW5b,EAAM6b,MAErB,IAAK,IAAM5b,KAAMub,GACTA,GAAM8C,eAAere,KAChB6b,EAAQnX,SAAS1E,YACXub,GAAMvb,UACN2b,EAAS3b,KAK5BuS,EAASsJ,QAAUA,EAEvB,OAAO1J,EAAUI,EAAW,S,GA5FlB1O,IAAMC,WA+ITC,0BA5OA,SAAAC,GAAK,MAAK,CACrB6Z,OAAQ,CACJ5b,MAAO,OACPiE,OAAQ,OACRkF,SAAU,WACVkI,SAAU,UAEdoK,YAAa,CACTzX,QAAS,eACTtC,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,QACjDrC,MAAM,eAAD,OAZS,GAYT,OACLiE,OAAQ,OAERoN,SAAU,OACVlI,SAAU,WACVkT,cAAe,OAEnBC,KAAM,CACFxW,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,WAAa,YACzDX,OAAOK,EAAMgE,QAAQ1D,KAAmB,UAE5CoC,MAAO,CACHqB,WAAY,UACZpE,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDka,KAAM,CACFzW,WAAY,UACZpE,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDma,MAAO,CACH1W,WAAY,OACZ+G,QAAS,GACTnL,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDoa,MAAO,CACH3W,WAAY,OACZ+G,QAAS,GACTnL,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,SAErDqZ,MAAO,CACHgB,WAAY,YACZ1c,MAAO,QAGX6b,QAAS,CACL7b,MA/Cc,GAgDdiE,OAAQ,OACR0Y,UAAW,iHACX3Y,QAAS,eACTqY,cAAe,MACfhL,SAAU,UAEdkJ,OAAQ,CACJva,MAAO,IAEXwa,WAAY,CACRxa,MAAO,GACPmC,WAAY,QAEhByO,YAAa,CACT5Q,MAAO,GACPiE,OAAQ,GACRmN,QAAS,GAEb4K,WAAY,CACRhc,MAAO,GACPiE,OAAQ,GACR6B,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,eAAY8J,EACxDoM,aAAqC,SAAvBxW,EAAMgE,QAAQ1D,KAAkB,QAAK8J,MAwK5CrK,CAAmByX,I,0HC5QlC,SAASqD,GAAmB7e,GACxB,MAAO,wBAAwB8e,KAAK9e,GAExC,IAAIoN,GAAQ,EAocG2R,G,kDAlcX,WAAYtf,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTE,KAAM,UACN+e,OAAQvf,EAAMuf,SAAU,EACxBC,SAAUxf,EAAMwf,UAAY,aAC5BC,SAAUzf,EAAMyf,WAAY,EAC5BC,OAAO,EACPC,OAAO,EACP5O,WAAY,EAAK/Q,MAAM+Q,YAAc,GACrC6O,eAAe,GAEnB,EAAKC,oBAAsBlQ,KAAK8C,UAAU,EAAKzS,MAAMkR,kBACrD,EAAK4O,UAAY,KACjB,EAAKC,OAAS,KACd,EAAKC,OAAS9a,OAAO8a,OACrB,EAAKC,OAAS,GACd,EAAKC,aAAelgB,EAAMmgB,MAAQ,GAClC,EAAKC,QAAU,GACf,EAAKC,WAAa,GAnBH,E,iDAsBnB,SAAcvO,GAAK,IAAD,OACd,GAAKtQ,KAAKwe,QAAWxe,KAAKxB,MAAMkR,iBAW5BY,GAAMA,QAXwC,CAI9C,GAHAtQ,KAAKwe,OAAS9a,OAAO8a,OACrBxe,KAAK8e,cAAgB9e,KAAK8e,eAAiB,EAC3C9e,KAAK8e,iBACA9e,KAAKwe,QAAUxe,KAAK8e,cAAgB,GAErC,OADAtY,QAAQC,IAAI,0BACLjF,YAAW,kBAAM,EAAKud,cAAczO,KAAK,KACzCtQ,KAAK8e,eAAiB,IAC7BtY,QAAQf,MAAM,0B,yBAO1B,SAAYiK,GAAmB,IAAD,OAC1B,GAAK1P,KAAKue,OAAV,CAIA,IAAIS,GADJtP,EAAmBA,GAAoB1P,KAAKxB,MAAMkR,mBACFrD,OAAOC,KAAKoD,GAAkBtJ,MAAK,SAAArH,GAAE,OAAI2Q,EAAiB3Q,MACtGigB,GACAhf,KAAKxB,MAAM6I,OAAO4X,OAAOD,EAAsBjf,QAAQ,kBAAmB,IAAK,cAAe,MACzFwH,MAAK,SAAA0E,GACF,EAAK9M,SAAS,CAAC+e,OAAO,EAAMC,OAAO,EAAMC,eAAe,IACxD,EAAKc,cAAa,GACdjT,EAAO2S,SACP,EAAKA,QAAU3S,EAAO2S,QACtB,EAAKO,iBAAiB,EAAKrgB,MAAME,OAEjCwH,QAAQf,MAAR,kCAAyCwG,EAAOxG,c,+BAMpE,WAAqB,IAAD,OAChB,KAAKzF,KAAKwe,SAAWxe,KAAKxB,MAAMkR,oBAC5B1P,KAAKwe,OAAS9a,OAAO8a,QAChBxe,KAAKwe,QAEN,OADAhY,QAAQC,IAAI,0BACLzG,KAAK+e,eAAc,kBAAM,EAAKK,uBAG7C,IAAKpf,KAAKue,OAAQ,CACdve,KAAKxB,MAAM6gB,kBAAoBrf,KAAKxB,MAAM6gB,kBAAiB,kBAAM,EAAKd,OAAOe,WAAWC,gBAAgB,EAAKhB,OAAOiB,mBAGpH,IAAMC,EAAkBzf,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAjC,qBACxBH,EAAgB9d,OAAS3B,KAAKwe,OAAOkB,UAAUC,WAAWE,aAAaC,OACvEL,EAAgBM,SAAU,EAC1BN,EAAgBO,SAAiC,IAAvBhgB,KAAKxB,MAAMwhB,QACrCP,EAAgBQ,OAAQ,EACxBR,EAAgBS,IAAM,GACtBT,EAAgBU,4BAA6B,EAC7CV,EAAgBW,iBAAmBpgB,KAAKwe,OAAOkB,UAAUC,WAAWU,qBAAqBC,OACzFtgB,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmBW,mBAAmBd,GAEvEzf,KAAKkf,cAAa,GAGlBlf,KAAKue,OAASve,KAAKwe,OAAOD,OAAOiC,OAAOxgB,KAAKse,UAAW,CACpDmC,YAAa,KACbC,sBAAsB,EACtBC,iBAAiB,EACjBC,cAAe5gB,KAAKxB,MAAMqiB,cAG9B7gB,KAAKue,OAAOuC,yBAAwB,SAAApf,GAAC,OACjC,EAAKD,SAAS,EAAK8c,OAAOwC,eAI9B/gB,KAAKghB,cAELhhB,KAAKue,OAAO0C,WAAWjhB,KAAKwe,OAAO0C,OAAOC,QAAUnhB,KAAKwe,OAAO4C,QAAQC,OAAO,kBAC3E,EAAKC,iBAET9f,YAAW,WACP,EAAK+f,cAAc,EAAKziB,MAAMyQ,YAC9B,EAAKiS,SAAW,EAAKhjB,MAAMgjB,SAC3B,EAAKX,YAAc,EAAKriB,MAAMqiB,YAC9B,EAAKY,oBAGb,IAAMC,EAAU,CACZC,qBAAqB,EACrBjB,sBAAsB,EACtBC,iBAAiB,EACjB1C,SAAUje,KAAKlB,MAAMmf,SACrBD,SAAUhe,KAAKlB,MAAMkf,SACrBD,OAAQ/d,KAAKlB,MAAMif,QAGvB/d,KAAK4hB,iBAAiBF,GACtB1hB,KAAKue,OAAO5a,QACZ3D,KAAKue,OAAOsD,SAAS7hB,KAAK0e,cACtB1e,KAAKxB,MAAMsjB,mBACX9hB,KAAKue,OAAOwD,aAAY,SAAArgB,GAChBA,EAAEC,OAAOqgB,aAA8C7U,IAApCzL,EAAEC,OAAOqgB,OAAOC,iBACnC,EAAKzjB,MAAMsjB,mBAAmBpgB,EAAEC,OAAOwI,SAAS+X,WAAa,MAIrEliB,KAAKue,OAAOwD,YAAY,Q,8BAShC,SAAiBL,GACTA,IACIA,EAAQ1D,UACRhe,KAAKmiB,kBAAkBT,EAAQ1D,eAEV7Q,IAArBuU,EAAQzD,UACRje,KAAKue,OAAO6D,cAAc,CAACnE,SAAUyD,EAAQzD,gBAExB9Q,IAArBuU,EAAQW,UACRriB,KAAKue,OAAO6D,cAAc,CAACE,SAAUZ,EAAQW,SAAW,KAAO,aAEzClV,IAAtBuU,EAAQa,WACRviB,KAAKkf,aAAawC,EAAQa,gBAEPpV,IAAnBuU,EAAQ3D,QACR/d,KAAKwe,OAAOD,OAAOiE,SAASd,EAAQ3D,OAAS,UAAY,S,kCAKrE,WACQ/d,KAAKue,SACLve,KAAKxB,MAAM6gB,kBAAoBrf,KAAKxB,MAAM6gB,iBAAiB,MAC3Drf,KAAKue,OAAOkE,UACZziB,KAAKue,OAAS,Q,+BAUtB,SAAkBP,GAGd,IAAM0E,EAAQ1iB,KAAKue,OAAOe,WACpBX,EAAQ+D,EAAM3B,WACd4B,EAAQD,EAAMC,IAAIC,KAElBC,EACa,kBAARF,GAAoBA,EAAInd,QAAQ,MAAQ,EACzCmd,EAAIlH,OAAO,EAAGkH,EAAI9J,YAAY,MAC9B,QAEJiK,EACW,eAAb9E,EAA4B,KACR,eAAbA,EAA4B,KACX,WAAbA,EAAwB,SACrBA,EAGlB0E,EAAMD,UAIN,IAAMM,EAA4B,eAAb/E,GAA0C,eAAbA,EAA6B,aAAeA,EAExFgF,EAAWhjB,KAAKwe,OAAOD,OAAO0E,YAChCtE,EACAoE,EACA/iB,KAAKwe,OAAO0E,IAAIC,KAAK,CAACP,KAAK,GAAD,OAAKC,GAAL,OAAgC1W,KAAhC,YAA2C2W,MAGzE9iB,KAAKue,OAAO6E,SAASJ,K,0BAOzB,SAAa5b,GACT,IAAMsa,EAAU,CACZ2B,sBAAuBrjB,KAAKlB,MAAMof,QAAU9W,EAC5Ckc,oBAAqBtjB,KAAKlB,MAAMof,OAEpCle,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmB2D,sBAAsB7B,K,8BAM9E,WAKI,IALsC,IAAD,OAAxB8B,EAAwB,uDAAJ,GAC3BC,EAAiB7F,GAAmB4F,GAEpCE,EAAuB,UAAMF,EAAN,SACvBG,EAAgB,GACtB,MAAmBtX,OAAOC,KAAKtM,KAAK4e,SAApC,eAA8C,CAAzC,IAAMgE,EAAI,KAGX,GAAIa,EAAgB,CAChB,GAAa,gBAATb,EAAwB,SAC5B,GAAIA,EAAKha,WAAW,qBAAuBga,IAASc,EAAyB,SAEjFC,EAAcrd,KAAK,CACfsd,SAAUhB,EACViB,QAAS7jB,KAAK4e,QAAQgE,KAM9B,GAAI5iB,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmBkE,aACpD9jB,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmBkE,aAAaH,QAC9D,GAAI3jB,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmBmE,YAAa,CACxE,IAAMC,EAAehkB,KAAKwe,OAAOkB,UAAUC,WAAWC,mBAAmBqE,eACzEN,EAAc3d,SAAQ,SAAAka,GACb8D,EAAa9D,EAAI0D,WAClB,EAAKpF,OAAOkB,UAAUC,WAAWC,mBAAmBmE,YAAY7D,EAAKA,EAAI0D,gB,kCAUzF,SAAqBrf,GACjB,IAAM2f,EAAYlkB,KAAKue,OAAOiB,eACxB2E,EAAQ,IAAInkB,KAAKwe,OAAO4F,MAC1BF,EAAUG,gBAAiBH,EAAUI,YACrCJ,EAAUK,cAAeL,EAAUM,WAEvCxkB,KAAKue,OAAOkG,aAAa,GAAI,CAAC,CAACN,MAAOA,EAAO5f,KAAMA,EAAMmgB,kBAAkB,KAC3E1kB,KAAKue,OAAO5a,U,2BAGhB,SAAcY,GAAO,IAAD,OACZ4f,EAAQ5f,GAAQvE,KAAKue,OAAOe,WAAWqF,YAAYpgB,GACvD,GAAI4f,GAASA,EAAM3kB,OACf2kB,EAAMne,SAAQ,SAAA4e,GAAC,OAAI,EAAKrG,OAAOsG,aAAaD,EAAET,UAC9CnkB,KAAKue,OAAOuG,WAAWX,EAAM,GAAGA,MAAME,sBACnC,GAAIrkB,KAAKue,OAAQ,CACpB,IAAMwG,EAAM/kB,KAAKue,OAAOyG,cAAc9C,WAChC+C,EAAMjlB,KAAKue,OAAOyG,cAAcE,OACtCllB,KAAKue,OAAOsG,aAAa,IAAI7kB,KAAKwe,OAAO4F,MAAMW,EAAKE,EAAKF,EAAKE,O,4BAItE,WAAkB,IAAD,OACbjlB,KAAKmlB,YAAcnlB,KAAKmlB,aAAe,GACvC,IAAMA,EAAc,GAChBnlB,KAAKwhB,WACL2D,EAAY7e,KAAK,CACb6d,MAAO,IAAInkB,KAAKwe,OAAO4F,MAAMpkB,KAAKwhB,SAASU,WAAa,EAAGliB,KAAKwhB,SAAS4D,aAAe,EAAGplB,KAAKwhB,SAASU,WAAa,EAAG,KACzHR,QAAS,CACL2D,aAAa,EACbxhB,UAAW7D,KAAKxB,MAAMuf,OAAS,wBAA0B,uBAGjEoH,EAAY7e,KAAK,CACb6d,MAAO,IAAInkB,KAAKwe,OAAO4F,MAAMpkB,KAAKwhB,SAASU,WAAa,EAAG,EAAGliB,KAAKwhB,SAASU,WAAa,EAAG,GAC5FR,QAAS,CACL2D,aAAa,EACbxhB,UAAW7D,KAAKxB,MAAMuf,OAAS,4BAA8B,4BAKrE/d,KAAK6gB,aACL7gB,KAAK6gB,YAAY7a,SAAQ,SAAAsf,GACrBH,EAAY7e,KAAK,CACb6d,MAAO,IAAI,EAAK3F,OAAO4F,MAAMkB,EAAG9D,SAASU,WAAa,EAAG,EAAGoD,EAAG9D,SAASU,WAAa,EAAG,KACxFR,QAAS,CACL2D,aAAa,EACbE,qBAAsB,EAAK/mB,MAAMuf,OAAS,uBAAyB,yBAKnF/d,KAAKue,SAAWve,KAAKmlB,YACjBnlB,KAAKue,OAAOiH,iBAAiBxlB,KAAKmlB,YAAaA,M,2BAGvD,SAAcnmB,EAAM2f,GAChB3e,KAAKb,SAAS,CAACH,SACfgB,KAAK0e,aAAeC,GAAQ,GAC5B3e,KAAKue,QAAUve,KAAKue,OAAOsD,SAASlD,GACpC3e,KAAKuhB,cAAcvhB,KAAK6e,YACxB7e,KAAKyhB,iBAILzhB,KAAKmf,iBAAiBngB,K,kCAG1B,SAAqBkjB,GACjB,GAAIliB,KAAKue,OAAQ,CACb,IAAMkH,EAASzlB,KAAKue,OAAOmH,qBACtBD,IAAWA,EAAO,IAAMA,EAAO,GAAGpB,gBAAkBnC,GAAcA,EAAauD,EAAO,GAAGlB,gBAC1FvkB,KAAKue,OAAOoH,mBAAmBzD,M,8CAK3C,SAAiCjiB,GAAY,IAAD,OAClCyhB,EAAU,GACZ1hB,KAAKlB,MAAME,OAASiB,EAAUjB,MAE9BgB,KAAK4lB,cAAc3lB,EAAUjB,KAAMiB,EAAU0e,MAI7CxQ,KAAK8C,UAAUhR,EAAUyP,oBAAsB1P,KAAKqe,sBACpDre,KAAKqe,oBAAsBlQ,KAAK8C,UAAUhR,EAAUyP,kBAC/C1P,KAAKlB,MAAMsf,eACZpe,KAAKghB,YAAY/gB,EAAUyP,mBAK9BzP,EAAUiR,SAAWjR,EAAU0e,OAAS3e,KAAK0e,eAC9C1e,KAAK0e,aAAeze,EAAU0e,KAC9B3e,KAAKue,OAAOsD,SAAS7hB,KAAK0e,cAC1B1e,KAAKyhB,iBACLzhB,KAAKwhB,UAAYxhB,KAAK6lB,qBAAqB7lB,KAAKwhB,SAASU,WAAa,IAGtEjiB,EAAUsP,aAAevP,KAAK6e,aAC9B7e,KAAK6e,WAAa5e,EAAUsP,WAC5BvP,KAAKuhB,cAAcvhB,KAAK6e,aAGxB1Q,KAAK8C,UAAUhR,EAAUuhB,YAAcrT,KAAK8C,UAAUjR,KAAKwhB,WAC3DrT,KAAK8C,UAAUhR,EAAU4gB,eAAiB1S,KAAK8C,UAAUjR,KAAK6gB,cAC9D7gB,KAAKwhB,SAAWvhB,EAAUuhB,SAC1BxhB,KAAK6gB,YAAc5gB,EAAU4gB,YAC7B7gB,KAAKyhB,iBACLzhB,KAAKue,QAAUve,KAAKwhB,UAAYxhB,KAAK6lB,qBAAqB7lB,KAAKwhB,SAASU,WAAa,IAE9E/T,KAAK8C,UAAUhR,EAAU4gB,eAAiB1S,KAAK8C,UAAUjR,KAAK6gB,cACrE7gB,KAAK6gB,YAAc5gB,EAAU4gB,YAC7B7gB,KAAKyhB,kBACEtT,KAAK8C,UAAUhR,EAAUuhB,YAAcrT,KAAK8C,UAAUjR,KAAKwhB,YAClExhB,KAAKwhB,SAAWvhB,EAAUuhB,SAC1BxhB,KAAKyhB,iBACLzhB,KAAKue,QAAUve,KAAKwhB,UAAYxhB,KAAK6lB,qBAAqB7lB,KAAKwhB,SAASU,WAAa,IAIrFliB,KAAKlB,MAAMkf,YAAc/d,EAAU+d,UAAY,eAC/Che,KAAKb,SAAS,CAAC6e,SAAU/d,EAAU+d,UAAY,eAC/C0D,EAAQ1D,SAAW/d,EAAU+d,UAAY,cAClChe,KAAKlB,MAAMmf,YAAche,EAAUge,WAAY,IACtDje,KAAKb,SAAS,CAAC8e,SAAUhe,EAAUge,WAAY,IAC/CyD,EAAQzD,SAAWhe,EAAUge,UACtBje,KAAKlB,MAAMif,UAAY9d,EAAU8d,SAAU,KAClD/d,KAAKb,SAAS,CAAC4e,OAAQ9d,EAAU8d,SAAU,IAC3C2D,EAAQ3D,OAAS9d,EAAU8d,QAG/B/d,KAAK4hB,iBAAiBF,GAElB1hB,KAAKye,SAAWxe,EAAUwe,SAC1Bze,KAAKye,OAASxe,EAAUwe,OACpBze,KAAKye,SACLjY,QAAQC,IAAI,cAAgBzG,KAAKye,QACjCjd,YAAW,SAAAid,GACP,EAAKqH,qBAAqBrH,GAC1Bjd,YAAW,kBAAM,EAAKhD,MAAMunB,YAAc,EAAKvnB,MAAMunB,eAAc,OACpE,IAAK/lB,KAAKye,Y,sBAKzB,SAASuH,EAAUtkB,GACV1B,KAAKxB,MAAMyf,UACZje,KAAKxB,MAAMiD,UAAYzB,KAAKxB,MAAMiD,SAASzB,KAAKue,OAAOwC,c,oBAI/D,WAAU,IAAD,OACL,OAAK/gB,KAAKwe,QAAWxe,KAAKxB,MAAMkR,iBAQzB,sBAAKlC,IAAK,SAAArH,GAAE,OAAI,EAAKmY,UAAYnY,GAAIpF,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,SAAUlI,SAAU,YAA1G,UACDnK,KAAKlB,MAAMqf,OAAS,eAAC8H,GAAA,EAAD,CAClBxhB,KAAK,QACLL,MAAO3D,IAAKC,EAAE,+DACdK,MAAO,CAACmlB,OAAQ,GAAI/M,MAAO,GAAItL,QAAS,GAAK1D,SAAU,WAAYgc,OAAQ,EAAGrf,WAAY,MAAOpE,MAAO,SACxGA,MAAM,YAJY,SAIA,eAAC,IAAD,SAZtBlB,YAAW,WACP,EAAKgd,OAAS9a,OAAO8a,OACrB,EAAK4H,gBACN,KACI,U,GAhaQxjB,IAAMC,W,4DCyB3BwjB,G,kDAEF,WAAY7nB,GAAQ,IAAD,8BACf,cAAMA,IAMVC,aAAe,WACX,EAAKD,MAAME,WANX,EAAKI,MAAQ,CACTsW,SAAU,KACVkR,OAAQ,IAJG,E,0CAWnB,SAAOnmB,GAAQ,IAAD,OACJgG,EAAKzC,OAAOuY,SAASsK,eAAe,cAC1C,GAAIpgB,EAAI,CACJA,EAAGkW,SACH3Y,OAAOuY,SAASK,YAAY,QAC5B,IAAM3a,EAASxB,EAAMwW,cAErBnV,YAAW,WACPkC,OAAOuY,SAASK,YAAY,QAC5B,EAAKnd,SAAS,CAAEmnB,OAAQ7lB,IAAKC,EAAE,UAAW0U,SAAUzT,IACpDH,YAAW,kBAAM,EAAKrC,SAAS,CAAEmnB,OAAQ,GAAIlR,SAAU,SAAS,OACjE,O,oBAQX,WAAU,IAAD,OACCtR,EAAU9D,KAAKxB,MAAMsF,QAE3B,OAAO,gBAAC5D,GAAA,EAAD,CAEHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTyD,QAAS,CAAE2T,MAAO3T,EAAQ0iB,QAC1BlmB,WAAW,EACXC,KAAMP,KAAKxB,MAAM+B,KACjB,kBAAgB,sBAPb,UASH,eAACC,GAAA,EAAD,CAAazB,GAAG,sBAAhB,SAAuC0B,IAAKC,EAAE,4BAC9C,eAACC,GAAA,EAAD,CACImD,QAAS,CAAE6C,KAAM7C,EAAQwV,WAD7B,SAEI,sBACIva,GAAG,cACH8E,UAAWC,EAAQ2iB,SAAW,KAAgC,SAAzBzmB,KAAKxB,MAAMkoB,UAAuB,GAAK5iB,EAAQ6iB,eAFxF,SAGE3mB,KAAKxB,MAAM+F,SAEjB,gBAACjC,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,SAAAtC,GAAK,OAAI,EAAK8V,OAAO9V,IAAQuC,MAAM,YAAYC,UAAW,eAAC,KAAD,IAA/F,SAA6GlC,IAAKC,EAAE,uBACpH,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAKhE,gBAAgBiE,MAAM,UAAUC,UAAW,eAAC,KAAD,IAA3F,SAA2GlC,IAAKC,EAAE,WAElH,eAACkmB,GAAA,EAAD,CACI7nB,GAAG,SACHgC,MAAO,CAAEolB,OAAQ,KACjB5lB,OAAQP,KAAKlB,MAAMwnB,OACnBO,UAAU,MACVzR,SAAUpV,KAAKlB,MAAMsW,SAAU0R,YAAU,EAL7C,SAMK,gBAAGC,EAAH,EAAGA,gBAAH,OACG,eAACC,GAAA,EAAD,6BAAUD,GAAV,IAA2BE,QAAS,IAApC,SACI,eAACC,GAAA,EAAD,UACI,oBAAGrjB,UAAWC,EAAQqjB,WAAtB,SAAmC,EAAKroB,MAAMwnB,iBAK9D,2BAAUvnB,GAAG,aAAakf,UAAU,EAAMld,MAAO,CAAEoJ,SAAU,WAAYid,MAAO,MAAQC,UAAW,EAAG,eAAa,EAAMlmB,MAAOnB,KAAKxB,MAAM+F,YAlC3I,qB,GApCW3B,IAAMC,WA4EjCwjB,GAAaiB,aAAe,CACxB/mB,MAAM,GAUKuC,oBA1GA,SAAAC,GAAK,MAAK,CACrB0jB,SAAU,CACNzlB,MAAO,OACPiE,OAAQ,OACRoN,SAAU,QAEdsU,cAAe,CACX7f,WAAY,aAEhB0f,OAAQ,CACJvhB,OAAQ,OAEZkiB,WAAY,CACR/U,QAASrP,EAAMqC,QAAQ,IAE3BkU,UAAW,CACPA,UAAW,aA0FJxW,CAAmBujB,IC9F5BkB,G,kDACF,WAAY/oB,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTyF,KAAM,IAHK,E,qDAOnB,WACI/C,YAAW,WACP,IACIkC,OAAOuY,SAASsK,eAAe,oBAAoB5iB,QACrD,MAAOjC,OAGV,O,0BAGP,WACI1B,KAAKxB,MAAME,Y,sBAGf,WACIsB,KAAKxB,MAAME,QAAQsB,KAAKlB,MAAMyF,Q,sBAGlC,SAAS7C,GACL1B,KAAKb,SAAS,CAAEoF,KAAM7C,EAAEC,OAAOR,U,oBAGnC,WAAU,IAAD,OACC2C,EAAU9D,KAAKxB,MAAMsF,QAE3B,OAAO,gBAAC5D,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTyD,QAAS,CAAE2T,MAAO3T,EAAQ0iB,QAC1BlmB,WAAW,EACXC,KAAMP,KAAKxB,MAAM+B,KACjB,kBAAgB,sBANb,UAQH,eAACC,GAAA,EAAD,CAAazB,GAAG,sBAAhB,SAAuC0B,IAAKC,EAAE,mBAC9C,eAACC,GAAA,EAAD,CAAekD,UAAWC,EAAQ0jB,WAAlC,SACI,2BACIvmB,WAAS,EACTlC,GAAG,mBACH8E,UAAWC,EAAQ2iB,SACnBhlB,SAAU,SAAAC,GAAC,OAAI,EAAKD,SAASC,QAGrC,gBAACY,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYX,UAAW7B,KAAKlB,MAAMyF,KAAM9B,QAAS,SAAAtC,GAAK,OAAI,EAAKxB,YAAY+D,MAAM,UAAUC,UAAW,eAAC,KAAD,IAAtH,SAAkIlC,IAAKC,EAAE,YACzI,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAKhE,gBAAgBkE,UAAW,eAAC,KAAD,IAA3E,SAA2FlC,IAAKC,EAAE,qB,GApDvFkC,IAAMC,WA0DjC0kB,GAAaD,aAAe,CACxB/mB,MAAM,GASKuC,ICrFX2kB,GDqFW3kB,gBAnFA,SAAAC,GAAK,MAAK,CACrB0jB,SAAU,CACNzlB,MAAO,oBACPiE,OAAQ,OACRyiB,OAAQ,QAEZlB,OAAQ,CACJvhB,OAAQ,OAEZuiB,WAAY,CACRviB,OAAQ,OACRoN,SAAU,aAwEHvP,CAAmBykB,ICxF9BI,IAAwB,EACxBC,IAAoB,EACpBC,GAAc,KAEdC,GAAgB,GAGpB,SAASC,GAAUphB,EAAMpC,EAAMoD,EAAKqgB,GAKhC,GAJAA,EAAUA,GAAW,GACA,UAAjBrhB,EAAKshB,SAAwC,UAAjBthB,EAAKshB,UACjCtgB,EAAMhB,EAAK5H,IAEM,UAAjB4H,EAAKshB,SAAwC,UAAjBthB,EAAKshB,QACjC,IAAK,IAAIxf,EAAI,EAAGA,EAAI9B,EAAKuhB,WAAW1oB,OAAQiJ,IAAK,CAC7C,IAAM0I,GAAOxK,EAAKuhB,WAAWzf,GAAGtH,OAAS,IAAIsI,cACT,SAAhC9C,EAAKuhB,WAAWzf,GAAG0f,UAAgC,QAARhX,GAAyB,SAARA,IACvDxK,EAAKyhB,WAAazhB,EAAK0hB,WAAa,IAAI5e,cAAchG,SAASc,IAChEyjB,EAAQ1hB,KAAKqB,GAQ7B,OAHAhB,EAAK2hB,WAAWtiB,SAAQ,SAAAuiB,GAAI,OACxBR,GAAUQ,EAAMhkB,EAAMoD,EAAKqgB,MAExBA,E,IAunBIQ,G,kDAlnBX,WAAYhqB,GAAQ,IAAD,8BACf,cAAMA,IAEDiqB,QAAU,KACf,EAAKC,iBAAmB,KACxB,EAAK7L,QAAU,KACf,EAAK7F,QAAUtT,OAAOsT,QAEtB,EAAKlY,MAAQ,CACT8oB,qBACAD,yBACAzW,SAAS,EACTuJ,QAAS,GACThV,MAAO,GACPihB,UAAW,EAAKloB,MAAMkoB,UACtBiC,WAAY,GACZC,YAAY,EACZrZ,WAAY,EAAK/Q,MAAM+Q,YAAc,IAEzC,EAAKmP,aAAelgB,EAAMmgB,MAAQ,GAElC,EAAKkK,aAAe,KACpB,EAAKC,YAAc,KAEnB,EAAKC,aAAe,EAAKC,SAAS3Y,KAAd,gBAEpB,EAAK4Y,YAAc,GACnB,EAAKpK,WAAa,EAAKrgB,MAAM+Q,YAAc,GAC3C,EAAK2Z,WAAa,KAClB,EAAKC,gBA7BU,E,gDAsGnB,SAAa5kB,GACT,GAAIvE,KAAK0oB,iBAAkB,CACvB,IACMtc,EAAM2b,GADA/nB,KAAKgX,QAAQoS,IAAIC,eAAerpB,KAAK0oB,kBACtBnkB,EAAKkF,eAC1B6f,EAAYtpB,KAAK0oB,iBAAiBa,eAClCtd,EAAS,GAEf,OADAqd,EAAUxhB,QAAO,SAAAY,GAAC,OAAI0D,EAAI3I,SAASiF,EAAE3J,OAAKiH,SAAQ,SAAA0C,GAAC,OAAIuD,EAAO3F,KAAKoC,MAC5DuD,K,sBAIf,WACI,IAAMud,EAASxpB,KAAK6e,YAAc7e,KAAKypB,aAAazpB,KAAK6e,YACrD2K,GAAUA,EAAOhqB,QACjBQ,KAAK6oB,aAAeW,EACpBxpB,KAAK6oB,aAAa7iB,SAAQ,SAAA0C,GAAC,OAAIA,EAAEghB,eACjC1pB,KAAK2pB,iBAAmB1O,KAAK2O,OACtB5pB,KAAK6oB,eAEZ7oB,KAAK6oB,aAAa7iB,SAAQ,SAAA0C,GAAC,OAAIA,EAAEmhB,kBACjC7pB,KAAK6oB,aAAe,Q,8CAI5B,SAAiC5oB,GAAY,IAAD,OACpCA,EAAU6pB,SAAW9pB,KAAKipB,cAAgBhpB,EAAU6pB,UACpD9pB,KAAKipB,YAAchpB,EAAU6pB,QAC7BtoB,YAAW,kBAAM,EAAKynB,YAAc,KAAI,KACf,UAArBjpB,KAAKipB,YACLjpB,KAAK+pB,oBAAmB,SAAClZ,EAAKmZ,GACrBnZ,GAGDmZ,GAAY,EAAKC,kBAAkBD,GACnC,EAAK7qB,SAAS,CAACsG,MAAO,CAAClB,KAAM9D,IAAKC,EAAEmQ,GAAMzM,MAAO3D,IAAKC,EAAE,sBACxD,EAAKwoB,WAAac,GAJlB,EAAK7qB,SAAS,CAACsb,QAASha,IAAKC,EAAE,WAOX,WAArBV,KAAKipB,YACZjpB,KAAKkqB,eACuB,WAArBlqB,KAAKipB,aACZjpB,KAAKmqB,gBAITlqB,EAAUsP,aAAevP,KAAK6e,aAC9B7e,KAAK6e,WAAa5e,EAAUsP,WAC5BvP,KAAKoqB,YAGLpqB,KAAKlB,MAAM4nB,YAAczmB,EAAUymB,WACnC1mB,KAAKb,SAAS,CAACunB,UAAWzmB,EAAUymB,YAAY,kBAAM,EAAK2D,sBAG3DrqB,KAAK0e,eAAiBze,EAAU0e,OAChC3e,KAAK0e,aAAeze,EAAU0e,MAAQ,GACtC3e,KAAKsqB,WACLtqB,KAAKoqB,c,2BAIb,WAAiB,IAAD,OAEZ,IAAKzC,GAAuB,CACxB,IAAM4C,EAAW7mB,OAAOuY,SAASC,cAAc,UAC/CqO,EAASC,aAAa,OAAQ,mBAC9BD,EAASC,aAAa,MAAO,yBAA2B/pB,IAAK+C,cAAgB,OAG7E+mB,EAASE,OAAS,WACd9C,IAAwB,EACxB,EAAKxoB,SAAS,CAACwoB,4BAGnB4C,EAASG,mBAAqB,WACF,aAApB,EAAKC,aACLhD,IAAwB,EACxB,EAAKxoB,SAAS,CAACwoB,6BAGvBjkB,OAAOuY,SAAS2O,qBAAqB,QAAQ,GAAGxO,YAAYmO,GAEhE,IAAK3C,GAAmB,CACpB,IAAMiD,EAAannB,OAAOuY,SAASC,cAAc,UACjD2O,EAAWL,aAAa,OAAQ,mBAChCK,EAAWL,aAAa,MAAO,0BAA4B/pB,IAAK+C,cAAgB,OAEhFqnB,EAAWJ,OAAS,WAChB7C,IAAoB,EACpB,EAAKzoB,SAAS,CAACyoB,wBAGnBiD,EAAWH,mBAAqB,WACJ,aAApB,EAAKC,aACL/C,IAAoB,EACpB,EAAKzoB,SAAS,CAACyoB,yBAGvBlkB,OAAOuY,SAAS2O,qBAAqB,QAAQ,GAAGxO,YAAYyO,M,sBAIpE,WACI7qB,KAAKgX,QAAQ8T,UAAU9qB,KAAK0oB,oB,4BAGhC,SAAenkB,GAIX,IAFA,IAWQoa,EAXFhE,GADNpW,EAAOA,GAAQ,IACI3E,MAAM,kBACrBmrB,EAAM,GACDC,EAAIrQ,EAAMnb,OAAS,EAAGwrB,GAAK,EAAGA,IACnC,GAAiC,OAA7BrQ,EAAMqQ,GAAGra,UAAU,EAAG,GAAa,CACnCoa,EAAMpQ,EAAMqQ,GAAGra,UAAU,GACzB,MAGR,GAA4B,SAAxBoa,EAAIpa,UAAU,EAAG,GACjB,OAAOoa,EAGP,IACIpM,EAAOjb,OAAOunB,mBAAmBvnB,OAAOwnB,KAAKH,IAC/C,MAAOrpB,GACLid,EAAO,KACPnY,QAAQf,MAAM,kBAAoBslB,GAClCvkB,QAAQf,MAAM/D,GAElB,OAAOid,I,+BAIf,SAAkBwM,GACd,IAAK,IAAIjlB,EAAI,IAAKA,EAAI,IAAMA,GAAQ,IAChC1E,YAAW,kBAAM2pB,EAAM9O,WAAUnW,GACjC1E,YAAW,kBAAM2pB,EAAMC,aAAYllB,EAAI,O,0CAI/C,WACI,GAAIlG,KAAK0oB,iBAGL,IAFA,IACIyC,EADA3B,EAASxpB,KAAK0oB,iBAAiBa,eAE1BrjB,EAAI,EAAIilB,EAAQ3B,EAAOtjB,GAAKA,IACjC,GAAIilB,EAAME,WAGN,IAFA,IAAMC,EAAcH,EAAMI,iBAAgB,GACtCC,OAAI,EACCC,EAAI,EAAID,EAAOF,EAAYG,GAAKA,IACrC,IAAKD,EAAKE,iBAAkB,CAExBP,EAAM1I,UACN,S,gCAQxB,SAAmBnS,GACf,IAAIqb,EACJ,GAAK3rB,KAAK0oB,kBAAoE,IAAhD1oB,KAAK0oB,iBAAiBa,eAAe/pB,OAAnE,CAIA,IAAIwqB,EAAWhqB,KAAK4rB,6BAUpB,OATI5B,EACA2B,EAAc,0BAEd3B,EAAWhqB,KAAK6rB,gCAEZF,EAAc,yBAIlB3B,GACI1Z,EACAA,EAAGqb,EAAa3B,GAEhBhqB,KAAKiqB,kBAAkBD,IAEpB,IAGX1Z,KAEO,GAxBHA,GAAMA,EAAG,qB,wCA4BjB,WAGI,IAFA,IACI6a,EADE3B,EAASxpB,KAAK0oB,iBAAiBa,eAE5BrjB,EAAI,EAAIilB,EAAQ3B,EAAOtjB,GAAKA,IAGjC,IAFA,IAAMolB,EAAcH,EAAMI,iBAAgB,GACtCC,OAAI,EACCC,EAAI,EAAID,EAAOF,EAAYG,GAAKA,IACrC,IAAKD,EAAKM,eAAkBN,EAAKnoB,OAASrD,KAAKgX,QAAQ+U,aAAeP,EAAKnoB,OAASrD,KAAKgX,QAAQgV,gBAAkBR,EAAKE,mBAAqBF,EAAKS,UAC9I,OAAOd,EAInB,OAAO,O,wCAIX,WAGI,IAFA,IACIA,EADE3B,EAASxpB,KAAK0oB,iBAAiBa,eAE5BrjB,EAAI,EAAIilB,EAAQ3B,EAAOtjB,GAAKA,IACjC,GAAIilB,EAAMe,QACN,OAAOf,EAGf,OAAO,O,gCAGX,SAAmBgB,GACf,IAAIxN,EAAO3e,KAAKgX,QAAQoV,WAAWC,gBAAgBrsB,KAAK0oB,kBACxD,IAAKyD,EAAQ,CACTxN,GAAQ,KACR,IAAM2N,EAAMtsB,KAAKgX,QAAQoS,IAAIC,eAAerpB,KAAK0oB,kBAC3CnkB,EAAOvE,KAAKgX,QAAQoS,IAAImD,UAAUD,GACxC3N,GAAQ,KAAO6N,KAAKC,mBAAmBloB,IAG3C,OAAOoa,I,0BAGX,WACI,IAAIgK,EACJ,GAAI3oB,KAAKgX,QAAQ7N,SAAU,CACvB,IAAMujB,EAAW1sB,KAAKgX,QAAQoS,IAAIuD,WAAW3sB,KAAKgX,QAAQ7N,UACtDnJ,KAAKgX,QAAQ4V,YAAc5sB,KAAKgX,QAAQ6V,WACxC7sB,KAAKgX,QAAQoS,IAAI0D,WAAWJ,GAGhC,IAAMK,EAAK/sB,KAAKgX,QAAQ7N,SAAS6jB,yBACjCN,EAASlC,aAAa,IAAKxqB,KAAKgX,QAAQ7N,SAAS8jB,KAAOF,EAAGG,EAAIH,EAAGG,GAClER,EAASlC,aAAa,IAAKuC,EAAGI,GAE9BxE,EAAa3oB,KAAKgX,QAAQoS,IAAIgE,gBAAgBV,OAC3C,CACH,IAAMJ,EAAMtsB,KAAKgX,QAAQoS,IAAIC,eAAerpB,KAAK0oB,kBACjDC,EAAa3oB,KAAKgX,QAAQoS,IAAIgE,gBAAgBd,GAElDtsB,KAAKb,SAAS,CAACwpB,iB,0BAGnB,WACI3oB,KAAKb,SAAS,CAACypB,YAAY,M,4BAG/B,SAAemC,GAEX,GADAA,GAAOA,GAAO,IAAIsC,OAEd,IACStC,EAAIniB,WAAW,UAChBmiB,EAAM,6CAA+CA,EAAM,UAE/D,IAAIuC,EAAYvC,EAAIhrB,QAAQ,UAAW,IAAI0Q,MAAM,gCACjD,GAAI6c,EAAW,CACX,IAAIC,EAAOvtB,KAAKgX,QAAQwW,MAAMzC,IAAI0C,kBAAkB,cAAgBH,EAAU,GAAK,gBACnF,GAAIC,EAAM,CACN,IAAIG,EAAQH,EAAKjF,YAAciF,EAAKjF,WAAW,IAAMiF,EAAKjF,WAAW,GAAGA,WACxE,GAAIoF,EACA,IAAK,IAAIxnB,EAAI,EAAGA,EAAIwnB,EAAMluB,OAAQ0G,IAC9BwnB,EAAMxnB,GAAGnH,IAAMiB,KAAK0oB,iBAAiBiF,eAAeD,EAAMxnB,GAAGnH,KAK7EgsB,EAAMA,EAAIhrB,QAAQ,UAAW,IAAIA,QAAQ,8BAA+B,IACxE2D,OAAO8K,QAAQof,SAAU,EACzB,IAAIC,EAAY7tB,KAAKgX,QAAQoS,IAAI0E,UAAU/C,GAC3C,GAA2B,QAAvB8C,EAAU1F,SACV,IAAK,IAAIzf,EAAI,EAAGA,EAAImlB,EAAUngB,SAASlO,OAAQkJ,IAC3C1I,KAAK0oB,iBAAiBqF,MAAMF,EAAUngB,SAAShF,SAGnD1I,KAAK0oB,iBAAiBqF,MAAMF,GAGhCnqB,OAAO8K,QAAQof,SAAU,EAGzB5tB,KAAKguB,mBACP,MAAOtsB,GACL1B,KAAKb,SAAS,CAACsG,MAAO,CAAClB,KAAM7C,EAAG0C,MAAO3D,IAAKC,EAAE,sB,sBAK1D,WAAY,IAAD,OACP,GAAKV,KAAK0oB,iBAAV,CAIA1oB,KAAKiuB,eAAgB,EACrBjuB,KAAK0oB,iBAAiB/L,QAEtB,IACI,IAAMoO,EAAM/qB,KAAKkuB,eAAeluB,KAAK0e,eAAiB,mDACtDhb,OAAO8K,QAAQof,SAAU,EACzB,IAAMtB,EAAMtsB,KAAKgX,QAAQoS,IAAI0E,UAAU/C,GACvC/qB,KAAKgX,QAAQoS,IAAI+E,eAAe7B,EAAKtsB,KAAK0oB,kBAC1ChlB,OAAO8K,QAAQof,SAAU,EAC3B,MAAOlsB,GACL8E,QAAQf,MAAM/D,GACdF,YAAW,kBAAM,EAAKrC,SAAS,CAACsG,MAAOhF,IAAKC,EAAE,qCAElDc,YAAW,kBAAM,EAAKysB,eAAgB,IAAO,Q,8BAGjD,WACIjuB,KAAKouB,+BACLpuB,KAAKb,SAAS,CAAC+R,SAAS,IACxBlR,KAAKyB,a,gCAGT,WAAsB,IAAD,OACjB,GAAKzB,KAAKyoB,UAGNzoB,KAAKquB,YACLhY,aAAarW,KAAKquB,WAClBruB,KAAKquB,UAAY,OAGjBruB,KAAK0oB,kBAAT,CAIAhlB,OAAO4qB,iBAAiB,SAAUtuB,KAAK+oB,cAAc,GACrDlB,GAAcA,IAAe7nB,KAAKuuB,aAClC9G,GAAcA,IAAeznB,KAAKgX,QAAQoS,IAAI0E,UAAUjG,IAExD7nB,KAAK0oB,iBAAmB1oB,KAAKgX,QAAQwX,OACjCxuB,KAAKyoB,QACL,CACIvkB,MAAO,wBACP2Y,QAAS4K,GACTgH,KAAM,CACFC,UAAY,EACZC,OAAY,EACZC,WAAY,EACZC,SAAY,EACZC,SAAY,GACZC,WAAY,KAEhBC,KAAM,CACFC,YAAY,EACZlhB,MAAM,EACN4gB,OAAO,GAEXO,UAAU,EACVC,KAAM,CACF/pB,QAAY,GACZ5F,OAAY,EACZ4vB,OAAY,OACZC,MAAY,KAKxB3rB,OAAO8K,QAAU,CACbka,iBAAkB1oB,KAAK0oB,kBAI3B1oB,KAAK0oB,iBAAiB4G,mBAAkB,SAAAC,GACpC,GAAI,EAAK1G,cAAgB5N,KAAK2O,MAAQ,EAAKD,iBAAmB,IAAK,CAC/D,IAAML,EAAY,EAAKZ,iBAAiBa,eACxC,EAAKV,aAAe,KACpBS,EAAUtjB,SAAQ,SAAA0C,GAAC,OAAIA,EAAEmhB,kBAGzB0F,EAAYlsB,OAAS,EAAK2T,QAAQwY,OAAOC,IAAMF,EAAYlsB,OAAS,EAAK2T,QAAQwY,OAAOE,SAGxF,EAAKzB,gBACT,EAAKnF,aAAezS,aAAa,EAAKyS,aACtC,EAAKA,YAActnB,YAAW,WAC1B,EAAKsnB,YAAc,KACnB,EAAKkF,qBACN,UAGPhuB,KAAKsqB,WACLtqB,KAAKgpB,WAEL,IAAMpR,EAAUqE,SAAS0T,uBAAuB,qBAAqB,GACrE3vB,KAAKyoB,QAAQrM,YAAYxE,GAEzB5X,KAAKqqB,mBACL7oB,YAAW,kBAAM,EAAK4oB,aAAY,Q,8BAGtC,WACI,IAAMtjB,EAAamV,SAAS0T,uBAAuB,yBAAyB,GAC/C,SAAzB3vB,KAAKlB,MAAM4nB,WACN5f,EAAW8oB,iBACZ9oB,EAAW8oB,eAAiB,CACxBC,OAAQ/oB,EAAW/F,MAAM8uB,OACzBC,KAAMhpB,EAAW/F,MAAM+uB,OAI/BhpB,EAAW/F,MAAM8uB,OAAS,UAC1B/oB,EAAW/F,MAAM+uB,KAAO,WACjBhpB,EAAW8oB,iBAClB9oB,EAAW/F,MAAM8uB,OAAS/oB,EAAW8oB,eAAeC,OACpD/oB,EAAW/F,MAAM+uB,KAAOhpB,EAAW8oB,eAAeE,Q,kCAI1D,WACS9vB,KAAK0oB,mBACV1oB,KAAK0oB,iBAAiBjG,UACtBziB,KAAK0oB,iBAAmB,KACxB1oB,KAAK8oB,aAAezS,aAAarW,KAAK8oB,aACtC9oB,KAAK8oB,YAAc,KACnBplB,OAAOqsB,oBAAoB,SAAU/vB,KAAK+oB,iB,sBAG9C,WACI/oB,KAAK0e,aAAe1e,KAAKgwB,qBACzBhwB,KAAKxB,MAAMiD,UAAYzB,KAAKxB,MAAMiD,SAASzB,KAAK0e,gB,wBAGpD,WAEI,IAAImJ,EAAcnkB,OAAOuY,SAASsK,eAAe,WAAW0J,UAG5D,GAFApI,EAAcA,EAAY9nB,QAAQ,YAAY,SAACiV,EAAGkb,GAAJ,OAAWxsB,OAAOysB,IAAID,MAEhElwB,KAAKgX,QAAQoZ,aAAc,CAG3B,IAFA,IAAI5G,EAAS,GACPjmB,EAAO9C,IAAK+C,cACT8M,EAAK,EAAGA,EAAKtQ,KAAKgX,QAAQoZ,aAAa5wB,OAAQ8Q,IAAM,CAC1D,IAAMtR,EAAOgB,KAAKgX,QAAQoZ,aAAa9f,GAGvC,IAAK,IAAM+f,KADX7G,GAAU,mBAAqBxpB,KAAKgX,QAAQsZ,MAAMtxB,GAAMuE,GAAQ,aAAevD,KAAKgX,QAAQhY,GAAMuxB,IAAM,KACvFvwB,KAAKgX,QAAQhY,GAAMwqB,OAC5BxpB,KAAKgX,QAAQhY,GAAMwqB,OAAOpM,eAAeiT,KACzC7G,GAAUxpB,KAAKgX,QAAQhY,GAAMwqB,OAAO6G,IAG5C7G,GAAU,cAEd3B,EAAcA,EAAY9nB,QAAQ,wDAAyDypB,GAG/F,OAAO3B,I,iCAGX,WAAuB,IAAD,OAClB,OAAO7nB,KAAKlB,MAAM2b,QACd,eAAC,IAAD,CAEIlW,KAAoC,kBAAvBvE,KAAKlB,MAAM2b,QAAuBza,KAAKlB,MAAM2b,QAAQlW,KAAOvE,KAAKlB,MAAM2b,QACpFrW,MAAqC,kBAAvBpE,KAAKlB,MAAM2b,QAAuBza,KAAKlB,MAAM2b,QAAQrW,MAAQ,GAC3E1F,QAAS,kBAAM,EAAKS,SAAS,CAACsb,QAAS,OAHnC,iBAKR,O,+BAER,WAAqB,IAAD,OAChB,OAAOza,KAAKlB,MAAM2G,MACd,eAAC,GAAD,CAEIlB,KAAkC,kBAArBvE,KAAKlB,MAAM2G,MAAqBzF,KAAKlB,MAAM2G,MAAMlB,KAAKsH,WAAa7L,KAAKlB,MAAM2G,MAC3FrB,MAAmC,kBAArBpE,KAAKlB,MAAM2G,MAAqBzF,KAAKlB,MAAM2G,MAAMrB,MAAQ,GACvE1F,QAAS,WACD,EAAKwqB,aACL,EAAKe,kBAAkB,EAAKf,YAC5B,EAAKA,WAAa,MAEtB,EAAK/pB,SAAS,CAACsG,MAAO,OARtB,eAUR,O,gCAGR,WAAsB,IAAD,OACjB,OAAOzF,KAAKlB,MAAM6pB,WAAa,eAAC,GAAD,CAAiC5lB,MAAO/C,KAAKlB,MAAM4nB,UAAWhoB,QAAS,kBAAM,EAAKS,SAAS,CAACwpB,WAAY,MAAMpkB,KAAMvE,KAAKlB,MAAM6pB,YAA7G,gBAA6H,O,gCAGlL,WAAsB,IAAD,OACjB,OAAO3oB,KAAKlB,MAAM8pB,WAAa,eAAC,GAAD,CAAkClqB,QAAS,SAAA6F,GACtE,EAAKpF,SAAS,CAACypB,YAAY,IAC3B,EAAK4H,eAAejsB,KAFyB,gBAG1C,O,oBAGX,WAAU,IAAD,OACL,OAAIvE,KAAKlB,MAAM6oB,uBAAyB3nB,KAAKlB,MAAM8oB,mBAC/C5nB,KAAKquB,UAAY7sB,YAAW,WACxB,EAAK6sB,UAAY,KACjB,EAAKoC,uBACN,KAEI,CACH,sBAAsBjjB,IAAK,SAAArH,GAAE,OAAI,EAAKsiB,QAAUtiB,GAAIpF,MAAO,CAEvDC,MAAO,OACPiE,OAAQ,OAERkF,SAAU,aALL,cAOTnK,KAAK0wB,sBACL1wB,KAAK2wB,oBACL3wB,KAAK4wB,qBACL5wB,KAAK6wB,uBAGF,Q,qBAtkBf,SAAcC,EAAKC,EAAUvP,GACzB,IAAMwP,EAAY/U,SAASC,cAAc,UACzC,IACI8U,EAAU3nB,IAAMynB,EAEhBE,EAAUvG,OAASsG,EACnBC,EAAUtG,mBAAqBqG,EAC/BC,EAAUC,QAAUF,GAEnBvP,GAAY9d,OAAOuY,SAASE,MAAMC,YAAY4U,GACjD,MAAOtvB,GACL8E,QAAQf,MAAM,eAAiBqrB,EAAM,KAAOpvB,GAC5CqvB,GAAYA,O,yBAIpB,SAAmBviB,EAASuiB,GACxB,IAAKviB,IAAYA,EAAQhP,OACrB,OAAOuxB,GAAYA,IAEvB,IAAM1oB,EAAUmG,EAAQ3O,OACgB,IAApCioB,GAActiB,QAAQ6C,IACtByf,GAAcxhB,KAAK+B,GACnBmgB,EAAc0I,OAAO,iBAAmB7oB,EAAU,eAAe,kBAC7D7G,YAAW,kBAAMgnB,EAAc2I,YAAY3iB,EAASuiB,KAAW,OAEnEvvB,YAAW,kBAAMgnB,EAAc2I,YAAY3iB,EAASuiB,KAAW,K,+BAIvE,SAAyBK,EAAUL,GAE/B,IAAMM,EAAS,GACf,IAAK,IAAMtyB,KAAMqyB,EACRA,EAAShU,eAAere,IACxBqyB,EAASryB,IACTA,EAAG0R,MAAM,uBACY,YAAtB2gB,EAASryB,GAAIsE,MAKb+tB,EAASryB,GAAI0I,QAAU2pB,EAASryB,GAAI0I,OAAOghB,UAC3CjiB,QAAQC,IAAI,4BAA8B2qB,EAASryB,GAAI0I,OAAOzI,MAC9DqyB,EAAO/qB,KAAK8qB,EAASryB,GAAI0I,OAAOzI,OAIxCwpB,EAAc2I,YAAYE,EAAQN,K,wBAGtC,SAAkBxsB,GAgBd,OAdIb,OAAO4tB,UACI,SAASC,GAChB,OAAS,IAAI7tB,OAAO4tB,WAAcE,gBAAgBD,EAAQ,aAExB,oBAAxB7tB,OAAO+tB,eAAgC,IAAI/tB,OAAO+tB,cAAc,oBACnE,SAASF,GAChB,IAAIG,EAAS,IAAIhuB,OAAO+tB,cAAc,oBAGtC,OAFAC,EAAOC,MAAQ,QACfD,EAAOE,QAAQL,GACRG,GAGA,WAAa,OAAO,OAEnBntB,O,GApGI3B,IAAMC,W,qBCC5BgvB,G,kDACF,WAAYrzB,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACTmV,OAAQ,EAAKzV,MAAMyV,SAElB,EAAKnV,MAAMmV,QAAU,EAAKzV,MAAMszB,WACjC,EAAKhzB,MAAMmV,OAAS,kBANT,E,qDAWnB,WACIzS,YAAW,WACP,IACIkC,OAAOuY,SAASsK,eAAe,oBAAoB5iB,QACrD,MAAOjC,OAGV,O,0BAGP,WACI1B,KAAKxB,MAAME,SAAQ,K,sBAGvB,WACQsB,KAAKxB,MAAMszB,WAAa9xB,KAAKlB,MAAMmV,OAAOxQ,SAAS,YAGnDzD,KAAKxB,MAAME,QAAQsB,KAAKlB,MAAMmV,U,sBAItC,SAAS9S,GACLnB,KAAKb,SAAS,CAAC8U,OAAQ9S,M,oBAG3B,WAAU,IAAD,OACC2C,EAAU9D,KAAKxB,MAAMsF,QAE3B,OAAO,gBAAC5D,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTyD,QAAS,CAAC2T,MAAO3T,EAAQ0iB,QACzBlmB,WAAW,EACXC,MAAM,EACN,kBAAgB,sBANb,UAQH,eAACC,GAAA,EAAD,CAAazB,GAAG,sBAAhB,SAAuC0B,IAAKC,EAAE,qBAC9C,gBAACC,GAAA,EAAD,CAAekD,UAAWC,EAAQ0jB,WAAlC,UACKxnB,KAAKxB,MAAMuzB,MAAS,uBAAqBluB,UAAWC,EAAQiuB,KAAxC,UACjB,uBAAMluB,UAAWC,EAAQkuB,UAAzB,SAAqCvxB,IAAKC,EAAE,gBAC3CV,KAAKxB,MAAMuzB,KACZ,uBAAMluB,UAAWC,EAAQkuB,UAAzB,iBAH0B,aAK9B,eAAC,GAAD,CACIC,YAAajyB,KAAKxB,MAAMyzB,YACxBviB,iBAAkB1P,KAAKxB,MAAMkR,iBAC7B7L,UAAWC,EAAQ2iB,SACnB1lB,MAAO,CAACkE,OAAQjF,KAAKxB,MAAMuzB,KAAO,oBAAsB,QAExD/yB,KAAM,UACNqI,OAAQrH,KAAKxB,MAAM6I,OACnB4W,UAAU,EACV+B,SAAS,EACTrB,KAAM3e,KAAKlB,MAAMmV,OACjB8J,OAAiC,SAAzB/d,KAAKxB,MAAMkoB,UACnBjlB,SAAU,SAAAukB,GAAQ,OAAI,EAAKvkB,SAASukB,IACpChI,SAAU,cARN,mBAWZ,gBAAC1b,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAK9D,YAAY+D,MAAM,UAAUC,UAAW,eAAC,KAAD,IAAvF,SAAqGlC,IAAKC,EAAE,UAC5G,eAAC6B,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAKhE,gBAAgBkE,UAAW,eAAC,KAAD,IAA3E,SAA2FlC,IAAKC,EAAE,sB,GA1EjFkC,IAAMC,WA4FxBC,gBApHA,SAAAC,GAAK,MAAK,CACrB0jB,SAAU,CACNzlB,MAAO,oBACP0mB,OAAQ,QAEZlB,OAAQ,CACJvhB,OAAQ,OAEZuiB,WAAY,CACRviB,OAAQ,OACRoN,SAAU,UAEd0f,KAAM,CACFrvB,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,QACjD4B,OAAQ,GACRjE,MAAO,OACPkC,SAAU,IAEd8uB,UAAW,CACPtvB,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,QACjDF,WAAY,WAgGLL,CAAmB+uB,I,8DChI5BK,GAAa,GAEbC,GAAsB,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,SAAUvuB,EAA0C,EAA1CA,UAAWwE,EAA+B,EAA/BA,QAAShB,EAAsB,EAAtBA,OAAQ5E,EAAc,EAAdA,QACjE,EAAoB4vB,mBAAS,IAA7B,mBAAKvB,EAAL,KAAUwB,EAAV,KAUA,GARAC,qBAAU,WACFlqB,GAAWhB,IACX6qB,GAAW7pB,GAAW6pB,GAAW7pB,IAAYhB,EAAOC,UAAP,yBAAmCe,IAChF6pB,GAAW7pB,GAASd,MAAK,SAAAC,GAAG,aACrB,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKC,cAAL,eAAac,OAAQ+pB,EAAO,iBAAD,OAAkBjqB,EAAlB,YAA6Bb,EAAIC,OAAOc,aAE5E,CAACF,EAAShB,IAETgB,EACA,OAAO,sBAAK5F,QAAS,SAAAf,GAAC,OAAIe,GAAWA,EAAQf,IAAI2H,IAAKynB,GAAO,GAAIjtB,UAAWA,EAAWyF,IAAI,KAE3F,IAAMkpB,EAAUC,GAAML,GAAY,QAClC,OAAO,eAACI,EAAD,CACH3uB,UAAWA,EACXpB,QAAS,SAAAf,GAAC,OAAIe,GAAWA,EAAQf,OAK7CywB,GAAoB7K,aAAe,CAC/BzjB,UAAW,KACXuuB,SAAU,QAGCD,UCzBTO,GAAW,SAAC,GAAD,IAAG1zB,EAAH,EAAGA,KAAMD,EAAT,EAASA,GAAI4zB,EAAb,EAAaA,OAAQpqB,EAArB,EAAqBA,KAAMF,EAA3B,EAA2BA,QAAShB,EAApC,EAAoCA,OAAQqC,EAA5C,EAA4CA,cAAetF,EAA3D,EAA2DA,MAAOwuB,EAAlE,EAAkEA,YAAlE,OAAoF,uBACjGlpB,cAAeA,EACfkpB,YAAaA,EAEbxuB,MAAO3D,IAAKC,EAAE0D,GACdP,UAAW4J,YAAKolB,KAAIC,aAAcH,GAAUE,KAAIE,mBAAoB,SAAWh0B,GALkB,UAOjG,eAAC,GAAD,CAAqBqzB,SAAU7pB,EAAM1E,UAAWgvB,KAAIG,UAAW3qB,QAASA,EAAShB,OAAQA,IACzF,gCACKrI,EAAOyB,IAAKC,EAAE1B,GAAQ,OANtBD,IAUT2zB,GAASpL,aAAe,CACpBtoB,KAAM,GACN2zB,QAAQ,EACR5zB,GAAI,GACJ2K,cAAe,cAQJgpB,U,8BChCR,SAASO,GAASj0B,EAAMk0B,EAAWC,GAEtC,OAAQn0B,GACJ,IAAK,UAQD,OAPgB,6BACTk0B,GADS,mBAEXl0B,EAFW,6BAGLk0B,EAAUl0B,IAHL,mBAIPm0B,EAJO,YAImBD,EAAUl0B,GAAMm0B,QAKvD,QAKI,OAJgB,6BACTD,GADS,mBAEXl0B,EAFW,YAEAk0B,EAAUl0B,OChB/B,SAASo0B,GAAcp0B,EAAMk0B,EAAWC,EAAqBxrB,GAChE,OAAQ3I,GACJ,IAAK,UAGL,IAAK,aAED,OADAk0B,EAAUl0B,GAAMm0B,GAAuBD,EAAUl0B,GAAMm0B,GAAqBrrB,QAAO,SAAA3B,GAAE,OAAIA,EAAGwB,MAAQA,KAC7FurB,EACX,QAEI,OADAA,EAAUl0B,GAAQk0B,EAAUl0B,GAAM8I,QAAO,SAAA3B,GAAE,OAAIA,EAAGwB,MAAQA,KACnDurB,G,8HCFbG,GAAe,SAAC,GAAyE,IAAvE/yB,EAAsE,EAAtEA,UAAWmE,EAA2D,EAA3DA,KAAMhC,EAAqD,EAArDA,QAAS1B,EAA4C,EAA5CA,MAAO8C,EAAqC,EAArCA,UAAW1C,EAA0B,EAA1BA,MAAOmyB,EAAmB,EAAnBA,OAAQ/qB,EAAW,EAAXA,KAC/E,OAAO,eAAChG,GAAA,EAAD,CACHC,QAAQ,WACRE,MAAM,UACND,QAASA,EACTnC,UAAWA,EACXS,MAAOA,EACP8C,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,EAAWyvB,EAAST,KAAIS,OAAS,IAC3D1xB,OAAO,SACP6C,KAAMA,EARH,SASL8D,EAAO,eAAC,KAAD,CAAY1E,UAAWgvB,KAAItqB,KAAMc,IAAKd,IAAWpH,KAG9DkyB,GAAa/L,aAAe,CACxBnmB,MAAO,GACP0C,UAAW,KACXrB,QAAS,WACTiC,KAAM,SACNnE,WAAW,EACXgzB,QAAQ,GAUGD,U,qBC9BTE,GAAiB,SAAC,GAA+E,IAA7E9uB,EAA4E,EAA5EA,KAAMtD,EAAsE,EAAtEA,MAAciD,GAAwD,EAA/DrD,MAA+D,EAAxDqD,OAAO3C,EAAiD,EAAjDA,SAAUoC,EAAuC,EAAvCA,UAAW2vB,EAA4B,EAA5BA,YAAa3xB,EAAe,EAAfA,SACnF,EAA0CwwB,oBAAS,GAAnD,mBAAOoB,EAAP,KAAsBC,EAAtB,KAEA,OAAO,uCACH,eAACC,GAAA,EAAD,CACI9xB,SAAUA,EACV+xB,QAASC,QAAQL,EAAcryB,EAAQsyB,GAEvC5vB,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BpC,SAAU,SAAAC,GACN8xB,GAAeE,EAAiBhyB,EAAEC,OAAOiyB,SACzCnyB,EAASC,EAAEC,OAAOiyB,UAEtBnvB,KAAMA,IAETL,GAAS,SAIlBmvB,GAAejM,aAAe,CAC1BnmB,OAAO,EACPU,UAAU,EACVwB,KAAM,KACNoC,MAAO,GACP5B,UAAW,KACX6Y,OAAO,EACPoX,OAAQ,GACRtxB,QAAS,WACTiC,KAAM,SACNuE,UAAW,KACX+qB,oBAAqB,KACrBtyB,SAAU,aACVnB,WAAW,EACXO,aAAc,GACd2yB,aAAa,EACbtyB,MAAO,OAcI8yB,sBAAKT,I,qBC/CdU,GAAc,SAAC,GAAgK,IAA9JhzB,EAA6J,EAA7JA,UAAWX,EAAkJ,EAAlJA,UAAWuB,EAAuI,EAAvIA,SAAUqyB,EAA6H,EAA7HA,UAAWC,EAAkH,EAAlHA,KAAMtzB,EAA4G,EAA5GA,aAAcK,EAA8F,EAA9FA,MAAOuE,EAAuF,EAAvFA,MAAOhB,EAAgF,EAAhFA,KAAMjC,EAA0E,EAA1EA,QAASrB,EAAiE,EAAjEA,MAAOkC,EAA0D,EAA1DA,KAAMtC,EAAoD,EAApDA,MAAOU,EAA6C,EAA7CA,SAAUoC,EAAmC,EAAnCA,UAAW2vB,EAAwB,EAAxBA,YAAajrB,EAAW,EAAXA,KACrK,EAAkC8pB,mBAAS,IAA3C,mBAAO+B,EAAP,KAAkBC,EAAlB,KACA,OAAO,eAACvzB,GAAA,EAAD,CACH2E,QAASA,EACTxE,UAAWA,EACXX,UAAWA,EACXY,MAAOA,EACPW,SAAUA,EACVW,QAASA,EACT0xB,UAAWA,EACXC,KAAMA,EACNhzB,MAAOqyB,EAAcryB,EAAQizB,EAC7B/wB,KAAMA,EACNsC,WAAYF,EACZ1E,MAAOA,EACP8C,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BhD,aAAcA,EACdY,SAAU,SAAAC,IACL8xB,GAAea,EAAa3yB,EAAEC,OAAOR,OACtCM,EAASC,EAAEC,OAAOR,QAEtBmzB,WAAY,CACRrqB,aAAc1B,EACV,eAAC2B,GAAA,EAAD,CAAgBC,SAAS,MAAzB,SAA+B,eAAC,KAAD,CAAYtG,UAAWgvB,KAAItqB,KAAMc,IAAKd,MACnE,MAEV3G,OAAO,SACP6C,KAAMA,KAIdwvB,GAAY3M,aAAe,CACvBnmB,MAAO,GACPkC,KAAM,OACNoC,MAAO,GACP5B,UAAW,KACX6Y,OAAO,EACPoX,OAAQ,GACRtxB,QAAS,WACTiC,KAAM,SACNuE,UAAW,KACX+qB,oBAAqB,KACrBtyB,SAAU,aACVnB,WAAW,EACXO,aAAc,GACd2yB,aAAa,EACbvyB,WAAW,EACXkzB,KAAM,GAcKF,U,UCjETM,GAAYzxB,YAAW,CACzB6D,KAAM,CACF/E,OAAQ,SACR,iCAAkC,CAC9B6I,UAAW,EACXtF,aAAc,GAElB,QAAS,CACLzC,MAAO,sBAEX,oBAAqB,CACjBA,MAAO,WAEX,sBAAuB,CACnBA,MAAO,WAEX,8BAA+B,CAC3B8xB,kBAAmB,WAEvB,+BAAgC,CAC5BA,kBAAmB,WAEvB,qCAAsC,CAClCA,kBAAmB,aAvBb1xB,CA0BfhB,MAEG2yB,GAAiB,SAAC,GAAgH,IAA9GC,EAA6G,EAA7GA,SAAUvzB,EAAmG,EAAnGA,MAAOqyB,EAA4F,EAA5FA,YAAansB,EAA+E,EAA/EA,OAAQjD,EAAuE,EAAvEA,MAAOuwB,EAAgE,EAAhEA,KAAMtsB,EAA0D,EAA1DA,QAAStH,EAAiD,EAAjDA,MAAOU,EAA0C,EAA1CA,SAAUoC,EAAgC,EAAhCA,UAAW+wB,EAAqB,EAArBA,eAC9G,EAAkCvC,mBAASlxB,GAAS,SAApD,mBAAOizB,EAAP,KAAkBC,EAAlB,KACA,EAA8BhC,mBAAS,IAAvC,mBAAO3Q,EAAP,KAAgBmT,EAAhB,KAeA,OAbAtC,qBAAU,WACNlrB,GAAUA,EAAOc,oBAAoBE,GAChCd,MAAK,SAAAhI,GACF,IAAMu1B,EAAWv1B,EAAU6C,KAAI,SAAAoF,GAAG,MAAK,CAACrG,MAAOqG,EAAIG,IAAI5H,QAAQ,kBAAmB,IAAKqE,MAAOoD,EAAIG,IAAI5H,QAAQ,kBAAmB,QACzG,IAApB+0B,EAASt1B,OACTo1B,EAAeE,EAAS,GAAG3zB,OAE3B2zB,EAASC,QAAQ,CAAC5zB,MAAOkH,EAASjE,MAAO3D,IAAKC,EAAE,SAEpDm0B,EAAWC,QAEpB,CAACztB,EAAQgB,EAASusB,IAEd,gBAACL,GAAD,CACH1wB,UAAWA,EACXvD,WAAS,EACTS,MAAOA,EAHJ,UAKH,eAACkB,GAAA,EAAD,CACId,OAAQqyB,EAAcryB,EAAQizB,IAAc,IAC5C9zB,WAAS,EACTo0B,SAAUA,EACVM,YAAa,SAAC7rB,GAAD,OAAcurB,GAAYvrB,EAASrJ,KAAOqJ,EAASrJ,KAAK,MAAQqJ,GAC7E1H,SAAU,SAAAC,IACL8xB,GAAea,EAAa3yB,EAAEC,OAAOR,OACtCM,EAASC,EAAEC,OAAOR,QAEtB8zB,MAAON,EAAO,eAAC9qB,EAAA,EAAD,CAAO7K,KAAM21B,EAAM51B,GAAI41B,EAAO,YAAgB,eAAC9qB,EAAA,EAAD,CAAO7K,KAAM21B,IAT7E,SAWKjT,EAAQtf,KAAI,SAAAiE,GAAI,OACb,gBAAChE,EAAA,EAAD,CAAUtB,MAAO,CAACm0B,aAAa,iBAA4C/zB,MAAOkF,EAAKlF,OAAS,IAAhG,UAAsGV,IAAKC,EAAE2F,EAAKjC,OAAQiC,EAAK8uB,QAAU,+BAAM9uB,EAAK8uB,WAA9F,OAAS9uB,EAAKlF,YAE5E,eAACi0B,GAAA,EAAD,UAAiB30B,IAAKC,EAAE0D,SAIhCqwB,GAAenN,aAAe,CAC1BnmB,MAAO,GACP0C,UAAW,KACX6Y,OAAO,EACP8W,aAAa,GAYFiB,U,qBCjFTY,GAAc,SAAC,GAAiH,IAA/G90B,EAA8G,EAA9GA,KAAM7B,EAAwG,EAAxGA,QAASgP,EAA+F,EAA/FA,SAAU4nB,EAAqF,EAArFA,iBAAkBC,EAAmE,EAAnEA,iBAAkBC,EAAiD,EAAjDA,QAAS3xB,EAAwC,EAAxCA,UAAW4xB,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,aAC/G,EAAwBrD,mBAASqD,GAAjC,mBAAKv0B,EAAL,KAAY0gB,EAAZ,KAEA,OAAO,gBAAC3hB,GAAA,EAAD,CACHK,KAAMA,EACNF,SAAS,KACTs1B,sBAAsB,EACtBj3B,QAASA,EACToF,QAAS,CAAC2T,MAAOob,KAAI+C,aACrB/xB,UAAWgvB,KAAIgD,aANZ,UAQH,gBAACl1B,GAAA,EAAD,WACK80B,GAAa,eAAC,GAAD,CACV5xB,UAAWA,EACXhD,aAAa,MACbP,WAAS,EACTkC,QAAQ,WACRiC,KAAK,SACL0vB,KAAM,GACND,WAAS,EACT/yB,MAAOA,EACPM,SAAUogB,EACV2R,aAAW,KAEbiC,GAAa/nB,KAEnB,gBAACpL,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAQE,QAAS,kBAAM+yB,EAAQC,EAAYt0B,EAAQ,OAAQqB,QAAQ,YAAYE,MAAM,UAArF,SACKozB,IAAKp1B,EAAE40B,KAEZ,eAAC/yB,GAAA,EAAD,CAAQE,QAAS/D,EAAS8D,QAAQ,YAAlC,SACKszB,IAAKp1B,EAAE60B,YAMxBF,GAAY/N,aAAe,CACvB/mB,MAAM,EACNi1B,QAAS,aACT92B,QAAS,aACT62B,iBAAkB,SAClBD,iBAAkB,MAYPD,U,qBCtDTU,GAAe,SAAC,GAAyH,IAAvHrB,EAAsH,EAAtHA,SAAUvzB,EAA4G,EAA5GA,MAAOqyB,EAAqG,EAArGA,YAAapvB,EAAwF,EAAxFA,MAAOuwB,EAAiF,EAAjFA,KAAMjT,EAA2E,EAA3EA,QAAS3gB,EAAkE,EAAlEA,MAAOU,EAA2D,EAA3DA,SAAUoC,EAAiD,EAAjDA,UAAWmyB,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,gBACpH,EAAkC5D,wBAAmBllB,IAAVhM,EAAsBugB,EAAQ,GAAGvgB,MAAQA,GAApF,mBAAOizB,EAAP,KAAkBC,EAAlB,KAEM6B,EAAI1C,EAAcryB,EAAQizB,EAC1B7vB,EAAa,KAAN2xB,GAAkB,OAANA,QAAoB/oB,IAAN+oB,EAAkB,IAAMA,EAE/D,OAAO,gBAACp0B,GAAA,EAAD,CACH+B,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BvD,WAAS,EACTS,MAAOA,EAHJ,UAKH,gBAACkB,GAAA,EAAD,CACId,MAAOoD,EACPjE,WAAS,EACTo0B,SAAUA,EACVM,YAAa,SAAA7rB,GACT,GAAIurB,GAAYvrB,EAASrJ,KAAM,CAE3BqJ,EAASX,OACT,IAAI4I,EAAMjI,EAAS3D,QAAQ,MACd,IAAT4L,IACAjI,EAASrD,OAAOsL,EAAK,GACrBjI,EAAS7C,KAAK,OAGL,KADb8K,EAAMjI,EAAS3D,QAAQ,QAEnB2D,EAASrD,OAAOsL,EAAK,GACrBjI,EAAS4rB,QAAQ,MAGrB,IAAMoB,EAAWzU,EAAQtb,MAAK,SAAAD,GAAE,OAAIA,EAAGiwB,QACvC,OAAIjtB,EAAS1F,SAAS0yB,EAASh1B,OACpBg1B,EAASE,WAAcL,EAAiBG,EAASE,WAAa51B,IAAKC,EAAEy1B,EAASE,YAAgBL,EAAiBG,EAAS/xB,MAAQ3D,IAAKC,EAAEy1B,EAAS/xB,OAG5I+E,EACV/G,KAAI,SAAAk0B,GAAG,OAAI5U,EAAQtb,MAAK,SAAAC,GAAI,OAAIA,EAAKlF,QAAUm1B,GAAgB,MAARA,GAA8B,KAAfjwB,EAAKlF,UAAkBm1B,KAC7Fl0B,KAAI,SAAAiE,GAAI,MAAoB,kBAATA,EAAqBA,EAAKgwB,WAAcL,EAAiB3vB,EAAKgwB,WAAa51B,IAAKC,EAAE2F,EAAKgwB,YAAgBL,EAAiB3vB,EAAKjC,MAAQ3D,IAAKC,EAAE2F,EAAKjC,OAAY4xB,EAAiB3vB,EAAO5F,IAAKC,EAAE2F,MAEtMvG,KAAK,MAEnB,IAAMuG,EAAOqb,EAAUA,EAAQtb,MAAK,SAAAC,GAAI,OAAIA,EAAKlF,QAAUgI,GAA0B,MAAbA,GAAmC,KAAf9C,EAAKlF,SAAiB,KAClH,OAAW,OAAJkF,QAAI,IAAJA,OAAA,EAAAA,EAAMjC,OAAS4xB,EAAc,OAAG3vB,QAAH,IAAGA,OAAH,EAAGA,EAAMjC,MAAQ3D,IAAKC,EAAL,OAAO2F,QAAP,IAAOA,OAAP,EAAOA,EAAMjC,OAAU+E,GAGpF1H,SAAU,SAAAC,GAEN,IADC8xB,GAAea,EAAa3yB,EAAEC,OAAOR,OAClCuzB,EAAU,CACV,IAAMyB,EAAWzU,EAAQtb,MAAK,SAAAD,GAAE,OAAIA,EAAGiwB,QACvC,GAAID,EAAU,CACV,IAAMI,EAAYJ,EAASh1B,MAC3B,GAAIO,EAAEC,OAAOR,MAAM3B,SAAWkiB,EAAQliB,OAAS,GAAKkC,EAAEC,OAAOR,MAAMsC,SAAS8yB,GACxE,OAAO90B,EAASC,EAAEC,OAAOR,MAAM2G,QAAO,SAAA3B,GAAE,OAAIA,IAAOowB,KAAY5B,GAEnE,GAAIjzB,EAAEC,OAAOR,MAAMsC,SAAS8yB,GACxB,OAAO90B,EAASigB,EAAQtf,KAAI,SAAA+D,GAAE,OAAIA,EAAGhF,SAAQwzB,IAIzDlzB,EAASC,EAAEC,OAAOR,MAAOwzB,IAE7BM,MAAON,EAAO,eAAC9qB,EAAA,EAAD,CAAO7K,KAAM21B,EAAM51B,GAAI41B,EAAO,YAAgB,eAAC9qB,EAAA,EAAD,CAAO7K,KAAM21B,IAlD7E,WAoDMD,GAAYhT,GAAWA,EAAQtf,KAAI,SAAAiE,GAAI,OAAI,gBAAChE,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA6C/zB,MAAsB,KAAfkF,EAAKlF,OAA+B,OAAfkF,EAAKlF,YAAiCgM,IAAf9G,EAAKlF,MAAsB,IAAMkF,EAAKlF,MAAvK,UAA+K60B,EAAiB3vB,EAAKjC,MAAQ3D,IAAKC,EAAE2F,EAAKjC,OAAQiC,EAAK8uB,QAAU,+BAAMc,EAAkB5vB,EAAK8uB,OAAS10B,IAAKC,EAAE2F,EAAK8uB,YAAzO,OAAS9uB,EAAKlF,UACnHuzB,GAAYhT,GAAWA,EAAQtf,KAAI,SAAAiE,GAAI,OAAI,gBAAChE,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA6C/zB,MAAOkF,EAAKlF,OAAS,IAAnG,UAAyG60B,EAAiB3vB,EAAKjC,MAAQ3D,IAAKC,EAAE2F,EAAKjC,OAAnJ,IAA2J,eAAC,GAAD,CAAgBovB,aAAW,EAACryB,MAAOA,EAAMsC,SAAS4C,EAAKlF,WAAzJ,OAASkF,EAAKlF,aAEtHiD,EAAQ,eAACgxB,GAAA,EAAD,UAAiB30B,IAAKC,EAAE0D,KAA2B,SAIpE2xB,GAAazO,aAAe,CACxBnmB,MAAO,GACP0C,UAAW,KACX6Y,OAAO,EACP8W,aAAa,EACbkB,UAAU,GAWCqB,U,+BCvFTS,GAAe,SAAC,GAAyI,EAAvIl2B,UAAwI,IAA7HO,EAA4H,EAA5HA,aAAcK,EAA8G,EAA9GA,MAAOuE,EAAuG,EAAvGA,MAAOhB,EAAgG,EAAhGA,KAAMjC,EAA0F,EAA1FA,QAASrB,EAAiF,EAAjFA,MAAOkC,EAA0E,EAA1EA,KAAMtC,EAAoE,EAApEA,MAAOU,EAA6D,EAA7DA,SAAUoC,EAAmD,EAAnDA,UAAW2vB,EAAwC,EAAxCA,YAAaiD,EAA2B,EAA3BA,IAAKC,EAAsB,EAAtBA,IAAKC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KAChJ,EAAkCvE,mBAAS,GAA3C,mBAAO+B,EAAP,KAAkBC,EAAlB,KACAoC,OAActpB,IAARspB,EAAoBA,EAAM,EAChCC,OAAcvpB,IAARupB,EAAoBA,EAAM,EAChCC,OAAgBxpB,IAATwpB,EAAqBA,GAAQD,EAAMD,GAAO,IAEjD,IAAMI,EAAQ,CACV,CACI11B,MAAOs1B,EACPv1B,MAAOu1B,GAAOG,GAAQ,KAE1B,CACIz1B,MAAOu1B,EACPx1B,MAAOw1B,GAAOE,GAAQ,MAI9B,OAAO,eAACE,GAAA,EAAD,CACHpB,aAAclC,EAAcryB,EAAQizB,EAEpC,kBAAgB,kBAChB2C,kBAAkB,OAClBjzB,QAAS,CAACkzB,KAAMnE,KAAImE,MACpBH,MAAOA,EACPF,KAAMA,EACNF,IAAKA,EACLC,IAAKA,EACLjxB,MAAOA,GAAS,GAEhBvE,MAAOA,EACPsB,QAASA,EACTrB,MAAOqyB,EAAcryB,EAAQizB,EAC7B/wB,KAAMA,EAENtC,MAAOA,EACP8C,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BhD,aAAcA,EACdY,SAAU,SAACC,EAAGskB,IACTwN,GAAea,EAAarO,GAC7BvkB,EAASukB,IAEbpkB,OAAO,SACP6C,KAAMA,KAId+xB,GAAalP,aAAe,CACxBnmB,MAAO,GACPkC,KAAM,OACNoC,MAAO,GACP5B,UAAW,KACX6Y,OAAO,EACPoX,OAAQ,GACRtxB,QAAS,WACTiC,KAAM,SACNuE,UAAW,KACX+qB,oBAAqB,KACrBtyB,SAAU,aACVnB,WAAW,EACXO,aAAc,GACd2yB,aAAa,GAcFgD,U,yCC3ETS,GAAe,SAAC,GAAqE,IAAnE/1B,EAAkE,EAAlEA,MAAOuD,EAA2D,EAA3DA,KAAMtD,EAAqD,EAArDA,MAAOJ,EAA8C,EAA9CA,MAAOU,EAAuC,EAAvCA,SAAUoC,EAA6B,EAA7BA,UAAW2vB,EAAkB,EAAlBA,YACpE,EAA0CnB,oBAAS,GAAnD,mBAAOoB,EAAP,KAAsBC,EAAtB,KACA,OAAO,eAACwD,GAAA,EAAD,CACHrzB,UAAWgvB,KAAIlsB,KACfwwB,QAAS,eAACC,GAAA,EAAD,CACLxD,QAASJ,EAAcryB,EAAQsyB,EAC/B1yB,MAAOA,EACP8C,UAAWA,EACXpC,SAAU,SAAAC,GACD8xB,GAAaE,EAAiBhyB,EAAEC,OAAOiyB,SAC5CnyB,EAASC,EAAEC,OAAOiyB,UAEtBnvB,KAAMA,IAGVvD,MAAOA,KAIf+1B,GAAa3P,aAAe,CACxBnmB,OAAO,EACPkC,KAAM,OACNoC,MAAO,GACP5B,UAAW,KACX6Y,OAAO,EACPoX,OAAQ,GACRtxB,QAAS,WACTiC,KAAM,SACNuE,UAAW,KACX+qB,oBAAqB,KACrBtyB,SAAU,aACVnB,WAAW,EACXO,aAAc,GACd2yB,aAAa,EACbtyB,MAAO,OAcI8yB,sBAAKiD,I,qBChDdI,GAAa,SAAC,GAA2C,IAAzCl2B,EAAwC,EAAxCA,MAAOJ,EAAiC,EAAjCA,MAAOU,EAA0B,EAA1BA,SAAUoC,EAAgB,EAAhBA,UAC1C,OAAO,eAAC/C,GAAA,EAAD,CACH/B,GAAG,OACHsE,KAAK,OACL5B,SAAU,SAACC,GAAD,OAAOD,EAASC,EAAEiV,cAAcxV,QAC1CA,MAAOA,EACP0C,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BvD,WAAS,EACTS,MAAOA,EACPu2B,gBAAiB,CACbC,QAAQ,GAEZp1B,WAAY,CACRw0B,KAAM,QAKlBU,GAAW/P,aAAe,CACtBnmB,MAAO,GACP0C,UAAW,KACX6Y,OAAO,GAUI2a,U,qBC9BTG,GAAO,CACT,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAGEC,GAAa,SAAC,GAAkD,IAAhDt2B,EAA+C,EAA/CA,MAAOM,EAAwC,EAAxCA,SAAUoC,EAA8B,EAA9BA,UAAkB9C,GAAY,EAAnBqD,MAAmB,EAAZrD,OACrD,GAAqBI,GAAS,SAAS0K,WAAWjM,MAAM,KAAxD,mBAAK83B,EAAL,KAAY1c,EAAZ,KACAA,EAAO9Y,SAAS8Y,EAAM,KAAO,GAC7B0c,EAAQx1B,SAASw1B,EAAO,KAAO,GACnB,GACRA,EAAQ,GACDA,EAAQ,IACfA,EAAQ,GAGR1c,EAAOwc,GAAKE,GACZ1c,EAAOwc,GAAKE,GACL1c,EAAO,IACdA,EAAO,GAIX,IADA,IAAI2c,EAAO,GACFzxB,EAAI,EAAGA,EAAIsxB,GAAKE,GAAQxxB,IAC7ByxB,EAAKrxB,KAAKJ,EAAI,GAGlB,OAAO,iCACH,eAACpE,GAAA,EAAD,CACI+B,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1B9C,MAAOA,EAFX,SAII,gBAACkB,GAAA,EAAD,CACI4B,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BjC,OAAO,QACPV,MAAOT,IAAKC,EAAE,SACde,SAAU,SAAAC,GAAC,OACPD,EAASC,EAAEC,OAAOR,MAAM0K,WAAW+rB,SAAS,EAAG,KAAO,IAAM5c,EAAKnP,WAAW+rB,SAAS,EAAG,OAC5Fz2B,MAAOu2B,EANX,UAQI,eAACr1B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,cAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,YAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,aAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,UAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,UAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,QAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,SAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,SAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,WAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO,EAAnE,SAAuEV,IAAKC,EAAE,cAArB,GACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA4B/zB,MAAO,GAApE,SAAyEV,IAAKC,EAAE,YAAvB,IACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA4B/zB,MAAO,GAApE,SAAyEV,IAAKC,EAAE,aAAvB,IACzD,eAAC2B,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA4B/zB,MAAO,GAApE,SAAyEV,IAAKC,EAAE,aAAvB,SAGjE,eAACoB,GAAA,EAAD,CACI+B,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1B9C,MAAOA,EAFX,SAII,gBAACkB,GAAA,EAAD,CACI4B,UAAW4J,YAAKolB,KAAIlsB,KAAM9C,GAC1BjC,OAAO,QACPV,MAAOT,IAAKC,EAAE,QACde,SAAU,SAAAC,GAAC,OACPD,EAASi2B,EAAM7rB,WAAW+rB,SAAS,EAAG,KAAO,IAAMl2B,EAAEC,OAAOR,MAAM0K,WAAW+rB,SAAS,EAAG,OAC7Fz2B,MAAO6Z,EANX,UAQI,eAAC3Y,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA6B/zB,MAAO,EAArE,SAAyEV,IAAKC,EAAE,QAAvB,KACxDi3B,EAAKv1B,KAAI,SAAA8D,GAAC,OAAI,eAAC7D,EAAA,EAAD,CAAUtB,MAAO,CAAEm0B,aAAc,iBAA2B/zB,MAAO+E,EAAnE,SAAuEA,GAAdA,eAMxFuxB,GAAWnQ,aAAe,CACtBnmB,MAAO,GACP0C,UAAW,MAUA4zB,ICpGXl0B,GDoGWk0B,MCtFAjK,GAJD,CACVqK,QAVY,SAAArwB,GAEZ,OADAjE,GAAOA,IAAQ9C,IAAK+C,cACD,kBAARgE,EACAA,EAAIjE,KAASiE,EAAIoE,GAEjBpE,ICRTswB,GACc,EADdA,GAEwB,EAFxBA,GAGY,EAHZA,GAIiB,EAJjBA,GAKa,EALbA,GAMkB,EANlBA,GAOc,EAPdA,GAQiB,EARjBA,GASa,EA4CJC,GAzCD,CACV,CACIC,SAAU,mBACVnU,QAAS,mBAEb,CACImU,SAAU,8BACVnU,QAAS,iCAEb,CACImU,SAAU,YACVnU,QAAS,uBAEb,CACImU,SAAU,qBACVnU,QAAS,mBAEb,CACImU,SAAU,kBACVnU,QAAS,wBAEb,CACImU,SAAU,yBACVnU,QAAS,iCAEb,CACImU,SAAU,kBACVnU,QAAS,oBAEb,CACImU,SAAU,kBACVnU,QAAS,wBAEb,CACImU,SAAU,eACVnU,QAAS,oBCopBFoU,G,kDApqBX,WAAYz5B,EAAO6H,GAAO,IAAD,uBACrB,cAAM7H,IA+GV05B,WAAa,SAACjD,EAAO9zB,EAAOM,GACxB,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAAmFM,EAAnFN,KAAMwD,EAA6ElD,EAA7EkD,UAAWC,EAAkEnD,EAAlEmD,SAAUC,EAAwDpD,EAAxDoD,UAAWr5B,EAA6Ci2B,EAA7Cj2B,KAAMg3B,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACpE,OAAO,gBAAC,WAAD,WACH,uBAAKz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAA1C,UACKL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt0B,UAAWA,EACXhD,aAAa,MACbK,MAAOssB,GAAMqK,QAAQ74B,GACrBwD,QAAQ,WACRiC,KAAK,QACLnE,WAAS,EACTa,MAAOA,EACPM,SAAUA,EACV+xB,aAAW,IAEd4E,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,QAEtFC,GAAa,sBAAKx0B,UAAWgvB,KAAIwF,UAApB,SAAgC53B,IAAKC,EAAE23B,OAhBnC1D,IAnHD,EAuIzB8D,aAAe,SAACxD,EAAO9zB,EAAOM,GAC1B,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAA6EM,EAA7EN,KAAMwD,EAAuElD,EAAvEkD,UAAWC,EAA4DnD,EAA5DmD,SAAUC,EAAkDpD,EAAlDoD,UAAWrC,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBAC9D,OAAO,iCACH,uBAAKz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAA1C,UACKL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt0B,UAAWA,EACX3C,MAAM,GACNsyB,aAAW,EACXryB,MAAOA,EACPM,SAAUA,IAEb22B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,QAEtFC,GAAa,sBAAKx0B,UAAWgvB,KAAIwF,UAApB,SAAgC53B,IAAKC,EAAE23B,OAZxC1D,IA1II,EA0JzB+D,eAAiB,WAAoDv3B,GAApD,IAAGwzB,EAAH,EAAGA,KAAMgE,EAAT,EAASA,UAAW3C,EAApB,EAAoBA,eAAgBN,EAApC,EAAoCA,aAApC,OAA8D,sBAC3E7xB,UAAW4J,YAAOkrB,EAAY9F,KAAI+F,cAAgB/F,KAAI0F,YAAa1F,KAAI2F,gBADI,SAG1ExC,EAAiBN,EAAej1B,IAAKC,EAAEg1B,IADnCf,IA5JgB,EAgKzBkE,aAAe,SAAC5D,EAAO9zB,EAAOM,GAC1B,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACAi1B,EAAa,EAAKh6B,MAAlBg6B,SACAnE,EAAgFM,EAAhFN,KAAMyD,EAA0EnD,EAA1EmD,SAAUD,EAAgElD,EAAhEkD,UAAWY,EAAqD9D,EAArD8D,aAAc/C,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBAC7DU,GAAa,EAIjB,OAHID,IACAC,EAA2C,mBAAvBF,EAAQ,QAA2BA,EAAQ,QAE5DE,EAAa,uBAAgBn1B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAArD,UACfL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt0B,UAAW4J,YAAK5J,EAAWoxB,EAAMpxB,WACjCvD,WAAS,EACTO,aAAa,MACbK,MAAO+zB,EAAMgE,aAAe,GAAK,SACjCz2B,QAAQ,WACRiC,KAAK,QACLpB,KAAK,SACLlC,MAAOA,EACPM,SAAUA,EACV+xB,aAAW,IAEd4E,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAdzDzD,GAerB,MAvLY,EA0LzBuE,YAAc,SAACjE,EAAO9zB,EAAOM,GACzB,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAAkEM,EAAlEN,KAAMyD,EAA4DnD,EAA5DmD,SAAUD,EAAkDlD,EAAlDkD,UAAWnC,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACnD,OAAO,uBAAgBz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAArD,UACFL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt0B,UAAWA,EACXhD,aAAa,MACbP,WAAS,EACTkC,QAAQ,WACRiC,KAAK,QACLpB,KAAK,QACLlC,MAAOA,EACPM,SAAUA,IAEb22B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAZtEzD,IA7LI,EA6MzBwE,eAAiB,SAAClE,EAAO9zB,EAAOM,GAC5B,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACAi1B,EAAa,EAAKh6B,MAAlBg6B,SACAnE,EAAgFM,EAAhFN,KAAMyD,EAA0EnD,EAA1EmD,SAAUD,EAAgElD,EAAhEkD,UAAWzC,EAAqDT,EAArDS,aAAcM,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACjE,OAAO,uBAAgBz0B,UAAWgvB,KAAI0F,YAA/B,UACFJ,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt0B,UAAWA,EACXY,KAAK,QACL1D,MAAO,CAAEyJ,YAAa,GACtBrJ,MAAiC,mBAAnB23B,EAASnE,GAAsBmE,EAASnE,GAAQe,EAC9DlC,aAAW,EACX/xB,SAAUA,IAEb22B,GAAY,sBAAK31B,QAAS,kBAAMhB,EAAmC,mBAAnBq3B,EAASnE,IAAuBmE,EAASnE,IAASe,IAAe7xB,UAAWgvB,KAAIuF,SAApH,SAA+HE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAVtKzD,IAjNI,EA+NzByE,aAAe,SAACnE,EAAO9zB,EAAOM,GAC1B,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAAmGM,EAAnGN,KAAMwD,EAA6FlD,EAA7FkD,UAAWC,EAAkFnD,EAAlFmD,SAAUC,EAAwEpD,EAAxEoD,UAAW5B,EAA6DxB,EAA7DwB,IAAKC,EAAwDzB,EAAxDyB,IAAKC,EAAmD1B,EAAnD0B,KAAMC,EAA6C3B,EAA7C2B,KAAMZ,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACpF,OAAO,iCACH,uBAAKz0B,UAAWgvB,KAAI0F,YAAax3B,MAAO,CAAEyJ,YAAa,IAAvD,UACK2tB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACI3E,aAAW,EACXiD,IAAKA,EACLC,IAAKA,EACLC,KAAMA,EACNC,KAAMA,EACN/yB,UAAWA,EACXhD,aAAa,MACbK,MAAM,SACNsB,QAAQ,WACRiC,KAAK,QACLtD,MAAOA,EACPM,SAAU,SAAA0P,GACN3K,QAAQC,IAAI0K,GACZ1P,EAAS0P,MAGhBinB,GAAY,sBAAKr3B,MAAO,CAAE8R,WAAY,IAAMhP,UAAWgvB,KAAIuF,SAA/C,SAA0DE,EAAqBF,EAAW33B,IAAKC,EAAE03B,QAEjHC,GAAa,sBAAKx0B,UAAWgvB,KAAIwF,UAApB,SAAgC53B,IAAKC,EAAE23B,OAtBxC1D,IAlOI,EA4PzB0E,aAAe,SAACpE,EAAO9zB,EAAOsB,GAC1B,IAAQoB,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAA8EM,EAA9EN,KAAMwD,EAAwElD,EAAxEkD,UAAWC,EAA6DnD,EAA7DmD,SAAUkB,EAAmDrE,EAAnDqE,WAAYtD,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBAC/D,OAAO,uBAAgBz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAArD,UACFL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIj3B,MAAOo4B,EACPh5B,WAAS,EACTa,MAAOA,EACP0C,UAAWA,EACXpB,QAASA,IAEZ21B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OATtEzD,IA/PI,EA4QzB4E,SAAW,SAAA/xB,GAAQ,IAAD,EACd,IAAKA,EACD,OAAOyK,QAAQC,QAAQ,MAEvB,aAAI1K,EAAIC,cAAR,aAAI,EAAYc,KACZ,OAAO0J,QAAQC,QAAQsnB,2BAAgBhyB,EAAK,UACzC,GAAiB,UAAbA,EAAInE,MAAiC,YAAbmE,EAAInE,KAAoB,CACvD,IAAM1D,EAAQ6H,EAAIG,IAAI/H,MAAM,KAC5BD,EAAME,MACN,IAAMqU,EAAQvU,EAAMG,KAAK,KACzB,OAAO,EAAKtB,MAAM6I,OAAOC,UAAU4M,GAC9B3M,MAAK,SAAAC,GAAG,OAAI,EAAK+xB,SAAS/xB,MAC1BiyB,OAAM,kBAAM,UAxRJ,EA4RzBC,eAAiB,SAACzE,EAAO9zB,EAAOM,GAC5B,MAAmC,EAAK3C,MAAhC66B,EAAR,EAAQA,aAAcb,EAAtB,EAAsBA,SACtB,EAA8B,EAAKt6B,MAA3BqF,EAAR,EAAQA,UAAWwD,EAAnB,EAAmBA,OACXstB,EAAsCM,EAAtCN,KAAMoE,EAAgC9D,EAAhC8D,aAAca,EAAkB3E,EAAlB2E,cACxBZ,GAAa,EAmBjB,OAlBID,IACAC,EAA2C,mBAAvBF,EAAQ,QAA2BA,EAAQ,QAG/DA,EAASnE,KAAU,EAAK71B,MAAMg6B,EAASnE,KACvCnzB,YAAW,WACP6F,EAAOC,UAAUnG,GACZoG,MAAK,SAAAC,GACF,EAAK+xB,SAAS/xB,GACTD,MAAK,SAAAgB,GAAI,eAAI,EAAKpJ,UAAL,oBACT25B,EAASnE,GAAQntB,GADR,eAETsxB,EAASnE,GAAQ,UAAYpsB,GAFpB,uBAGHqxB,GAAiB,EAAKC,oBAAsB5e,KAAK2O,MAAQ,EAAKiQ,mBAAqB,MAA+B,KAApB,OAAHryB,QAAG,IAAHA,GAAA,UAAAA,EAAKC,cAAL,eAAaqyB,OAAkBr5B,IAAKC,EAAE,4BAA6Bo4B,EAASnE,IAAS,IAH7K,YAM3B,GAGAqE,EAAa,uBAAKn1B,UAAWgvB,KAAI2F,eAApB,UAChB,uBAAK30B,UAAWgvB,KAAI0F,YAApB,UACI,eAAC,GAAD,CACI10B,UAAWA,EACXhD,aAAa,MACbP,WAAS,EACTuB,UAAQ,EACRW,QAAQ,WACRiC,KAAK,QACLtD,MAAOA,EACPqyB,aAAW,IAEf,eAAC,GAAD,CACIjrB,KAAM,EAAKzJ,MAAM,EAAKA,MAAMg6B,SAAS7D,EAAMN,MAAQ,WACnDrB,QAAM,EACNvyB,MAAO,CAAE8R,WAAY,GACrB1R,MAAM,MACN0C,UAAWA,EACXpB,QAAS,kBAAM,EAAKtD,SAAS,CAAEw6B,cAAc,UAGpD,EAAK76B,MAAM,EAAKA,MAAMg6B,SAAS7D,EAAMN,QAAU,sBAAK9wB,UAAW4J,YAAKolB,KAAIwF,UAAWxF,KAAI+F,eAAxC,SAAyDmB,IAAMC,qBAAqB,EAAKl7B,MAAMg6B,EAASnE,IAAQl0B,IAAK+C,iBACpKm2B,EAAe,eAAC,KAAD,CAEZM,YAAY,QACZC,WAAY,aACZxT,UAAWqT,IAAMI,eACjB9yB,OAAQA,EACR+yB,YAAY,EACZjxB,SAAUhI,EACVzC,QAAS,kBAAM,EAAKS,SAAS,CAAEw6B,cAAc,KAC7CU,KAAM,SAAClxB,EAAUnK,EAAMyI,GAAjB,OACF,EAAKtI,SAAS,CAAEw6B,cAAc,IAAS,kBAEnCtyB,EAAOC,UAAU6B,GACZ5B,MAAK,SAAAC,GAAQ,IAAD,EACT,EAAKqyB,mBAAqB5e,KAAK2O,MAC/BnoB,GAAQ,oBACHkzB,EAAOxrB,GADJ,eAEHwrB,EAAO,OAASntB,EAAIC,OAAO6yB,MAFxB,eAGH3F,EAAO,OAASntB,EAAIC,OAAOpE,MAHxB,eAIHsxB,EAAO,OAASntB,EAAIC,OAAOmvB,MAJxB,eAKHjC,EAAO,SAAWntB,EAAIC,OAAO8yB,QAL1B,eAMH5F,EAAO,MAAQntB,EAAIC,OAAOgvB,KANvB,eAOH9B,EAAO,MAAQntB,EAAIC,OAAOivB,KAPvB,eAQH/B,EAAO,OAASntB,EAAIC,OAAOkvB,MARxB,eASHhC,EAAO,MAAQntB,EAAIC,OAAO+D,KATvB,eAUHmpB,EAAO,QAAUntB,EAAIC,OAAOqyB,OAVzB,eAWHnF,EAAO,OAASntB,EAAIC,OAAO+yB,MAXxB,GAYL,MAAM,kBACL,EAAKh8B,MAAMi8B,aAAe,EAAKj8B,MAAMi8B,aAAY,cA3BjE,eA6BH,OApDoD9F,GAqDpD,MAxWY,EA2WzB+F,cAAgB,WACZ,OAAO,sBACH72B,UAAWgvB,KAAI8H,QACfl4B,QAAS,SAAAf,GACD,EAAK5C,MAAMg6B,SAAS8B,UAChB,EAAK97B,MAAM+7B,aAAar7B,OAAS,EACjC,EAAKs7B,cAEL,EAAK37B,SAAS,CAAE47B,YAAar5B,EAAEiV,kBAPxC,SAWF,EAAK7X,MAAMg6B,SAAS8B,WAvXJ,EA2XzBI,WAAa,SAAC/F,EAAO9zB,EAAOM,GACxB,IAAQkzB,EAAkEM,EAAlEN,KAAMyD,EAA4DnD,EAA5DmD,SAAUD,EAAkDlD,EAAlDkD,UAAWnC,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACnD,OAAO,uBAAgBz0B,UAAWgvB,KAAI0F,YAAax3B,MAAO,CAAEoR,WAAY,UAAjE,UACFgmB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIh3B,MAAOA,EACPM,SAAUA,IAEb22B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OANtEzD,IA7XI,EAuYzBsG,aAAe,SAAChG,EAAO9zB,EAAOM,GAC1B,IAAQoC,EAAc,EAAKrF,MAAnBqF,UACA7E,EAA4Gi2B,EAA5Gj2B,KAAM0iB,EAAsGuT,EAAtGvT,QAASyW,EAA6FlD,EAA7FkD,UAAWC,EAAkFnD,EAAlFmD,SAAUzD,EAAwEM,EAAxEN,KAAMD,EAAkEO,EAAlEP,SAAUsB,EAAwDf,EAAxDe,eAAgBC,EAAwChB,EAAxCgB,gBAAiBqC,EAAuBrD,EAAvBqD,mBAC7F,OAAO,uBAAgBz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAAiBz3B,MAAO,CAAEoR,WAAY,UAA3F,UACFgmB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgC13B,IAAKC,EAAEy3B,KACrD,eAAC,GAAD,CACIxD,KAAMA,EACNqB,eAAgBA,EAChBC,gBAAiBA,EACjB7xB,MAAOpF,EACP6E,UAAWA,EACX6d,QAASA,EACTvgB,MAAOA,EACPM,SAAUA,EACVizB,SAAUA,EACVlB,aAAW,IAEd4E,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAdtEzD,IA1YI,EA4ZzBuG,eAAiB,SAACjG,EAAO9zB,EAAOM,GAC5B,MAA8B,EAAKjD,MAA3BqF,EAAR,EAAQA,UAAWwD,EAAnB,EAAmBA,OACXrI,EAA0Fi2B,EAA1Fj2B,KAAM0iB,EAAoFuT,EAApFvT,QAASyW,EAA2ElD,EAA3EkD,UAAWC,EAAgEnD,EAAhEmD,SAAUzD,EAAsDM,EAAtDN,KAAMtsB,EAAgD4sB,EAAhD5sB,QAAS2tB,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBAC3E,OAAI,EAAKx5B,MAAMq8B,eAAe13B,SAASkxB,GAC5B,KAEJ,uBAAgB9wB,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAAiBz3B,MAAO,CAAEoR,WAAY,UAA3F,UACFgmB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIxD,KAAMA,EACNttB,OAAQA,EACRgB,QAASA,EACTjE,MAAOpF,EACP6E,UAAWA,EACX6d,QAASA,EACTvgB,MAAOA,EACPM,SAAUA,EACV+xB,aAAW,EACXoB,eAAgB,SAAAzzB,GAAK,OAAI,EAAKhC,SAAS,CAAEg8B,eAAe,GAAD,mBAAM,EAAKr8B,MAAMq8B,gBAAjB,CAAiCxG,MAAS,kBAAMlzB,EAASN,SAEnHi3B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAdtEzD,IAlaI,EAobzByG,aAAe,SAACnG,EAAO9zB,EAAOM,GAC1B,IAAQ45B,EAAsFpG,EAAtFoG,aAAclD,EAAwElD,EAAxEkD,UAAWC,EAA6DnD,EAA7DmD,SAAUzD,EAAmDM,EAAnDN,KAAMpsB,EAA6C0sB,EAA7C1sB,KAAMytB,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACvE,OAAO,uBAAgBz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAAiBz3B,MAAO,CAAEoR,WAAY,UAA3F,UACFgmB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACI/F,SAAU7pB,EACV1E,UAAW4J,YAAKolB,KAAIyI,YACpB74B,QAAS,SAAAf,GAAC,OAAI25B,GAAgBA,OAEjCjD,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OAPtEzD,IAtbI,EAiczB4G,iBAAmB,SAACtG,EAAO9zB,EAAOM,GAC9B,IAAQ+5B,EAAc,EAAK18B,MAAnB08B,UACA33B,EAAc,EAAKrF,MAAnBqF,UACA8wB,EAAwFM,EAAxFN,KAAM0D,EAAkFpD,EAAlFoD,UAAWF,EAAuElD,EAAvEkD,UAAWC,EAA4DnD,EAA5DmD,SAAUqD,EAAkDxG,EAAlDwG,WAAYzF,EAAsCf,EAAtCe,eAAgBsC,EAAsBrD,EAAtBqD,mBAC1E,OAAO,iCACH,uBAAKz0B,UAAW4J,YAAKolB,KAAI0F,YAAa1F,KAAI2F,gBAA1C,UACKL,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIt2B,WAAY45B,EACZ53B,UAAWA,EACXhD,aAAa,MACbP,WAAS,EACTkC,QAAQ,WACRiC,KAAK,QACLtD,MAAOA,EACPM,SAAUA,EACV+xB,aAAW,IAEf,eAAC,GAAD,CACIF,QAAM,EAENvyB,MAAO,CAAE8R,WAAY,GACrB1R,MAAM,MACN0C,UAAWA,EACXpB,QAAS,kBAAM,EAAKtD,SAAS,CAAEq8B,WAAW,OAE7CpD,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,QAEtFoD,EAAY,eAAC,GAAD,CACTj7B,MAAM,EACNi1B,QAAS,SAAArkB,GAAG,OACR,EAAKhS,SAAS,CAAEq8B,WAAW,IAAS,kBACxB,OAARrqB,QAAwBhE,IAARgE,GAAqB1P,EAAS0P,OACtDzS,QAAS,kBAAM,EAAKS,SAAS,CAAEq8B,WAAW,KAC1C9F,aAAcv0B,EACds0B,WAAW,IACV,KACJ4C,GAAa,sBAAKx0B,UAAWgvB,KAAIwF,UAApB,SAAgC53B,IAAKC,EAAE23B,OAjCxC1D,IArcI,EA0ezB+G,WAAa,SAACzG,EAAO9zB,EAAOM,GACxB,IAAQkzB,EAAkEM,EAAlEN,KAAMyD,EAA4DnD,EAA5DmD,SAAUD,EAAkDlD,EAAlDkD,UAAWnC,EAAuCf,EAAvCe,eAAgBsC,EAAuBrD,EAAvBqD,mBACnD,OAAO,uBAAgBz0B,UAAWgvB,KAAI0F,YAAax3B,MAAO,CAAEoR,WAAY,UAAjE,UACFgmB,GAAa,sBAAKt0B,UAAWgvB,KAAIsF,UAApB,SAAgCnC,EAAiBmC,EAAY13B,IAAKC,EAAEy3B,KAClF,eAAC,GAAD,CACIh3B,MAAOA,EACPM,SAAUA,IAEb22B,GAAY,sBAAKv0B,UAAWgvB,KAAIuF,SAApB,SAA+BE,EAAqBF,EAAW33B,IAAKC,EAAE03B,OANtEzD,IA5eI,EA+fzBgH,WAAa,WACT,MAAoC,EAAK78B,MAAnC+7B,EAAN,EAAMA,aAAcE,EAApB,EAAoBA,YACdH,EAAY,EAAK97B,MAAMg6B,SAAvB8B,QACF3uB,EAAqB,MAAZ2uB,GAA+B,OAAZA,GAAgC,OAAZA,GAAgC,OAAZA,GAAgC,MAAZA,GAA+B,OAAZA,GAAgC,MAAZA,GAA+B,MAAZA,EAAkBn6B,IAAKC,EAAEk6B,GAAWA,EA+C1L,OA9CIC,EAAar7B,QAAU,IACvByM,EAAS,iCACL,sBAAK,gBAAc,cAAc,gBAAc,OAC3CxJ,QAAS,SAAAf,GACL,EAAKvC,SAAS,CAAE47B,YAAar5B,EAAEiV,gBAAiB,WAC5C,EAAKnY,MAAMo9B,YACP,EAAKp9B,MAAMq9B,WAAa/D,IACxBt2B,YAAW,kBAAM,EAAKhD,MAAMs9B,YAAYhE,MAA0B,SALlF,SAOQ7rB,IACR,eAAC,IAAD,CACIlN,GAAG,cACHqW,SAAU2lB,EACVgB,aAAW,EACXx7B,KAAMszB,QAAQkH,GACdr8B,QAAS,kBAAM,EAAKS,SAAS,CAAE47B,YAAa,QALhD,SAOKF,EAAaz4B,KAAI,SAAA+D,GACd,IAAI61B,EAAM71B,EAIV,MAHkB,kBAAPA,IACP61B,EAAM71B,EAAG/B,OAEN,gBAAC/B,EAAA,EAAD,CAEH8G,SAAU6yB,IAAQpB,EAClB/2B,UAAW,YAAcm4B,EACzBj7B,MAAO,CAAEm0B,aAAc,iBACvBzyB,QAAS,WACL,IAAMq2B,EAAQ,6BAAQ,EAAKh6B,MAAMg6B,UAAnB,IAA6B8B,QAASoB,IACpD,EAAK78B,SAAS,CAAE47B,YAAa,KAAMjC,aAAY,WAC3C,EAAKt6B,MAAMiD,SAASq3B,GACpB,EAAKmD,YAAYD,MAEpB,EAAKx9B,MAAMo9B,aACP,EAAKp9B,MAAMq9B,WAAa/D,IACrB,EAAKt5B,MAAMq9B,WAAa/D,KACpB,aAARkE,GACAx6B,YAAW,kBAAM,EAAKhD,MAAMs9B,YAAYhE,MAAsB,MAfnE,WAiBmC,IAAlCkE,EAAIE,OAAO,kBAA2BF,EAAMv7B,IAAKC,EAAEs7B,GAAoB,kBAAP71B,GAAmBA,EAAGgvB,QAAU,sBAAKp0B,MAAO,CAAE8R,WAAY,GAA1B,SAAgCpS,IAAKC,EAAEyF,EAAGgvB,YAhBzI6G,YAuBlB/vB,GAjjBc,EAojBzB6uB,YAAc,WACV,MAA0D,EAAKh8B,MAAvD+7B,EAAR,EAAQA,aAAc/B,EAAtB,EAAsBA,SAAsB8B,EAA5C,EAAgC9B,SAAY8B,QACxCuB,EAAe,YAAOtB,GAK1B,GAJkC,kBAAvBsB,EAAgB,KACvBA,EAAkBA,EAAgB/5B,KAAI,SAAA+D,GAAE,OAAIA,EAAG/B,UAG/Cw2B,GAAWuB,EAAgB38B,OAAS,EAAG,CACvC,IAAM48B,EAAW,gBAAQtD,GACnBuD,EAAaF,GAAiBA,EAAgB32B,QAAQo1B,GAAW,GAAKuB,EAAgB38B,QAC5F48B,EAAYxB,QAAUyB,EACtB,EAAKl9B,SAAS,CAAE25B,SAAUsD,IAAe,WACrC,EAAK59B,MAAMiD,SAAS26B,GACpB,EAAKH,YAAYI,QAjkBJ,EAskBzBjd,kBAAoB,WAChB,EAAK6c,eAvkBgB,EA2kBzBxL,mBAAqB,SAAA6L,GACa,aAA1B,EAAK99B,MAAM+9B,YAA6B,EAAK/9B,MAAMg+B,UACnDh7B,YAAW,kBAAM,EAAKg7B,aAAY,IA7kBjB,EAilBzBC,cAAgB,SAAAC,GACZ,OAAO,SAACv7B,EAAOwzB,EAAMrkB,GACjB,IAAMwoB,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMg6B,WAEjC,kBAAV33B,GAAwBwzB,GAAwB,oBAATA,EAG9CmE,EAASnE,GAAQ+H,GAAav7B,EAF9BkL,OAAOC,KAAKnL,GAAO6E,SAAQ,SAAA22B,GAAK,OAAI7D,EAAS6D,GAASx7B,EAAMw7B,MAIhE7D,EAAS/5B,GAAK,EAAK69B,UAAU79B,GAC7B+5B,EAASnxB,IAAM,EAAKnJ,MAAMmJ,IAE1B,EAAKxI,SAAS,CAAE25B,aAAY,WACxB,EAAK+D,eAAe17B,EAAOwzB,GAAQ+H,GACnC,EAAKl+B,MAAMiD,SAASq3B,GACpBxoB,GAAMA,SAhmBO,EAmnBzBwsB,OAAS,WACL,MAA8F,EAAKh+B,MAA3Fi+B,EAAR,EAAQA,OAAQ/9B,EAAhB,EAAgBA,KAAMuJ,EAAtB,EAAsBA,KAAMoyB,EAA5B,EAA4BA,QAAS7B,EAArC,EAAqCA,SAAUzwB,EAA/C,EAA+CA,QAAqBuyB,EAApE,EAAwD9B,SAAY8B,QAAWoC,EAA/E,EAA+EA,WAC/E,EAA6B,EAAKx+B,MAA1B6I,EAAR,EAAQA,OAAQ41B,EAAhB,EAAgBA,SAEhB,OAAO,gBAAC,WAAD,WACFtC,EAAU,EAAKD,gBACZ,eAAC,GAAD,CACItI,SAAU7pB,EACV1E,UAAW4J,YAAKolB,KAAIqK,aAActC,GAAW,EAAK97B,MAAM+7B,aAAar7B,QAAUqzB,KAAIsK,wBACnF90B,QAASA,EACThB,OAAQA,EACR5E,QAAS,SAAAf,GACDk5B,IACI,EAAK97B,MAAM+7B,aAAar7B,OAAS,EACjC,EAAKs7B,cAEL,EAAK37B,SAAS,CAAE47B,YAAar5B,EAAEiV,oBAKnD,uBAAK9S,UAAWgvB,KAAIuK,UAApB,UACI,wBAAMv5B,UAAWgvB,KAAIwK,SAArB,UACK58B,IAAKC,EAAE1B,GACLi+B,EAAWx8B,IAAKC,EAAL,eAAuBo4B,EAAS/5B,IAAM,GACnDi+B,EAAa,eAAC5yB,EAAA,EAAD,CAAYvG,UAAWgvB,KAAIyK,SAAU74B,KAAK,QAAQhC,QAAS,kBAAM,EAAKtD,SAAS,CAAEo+B,SAAU98B,IAAKC,EAAEs8B,MAAlG,SAAkH,eAAC,KAAD,MAA4B,QAE/JD,EAAOj1B,QAAO,gBAAG01B,EAAH,EAAGA,WAAH,OAAoB,EAAKA,MACnCp7B,KAAI,SAAA6yB,GACD,IAAQuI,EAA4CvI,EAA5CuI,WAAY9H,EAAgCT,EAAhCS,aAAcf,EAAkBM,EAAlBN,KAAMjT,EAAYuT,EAAZvT,QACxC,OAAO,EAAK8b,GACRvI,OACmB9nB,IAAnB2rB,EAASnE,GAAsBmE,EAASnE,GAAQe,EAChD,EAAK+G,cAAc9H,GACnBjT,GAAW,UAI1BkZ,GAAW,sBAAK/2B,UAAWgvB,KAAI4K,eAAgB18B,MAAO,CAAE8M,QAAS,EAAG5I,OAAQ,GAAImU,KAAM,IAA3E,SACR,sBAAK3W,QAAS,kBAAM,EAAKq4B,eAAej3B,UAAW4J,YAAKolB,KAAI+H,QAAS,YAArE,SAAmF,EAAKe,iBAE3F,EAAK+B,kBACL,EAAK5+B,MAAM2G,MAAQ,eAAC,KAAD,CAAarB,MAAO3D,IAAKC,EAAE,WAAY6D,KAAM,EAAKzF,MAAM2G,MAAO/G,QAAS,kBAAM,EAAKS,SAAS,CAAEsG,MAAO,QAAY,KACpI,EAAK3G,MAAMy+B,SAAW,eAAC,IAAD,CAAen5B,MAAO3D,IAAKC,EAAE,gBAAiB6D,KAAM,EAAKzF,MAAMy+B,SAAU7+B,QAAS,kBAAM,EAAKS,SAAS,CAAEo+B,SAAU,QAAY,KACpJ,EAAKI,qBA7pBVt3B,EAAOA,GAAQ,GACf,IAAIyyB,EAAWt6B,EAAMs6B,UAAY,CAC7B8B,QAASv0B,EAAKw0B,aAA+C,kBAAzBx0B,EAAKw0B,aAAa,GAAkBx0B,EAAKw0B,aAAa,GAAGz2B,MAAQiC,EAAKw0B,aAAa,GAAK,IAJ3G,OAOhB/B,EAAS8B,SAAWv0B,EAAKw0B,eAC1B/B,EAAS8B,QAA0C,kBAAzBv0B,EAAKw0B,aAAa,GAAkBx0B,EAAKw0B,aAAa,GAAGz2B,MAAQiC,EAAKw0B,aAAa,IAGjH,EAAK/7B,MAAQ,CACTi+B,OAAQ12B,EAAK02B,QAAUv+B,EAAMu+B,QAAU,GACvC/9B,KAAMqH,EAAKrH,MAAQR,EAAMQ,MAAQ,GACjCuJ,KAAMlC,EAAKkC,MAAQ/J,EAAM+J,MAAQ,GACjCF,QAAShC,EAAKgC,SAAW7J,EAAM6J,SAAW,GAC1C20B,WAAY32B,EAAK22B,YAAcx+B,EAAMw+B,YAAc,GAEnDnC,aAAcx0B,EAAKw0B,cAAgB,GAEnClB,cAAc,EACdoB,aAAa,EACbS,WAAW,EACXb,SAAS,EACTl1B,MAAO,GACP83B,SAAU,GAEVK,IAAK,GACLC,yBAA0B,GAC1BC,qBAAsB,GAEtB3C,eAAgB,GAEhBrC,WACAiF,aAAc,KACdC,iBAAkB,EAAKx/B,MAAMw/B,kBAGjC,EAAKC,iBAAmB,KAtCH,E,oEAyCzB,SAAiCh+B,GAAY,IAAD,OACxC,GAAKA,GAAcA,EAAU64B,SAA7B,CAKA,IAAMA,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAUhR,EAAU64B,YAChDA,EAAS8B,SAAW56B,KAAKlB,MAAM+7B,cAAgB76B,KAAKlB,MAAM+7B,aAAar7B,SACxEs5B,EAAS8B,QAAgD,kBAA/B56B,KAAKlB,MAAM+7B,aAAa,GAAkB76B,KAAKlB,MAAM+7B,aAAa,GAAGz2B,MAAQpE,KAAKlB,MAAM+7B,aAAa,IAGnI,IAAIvpB,EAAW,KAEXrR,EAAUi+B,gBAAkBj+B,EAAUi+B,eAAeC,UAAYn+B,KAAKxB,MAAMmJ,OAC5E2J,EAAW,IACFysB,aAAe5vB,KAAKC,MAAMD,KAAK8C,UAAUhR,EAAUi+B,iBAC5Dl+B,KAAKi+B,kBAAoB5nB,aAAarW,KAAKi+B,kBAC3Cj+B,KAAKi+B,iBAAmBz8B,YAAW,kBAC/B,EAAKrC,SAAS,CAAE4+B,aAAc,SAC9B99B,EAAUi+B,eAAeE,aAAe,MAG5CjwB,KAAK8C,UAAU6nB,KAAc3qB,KAAK8C,UAAUjR,KAAKlB,MAAMg6B,aACvDxnB,EAAWA,GAAY,IACdwnB,SAAWA,GAGpB94B,KAAKlB,MAAMk/B,mBAAqB/9B,EAAU+9B,oBAC1C1sB,EAAWA,GAAY,IACd0sB,iBAAmB/9B,EAAU+9B,kBAG1C1sB,GAAYtR,KAAKb,SAASmS,QA9BtB9K,QAAQC,IAAI0H,KAAK8C,UAAUhR,M,kCAiCnC,WACID,KAAKi+B,kBAAoB5nB,aAAarW,KAAKi+B,kBAC3Cj+B,KAAKi+B,iBAAmB,O,yBAI5B,SAAYrD,EAAStqB,GAEjB,IAAIY,GAAU,EACV4nB,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMg6B,WACpD94B,KAAKlB,MAAMi+B,OAAO/2B,SAAQ,SAAAivB,GAClBA,EAAMN,WAA+BxnB,IAAvB8nB,EAAMS,mBACSvoB,IAAzB2rB,EAAS7D,EAAMN,QACfzjB,GAAU,EACV4nB,EAAS7D,EAAMN,MAAQM,EAAMS,iBAIrCxkB,GACAlR,KAAKb,SAAS,CAAE25B,aAAY,kBAAMxoB,GAAMA,OACxCtQ,KAAKxB,MAAMiD,SAASq3B,IAEpBxoB,GAAMA,M,sBAKd,c,4BAKA,SAAenP,EAAOwzB,M,4BAyftB,WACI,OAAO,O,6BAGX,WACI,OAAI30B,KAAKlB,MAAMi/B,aACJ,sBAAKl6B,UAAWgvB,KAAIwL,UAA4Ct9B,MAAO,CAAE8M,QAAS,EAAG5I,OAAQ,GAAIihB,QAAS,IAA1G,SACFlmB,KAAKs+B,YAAct+B,KAAKs+B,YAAYt+B,KAAKlB,MAAMi/B,cAAgBt9B,IAAKC,EAAE,aADhCV,KAAKlB,MAAMi/B,aAAa7iB,IAI5D,Q,gCAzHf,SAAyBqjB,GAAU,IAAD,EAC1Bp9B,EAAQ,GAIZ,OAHA,UAAIo9B,EAAQC,eAAZ,aAAI,EAAiBC,WACjBt9B,EAAQ,8IAELA,M,GA5fYu9B,iBC1BrBC,GAAe,CACjB,GAAY,CAAC3/B,KAAM,mBAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,GAAY,CAAC5/B,KAAM,mBAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,GAAY,CAAC5/B,KAAM,sDAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,GAAY,CAAC5/B,KAAM,oBAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,GAAY,CAAC5/B,KAAM,oBAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,GAAY,CAAC5/B,KAAM,uBAA4BwN,OAAQ,SAAWoyB,OAAQ,IAC1E,MAAY,CAAC5/B,KAAM,sDAA4BwN,OAAQ,SAAWoyB,OAAQ,CAAC,MAAO,QAAS,UAAW,MAAO,QAAS,SAAUC,MAAO,CAAC,OAAQ,SAAUC,QAAS,CAAC,OAAQ,OAAQ,UAAW,OAAQ,UACvM,YAAiB,CAAC9/B,KAAM,4DAA4BwN,OAAQ,cAAgBoyB,OAAQ,CAAC,MAAO,WAAY,QAAS,WAAYC,MAAO,CAAC,QAAS,SAAU,OAAQ,SAAUC,QAAS,CAAE,OAAQ,UAAW,SAExM,QAAY,CAAC9/B,KAAM,wBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAC1E,QAAY,CAAC5/B,KAAM,wBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAC1E,QAAY,CAAC5/B,KAAM,oBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAC1E,QAAY,CAAC5/B,KAAM,qBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAC1E,QAAY,CAAC5/B,KAAM,qBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAC1E,QAAY,CAAC5/B,KAAM,wBAA4BwN,OAAQ,UAAWoyB,OAAQ,IAE1E,qBAA4B,CAACG,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,mGACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,6FACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,6BACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,0BACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,+BACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,+BACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,yBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,0BAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,yBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,YAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,wCACpJ,uBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,YAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,oCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,oCACpJ,4BAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,wBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,+BACpJ,yBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,8BAA+B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAWghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,qCACpJ,0BAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,4BAA6B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAaghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,8BAA+B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAWghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,qCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,qCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,qCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,oCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,+BACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,+BAA+B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAQoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,YAAcC,MAAM,EAAMjgC,KAAM,sCACpJ,yBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,yBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,gCACpJ,uBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,8BACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,oCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,kCACpJ,mBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,YAAcC,MAAM,EAAMjgC,KAAM,oCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,iCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,mCACpJ,qBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,SAAU5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,kCAEpJ,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,uGAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,iGAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,iCAC/K,wBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,+BAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,8BAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,mCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,mCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,sBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,uBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,sBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,YAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,4CAC/K,oBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,YAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,0CAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,wCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,wCAC/K,yBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,qBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,mCAC/K,sBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,2BAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,yCAC/K,uBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,yBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,2BAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,yCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,yCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,WAAcC,MAAM,EAAMjgC,KAAM,yCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,wCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,mCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,4BAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,YAAcC,MAAM,EAAMjgC,KAAM,0CAC/K,sBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,sBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,oCAC/K,oBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,MAAcC,MAAM,EAAMjgC,KAAM,kCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,wCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,UAAcC,MAAM,EAAMjgC,KAAM,sCAC/K,gBAA4B,CAAC+/B,OAAQ,OAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,YAAcC,MAAM,EAAMjgC,KAAM,wCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,OAAcC,MAAM,EAAMjgC,KAAM,qCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,SAAcC,MAAM,EAAMjgC,KAAM,uCAC/K,kBAA4B,CAAC+/B,OAAQ,SAAUvyB,OAAQ,QAAWoyB,OAAQ,CAAC,YAAa,YAAa,UAAW5gB,SAAU,QAAcghB,MAAO,QAAcC,MAAM,EAAMjgC,KAAM,uCAqFpKkgC,G,kDAjFX,WAAY1gC,GAAQ,uCACVA,EAAO0gC,EAAcC,iB,+CAe/B,SAAYpB,GACR,MAAM,GAAN,OAAUt9B,IAAKC,EAAE,QAAjB,YAA4Bq9B,EAAahyB,KAAKxH,Q,yBAGlD,SAAYq2B,GAAU,IAAD,OACXr3B,EAAO9C,IAAK+C,cAEZke,EADYrV,OAAOC,KAAKqyB,IAAc72B,QAAO,SAAAkjB,GAAC,OAAIA,EAAEpiB,WAAWrF,MAC3CnB,KAAI,SAAAmB,GAAI,MAAK,CAACa,MAAOu6B,GAAap7B,GAAMvE,KAAMmC,MAAOoC,MAC/Eme,EAAQqT,QAAQ,CAAC3wB,MAAO,UAAWjD,MAAO,MAE1CnB,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIpI,KAAM,WACN6I,WAAY,iBACZn1B,QAAS,QACTqtB,aAAc,UACdyC,UAAW,aAEf,CACIqF,WAAY,eACZrF,UAAW,YACXzW,UACAgU,aAAc,IACdf,KAAM,YAEV,CACI6I,WAAY,iBACZ9H,aAAc,SACdf,KAAM,WAEV,CACI6I,WAAY,eACZ7I,KAAM,SACNe,aAAc,IACde,IAAK,EACLC,IAAK,KAET,CACI/B,KAAM,OACN6I,WAAY,mBACZ9H,aAAc,QACd2C,UAAW,GACXF,UAAW,YAGpB,+BAAC,kDAAuByC,Q,qBAc/B,WACI,OAAOsE,EAAcC,mB,sBAzEzB,SAAeC,EAAQb,GACnB,OAAKa,EAAO76B,KAIF,YAAN,OAAmB66B,EAAO76B,MAAQ,GAAlC,mCACY66B,EAAOz3B,IADnB,eAC6By3B,EAAOphB,UAAgC,MAApBohB,EAAOphB,SAAmBohB,EAAOphB,SAAW,IAAM,IADlG,OACuGohB,EAAOC,OAASD,EAAOC,OAAS,IAAM,IAD7I,QACmJD,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OADpL,YAC8Lk4B,GAAaqH,kBAAkBf,GAD7N,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,yCAGey3B,EAAOngC,SAHtB,mCAGyDmgC,EAAOz3B,IAHhE,MAHM,uCAAN,OACMy3B,EAAOz3B,IADb,mC,2BA2DR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,SACND,GAAI,gBACJsJ,QAAS,QACTjE,MAAO,kCACP44B,WAAY,6G,GAzEI/E,ICjDbsH,G,kDA1EX,WAAY/gC,GAAQ,uCACVA,EAAO+gC,EAAgBJ,iB,+CAmBjC,SAAYpB,GACR,MAAM,GAAN,OAAUt9B,IAAKC,EAAE,SAAjB,YAA6Bq9B,EAAahyB,KAAKxH,Q,yBAGnD,SAAYq2B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIpI,KAAM,WACN6I,WAAY,iBACZ9H,aAAc,UACdyC,UAAW,YACX9vB,QAAS,SAEb,CACIssB,KAAM,aACN6I,WAAY,aACZ9H,aAAc,eACdyC,UAAW,OAEf,CACIxD,KAAM,UACN6I,WAAY,aACZ9H,aAAc,sBACd2C,UAAW,GACXF,UAAW,YAEf,CACIxD,KAAM,OACN6I,WAAY,mBACZ9H,aAAc,sBACd2C,UAAW,GACXF,UAAW,YAGpB,+BAAC,kDAAuByC,Q,qBAc/B,WACI,OAAO2E,EAAgBJ,mB,sBAlE3B,SAAeC,EAAQb,GACnB,OAAKa,EAAOI,WAIF,iBAAN,OAAwBJ,EAAO76B,MAAQ,GAAvC,mCACY66B,EAAOz3B,IADnB,gBAC8By3B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OAD/D,YACyEk4B,GAAaqH,kBAAkBf,GADxG,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,4BAGEy3B,EAAOngC,UAAY,UAHrB,mCAIQmgC,EAAOI,YAAc,GAJ7B,kCAKSJ,EAAOK,SAAW,YAAY1/B,QAAQ,KAAM,OALrD,YAK+Dk4B,GAAaqH,kBAAkBf,GAL9F,2CAMmBa,EAAOz3B,IAN1B,aAHM,8CAAN,OACMy3B,EAAOz3B,IADb,yC,2BAoDR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,aACND,GAAI,kBACJsJ,QAAS,QACTjE,MAAO,iBACP44B,WAAY,6G,GAlEM/E,ICuHfyH,G,kDAtHX,WAAYlhC,GAAQ,IAAD,8BACf,cAAMA,EAAOkhC,EAAeP,kBACvBQ,cAAgB,GAFN,E,+CAkBnB,SAAY5B,GACR,MAAM,GAAN,OAAUt9B,IAAKC,EAAE,SAAjB,YAA6Bq9B,EAAahyB,KAAKxH,Q,4BAGnD,SAAepD,EAAOwzB,GACL,aAATA,GACA30B,KAAK4/B,UAAUz+B,K,uBAIvB,SAAUlC,GAAW,IAAD,OAGhB,GAFAA,EAAWA,GAAYe,KAAKlB,MAAMg6B,SAAS75B,UAAY,aACvDe,KAAK2/B,cAAc1gC,GAAYe,KAAK2/B,cAAc1gC,IAAae,KAAKxB,MAAM6I,OAAOuJ,SAAS3R,EAAW,uBAChGe,KAAKlB,MAAMg6B,SAASnxB,IACrB,OAAO3H,KAAKb,SAAS,CACjB49B,OAAQ,CACJ,CACIS,WAAY,eACZn1B,QAAS,WACT8vB,UAAW,YACXzC,aAAc,aACdf,KAAM,YAEV,CACI6I,WAAY,eACZ7I,KAAM,OACNjT,QAAS,CAAC,CAACtd,MAAO,aAAcjD,MAAO,eACvCu0B,aAAc,GACdyC,UAAW,SAEf,CACIqF,WAAY,mBACZ7I,KAAM,OACNe,aAAc,QACd2C,UAAW,GACXF,UAAW,YAGpB,+BAAC,sDAGRn4B,KAAK2/B,cAAc1gC,GACdsI,MAAK,SAAAs4B,GACF,IAAK,IAAD,GAGAA,GADAA,GADAA,GAAa,QAAL,EAAAA,SAAA,eAAO1uB,KAAMhD,KAAKC,MAAMyxB,EAAM1uB,KAAO,OAC5B9E,OAAOC,KAAKuzB,GAAOz9B,KAAI,SAAA09B,GAAI,MAAK,CAAC17B,MAAOy7B,EAAMC,GAAMC,UAAYF,EAAMC,GAAME,UAAW7+B,MAAO2+B,QAC9F,IACX/K,QAAQ,CAAC3wB,MAAO,MAAOjD,MAAO,KACtC,MAAOO,GACLm+B,EAAQ,CAAC,CAACz7B,MAAO,MAAOjD,MAAO,KAGnC,EAAKhC,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZn1B,QAAS,WACT8vB,UAAW,YACXzC,aAAc,aACdf,KAAM,YAEV,CACI6I,WAAY,eACZ7I,KAAM,OACNjT,QAASme,EACTnK,aAAc,IACdyC,UAAW,SAEf,CACIqF,WAAY,mBACZ7I,KAAM,OACNe,aAAc,QACd2C,UAAW,GACXF,UAAW,YAGpB,+BAAC,2D,yBAIhB,SAAYyC,GACR56B,KAAK4/B,c,qBAcT,WACI,OAAOF,EAAeP,mB,sBA7G1B,SAAeC,EAAQb,GACnB,IAAIh6B,GAAQ66B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OAC7C,OAAKwE,EAIK,eAAN,OAAsBA,GAAQ,GAA9B,mCACY66B,EAAOz3B,IADnB,gBAC8BpD,GAAQ,IAAIxE,QAAQ,KAAM,OADxD,YACkEk4B,GAAaqH,kBAAkBf,GADjG,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,4BAGEy3B,EAAOngC,SAHT,sBAG+BmgC,EAAOU,MAAwB,MAAhBV,EAAOU,KAAtB,mBAAiDV,EAAOU,MAAQ,IAAI//B,QAAQ,KAAM,OAAlF,gCAAgHq/B,EAAOz3B,IAAvH,2BAA+Iy3B,EAAOz3B,KAHrL,MAHM,uCAAN,OACMy3B,EAAOz3B,IADb,mC,2BA8FR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,WACND,GAAI,iBACJsJ,QAAS,WACTjE,MAAO,6BACP44B,WAAY,6G,GA9GK/E,ICiHdgI,G,kDAjHX,WAAYzhC,GAAQ,IAAD,8BACf,cAAMA,EAAOyhC,EAAed,kBACvBQ,cAAgB,GAFN,E,+CAuBnB,SAAY5B,GACR,MAAO,SAAWA,EAAahyB,KAAKxH,O,yBAGxC,SAAYq2B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZn1B,QAAS,WACT8vB,UAAW,YACXzC,aAAc,aACdf,KAAM,YAEV,CACI6I,WAAY,mBACZ7I,KAAM,OACNe,aAAc,QACd2C,UAAW,GACXF,UAAW,SAEf,CACIqF,WAAY,aACZ7I,KAAM,QACNe,aAAc,WACdyC,UAAW,UAEf,CACIqF,WAAY,eACZ7I,KAAM,QACNe,aAAc,QACdyC,UAAW,SACXnC,gBAAgB,EAChBtU,QAAS,CACL,CAACvgB,MAAO,WAAYiD,MAAO,YAC3B,CAACjD,MAAO,OAAQiD,MAAO,QACvB,CAACjD,MAAO,QAASiD,MAAO,SACxB,CAACjD,MAAO,eAAgBiD,MAAO,gBAC/B,CAACjD,MAAO,YAAaiD,MAAO,aAC5B,CAACjD,MAAO,SAAUiD,MAAO,UACzB,CAACjD,MAAO,UAAWiD,MAAO,WAC1B,CAACjD,MAAO,UAAWiD,MAAO,WAC1B,CAACjD,MAAO,WAAYiD,MAAO,YAC3B,CAACjD,MAAO,eAAgBiD,MAAO,gBAC/B,CAACjD,MAAO,QAASiD,MAAO,SACxB,CAACjD,MAAO,aAAciD,MAAO,cAC7B,CAACjD,MAAO,WAAYiD,MAAO,YAC3B,CAACjD,MAAO,QAASiD,MAAO,SACxB,CAACjD,MAAO,aAAciD,MAAO,cAC7B,CAACjD,MAAO,UAAWiD,MAAO,WAC1B,CAACjD,MAAO,QAASiD,MAAO,SACxB,CAACjD,MAAO,QAASiD,MAAO,SACxB,CAACjD,MAAO,aAAciD,MAAO,cAC7B,CAACjD,MAAO,OAAQiD,MAAO,QACvB,CAACjD,MAAO,SAAUiD,MAAO,UACzB,CAACjD,MAAO,OAAQiD,MAAO,UAG/B,CACIo5B,WAAY,eACZ7I,KAAM,WACNe,cAAe,EACfyC,UAAW,YACXzW,QAAS,CACL,CAACvgB,OAAQ,EAAGiD,MAAO,SACnB,CAACjD,MAAO,EAAGiD,MAAO,UAClB,CAACjD,MAAO,EAAGiD,MAAO,iBAClB,CAACjD,MAAO,EAAGiD,MAAO,uBAI/B,+BAAC,wD,qBAcR,WACI,OAAO67B,EAAed,mB,sBAxG1B,SAAeC,EAAQb,GACnB,IAAIh6B,GAAQ66B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OAC7C,OAAKwE,EAIK,eAAN,OAAsB66B,EAAO76B,MAAQ,GAArC,mCACY66B,EAAOz3B,IADnB,eAC6BpD,EAD7B,YACqC0zB,GAAaqH,kBAAkBf,GADpE,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,0CAGEy3B,EAAOngC,SAHT,sDAImBmgC,EAAOz3B,IAJ1B,+BAKOy3B,EAAOh7B,OAAS,IAAIrE,QAAQ,KAAM,OALzC,YAKmDk4B,GAAaqH,kBAAkBf,GALlF,8BAMMa,EAAOc,MANb,iCAOQd,EAAOe,SAPf,aAHM,uCAAN,OACMf,EAAOz3B,IADb,mC,2BAyFR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,WACND,GAAI,iBACJsJ,QAAS,WACTjE,MAAO,6BACP44B,WAAY,6G,GAzGK/E,ICoEdmI,G,kDAlEX,WAAY5hC,GAAQ,IAAD,8BACf,cAAMA,EAAO4hC,EAAkBjB,kBAC1BQ,cAAgB,GAFN,E,+CAkBnB,SAAY5B,GACR,MAAM,GAAN,OAAUt9B,IAAKC,EAAE,SAAjB,YAA6Bq9B,EAAahyB,KAAKxH,Q,yBAGnD,SAAYq2B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZn1B,QAAS,eACT8vB,UAAW,YACXzC,aAAc,iBACdf,KAAM,YAEV,CACI6I,WAAY,mBACZ7I,KAAM,OACNe,aAAc,QACd2C,UAAW,GACXF,UAAW,SAEf,CACIqF,WAAY,aACZ7I,KAAM,QACNe,aAAc,GACdyC,UAAW,SACXC,SAAU,iBAGnB,+BAAC,wD,qBAcR,WACI,OAAOgI,EAAkBjB,mB,sBAzD7B,SAAeC,EAAQb,GACnB,IAAIh6B,GAAQ66B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OAC7C,OAAKwE,EAIK,eAAN,OAAsBA,GAAQ,GAA9B,mCACY66B,EAAOz3B,IADnB,gBAC8BpD,GAAQ,IAAIxE,QAAQ,KAAM,OADxD,YACkEk4B,GAAaqH,kBAAkBf,GADjG,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,4BAGEy3B,EAAOngC,SAHT,yCAGkDmgC,EAAOz3B,KAHzD,OAG+Dy3B,EAAOiB,MAAP,oBAA4BjB,EAAOiB,MAAMtgC,QAAQ,KAAM,OAAvD,KAAmE,GAHlI,OAHM,uCAAN,OACMq/B,EAAOz3B,IADb,mC,2BA0CR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,eACND,GAAI,oBACJsJ,QAAS,eACTjE,MAAO,iCACP44B,WAAY,6G,GA1DQ/E,IC0KjBqI,G,kDA1KX,WAAY9hC,GAAQ,IAAD,8BACf,cAAMA,EAAO8hC,EAAgBnB,kBACxBQ,cAAgB,GAFN,E,+CAyBnB,SAAY5B,GACR,MAAO,SAAWA,EAAahyB,KAAKxH,O,yBAGxC,SAAYq2B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZn1B,QAAS,YACT8vB,UAAW,YACXzC,aAAc,cACdf,KAAM,YAEV,CACI6I,WAAY,mBACZ7I,KAAM,OACNe,aAAc,QACd2C,UAAW,GACXF,UAAW,SAEf,CACIqF,WAAY,aACZ7I,KAAM,QACNe,aAAc,WACdyC,UAAW,UAEf,CACIqF,WAAY,eACZ7I,KAAM,QACNe,aAAc,QACdyC,UAAW,SACXnC,gBAAgB,EAChBtU,QAAS,CACL,CAACvgB,MAAO,IAAKiD,MAAO,kBACpB,CAACjD,MAAO,KAAMiD,MAAO,UACrB,CAACjD,MAAO,KAAMiD,MAAO,aACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,cACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,kBACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,qBACrB,CAACjD,MAAO,KAAMiD,MAAO,0BACrB,CAACjD,MAAO,KAAMiD,MAAO,kBACrB,CAACjD,MAAO,KAAMiD,MAAO,wBACrB,CAACjD,MAAO,KAAMiD,MAAO,0BACrB,CAACjD,MAAO,KAAMiD,MAAO,qBACrB,CAACjD,MAAO,KAAMiD,MAAO,eACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,iBACrB,CAACjD,MAAO,KAAMiD,MAAO,uBACrB,CAACjD,MAAO,KAAMiD,MAAO,wBACrB,CAACjD,MAAO,KAAMiD,MAAO,UACrB,CAACjD,MAAO,KAAMiD,MAAO,qBACrB,CAACjD,MAAO,KAAMiD,MAAO,OACrB,CAACjD,MAAO,KAAMiD,MAAO,kBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,iBACrB,CAACjD,MAAO,KAAMiD,MAAO,iBACrB,CAACjD,MAAO,KAAMiD,MAAO,yBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,kBACrB,CAACjD,MAAO,KAAMiD,MAAO,cACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,wBACrB,CAACjD,MAAO,KAAMiD,MAAO,8BACrB,CAACjD,MAAO,KAAMiD,MAAO,qBACrB,CAACjD,MAAO,KAAMiD,MAAO,eACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,cACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,eACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,gBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,yBACrB,CAACjD,MAAO,KAAMiD,MAAO,uBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,qBACrB,CAACjD,MAAO,KAAMiD,MAAO,wBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,oBACrB,CAACjD,MAAO,KAAMiD,MAAO,mBACrB,CAACjD,MAAO,KAAMiD,MAAO,sBACrB,CAACjD,MAAO,KAAMiD,MAAO,eACrB,CAACjD,MAAO,KAAMiD,MAAO,gBAG7B,CACIo5B,WAAY,eACZ7I,KAAM,WACNe,aAAc,EACdyC,UAAW,YACXzW,QAAS,CACL,CAACvgB,OAAQ,EAAGiD,MAAO,mBACnB,CAACjD,OAAQ,EAAGiD,MAAO,kBACnB,CAACjD,MAAO,EAAGiD,MAAO,mBAClB,CAACjD,MAAO,EAAGiD,MAAO,iBAClB,CAACjD,MAAO,EAAGiD,MAAO,sBAG1B,CACIo5B,WAAY,eACZ7I,KAAM,YACNe,aAAc,EACdyC,UAAW,aACXzW,QAAS,CACL,CAACvgB,MAAO,IAAKiD,MAAO,WACpB,CAACjD,MAAO,EAAGiD,MAAO,KAClB,CAACjD,MAAO,EAAGiD,MAAO,KAClB,CAACjD,MAAO,EAAGiD,MAAO,UAI/B,+BAAC,wD,qBAcR,WACI,OAAOk8B,EAAgBnB,mB,sBAjK3B,SAAeC,EAAQb,GACnB,IAAIh6B,GAAQ66B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OAC7C,OAAKwE,EAIK,gBAAN,OAAuB66B,EAAO76B,MAAQ,GAAtC,mCACY66B,EAAOz3B,IADnB,eAC6BpD,EAD7B,YACqC0zB,GAAaqH,kBAAkBf,GADpE,kCAEUa,EAAOz3B,IAFjB,gCAE4Cy3B,EAAOz3B,IAFnD,wCAGEy3B,EAAOngC,SAHT,sDAImBmgC,EAAOz3B,IAJ1B,+BAKOy3B,EAAOh7B,OAAS,IAAIrE,QAAQ,KAAM,OALzC,YAKmDk4B,GAAaqH,kBAAkBf,GALlF,sBAMFa,EAAOmB,OAAP,mBAA4BnB,EAAOmB,OAAnC,MAAgD,GAN9C,qBAOFnB,EAAOc,OAA0B,MAAjBd,EAAOc,MAAvB,kBAAkDd,EAAOc,MAAzD,MAAqE,GAPnE,+BAQQd,EAAOe,SARf,sBASFf,EAAOoB,WAAkC,MAArBpB,EAAOoB,UAA3B,qBAA6DpB,EAAOoB,UAApE,KAAmF,GATjF,aAHM,uCAAN,OACMpB,EAAOz3B,IADb,mC,2BAkJR,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,YACND,GAAI,kBACJsJ,QAAS,YACTjE,MAAO,8BACP44B,WAAY,6G,GAlKM/E,ICwExBwI,GAAe,CACjBC,SAAU,GACVC,WAAY,CAAC,IACbC,WAAW,EACXC,QAAS,CACLt5B,KAAM,GACN,KAAQ,KAIhB,SAASu5B,GAAgBC,EAAMxC,EAAS/U,GACpC,IAAMkX,EAAW,GACbM,EAAeD,EAAKL,SACnBM,EAAaxhC,SACdwhC,EAAe,CAAC,CAACjiC,GAAI,uBAGzB,IAAMwuB,EAAO,GACT0T,EAAW,GACXC,EAAOH,EAAKJ,WAAWv6B,MAAK,SAAA+6B,GAAK,OAAIA,EAAM/6B,MAAK,SAAAg7B,GAAI,MAAqB,OAAjBA,EAAKxG,cAEjEoG,EAAah7B,SAAQ,SAACw4B,EAASt4B,GAC3B,IAAM0S,EAAQyoB,GAAU7C,EAAQz/B,GAAIyqB,GACpC,GAAI5Q,EAAO,CACP,IAAM0oB,EAAW,CACb9C,UACA+C,UAAW,GACXX,WAAWM,IAAgBH,EAAKH,YAAeG,EAAKJ,WAAWnhC,SAAWuhC,EAAKJ,WAAW,GAAGnhC,QAC7FgiC,gBAAiB,GACjBC,eAAgB,IAEdl9B,EAAOqU,EAAM8oB,QAAQlD,EAAS8C,GAC9BX,EAuDlB,SAA2BA,EAAYpC,EAAS/U,GAC5C,IAAIvd,EAAS,GACT/F,EAAI,EAqBR,OApBAy6B,GAAcA,EAAW36B,SAAQ,SAAA27B,GAC7B,GAAIA,EAAIvkB,eAAe,WAAaukB,EAAIniC,OAAQ,CAC5C,IAAMoiC,EAAO,GACbA,GAAQD,EAAI37B,SAAQ,SAAAmlB,GAChB,IAAMvS,EAAQyoB,GAAUlW,EAAMpsB,GAAIyqB,GAC9B5Q,IACA2lB,EAAQgD,UAAUp1B,MAAQjG,IAC1B07B,EAAKt7B,KAAKsS,EAAM8oB,QAAQvW,EAAOoT,QAGvCtyB,EAAO3F,KAAK,IAAMs7B,EAAK9hC,KAAK,6BAA+B,SACxD,CACH,IAAM8Y,EAAQyoB,GAAUM,EAAI5iC,GAAIyqB,GAC5B5Q,IACA2lB,EAAQgD,UAAUp1B,MAAQjG,IAC1B+F,EAAO3F,KAAKsS,EAAM8oB,QAAQC,EAAKpD,SAKtCtyB,EAAOzM,OAGU,IAAlByM,EAAOzM,OACAyM,EAAO,IAAM,OAEb,IAAMA,EAAOnM,KAAK,UAAY,IAL9B,OA/EgB+hC,CAAkBd,EAAKJ,WAAYW,EAAU9X,GAC1DjiB,EAAOu6B,GAAef,EAAKF,QAAQt5B,KAAM+5B,EAAU9X,GACnDuY,EAAQD,GAAef,EAAKF,QAAQmB,KAAMV,EAAU9X,GAG1D+D,EAAKjnB,KAAK,OAASJ,GAEfo7B,EAASL,UAAYK,EAASL,SAASzhC,QACvC8hC,EAASL,SAASj7B,SAAQ,SAAAi8B,GAAI,OAAIhB,EAAS36B,KAAK27B,MAGhD19B,EAAKd,SAAS,iCACd69B,EAASG,eAAiBH,EAASG,eAAer/B,KAAI,SAAC8zB,EAAGhwB,GAAJ,OAAUA,EAAI,OAASgwB,EAAIA,KACjFoL,EAASE,gBAAkBF,EAASE,gBAAgBp/B,KAAI,SAAC8zB,EAAGhwB,GAAJ,OAAUA,EAAI,OAASgwB,EAAIA,MAGvFwK,EAASp6B,KACL/B,EACKxE,QAAQ,0BAA2BuhC,EAASG,eAAe3hC,KAAK,OAChEC,QAAQ,8BAA+BuhC,EAASE,gBAAgB1hC,KAAK,OACrEC,QAAQ,oBAAqB4gC,GAC7B5gC,QAAQ,eAAgBwH,GAAQ,aAChCxH,QAAQ,eAAgBgiC,GAAS,aACjChiC,QAAQ,iBAAkB,OAASmG,QAKpD,IAAI3B,EAAOm8B,EAAS5gC,KAAK,QASzB,OAPKihC,EAAKH,YAAaM,IACnB38B,EAAOgpB,EAAKnrB,KAAI,SAAA8zB,GAAC,oBAAWA,EAAX,gBAAyBp2B,KAAK,MAAQ,OAASyE,GAEhE08B,IACA18B,EAAO08B,EAASnhC,KAAK,MAAQ,OAASyE,GAGnCA,EAGX,SAAS88B,GAAUh+B,EAAMmmB,GACrB,OAAOA,EAAOpjB,MAAK,SAAA+kB,GAAK,OAAIA,EAAMgU,eAAiBhU,EAAMgU,gBAAgBpgC,KAAOsE,KAGpF,SAASy+B,GAAejB,EAAStC,EAAS/U,GACtC,IAAIvd,EAAS,GAOb,OANA40B,GAAWA,EAAQ76B,SAAQ,SAAAk8B,GACvB,IAAMtpB,EAAQyoB,GAAUa,EAAOnjC,GAAIyqB,GAC/B5Q,GACA3M,EAAO3F,KAAKsS,EAAM8oB,QAAQQ,EAAQ3D,OAGnC,cAAOtyB,EAAOnM,KAAK,eAAiB,EAoC/C,SAAS4hC,GAAQX,EAAMvX,GACnB,OAAOsX,GAAgBC,EAAM,EAAMvX,GAkCvC,IAWe2Y,GAXC,CACZC,UA/BJ,SAAmBzjB,GACf,IAAKA,EACD,OAAO8hB,GAEP,IAAM9lB,EAAQgE,EAAK/e,MAAM,MACzB,IACI,IAAImhC,EAAOpmB,EAAM9a,MAAME,QAAQ,QAAS,IAKxC,OAJAghC,EAAO5yB,KAAKC,MAAM2yB,IACRL,WACNK,EAAON,IAEJM,EACT,MAAOr/B,GACL,OAAO++B,KAmBf4B,UAbJ,SAAmBtB,EAAMvX,GACrB,IAAI7K,EAAO,GAOX,OAJAA,GADiB+iB,GAAQX,EAAMvX,IAG/B7K,GAAI,2BAAwBxQ,KAAK8C,UAAU8vB,EAAM,KAAM,GAAnD,UAEU,OAAS5yB,KAAK8C,UAAU8vB,IAMtCW,WACAY,kBA3MmB,0OA4MnBC,2BA7L4B,kXA8L5BC,wBAzOyB,6OA0OzBC,iCA7NkC,qXA8NlCC,YA/Ka,+KClBFC,G,kDAvCX,WAAYnkC,GAAQ,uCACVA,EAAOmkC,EAAkBxD,iB,+CAOnC,SAAYpB,GACR,OAAOt9B,IAAKC,EAAE,e,yBAGlB,SAAYk6B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZ9H,aAAc,kCACdf,KAAM,aAGf,+BAAC,wD,qBAaR,WACI,OAAOgO,EAAkBxD,mB,sBA/B7B,SAAeC,EAAQb,GACnB,OAAO4D,GAAQO,YAAY3iC,QAAQ,0BAA5B,0BAA0Eq/B,EAAOz3B,IAAjF,yB,2BAmBX,WACI,MAAO,CACH40B,WAAY,WACZv9B,KAAM,eACND,GAAI,oBACJwJ,KAAM,YACNnE,MAAO,wE,GA/Ba6zB,I,kHCyajB2K,G,kDA5ZX,WAAYpkC,GAAQ,IAAD,8BACf,cAAMA,EAAOokC,EAAqBzD,kBAC7B0D,YAAc,KAFJ,E,sFA+DnB,WAAgBC,EAAOC,EAAQC,GAA/B,+BAAAv6B,EAAA,yDACIq6B,EAAQA,GAAS9iC,KAAKlB,MAAMg6B,SAASgK,OAAS,YAC9CC,OAAoB51B,IAAX41B,EAAuB/iC,KAAKlB,MAAMg6B,SAASiK,OAASA,EAC7DC,OAA8B71B,IAAhB61B,EAA4BhjC,KAAKlB,MAAMg6B,SAASkK,YAAcA,EAE5EA,EAAc9gC,SAAS8gC,EAAa,KAAO,EAEtChjC,KAAK6iC,YAPd,gCAQc7iC,KAAKxB,MAAM6I,OAAOC,UAAU,+BAC7BC,MAAK,YAA0C,IAAD,IAAtCusB,OAAUmP,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,UACzB,IAAKD,IAAaC,EACd,OAAO,EAAK1kC,MAAM6I,OAAOC,UAAU,iBAC9BC,MAAK,SAAAC,GACEA,IAAQA,EAAIC,OAAOw7B,UAAYz7B,EAAIC,OAAOy7B,WAC1C,EAAKL,YAAc,CACfI,SAAUz7B,EAAIC,OAAOw7B,SACrBC,UAAW17B,EAAIC,OAAOy7B,WAG1B,EAAKL,YAAc,QAI/B,EAAKA,YAAc,CACfI,WACAC,gBAzBxB,OA+BUC,EAAWnjC,KAAK6iC,aAAeO,KAAQC,SAAS,IAAIpoB,KAAQjb,KAAK6iC,YAAYI,SAAUjjC,KAAK6iC,YAAYK,YACxGxhB,EAAUyhB,EAAW92B,OAAOC,KAAK62B,GAAU/gC,KAAI,SAAApD,GAAI,MAAK,CAC1DmC,MAAOnC,EACPoF,MAAOpF,EACPm2B,OAAO,IAAD,OAAMyN,EAAqBU,aAAaH,EAASnkC,IAAjD,KACNukC,MAAOJ,EAAWP,EAAqBU,aAAaH,EAASnkC,IAAS,YACpE,IACEwJ,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE86B,MAAQ76B,EAAE66B,MAAQ,EAAK96B,EAAE86B,MAAQ76B,EAAE66B,OAAS,EAAI,KAGrEC,EAAO,QACPV,GAASK,GAAYA,EAASL,KACxBW,EAAY,IAAIxoB,KAAKkoB,EAASL,IACpCC,GAAUU,EAAUC,WAAWD,EAAUtpB,aAAejY,SAAS8gC,EAAa,KAC9EQ,EAAI,cAAUZ,EAAqBU,aAAaG,GAA5C,MAMJ1G,EADAgG,EACS,CACL,CACI5K,UAAW,KACXxD,KAAM,QACN6I,WAAY,eACZ9b,UACAgU,aAAc,aAElB,CACI0C,SAAU,cACVoF,WAAY,iBACZ7I,KAAM,UAEV,CACIyD,SAA0B,IAAhB4K,EAAoB,SAAW,UACzC7K,UAAW,SACXqF,WAAY,eACZ9H,aAAc,EACdf,KAAM,cACNsE,cAAc,GAElB,CACIuE,WAAY,iBACZ7I,KAAM,WACNe,aAAc8N,IAIb,CACL,CACIrL,UAAW,KACXxD,KAAM,QACN6I,WAAY,eACZ9b,UACAgU,aAAc,aAElB,CACI0C,SAAU,cACVoF,WAAY,iBACZ7I,KAAM,UAEV,CACI6I,WAAY,iBACZ7I,KAAM,WACNe,aAAc8N,IAK1BxjC,KAAKb,SAAS,CAAE49B,WAAU,+BAAC,sDApG/B,iD,8HAuGA,WAAmB4G,GAAnB,uBAAAl7B,EAAA,sDACIk7B,EAAWzhC,SAASyhC,GAAY3jC,KAAKlB,MAAMg6B,SAAS6K,SAAU,KAAO,GAGjEjiB,EADa,IAAbiiB,EACU,CACN,CAAExiC,MAAO,IAAKiD,MAAO,UACrB,CAAEjD,MAAO,IAAKiD,MAAO,UACrB,CAAEjD,MAAO,IAAKiD,MAAO,SAGf,CACN,CAAEjD,MAAO,IAAKiD,MAAO,WACrB,CAAEjD,MAAO,IAAKiD,MAAO,WACrB,CAAEjD,MAAO,IAAKiD,MAAO,UAI7BpE,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,eACZ/9B,OAAQ,CACJmM,GAAI,SAER+oB,KAAM,WACNwD,UAAW,QACXzC,aAAc,GACd7xB,UAAW,wBAEf,CACI25B,WAAY,eACZ7I,KAAM,OACNe,aAAc,IACdhU,cAGT,+BAAC,sDApCR,gD,gFAuCA,SAAYqc,GACR,OAAOt9B,IAAKC,EAAE,e,4BAGlB,SAAeS,EAAOwzB,GACkB,UAAhC30B,KAAKlB,MAAMg6B,SAAS8B,QACP,UAATjG,EACA30B,KAAK4jC,UAAUziC,GACC,WAATwzB,EACP30B,KAAK4jC,eAAUz2B,EAAWhM,GACV,gBAATwzB,GACP30B,KAAK4jC,eAAUz2B,OAAWA,EAAWhM,GAEF,aAAhCnB,KAAKlB,MAAMg6B,SAAS8B,SACd,aAATjG,GACA30B,KAAK6jC,aAAa1iC,K,wBAK9B,SAAW8zB,EAAO9zB,EAAOM,GAAW,IAAD,OACvBoC,EAAc7D,KAAKxB,MAAnBqF,UACJigC,EAAW,GACPhL,EAAa94B,KAAKlB,MAAlBg6B,SACAnE,EAASM,EAATN,KACR,OAAO,iCACH,uBAAK5zB,MAAO,CAAEiE,QAAS,OAAQ++B,WAAY,YAA3C,UACI,sBAAKhjC,MAAO,CAAEC,MAAO,QAArB,SACKhB,KAAKk4B,WAAW,CACbvD,KAAM,OACNe,aAAcv0B,GACb23B,EAAQ,KAAWA,EAAQ,KAAW33B,EAAOM,KAEtD,eAAC,GAAD,CACI6xB,QAAM,EACNvyB,MAAO,CAAE8R,WAAY,GACrB1R,MAAM,MACN0C,UAAWA,EACXpB,QAAS,kBAAM,EAAKtD,SAAS,CAAE6kC,YAAY,UAGnD,eAAC,GAAD,CACIzjC,KAAMP,KAAKlB,MAAMklC,WACjBxO,QAAO,wBAAE,uBAAA/sB,EAAA,sEACChH,EAASqiC,EAAU,QADpB,uBAECriC,EAASwiC,KAAkBH,EAAUrjC,IAAK+C,eAAgB,WAF3D,OAGL,EAAKrE,SAAS,CAAE6kC,YAAY,IAHvB,2CAKTtlC,QAAS,kBAAM,EAAKS,SAAS,CAAE6kC,YAAY,KAP/C,SAQI,eAAC,KAAD,CACIE,eAAkBpL,EAAS7D,EAAMN,MAAQ,GAAKmE,EAASnE,GACvDlzB,SAAU,SAAA0E,GAAO29B,EAAW39B,OAEnCnG,KAAK04B,eAAe,CACjBhD,aAAc,0BACdf,KAAM,UACNgE,WAAW,GACVG,EAAQ,QAAcA,EAAQ,QAAc,0BAA2Br3B,KAhC/DkzB,K,0BAoCrB,SAAaM,EAAO9zB,EAAOM,GAAW,IAAD,OACzBoC,EAAc7D,KAAKxB,MAAnBqF,UACA8wB,EAASM,EAATN,KACJwP,EAAa,GACbC,EAAS,KACb,OAAO,iCACH,uBAAKrjC,MAAO,CAAEiE,QAAS,OAAQ++B,WAAY,SAAUt5B,UAAW,GAAhE,UACI,eAAC,GAAD,CACI5G,UAAWA,EACXhD,aAAa,MACbP,WAAS,EAETkC,QAAQ,WACRiC,KAAK,QACLyvB,WAAS,EACTC,KAAM,EACNhzB,MAAOnB,KAAKlB,MAAMg6B,SAASnE,EAAO,QAClClzB,SAAU,SAAC0E,GAAD,OAAQ1E,EAAS0E,IAC3BqtB,aAAW,IAEf,eAAC,GAAD,CACIF,QAAM,EACNvyB,MAAO,CAAE8R,WAAY,GACrB1R,MAAM,MACN0C,UAAWA,EACXpB,QAAS,kBAAM,EAAKtD,SAAS,CAAE6kC,YAAY,UAGnD,eAAC,GAAD,CACIzjC,KAAMP,KAAKlB,MAAMklC,WACjBxO,QAAS,kBACL,EAAKr2B,SAAS,CAAE6kC,YAAY,IAAS,wBACjCviC,GAAQ,oBACHkzB,EAAO,OAASwP,GADb,eAEHxP,EAAOyP,GAFJ,QAIhB1lC,QAAS,kBAAM,EAAKS,SAAS,CAAE6kC,YAAY,KAR/C,SASI,eAAC,KAAD,CAAUviC,SAAU,SAAC0P,EAAK5M,GACtB4/B,EAAa5/B,GACb6/B,EAAwB,kBAARjzB,EAAmBhD,KAAKC,MAAMD,KAAK8C,UAAUE,IAAQhD,KAAKC,MAAM+C,IACzEkzB,MAAQD,EAAOC,OAAS,GAC/BD,EAAOC,MAAMlhB,KAAOihB,EAAOC,MAAMlhB,MAAQmhB,KAASC,aAClDH,EAASj2B,KAAK8C,UAAUmzB,UArCnBzP,K,yBA2CrB,SAAYiG,GAAU,IAAD,OAEjB,OADAA,EAAUA,GAAW56B,KAAKlB,MAAMg6B,SAAS8B,SAErC,IAAK,WACD56B,KAAK6jC,eACL,MAEJ,IAAK,OACD7jC,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,aACZ7I,KAAM,OACNe,aAAc,gBAGvB,+BAAC,sDACJ,MAEJ,IAAK,SACD,IAAM0O,EAASj2B,KAAKC,MAjVb,4FAkVPg2B,EAAOC,MAAQD,EAAOC,OAAS,GAC/BD,EAAOC,MAAMlhB,KAAOihB,EAAOC,MAAMlhB,MAAQmhB,KAASC,aAElDvkC,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,eACZ7I,KAAM,SACNe,aAAcvnB,KAAK8C,UAAUmzB,OAGtC,+BAAC,kDAAuB,MAAM,WAC7B,IAAMD,EAAaG,KAASE,WAAW,EAAK1lC,MAAMg6B,SAASsL,QAAUA,GACrE,GAAI,EAAKtlC,MAAMg6B,SAASqL,aAAeA,EAAY,CAC/C,IAAMrL,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMg6B,WACtDA,EAASqL,WAAaA,EACtB,EAAKhlC,SAAS,CAAC25B,aACf,EAAKt6B,MAAMiD,SAASq3B,UAG5B,MAEJ,IAAK,KACD94B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,aACZ/9B,OAAQ,KACRk1B,KAAM,KACNe,aAAc,SAElB,CACI8H,WAAY,eACZ7I,KAAM,MACN8P,QAAS,GACT/P,UAAU,EACVgB,aAAc,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAClDhU,QAAS,CACL,CAAEvgB,MAAO,IAAKiD,MAAO,YAAagyB,MAAM,GACxC,CAAEj1B,MAAO,IAAKiD,MAAO,SAAUiyB,WAAY,MAC3C,CAAEl1B,MAAO,IAAKiD,MAAO,UAAWiyB,WAAY,MAC5C,CAAEl1B,MAAO,IAAKiD,MAAO,YAAaiyB,WAAY,MAC9C,CAAEl1B,MAAO,IAAKiD,MAAO,WAAYiyB,WAAY,MAC7C,CAAEl1B,MAAO,IAAKiD,MAAO,SAAUiyB,WAAY,MAC3C,CAAEl1B,MAAO,IAAKiD,MAAO,WAAYiyB,WAAY,MAC7C,CAAEl1B,MAAO,IAAKiD,MAAO,SAAUiyB,WAAY,WAIxD,+BAAC,sDACJ,MAEJ,IAAK,QACDr2B,KAAK4jC,e,qBAmBjB,WACI,OAAOhB,EAAqBzD,mB,sBAnZhC,SAAeC,EAAQb,GACnB,IAAIh6B,EAAO,GACPmgC,EAAOnG,EAAQqC,UAAYuB,GAAQK,wBAA0BL,GAAQM,iCAGzE,GAFAiC,EAAOA,EAAK3kC,QAAQ,0BAAb,0BAA2Dq/B,EAAOz3B,IAAlE,uBAEgB,aAAnBy3B,EAAOxE,QACPr2B,EAAI,sBAAkBmgC,EAAlB,aAA2BtF,EAAOuE,UAAY,EAA9C,cAAqE,MAAhBvE,EAAOxI,KAAe,IAAwB,MAAhBwI,EAAOxI,KAAe,IAAQ,KAAjH,WACD,GAAuB,SAAnBwI,EAAOxE,QACdr2B,EAAI,oBAAgB66B,EAAOuF,KAAvB,cAAiCD,EAAjC,WACD,GAAuB,OAAnBtF,EAAOxE,QAAkB,CAAC,IAAD,EAChC,GAA0BwE,EAAOwF,IAAM,IAAIhlC,MAAM,KAAjD,mBAAOilC,EAAP,KAAcC,EAAd,KACIC,EAAM,IACV,IAAU,OAAN3F,QAAM,IAANA,GAAA,UAAAA,EAAQ2F,WAAR,eAAavlC,UAAW4/B,EAAO2F,IAAIthC,SAAS,KAAM,CAClD,IAAMuhC,EAAO,YAAI5F,EAAO2F,KAAK3iC,KAAI,SAAAiE,GAAI,OAAInE,SAASmE,EAAM,OACxD2+B,EAAKx8B,OAKL,IAHA,IAAIy8B,EAAY,GACZC,EAAQF,EAAK,GACb9+B,EAAI,EACDA,EAAI8+B,EAAKxlC,OAAQ0G,IAChB8+B,EAAK9+B,GAAK8+B,EAAK9+B,EAAI,GAAK,GACpBg/B,IAAUF,EAAK9+B,EAAI,GACnB++B,EAAU3+B,KAAK4+B,GACRF,EAAK9+B,EAAI,GAAKg/B,IAAU,EAC/BD,EAAU3+B,KAAK4+B,EAAQ,IAAMF,EAAK9+B,EAAI,IAEtC++B,EAAU3+B,KAAK4+B,EAAQ,IAAMF,EAAK9+B,EAAI,IAG1Cg/B,EAAQF,EAAK9+B,IACNA,IAAM8+B,EAAKxlC,OAAS,IACvB0lC,IAAUF,EAAK9+B,EAAI,IAAM8+B,EAAK9+B,GAAKg/B,IAAU,EAC7CD,EAAU3+B,KAAK4+B,EAAQ,IAAMF,EAAK9+B,IAElC++B,EAAU3+B,KAAK4+B,EAAQ,IAAMF,EAAK9+B,KAK9C6+B,EAAME,EAAUnlC,KAAK,KAEzByE,EAAI,oBAAgBugC,GAAW,IAA3B,YAAkCD,GAAS,IAA3C,gBAAsDE,EAAtD,cAA+DL,EAA/D,UACsB,UAAnBtF,EAAOxE,QACdr2B,EAAI,4BAAwB66B,EAAO0D,MAA/B,qBAAiD1D,EAAO2D,OAAS3D,EAAO4D,YAAc,EAAtF,cAA6F0B,EAA7F,MACsB,WAAnBtF,EAAOxE,UACdr2B,EAAI,oBAAgB66B,EAAOgF,OAAvB,cAAmCM,EAAnC,OAGR,OAAOngC,I,0BAGX,SAAoBi/B,GAChB,OAAKA,EAGC,GAAN,OAAUA,EAAKtpB,WAAWrO,WAAW+rB,SAAS,EAAG,KAAjD,YAAyD4L,EAAKrpB,aAAatO,WAAW+rB,SAAS,EAAG,MAFvF,U,2BAkVf,WACI,MAAO,CACH2E,WAAY,WACZv9B,KAAM,WACND,GAAI,uBACJwJ,KAAM,aACNsyB,aAAc,CAAC,OAAQ,SAAU,WAAY,KAAM,SACnDz2B,MAAO,+D,GApZgB6zB,I,UCc7BkN,GAAaviC,IAAMwiC,YAAW,SAAC5mC,EAAOgP,GAAR,OAChC,eAAC63B,GAAA,EAAD,cAAOz7B,UAAU,KAAK4D,IAAKA,GAAShP,OAElC8mC,G,kDACF,WAAY9mC,GAAQ,IAAD,8BACf,cAAMA,EAAO8mC,EAAanG,kBACrB9wB,SAAWzL,IAAM0L,YAFP,E,+CAyBnB,SAAYyvB,GACR,YAAiC5wB,IAA7B4wB,EAAahyB,KAAKw5B,OACX,kCAAO9kC,IAAKC,EAAE,aAAd,IAA4B,uBAAMmD,UAAWk6B,EAAahyB,KAAKy5B,OAASxlC,KAAKxB,MAAMsF,QAAQ2hC,SAAWzlC,KAAKxB,MAAMsF,QAAQ4hC,YAA7F,SAA2GJ,EAAatQ,YAAY+I,EAAahyB,KAAKw5B,UAAlL,WAAoM,uBAAM1hC,UAAWk6B,EAAahyB,KAAK45B,IAAM3lC,KAAKxB,MAAMsF,QAAQ2hC,SAAWzlC,KAAKxB,MAAMsF,QAAQ4hC,YAA1F,SAAwGJ,EAAatQ,YAAY+I,EAAahyB,KAAKoF,UAEvV,kCAAO1Q,IAAKC,EAAE,aAAd,IAA4B,uBAAMmD,UAAWk6B,EAAahyB,KAAK45B,IAAM3lC,KAAKxB,MAAMsF,QAAQ2hC,SAAWzlC,KAAKxB,MAAMsF,QAAQ4hC,YAA1F,SAAwGJ,EAAatQ,YAAY+I,EAAahyB,KAAKoF,Y,0BAI9L,WACInR,KAAKb,SAAS,CAACymC,cAAc,IAC7B,IAAIC,EAAgB7lC,KAAKlB,MAAM+mC,cAC/BniC,OAAOqE,aAAaiC,QAApB,yBAA8ChK,KAAKlB,MAAMg6B,SAAS8E,IAAlE,QAA6E59B,KAAKlB,MAAMgnC,aAEpD,YAAhC9lC,KAAKlB,MAAMg6B,SAAS2F,QACpBoH,GAAkC,IAAlBA,GAA4C,SAAlBA,GAA8C,MAAlBA,EAC/B,WAAhC7lC,KAAKlB,MAAMg6B,SAAS2F,UAC3BoH,EAAgBE,WAAWF,IAAkB,GAGjDniC,OAAOqE,aAAaiC,QAApB,yBAA8ChK,KAAKlB,MAAMg6B,SAAS8E,KAAOiI,GACzE7lC,KAAKxB,MAAM6I,OAAOlI,SAASa,KAAKlB,MAAMg6B,SAAS8E,IAAKiI,IAAiB7lC,KAAKlB,MAAMgnC,e,8BAGpF,WAAoB,IAAD,OACf,OAAO,uCACH,eAACvjC,GAAA,EAAD,CACIV,UAAW7B,KAAKlB,MAAMg6B,SAAS8E,MAAQ59B,KAAKlB,MAAMk/B,iBAClDx7B,QAAQ,YACRE,MAAM,UACND,QAAS,WACL,EAAKtD,SAAS,CACVymC,cAAc,EACdC,cAA+C,YAAhC,EAAK/mC,MAAMg6B,SAAS2F,QAC8C,SAA7E/6B,OAAOqE,aAAaC,QAAQ,kBAAoB,EAAKlJ,MAAMg6B,SAAS8E,KACnEl6B,OAAOqE,aAAaC,QAAQ,kBAAoB,EAAKlJ,MAAMg6B,SAAS8E,MAAQ,GACjFkI,YAA8F,SAAjFpiC,OAAOqE,aAAaC,QAApB,yBAA8C,EAAKlJ,MAAMg6B,SAAS8E,IAAlE,WAEjBp8B,YAAW,kCAAM,EAAK6M,SAASqN,eAApB,aAAM,EAAuB/X,UAAS,MAZzD,SAaQlD,IAAKC,EAAE,cACf,gBAACR,GAAA,EAAD,CACIK,OAAQP,KAAKlB,MAAM8mC,aACnBI,oBAAqBb,GACrBpJ,aAAW,EACXr9B,QAAS,kBAAM,EAAKS,SAAS,CAACymC,cAAc,KAC5C,kBAAgB,8BAChB,mBAAiB,oCANrB,UAQI,eAACplC,GAAA,EAAD,CAAazB,GAAG,8BAAhB,SAA+C0B,IAAKC,EAAE,wBACtD,gBAACC,GAAA,EAAD,WACqC,YAAhCX,KAAKlB,MAAMg6B,SAAS2F,QACjB,eAACvH,GAAA,EAAD,CACIC,QAAS,eAACC,GAAA,EAAD,CACL/oB,SAAUrO,KAAKqO,SACf43B,QAAS,SAAAvkC,GAAC,OAAkB,KAAdA,EAAEwkC,SAAkB,EAAKC,gBACvChlC,QAASnB,KAAKlB,MAAM+mC,cACpBpkC,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAAC0mC,cAAenkC,EAAEC,OAAOiyB,aAE1D1yB,MAAOT,IAAKC,EAAE,WAEhB,eAACI,GAAA,EAAD,CACEuN,SAAUrO,KAAKqO,SACfnN,MAAOT,IAAKC,EAAE,SACdJ,WAAW,EACX2lC,QAAS,SAAAvkC,GAAC,OAAkB,KAAdA,EAAEwkC,SAAkB,EAAKC,gBACvChlC,MAAOnB,KAAKlB,MAAM+mC,cAClBpkC,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAAC0mC,cAAenkC,EAAEC,OAAOR,WAG9D,wBACA,eAAC+1B,GAAA,EAAD,CACIC,QACI,eAACxD,GAAA,EAAD,CACIC,UAAW5zB,KAAKlB,MAAMgnC,YACtBrkC,SAAU,SAAAC,GAAC,OAAI,EAAKvC,SAAS,CAAC2mC,YAAapkC,EAAEC,OAAOiyB,WACpDlxB,MAAM,YAGdxB,MAAOT,IAAKC,EAAE,YAGtB,gBAAC4B,GAAA,EAAD,WACI,gBAACC,GAAA,EAAD,CACIC,QAAQ,YACRC,QAAS,kBAAM,EAAK0jC,gBACpBzjC,MAAM,UAHV,UAII,eAAC,IAAD,IAAajC,IAAKC,EAAE,YAExB,gBAAC6B,GAAA,EAAD,CACIC,QAAQ,YACRC,QAAS,kBAAM,EAAKtD,SAAS,CAACymC,cAAc,KAFhD,UAII,eAAC,IAAD,IAAcnlC,IAAKC,EAAE,uB,yBAOzC,SAAYk6B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,iBACZ7I,KAAM,MACNe,aAAc,IAElB,CACI8H,WAAY,uBAGrB,WACC,qE,qBAeR,WACI,OAAO8H,EAAanG,mB,sBAnJxB,SAAeC,EAAQb,GACnB,IAAImG,EAAOnG,EAAQqC,UAAYuB,GAAQK,wBAA0BL,GAAQM,iCAEzE,OADAiC,EAAOA,EAAK3kC,QAAQ,0BAAb,0BAA2Dq/B,EAAOz3B,IAAlE,oIACD,YAAN,OAAmBy3B,EAAOxB,KAAO,GAAjC,uBAAqE,cAAnBwB,EAAOxE,QAA0B,MAAQ,KAA3F,eAAsG8J,EAAtG,Q,yBAGJ,SAAmBvzB,GACf,OAAY,OAARA,EACO,YACQhE,IAARgE,EACA,YACAi1B,MAAMC,QAAQl1B,GACdA,EAAIrR,KAAK,MACM,kBAARqR,EACPhD,KAAK8C,UAAUE,GAEfA,EAAItF,a,2BAuHnB,WACI,MAAO,CACH0wB,WAAY,WACZv9B,KAAM,QACND,GAAI,eACJwJ,KAAM,UACNsyB,aAAc,CAAC,YAAa,aAC5Bz2B,MAAO,2D,GApJQ6zB,IA4JZn1B,gBAxKA,SAAAC,GAAK,MAAK,CACrB0iC,SAAU,CACN/iC,MAAO,WAEXgjC,YAAa,CACThjC,MAAO,cAmKAI,CAAmBwiC,IC7LnB,OAA0B,uCCanCgB,GAAU,g9BAmfDC,G,kDAndX,WAAY/nC,GAAQ,IAAD,8BACf,cAAMA,EAAO+nC,EAAepH,kBAwGhCqH,WAAa,kBAAM,EAAKrnC,SAAS,CAACsnC,oBAAoB,KAzGnC,E,wDAInB,WAAwB,IAAD,QACnB,OAAO,UAAAzmC,KAAKxB,MAAM00B,iBAAX,mBAAsBwN,gBAAtB,eAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,UACrD,UAACiB,KAAKxB,MAAM00B,iBAAZ,iBAAC,EAAsBwN,gBAAvB,aAAC,EAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,S,yBAwF3D,SAAYg/B,GACR,IAAMwD,EAAYvhC,KAAKlB,MAAMg6B,SAAS8B,QACtC,MAAkB,OAAd2G,EAGOxD,EAAahyB,KAAKE,OAAOJ,WAAW66B,cAAgB,KAAO3I,EAAahyB,KAAK5K,MAAQ,IAAMogC,EAAY,IAAMxD,EAAahyB,KAAK46B,YAAc,IAGjJlmC,IAAKC,EAAE,e,wBAKlB,SAAWkmC,EAAYhM,EAAS6D,EAASoI,EAASC,GAAY,IAAD,WACnDC,EAAuB/mC,KAAK+mC,uBAElCnM,EAAYA,GAAa56B,KAAKlB,MAAMg6B,SAAS8B,QAC7C6D,EAAYA,GAAaz+B,KAAKlB,MAAMg6B,SAAS2F,QAC7CoI,EAAYA,GAAa7mC,KAAKlB,MAAMg6B,SAAS+N,QAC7CC,EAAYA,GAAa9mC,KAAKlB,MAAMg6B,SAASgO,UAEzCC,GAAwBH,GAAyD,KAA3C,UAAA5mC,KAAKxB,MAAM00B,iBAAX,mBAAsBwN,gBAAtB,eAAgClhC,UACtEi/B,EAAYz+B,KAAKxB,MAAM00B,UAAUwN,SAAS,GAAGjC,QAC7CoI,EAAY7mC,KAAKxB,MAAM00B,UAAUwN,SAAS,GAAGmG,QAC7CC,EAAY9mC,KAAKxB,MAAM00B,UAAUwN,SAAS,GAAGoG,WAGjD,IAEIjM,EADEmB,EADgBuK,EAAepH,gBAAgBtE,aAC3Bz0B,MAAK,SAAAC,GAAI,OAAIA,EAAKjC,QAAUw2B,KAElDlZ,EAAU,KAEE,WAAZ+c,GACA5D,EAAe,CACX,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,qBACR5wB,KAAM,oBAEV,CACIH,MAAO,IACP+wB,OAAQ,YACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,kBACR5wB,KAAM,iBAEV,CACIH,MAAO,IACP+wB,OAAQ,SACR5wB,KAAM,aAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,eACR5wB,KAAM,eAIVuiC,IACAplB,EAAUrV,OAAOC,KAAKw6B,GAAW1kC,KAAI,SAAA+O,GAAG,MACnC,CAAChQ,MAAOgQ,EAAK/M,MAAO0iC,EAAU31B,SAEpB,YAAZstB,GACP5D,EAAe,CACX,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,iBAGdmd,EAAU,CACN,CAACtd,MAAO,QAASjD,OAAO,GACxB,CAACiD,MAAO,OAAQjD,OAAO,MAG3B05B,EAAe,CACX,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,qBACR5wB,KAAM,oBAEV,CACIH,MAAO,IACP+wB,OAAQ,YACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,kBACR5wB,KAAM,iBAEV,CACIH,MAAO,IACP+wB,OAAQ,SACR5wB,KAAM,aAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,gBAEV,CACIH,MAAO,IACP+wB,OAAQ,aACR5wB,KAAM,aAGVuiC,IACAplB,EAAUrV,OAAOC,KAAKw6B,GAAW1kC,KAAI,SAAA+O,GAAG,MACnC,CAAChQ,MAAOgQ,EAAK/M,MAAO0iC,EAAU31B,SAI3C,IAOI4rB,EAPAjE,EAAW,KACV+B,EAAaz0B,MAAK,SAAAC,GAAI,OAAIA,EAAKjC,QAAUw2B,OAC1CA,EAAUC,EAAa,GAAGz2B,OAC1B00B,EAAWA,GAAQ,gBAAQ94B,KAAKlB,MAAMg6B,WAC7B8B,QAAUA,GAIvB,IAAI1C,EAAa,CACbsF,WAAY,aACZ9H,aAAc,GACdf,KAAM,QACNwD,UAAuB,OAAZyC,EAAmB,SAAc,OAAHoB,QAAG,IAAHA,OAAA,EAAAA,EAAKz3B,OAAQ,eACtD+zB,oBAAoB,EACpBF,SAAUyO,GAGVnlB,IACAwW,EAAa,CACTsF,WAAY,eACZ9H,aAAchU,EAAQ,GAAGvgB,MACzBugB,UACAiT,KAAM,QACNwD,WAAc,OAAH6D,QAAG,IAAHA,OAAA,EAAAA,EAAKz3B,OAAQ,eACxB+zB,oBAAoB,EACpBF,SAAUyO,GAETnlB,EAAQtb,MAAK,SAAAC,GAAI,OAAIA,EAAKlF,QAAU,EAAKrC,MAAMg6B,SAAS33B,YACzD23B,EAAWA,GAAQ,gBAAQ94B,KAAKlB,MAAMg6B,WAC7B33B,MAAQugB,EAAQ,GAAGvgB,OAE5BugB,EAAQliB,QAAU,IAClBq7B,EAAe,CACX,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,mBAOlBw4B,EADAgK,GAAwBH,EACf,CACL,CACIxO,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,aACNe,cAAc,GAElBwC,GAEG6O,EACE,CACL,CACI3O,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,cAEV,CACI6I,WAAY,iBACZ7I,KAAM,MACNe,aAAc,IAElBwC,GAGK,CACL,CACIsF,WAAY,iBACZ7I,KAAM,MACNe,aAAc,IAElBwC,GAIQ,OAAZ0C,IACAmC,EAAOj3B,OAAO,EAAG,EAAG,CAChB03B,WAAY,eACZj1B,KAAM,cACN4vB,UAAW,cACXkD,aAAcr7B,KAAKwmC,aAEvBzJ,EAAOj3B,OAAO,EAAG,EAAG,CAChB03B,WAAY,eACZ7I,KAAM,WACNe,aAAc,IACdyC,UAAW,YACXnC,gBAAgB,EAChBtU,QAAS,CACL,CAACtd,MAAO,IAAMjD,MAAO,KACrB,CAACiD,MAAO,KAAMjD,MAAO,MACrB,CAACiD,MAAO,IAAMjD,MAAO,KACrB,CAACiD,MAAO,KAAMjD,MAAO,MACrB,CAACiD,MAAO,IAAMjD,MAAO,KACrB,CAACiD,MAAO,KAAMjD,MAAO,SAG7B47B,EAAOz2B,KAAK,CACR6xB,UAAW,SACXnC,gBAAgB,EAChBwH,WAAY,eACZvE,cAAc,EACdtE,KAAM,OACNe,aAAc,EACd4C,oBAAoB,EACpBF,SAAUyO,KAIlB,IAAM/nC,EAAQ,CACV67B,SAAS,EACTE,eACAkC,UAGJ/8B,KAAKb,SAASL,GAAM,+BAAC,kDACC,MAAM,WAChBg6B,IACA,EAAK35B,SAAS,CAAC25B,aACf,EAAKt6B,MAAMiD,SAASq3B,Y,4BAKpC,SAAe33B,EAAOwzB,EAAM4J,GACH,kBAAVp9B,EACPnB,KAAKgnC,WAAW7lC,EAAMylC,WAAYzlC,EAAMy5B,QAASz5B,EAAMs9B,QAASt9B,EAAMo5B,QAEzD,eAAT5F,EACA30B,KAAKgnC,WAAW7lC,GACA,YAATwzB,EACP30B,KAAKgnC,WAAW7lC,OAAOgM,EAAWhM,GAClB,YAATwzB,EACP30B,KAAKgnC,WAAW7lC,OAAOgM,OAAWA,EAAWhM,GAC7B,cAATwzB,GACP30B,KAAKgnC,WAAW7lC,OAAOgM,OAAWA,OAAWA,EAAWhM,K,sBAKpE,WACInB,KAAKgnC,WAAWhnC,KAAKlB,MAAMg6B,SAAS8N,c,yBAGxC,SAAYhM,GACR56B,KAAKgnC,WAAWhnC,KAAKlB,MAAMg6B,SAAS8N,WAAYhM,K,qBAuDpD,WACI,OAAO2L,EAAepH,kB,4BAG1B,WAAkB,IAAD,OACb,OAAIn/B,KAAKlB,MAAM2nC,mBACJ,gBAACvmC,GAAA,EAAD,CACHK,MAAM,EACNF,SAAS,KACT3B,QAAS,kBAAM,EAAKS,SAAS,CAACsnC,oBAAoB,KAClD,kBAAgB,qBAChB,mBAAiB,2BALd,UAOH,eAAC9lC,GAAA,EAAD,UACI,eAACkG,GAAA,EAAD,CAAmB9H,GAAG,2BAAtB,SACI,sBAAKsK,IAAK49B,GAAiB39B,IAAI,mBAGvC,eAAChH,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQE,QAAS,kBAAM,EAAKtD,SAAS,CAACsnC,oBAAoB,KAAS/jC,MAAM,UAAUzB,WAAS,EAA5F,SACKR,IAAKC,EAAE,aAKb,Q,sBArcf,SAAe0+B,EAAQb,GACnB,IAAIp9B,EAAQi+B,EAAOj+B,MACL,OAAVA,QAA4BgM,IAAVhM,IAClBA,GAAQ,GAEZ,IAEI8K,EAFAi7B,EAAa,GAGjB,GAAuB,OAAnB9H,EAAOxE,QACP2D,EAAQ0C,SAAY1C,EAAQ0C,UAAY,IACvC1C,EAAQ0C,SAAS76B,MAAK,SAAAC,GAAI,OAAIA,IAASigC,OAAe/H,EAAQ0C,SAAS36B,KAAKggC,IACzElH,EAAOwH,YACPM,EAAa,gBACC,KAAV/lC,IACAA,EAAQ,GAEZ8K,EAAM,iCAA6BmzB,EAAOz3B,IAApC,aAA4CxG,EAA5C,4BAAqEi+B,EAAO8B,KAA5E,cAAsF9B,EAAO+H,SAA7F,QAEND,EAAU,gCAA4B9H,EAAOxB,IAAnC,WACI,KAAVz8B,IACAA,EAAQ,GAES,kBAAVA,GAAsB4kC,WAAW5kC,EAAMksB,QAAQxhB,aAAe1K,EAAMksB,SAC3ElsB,EAAK,WAAOA,EAAP,MAGT8K,EAAM,iCAA6BmzB,EAAOz3B,IAApC,aAA4CxG,EAA5C,4BAAqEi+B,EAAO8B,KAA5E,cAAsF9B,EAAO+H,SAA7F,YAGd,GAAuB,aAAnB/H,EAAOxE,QAAwB,CAC/B,IACuB,EADjBwM,EAA6B,MAAnBhI,EAAOxE,QAAkB,KAA2B,OAAnBwE,EAAOxE,QAAmB,KAAOwE,EAAOxE,QACzF,GAAIwE,EAAOwH,WACPM,EAAa,gBACqB,YAAvB,OAAP3I,QAAO,IAAPA,GAAA,UAAAA,EAASC,eAAT,eAAkBC,UAClBt9B,EAAQA,EAAMpB,QAAQ,KAAM,OAC5BkM,EAAM,oBAAgBmzB,EAAOz3B,IAAvB,YAA8By/B,EAA9B,aAA0CjmC,EAA1C,OAEQ,KAAVA,IACAA,EAAQ,GAES,kBAAVA,GAAsB4kC,WAAW5kC,EAAMksB,QAAQxhB,aAAe1K,EAAMksB,SAC3ElsB,EAAK,WAAOA,EAAP,MAET8K,EAAM,oBAAgBmzB,EAAOz3B,IAAvB,YAA8By/B,EAA9B,YAAyCjmC,SAGnD+lC,EAAU,gCAA4B9H,EAAOxB,IAAnC,WACa,WAAnBwB,EAAOX,SACPt9B,EAAQA,EAAMpB,QAAQ,KAAM,OAC5BkM,EAAM,oBAAgBmzB,EAAOz3B,IAAvB,YAA8By/B,EAA9B,aAA0CjmC,EAA1C,OAEQ,KAAVA,IACAA,EAAQ,GAES,kBAAVA,GAAsB4kC,WAAW5kC,EAAMksB,QAAQxhB,aAAe1K,EAAMksB,SAC3ElsB,EAAK,WAAOA,EAAP,MAET8K,EAAM,oBAAgBmzB,EAAOz3B,IAAvB,YAA8By/B,EAA9B,YAAyCjmC,QAGpD,CACqB,IAAD,EAAvB,GAAIi+B,EAAOwH,WACPM,EAAa,gBACqB,YAAvB,OAAP3I,QAAO,IAAPA,GAAA,UAAAA,EAASC,eAAT,eAAkBC,UAClBt9B,EAAQA,EAAMpB,QAAQ,KAAM,OAC5BkM,EAAM,kCAA8B9K,EAA9B,OAEN8K,EAAM,aAGVi7B,EAAU,gCAA4B9H,EAAOxB,IAAnC,WACa,WAAnBwB,EAAOX,SACPt9B,EAAQA,EAAMpB,QAAQ,KAAM,OAC5BkM,EAAM,oBAAgBmzB,EAAOz3B,IAAvB,sBAAwCxG,EAAxC,OAEN8K,EAAM,QAOlB,OAHAsyB,EAAQkD,eAAen7B,KAAvB,0BAA+C84B,EAAOz3B,IAAtD,cAA+Du/B,EAA/D,MACA3I,EAAQkD,eAAen7B,KAAvB,uBAA4C84B,EAAOz3B,IAAnD,cAA4DsE,EAA5D,MACAsyB,EAAQiD,gBAAgBl7B,KAAxB,0BAAgD84B,EAAOz3B,IAAvD,6BAA+Ey3B,EAAOz3B,IAAtF,8BAA+Gy3B,EAAOz3B,IAAtH,0BAA2IxG,EAA3I,QACO,UAAYi+B,EAAOz3B,M,2BAsS9B,WACI,MAAO,CACH40B,WAAY,aACZv9B,KAAM,kBACND,GAAI,iBACJwJ,KAAM,UACNsyB,aAAc,CACV,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,qBACR5wB,KAAM,oBAEV,CACIH,MAAO,IACP+wB,OAAQ,YACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,kBACR5wB,KAAM,iBAEV,CACIH,MAAO,IACP+wB,OAAQ,SACR5wB,KAAM,aAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,gBAEV,CACIH,MAAO,IACP+wB,OAAQ,aACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,eACR5wB,KAAM,eAGdH,MAAO,wD,GAlbU6zB,IC1CvBT,GAAO,CACT,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IA0IW6P,G,kDAtIX,WAAY7oC,GAAQ,uCACVA,EAAO6oC,EAAclI,iB,8CAuC/B,SAAWvE,EAAS0M,GAAa,IAAD,OAC5BA,OAAwBn6B,IAAbm6B,EAAyBtnC,KAAKlB,MAAMg6B,SAASwO,SAAWA,EACnE1M,EAAUA,GAAW56B,KAAKlB,MAAMg6B,SAAS8B,QACzC,IACMoB,EADeqL,EAAclI,gBAAgBtE,aAC1Bz0B,MAAK,SAAAC,GAAI,OAAIA,EAAKjC,QAAUw2B,KAC/CmC,EAAS,CACX,CACIS,WAAY,iBACZ7I,KAAM,WACNe,aAAc,sBAElB,CACIyC,WAAc,OAAH6D,QAAG,IAAHA,OAAA,EAAAA,EAAKz3B,OAAQq2B,EACxB4C,WAAY,aACZ7I,KAAM,OACNe,aAAc,SAElB,CACIyC,UAAW,YACXqF,WAAY,iBACZ7I,KAAM,WACNe,cAAc,IAGlB4R,GACAvK,EAAOz2B,KAAK,CACRk3B,WAAY,aACZ7I,KAAM,OACNe,aAAc,UAGtB11B,KAAKb,SAAS,CACV49B,SACApC,SAAQ,IACT,+BAAC,wD,4BAGR,SAAex5B,EAAOwzB,GACL,aAATA,GACA30B,KAAKgnC,gBAAW75B,EAAWhM,K,yBAInC,SAAYy5B,GACR56B,KAAKgnC,WAAWpM,K,qBA6CpB,WACI,OAAOyM,EAAclI,mB,sBA9HzB,SAAeC,EAAQb,GACnB,IACI6C,EADEgG,EAA6B,MAAnBhI,EAAOxE,QAAkB,MAA4B,OAAnBwE,EAAOxE,QAAmB,MAAQwE,EAAOxE,QAG3F,GAAIwE,EAAOkI,SAAU,CACjB,OAAqBlI,EAAOpkB,MAAQ,SAASnP,WAAWjM,MAAM,KAA9D,mBAAK83B,EAAL,KAAY1c,EAAZ,KACAA,EAAO9Y,SAAS8Y,EAAM,KAAO,GAC7B0c,EAAQx1B,SAASw1B,EAAO,KAAO,GACnB,GACRA,EAAQ,GACDA,EAAQ,IACfA,EAAQ,GAGR1c,EAAOwc,GAAKE,GACZ1c,EAAOwc,GAAKE,GACL1c,EAAO,IACdA,EAAO,GAGPomB,EADApmB,GAAQ0c,EACJ,gDAA4C0P,EAA5C,aAAwDhI,EAAOpkB,KAA/D,YAAuEokB,EAAOoE,KAA9E,KACY,IAATxoB,GAAc0c,EACjB,6CAAyC0P,EAAzC,aAAqD1P,EAAM7rB,WAAW+rB,SAAS,EAAG,KAAlF,YAA0FwH,EAAOoE,KAAjG,KACa,IAAV9L,GAAe1c,EAClB,6CAAyCosB,EAAzC,aAAqDpsB,EAAKnP,WAAW+rB,SAAS,EAAG,KAAjF,YAAyFwH,EAAOoE,KAAhG,KAEA,0CAAsC4D,EAAtC,aAAkDhI,EAAOoE,KAAzD,UAGRpC,EAAI,0CAAsCgG,EAAtC,aAAkDhI,EAAOoE,KAAzD,KAIR,OAFAjF,EAAQkD,eAAen7B,KAAvB,uBAA4C84B,EAAOz3B,IAAnD,cAA4Dy5B,EAA5D,MACA7C,EAAQiD,gBAAgBl7B,KAAxB,0BAAgD84B,EAAOz3B,IAAvD,6BAA+Ey3B,EAAOz3B,IAAtF,QACO,UAAYy3B,EAAOz3B,M,2BAkD9B,WACI,MAAO,CACH40B,WAAY,aACZv9B,KAAM,iBACND,GAAI,gBACJwJ,KAAM,UACNsyB,aAAc,CACV,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,qBACR5wB,KAAM,oBAEV,CACIH,MAAO,IACP+wB,OAAQ,YACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,kBACR5wB,KAAM,iBAEV,CACIH,MAAO,IACP+wB,OAAQ,SACR5wB,KAAM,aAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,iBAGdH,MAAO,yD,GA9HS6zB,IC+LbsP,G,kDA3MX,WAAY/oC,GAAQ,IAAD,8BACf,cAAMA,EAAO+oC,EAAsBpI,kBAC9B0D,YAAc,KAFJ,E,kDAwBnB,SAAe1hC,EAAOwzB,GACL,UAATA,EACA30B,KAAK4jC,UAAUziC,GACC,WAATwzB,EACP30B,KAAK4jC,eAAUz2B,EAAWhM,GACV,gBAATwzB,GACP30B,KAAK4jC,eAAUz2B,OAAWA,EAAWhM,K,gEAI7C,WAAgB2hC,EAAOC,EAAQC,GAA/B,mCAAAv6B,EAAA,yDACIq6B,EAAQA,GAAS9iC,KAAKlB,MAAMg6B,SAASgK,OAAS,YAC9CC,OAAoB51B,IAAX41B,EAAuB/iC,KAAKlB,MAAMg6B,SAASiK,OAASA,EAC7DC,OAA8B71B,IAAhB61B,EAA4BhjC,KAAKlB,MAAMg6B,SAASkK,YAAcA,EAE5EA,EAAc9gC,SAAS8gC,EAAa,KAAO,EACtChjC,KAAK6iC,YANd,gCAOc7iC,KAAKxB,MAAM6I,OAAOC,UAAU,+BAC7BC,MAAK,YAA0C,IAAD,IAAtCusB,OAAUmP,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,UACzB,IAAKD,IAAaC,EACd,OAAO,EAAK1kC,MAAM6I,OAAOC,UAAU,iBAC9BC,MAAK,SAAAC,GACEA,IAAQA,EAAIC,OAAOw7B,UAAYz7B,EAAIC,OAAOy7B,WAC1C,EAAKL,YAAc,CACfI,SAAUz7B,EAAIC,OAAOw7B,SACrBC,UAAW17B,EAAIC,OAAOy7B,WAG1B,EAAKL,YAAc,QAI/B,EAAKA,YAAc,CACfI,WACAC,gBAxBxB,OA6BUC,EAAWnjC,KAAK6iC,aAAeO,KAAQC,SAAS,IAAIpoB,KAAQjb,KAAK6iC,YAAYI,SAAUjjC,KAAK6iC,YAAYK,YACxGxhB,EAAUyhB,EAAW92B,OAAOC,KAAK62B,GAAU/gC,KAAI,SAAApD,GAAI,MAAK,CAC1DmC,MAAOnC,EACPoF,MAAOpF,EACPm2B,OAAO,IAAD,OAAMoS,EAAsBjE,aAAaH,EAASnkC,IAAlD,KACNukC,MAAOgE,EAAsBjE,aAAaH,EAASnkC,QACjD,IACEwJ,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE86B,MAAQ76B,EAAE66B,MAAQ,EAAK96B,EAAE86B,MAAQ76B,EAAE66B,OAAS,EAAI,KAGnE1I,EAAe0M,EAAsBpI,gBAAgBtE,aACrDmB,EAAMnB,EAAaz0B,MAAK,SAAAC,GAAI,OAAIA,EAAKjC,QAAU,EAAKtF,MAAMg6B,SAAS8B,WAErE4I,EAAO,QACPV,GAASK,GAAYA,EAASL,KACxBW,EAAY,IAAIxoB,KAAKkoB,EAASL,IACpCC,GAAUU,EAAUC,WAAWD,EAAUtpB,aAAejY,SAAS8gC,EAAa,KAC9EQ,EAAI,WAAO/iC,IAAKC,EAAEs7B,EAAIz3B,MAAlB,YAA2BgjC,EAAsBjE,aAAaG,GAA9D,MAMJ1G,EADAgG,EACS,CACL,CACIvF,WAAY,iBACZ9H,aAAc,qBACdf,KAAM,QAEV,CACIwD,UAAW6D,EAAIz3B,KACfowB,KAAM,QACN6I,WAAY,eACZ9b,UACAuU,iBAAiB,EACjBP,aAAc,aAElB,CACI0C,SAAU,cACVoF,WAAY,iBACZ7I,KAAM,UAEV,CACIyD,SAA0B,IAAhB4K,EAAoB,SAAW,UACzC7K,UAAW,SACXqF,WAAY,eACZ9H,aAAc,EACdf,KAAM,cACNsE,cAAc,GAElB,CACIuE,WAAY,iBACZ7I,KAAM,WACNqB,gBAAgB,EAChBN,aAAc8N,IAIb,CACL,CACIhG,WAAY,iBACZ9H,aAAc,qBACdf,KAAM,QAEV,CACIwD,UAAW6D,EAAIz3B,KACfowB,KAAM,QACN6I,WAAY,eACZ9b,UACAuU,iBAAiB,EACjBP,aAAc,aAElB,CACI0C,SAAU,cACVoF,WAAY,iBACZ7I,KAAM,UAEV,CACI6I,WAAY,iBACZ7I,KAAM,WACNqB,gBAAgB,EAChBN,aAAc8N,IAK1BxjC,KAAKb,SAAS,CAAE49B,WAAU,+BAAC,sDAnH/B,iD,oFAsHA,SAAYnC,GACR56B,KAAK4jC,c,qBA6CT,WACI,OAAO2D,EAAsBpI,mB,sBAlMjC,SAAeC,EAAQb,GACnB,IACIwE,EADEqE,EAA6B,MAAnBhI,EAAOxE,QAAkB,MAA4B,OAAnBwE,EAAOxE,QAAmB,MAAQwE,EAAOxE,QAEvFwE,EAAO2D,SACPA,EAAS7gC,SAASk9B,EAAO4D,YAAa,KAAO,GAEjD,IAAM5B,EAAI,0CAAsCgG,EAAtC,qCAA0EhI,EAAO0D,MAAjF,YAA0FC,EAAM,uBAAmBA,GAAW,GAA9H,eAGV,OAFAxE,EAAQkD,eAAen7B,KAAvB,uBAA4C84B,EAAOz3B,IAAnD,cAA4Dy5B,EAA5D,MACA7C,EAAQiD,gBAAgBl7B,KAAxB,0BAAgD84B,EAAOz3B,IAAvD,sBAAwEy5B,EAAxE,QACOA,I,0BAGX,SAAoBoC,GAChB,OAAKA,EAGC,GAAN,OAAUA,EAAKtpB,WAAWrO,WAAW+rB,SAAS,EAAG,KAAjD,YAAyD4L,EAAKrpB,aAAatO,WAAW+rB,SAAS,EAAG,MAFvF,U,2BAyIf,WACI,MAAO,CACH2E,WAAY,aACZv9B,KAAM,eACND,GAAI,wBACJwJ,KAAM,cACNsyB,aAAc,CACV,CACIz2B,MAAO,IACP+wB,OAAQ,UACR5wB,KAAM,YAEV,CACIH,MAAO,KACP+wB,OAAQ,qBACR5wB,KAAM,uBAEV,CACIH,MAAO,IACP+wB,OAAQ,YACR5wB,KAAM,gBAEV,CACIH,MAAO,KACP+wB,OAAQ,kBACR5wB,KAAM,oBAEV,CACIH,MAAO,IACP+wB,OAAQ,SACR5wB,KAAM,aAEV,CACIH,MAAO,KACP+wB,OAAQ,cACR5wB,KAAM,iBAGdH,MAAO,qD,GAnMiB6zB,ICS9BuP,G,kDACF,WAAYhpC,GAAQ,uCACVA,EAAOgpC,EAAerI,iB,wDAGhC,WAAwB,IAAD,QACnB,OAAO,UAAAn/B,KAAKxB,MAAM00B,iBAAX,mBAAsBwN,gBAAtB,eAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,UACrD,UAACiB,KAAKxB,MAAM00B,iBAAZ,iBAAC,EAAsBwN,gBAAvB,aAAC,EAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,S,yBA+C3D,SAAYg/B,GACR,OAAO,kCAAOt9B,IAAKC,EAAE,QAAd,IAAuB,uBAAMmD,UAAWk6B,EAAahyB,KAAK45B,IAAM3lC,KAAKxB,MAAMsF,QAAQ2hC,SAAWzlC,KAAKxB,MAAMsF,QAAQ4hC,YAA1F,SAAwG8B,EAAexS,YAAY+I,EAAahyB,KAAKoF,Y,wBAGvL,SAAWy1B,EAAYa,GAAS,IAAD,OACrBV,EAAuB/mC,KAAK+mC,uBAElCU,OAA4Bt6B,IAAfs6B,EAA2BznC,KAAKlB,MAAMg6B,SAAS2O,OAAaA,EACzEb,OAA4Bz5B,IAAfy5B,EAA2B5mC,KAAKlB,MAAMg6B,SAAS8N,WAAaA,EACzE,IACIllB,EAEAoX,EA2BAiE,EA9BA15B,EAAO,GAEX,EAAkFrD,KAAKlB,MAAMg6B,SAAtF2F,EAAP,EAAOA,QAASoI,EAAhB,EAAgBA,QAASC,EAAzB,EAAyBA,UAAWY,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,QAASC,EAA7D,EAA6DA,SAAUC,EAAvE,EAAuEA,QA6BvE,GA1BIrJ,IACgB,WAAZA,GACAp7B,EAAO,cACQ8J,IAAXu6B,QAAmCv6B,IAAXw6B,IACxBtkC,EAAO,WAEQ,YAAZo7B,GACPp7B,EAAO,UACHukC,GAAWA,EAAQnkC,SAAS,WAAaokC,IACzCxkC,EAAO,YAGXA,EAAO,GACHukC,GAAWA,EAAQnkC,SAAS,WAC5BJ,EAAO,UAIXyjC,IACAplB,EAAUrV,OAAOC,KAAKw6B,GAAW1kC,KAAI,SAAA+O,GAAG,MACnC,CAAChQ,MAAOgQ,EAAK/M,MAAO0iC,EAAU31B,OACnC9N,EAAO,WAKX0jC,GAAwBH,EACxB7J,EAAS,CACL,CACI3E,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,aACNe,cAAc,IAGT,YAATryB,GACA05B,EAAOz2B,KAAK,CACR8xB,SAAU,eACVzD,KAAM,SACN6I,WAAY,iBACZ9H,cAAc,QAGnB,CACH,OAAQryB,GACJ,IAAK,SACD05B,EAAS,CAAC,CACN3E,SAAUyO,GAAW,GACrB1O,UAAW,OACXqF,WAAY,eACZ9H,kBAAyBvoB,IAAXu6B,EAAuB,EAAIA,EACzC/S,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAAuB4mC,MAAMhC,WAAW/lC,KAAKlB,MAAMg6B,SAAS33B,UAChF23B,EAAW,CAAC33B,WAAkBgM,IAAXu6B,EAAuB,EAAIA,IAElD,MAEJ,IAAK,SACD3K,EAAS,CAAC,CACNS,WAAY,eACZ9H,aAAcgS,EACdjR,IAAKkR,EACLjR,IAAKgR,EACL9Q,KAAMiQ,EACNlQ,KAAMmR,EACNnT,KAAM,UAEV,IAAMqT,EAAIjC,WAAW/lC,KAAKlB,MAAMg6B,SAAS33B,YACPgM,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QACnB4mC,MAAMC,IAAMA,EAAIL,GAAUK,EAAIN,KAE/B5O,EAAW,CAAC33B,MAAOumC,IAEvB,MAEJ,IAAK,SACD3K,EAAS,CAAC,CACNS,WAAY,eACZrF,UAAW,OACXzW,UACAgU,aAAchU,EAAQ,GAAGvgB,MACzBwzB,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAAwBugB,EAAQtb,MAAK,SAAAC,GAAI,OAAIA,EAAKlF,QAAU,EAAKrC,MAAMg6B,SAAS33B,WACpG23B,EAAW,CAAC33B,MAAOugB,EAAQ,GAAGvgB,QAElC,MAEJ,IAAK,UACD47B,EAAS,CACL,CACI3E,SAAU,eACVzD,KAAM,SACN6I,WAAY,iBACZ9H,cAAc,IAGjB+R,GACD1K,EAAOz2B,KAAK,CACR8xB,SAAU,OACVD,UAAW,QACXqF,WAAY,eACZ9H,cAAc,EACdf,KAAM,eAIoBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QAAqD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QAAiD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QACtG23B,EAAW,CAAC33B,OAAO,IAEvB,MAEJ,IAAK,SACD47B,EAAS,CAAC,CACNS,WAAY,eACZ9H,cAAc,EACdf,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QAAqD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QAC/D23B,EAAW,CAAC33B,OAAO,IAEvB,MAEJ,IAAK,QACD47B,EAAS,CAAC,CACNS,WAAY,cACZrF,UAAW,OACXzC,aAAc,UACdf,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAEqB,kBAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QACnBnB,KAAKlB,MAAMg6B,SAAS33B,MAAMyH,WAAW,KAClC5I,KAAKlB,MAAMg6B,SAAS33B,MAAMyH,WAAW,OAA5C,KAERkwB,EAAW,CAAC33B,MAAO,YAEvB,MAEJ,QACI47B,EAAS,CAAC,CACN3E,SAAUyO,GAAW,GACrB1O,UAAW,OACXqF,WAAY,aACZ9H,aAAc,GACdf,KAAM,UAKdoS,GACAhK,EAAOhI,QAAQ,CACXqD,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,eAKlB,MAAO,CAACoI,SAAQX,YAAatD,K,yBAGjC,SAAY8B,EAAStqB,EAAI23B,EAAQR,EAAQb,GAAa,IAAD,OACjDA,OAA4Bz5B,IAAfy5B,EAA2B5mC,KAAKlB,MAAMg6B,SAAS8N,WAAaA,EACzE,MAA8B5mC,KAAKgnC,WAAWJ,EAAYa,GAAnD1K,EAAP,EAAOA,OAAQX,EAAf,EAAeA,YACfW,EAAOhI,QAAQ,CACXyI,WAAY,iBACZ7I,KAAM,MACNe,aAAc,GACdkE,eAAe,IAGnB55B,KAAKb,SAAS,CAAC49B,WAAS,+BAAC,kDAAuB,MAAM,WAClD,GAAIX,EAAa,CACb,IAAMtD,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMg6B,WACtDzsB,OAAOuG,OAAOkmB,EAAUsD,GACxB,EAAKj9B,SAAS25B,GACd,EAAKt6B,MAAMiD,SAASq3B,Y,4BAKhC,SAAe33B,EAAOwzB,EAAM4J,GACxBv+B,KAAKi8B,iBAAY9uB,OAAWA,OAAWA,EAAoB,WAATwnB,EAAoBxzB,OAAQgM,EAAoB,eAATwnB,EAAwBxzB,OAAQgM,K,sBAG7H,WACInN,KAAKi8B,gB,qBAeT,WACI,OAAOuL,EAAerI,mB,sBAvQ1B,SAAeC,EAAQb,GACnB,IAgBIrI,EAhBA/0B,EAAQi+B,EAAOj+B,MAuBnB,OAtBIi+B,EAAOwH,WACPzlC,EAAQi+B,EAAOqI,OAAS,iBAAmB,sBAE7Bt6B,IAAVhM,GAAiC,OAAVA,IACvBA,EAAQ,IAGgB,kBAAjBi+B,EAAOj+B,OACd4kC,WAAW3G,EAAOj+B,OAAO0K,aAAeuzB,EAAOj+B,OAC9B,SAAjBi+B,EAAOj+B,OACU,UAAjBi+B,EAAOj+B,QAEPA,EAAK,WAAOA,EAAMpB,QAAQ,KAAM,OAA3B,YAAqCk4B,GAAaqH,kBAAkBf,MAM7ErI,EADAkJ,EAAOqI,SAAWrI,EAAOwH,WACxB,4BAAwBxH,EAAOz3B,IAA/B,qCAA+Dy3B,EAAOxB,IAAtE,WAEA,4BAAwBwB,EAAOz3B,IAA/B,cAAwCxG,GAEvC,gBAAN,OAAuBi+B,EAAOxB,IAA9B,eAAwCwB,EAAOqI,SAAWrI,EAAOwH,WAAa,SAAWzlC,EAAzF,kBACF+0B,EADE,kCAEckJ,EAAOz3B,IAFrB,+BAE+Cy3B,EAAOz3B,IAFtD,kBAEsF,WAAnBy3B,EAAOxE,QAF1E,yCAGmBwE,EAAOxB,IAH1B,0BAG+CwB,EAAOz3B,IAHtD,aAGiF,WAAnBy3B,EAAOxE,QAHrE,Q,yBAMJ,SAAmBzpB,GACf,OAAY,OAARA,EACO,YACQhE,IAARgE,EACA,YACAi1B,MAAMC,QAAQl1B,GACdA,EAAIrR,KAAK,MACM,kBAARqR,EACPhD,KAAK8C,UAAUE,GAEfA,EAAItF,a,2BAkNnB,WACI,MAAO,CACH0wB,WAAY,UACZv9B,KAAM,mBACND,GAAI,iBACJwJ,KAAM,cACNsyB,aAAc,CAAC,UAAW,UAC1Bz2B,MAAO,+BACP44B,WAAY,8G,GA5QK/E,ICiBdiQ,GAhBQ,CACnBC,GACAxF,GACA2C,GACAiB,GACAc,GACAE,GD8QWzkC,aA9RA,SAAAC,GAAK,MAAK,CACrB0iC,SAAU,CACN/iC,MAAO,WAEXgjC,YAAa,CACThjC,MAAO,cAyRAI,CAAmB0kC,I,kDE/R9B,WAAYhpC,GAAQ,uCACVA,EAAO4pC,EAAWjJ,iB,+CAU5B,SAAYpB,GACR,MAAO,SAAWA,EAAahyB,KAAKs8B,O,yBAGxC,SAAYzN,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,mBACZ7I,KAAM,OACNe,aAAc,mBACd2C,UAAW,oBAGpB,+BAAC,kDAAuBuC,Q,qBAc/B,WACI,OAAOwN,EAAWjJ,mB,sBApCtB,SAAeC,EAAQb,GACnB,MAAM,YAAN,OAAmBa,EAAOiJ,KAA1B,oCACgBjJ,EAAOz3B,IADvB,gBACkCy3B,EAAOiJ,MAAQ,IAAItoC,QAAQ,KAAM,OADnE,YAC6Ek4B,GAAaqH,kBAAkBf,GAD5G,kCAEca,EAAOz3B,IAFrB,gCAEgDy3B,EAAOz3B,IAFvD,4CAGsBy3B,EAAOz3B,IAH7B,Q,2BAuBJ,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,OACND,GAAI,aACJwJ,KAAM,OACNnE,MAAO,8BACP44B,WAAY,wG,GApCC/E,I,kDCCrB,WAAYz5B,GAAQ,uCACVA,EAAO8pC,EAAenJ,iB,+CAUhC,SAAYpB,GACR,MAAO,QAAUA,EAAahyB,KAAK+kB,M,yBAGvC,SAAY8J,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,mBACZ7I,KAAM,MACNe,aAAc,0BACd2C,UAAW,UAGpB,+BAAC,kDAAuBuC,Q,qBAc/B,WACI,OAAO0N,EAAenJ,mB,sBApC1B,SAAeC,EAAQb,GACnB,MAAM,mBAAN,OAA0Ba,EAAOtO,IAAjC,mCACgBsO,EAAOz3B,IADvB,gBACkCy3B,EAAOtO,KAAO,IAAI/wB,QAAQ,KAAM,OADlE,YAC4Ek4B,GAAaqH,kBAAkBf,GAD3G,kCAEca,EAAOz3B,IAFrB,+BAE+Cy3B,EAAOz3B,IAFtD,wCAGkBy3B,EAAOz3B,IAHzB,Q,2BAuBJ,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,YACND,GAAI,iBACJwJ,KAAM,WACNnE,MAAO,0BACP44B,WAAY,oG,GApCK/E,I,kDCEzB,WAAYz5B,GAAQ,uCACVA,EAAO+pC,EAAgBpJ,iB,+CAUjC,SAAYpB,GACR,OAAOt9B,IAAKC,EAAE,UAAWq9B,EAAahyB,KAAKxH,Q,yBAG/C,SAAYq2B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,mBACZ7I,KAAM,OACNe,aAAc,sBACd2C,UAAW,eAGpB,+BAAC,kDAAuBuC,Q,qBAc/B,WACI,OAAO2N,EAAgBpJ,mB,sBApC3B,SAAeC,EAAQb,GACnB,MAAM,UAAN,OAAiBa,EAAO76B,KAAxB,mCACgB66B,EAAOz3B,IADvB,gBACkCy3B,EAAO76B,MAAQ,IAAIxE,QAAQ,KAAM,OADnE,YAC6Ek4B,GAAaqH,kBAAkBf,GAD5G,kCAEca,EAAOz3B,IAFrB,gCAEgDy3B,EAAOz3B,IAFvD,4CAGsBy3B,EAAOz3B,IAH7B,Q,2BAuBJ,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,WACND,GAAI,kBACJwJ,KAAM,UACNnE,MAAO,yBACP44B,WAAY,6G,GApCM/E,I,kDCC1B,WAAYz5B,GAAQ,uCACVA,EAAOgqC,EAAYrJ,iB,+CAY7B,SAAYpB,GACR,OAAOt9B,IAAKC,EAAE,aAAcq9B,EAAahyB,KAAK08B,U,yBAGlD,SAAYC,GAER,OAAc,KADdA,OAAkBv7B,IAAVu7B,EAAsB1oC,KAAKlB,MAAMg6B,SAAS4P,MAAQA,IAC7B,MAAVA,EACR,CACH,CAAEvnC,MAAO,KAAMiD,MAAO,eACtB,CAAEjD,MAAO,IAAKiD,MAAO,UACrB,CAAEjD,MAAO,IAAKiD,MAAO,UACrB,CAAEjD,MAAO,IAAKiD,MAAO,SAGlB,CACH,CAAEjD,MAAO,KAAMiD,MAAO,gBACtB,CAAEjD,MAAO,IAAKiD,MAAO,WACrB,CAAEjD,MAAO,IAAKiD,MAAO,WACrB,CAAEjD,MAAO,IAAKiD,MAAO,Y,wBAKjC,SAAWskC,GAAQ,IAAD,OACd1oC,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,eACZ7I,KAAM,QACNe,aAAc,IACduD,cAAc,GAElB,CACIuE,WAAY,eACZ7I,KAAM,OACNe,aAAc,KACdhU,QAAS1hB,KAAK2oC,YAAYD,OAGnC,+BAAC,wD,4BAGR,SAAevnC,EAAOwzB,GACL,UAATA,GACA30B,KAAKgnC,WAAW7lC,K,yBAIxB,SAAYy5B,GACR56B,KAAKgnC,e,qBAaT,WACI,OAAOwB,EAAYrJ,mB,sBAxEvB,SAAeC,EAAQb,GACnB,IAAMxjB,EAAqB,OAAhBqkB,EAAOxI,KAAgB,EAAqB,MAAhBwI,EAAOxI,KAAe,IAAwB,MAAhBwI,EAAOxI,KAAe,IAAQ,KAEnG,MAAM,gBAAN,OAAuB7b,EAAvB,mCACcqkB,EAAOz3B,IADrB,gDAESy3B,EAAOsJ,MAFhB,cAE2B3tB,EAF3B,qCAGcqkB,EAAOz3B,IAHrB,yB,2BA0DJ,WACI,MAAO,CACH40B,WAAY,UACZv9B,KAAM,QACND,GAAI,cACJwJ,KAAM,QACNnE,MAAO,oC,GAxEO6zB,I,kDCCtB,WAAYz5B,GAAQ,uCACVA,EAAOoqC,EAAezJ,iB,+CAchC,SAAYpB,GACR,OAAOt9B,IAAKC,EAAE,wB,yBAGlB,SAAYk6B,GAAU,IAAD,OACjB56B,KAAKb,SAAS,CACV49B,OAAQ,CACJ,CACIS,WAAY,mBACZ7I,KAAM,OACN8G,YAAY,EACZ/F,aAAc,sBACd2C,UAAW,eAGpB,+BAAC,kDAAuBuC,Q,qBAc/B,WACI,OAAOgO,EAAezJ,mB,sBAzC1B,SAAeC,EAAQb,GACnB,IAAM5jB,GAASykB,EAAOsF,MAAQ,IACzB9kC,MAAM,MACNwC,KAAI,SAAC6/B,EAAM/7B,GAAP,MAAa,WAAa+7B,KAKnC,OAHAtnB,EAAMoa,QAAN,8BAAqCqK,EAAOz3B,IAA5C,2BACAgT,EAAMoa,QAAN,oBAEOpa,EAAM7a,KAAK,Q,2BAqBtB,WACI,MAAO,CACHy8B,WAAY,UACZv9B,KAAM,gBACND,GAAI,iBACJwJ,KAAM,YACNnE,MAAO,sBACP44B,WAAY,oG,GAzCK/E,I,kDCCzB,WAAYz5B,GAAQ,uCACVA,EAAOqqC,EAAsB1J,iB,wDAGvC,WAAwB,IAAD,QACnB,OAAO,UAAAn/B,KAAKxB,MAAM00B,iBAAX,mBAAsBwN,gBAAtB,eAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,UACrD,UAACiB,KAAKxB,MAAM00B,iBAAZ,iBAAC,EAAsBwN,gBAAvB,aAAC,EAAgCt6B,MAAK,SAAAC,GAAI,MAAgB,iBAAZA,EAAKtH,S,yBA+C3D,SAAYg/B,GACR,OAAO,kCAAOt9B,IAAKC,EAAE,QAAd,IAAuB,uBAAMmD,UAAWk6B,EAAahyB,KAAK45B,IAAM3lC,KAAKxB,MAAMsF,QAAQ2hC,SAAWzlC,KAAKxB,MAAMsF,QAAQ4hC,YAA1F,SAAwGmD,EAAsB7T,YAAY+I,EAAahyB,KAAKoF,Y,wBAG9L,SAAWy1B,EAAYa,GAAS,IAAD,OACrBV,EAAuB/mC,KAAK+mC,uBAElCU,OAAoBt6B,IAAXs6B,EAAuBznC,KAAKlB,MAAMg6B,SAAS2O,OAASA,EAC7Db,OAA4Bz5B,IAAfy5B,EAA2B5mC,KAAKlB,MAAMg6B,SAAS8N,WAAaA,EACzE,IACIllB,EAEAoX,EA0BAiE,EA7BA15B,EAAO,GAEX,EAAkFrD,KAAKlB,MAAMg6B,SAAtF2F,EAAP,EAAOA,QAASoI,EAAhB,EAAgBA,QAASC,EAAzB,EAAyBA,UAAWY,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,QAASC,EAA7D,EAA6DA,SAAUC,EAAvE,EAAuEA,QA4BvE,GAzBIrJ,IACgB,WAAZA,GACAp7B,EAAO,cACQ8J,IAAXu6B,QAAmCv6B,IAAXw6B,IACxBtkC,EAAO,WAEQ,YAAZo7B,GACPp7B,EAAO,UACHukC,GAAWA,EAAQnkC,SAAS,WAAaokC,IACzCxkC,EAAO,YAGXA,EAAO,GACHukC,GAAWA,EAAQnkC,SAAS,WAC5BJ,EAAO,UAIXyjC,IACAplB,EAAUrV,OAAOC,KAAKw6B,GAAW1kC,KAAI,SAAA+O,GAAG,MACnC,CAAChQ,MAAOgQ,EAAK/M,MAAO0iC,EAAU31B,OACnC9N,EAAO,WAIX0jC,GAAwBH,EACxB7J,EAAS,CACL,CACI3E,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,aACNe,cAAc,IAGT,YAATryB,GACA05B,EAAOz2B,KAAK,CACR8xB,SAAU,eACVzD,KAAM,SACN6I,WAAY,iBACZ9H,cAAc,QAGnB,CACH,OAAQryB,GACJ,IAAK,SACD05B,EAAS,CAAC,CACN3E,SAAUyO,GAAW,GACrB1O,UAAW,OACXqF,WAAY,eACZ9H,kBAAyBvoB,IAAXu6B,EAAuB,EAAIA,EACzC/S,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAAuB4mC,MAAMhC,WAAW/lC,KAAKlB,MAAMg6B,SAAS33B,UAChF23B,EAAW,CAAC33B,WAAkBgM,IAAXu6B,EAAuB,EAAIA,IAElD,MAEJ,IAAK,SACD3K,EAAS,CAAC,CACNS,WAAY,eACZ9H,aAAcgS,EACdjR,IAAKkR,EACLjR,IAAKgR,EACL9Q,KAAMiQ,EACNlQ,KAAMmR,EACNnT,KAAM,UAEV,IAAMqT,EAAIjC,WAAW/lC,KAAKlB,MAAMg6B,SAAS33B,YACPgM,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QACnB4mC,MAAMC,IAAMA,EAAIL,GAAUK,EAAIN,KAE/B5O,EAAW,CAAC33B,MAAOumC,IAEvB,MAEJ,IAAK,SACD3K,EAAS,CAAC,CACNS,WAAY,eACZrF,UAAW,OACXzW,UACAgU,aAAchU,EAAQ,GAAGvgB,MACzBwzB,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAAwBugB,EAAQtb,MAAK,SAAAC,GAAI,OAAIA,EAAKlF,QAAU,EAAKrC,MAAMg6B,SAAS33B,WACpG23B,EAAW,CAAC33B,MAAOugB,EAAQ,GAAGvgB,QAElC,MAEJ,IAAK,UACD47B,EAAS,CACL,CACI3E,SAAU,eACVzD,KAAM,SACN6I,WAAY,iBACZ9H,cAAc,IAGjB+R,GACD1K,EAAOz2B,KAAK,CACR8xB,SAAU,OACVD,UAAW,QACXqF,WAAY,eACZ9H,cAAc,EACdf,KAAM,eAIoBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QAAqD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QAAiD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QACtG23B,EAAW,CAAC33B,OAAO,IAEvB,MAEJ,IAAK,SACD47B,EAAS,CAAC,CACNS,WAAY,eACZ9H,cAAc,EACdf,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,QAAqD,IAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QAC/D23B,EAAW,CAAC33B,OAAO,IAEvB,MAEJ,IAAK,QACD47B,EAAS,CAAC,CACNS,WAAY,cACZrF,UAAW,OACXzC,aAAc,UACdf,KAAM,eAEwBxnB,IAA9BnN,KAAKlB,MAAMg6B,SAAS33B,OAEqB,kBAA9BnB,KAAKlB,MAAMg6B,SAAS33B,QACnBnB,KAAKlB,MAAMg6B,SAAS33B,MAAMyH,WAAW,KAClC5I,KAAKlB,MAAMg6B,SAAS33B,MAAMyH,WAAW,OAA5C,KAERkwB,EAAW,CAAC33B,MAAO,YAEvB,MAEJ,QACI47B,EAAS,CAAC,CACN3E,SAAUyO,GAAW,GACrB1O,UAAW,OACXqF,WAAY,aACZ9H,aAAc,GACdf,KAAM,UAIdoS,GACAhK,EAAOhI,QAAQ,CACXqD,SAAU,oBACVoF,WAAY,iBACZ7I,KAAM,eAoBlB,OAfAoI,EAAOz2B,KAAK,CACR8xB,SAAU,KACVD,UAAW,QACXqF,WAAY,eACZ9H,aAAc,OACduD,cAAc,EACdtE,KAAM,UAEVoI,EAAOz2B,KAAK,CACR8xB,SAAU,gBACVoF,WAAY,iBACZ9H,cAAc,EACdf,KAAM,iBAGH,CAACoI,SAAQX,YAAatD,K,yBAGjC,SAAY8B,EAAStqB,EAAI23B,EAAQR,EAAQb,GAAa,IAAD,OACjDA,OAA4Bz5B,IAAfy5B,EAA2B5mC,KAAKlB,MAAMg6B,SAAS8N,WAAaA,EACzE,MAA8B5mC,KAAKgnC,WAAWJ,EAAYa,GAAnD1K,EAAP,EAAOA,OAAQX,EAAf,EAAeA,YACfW,EAAOhI,QAAQ,CACXyI,WAAY,iBACZ7I,KAAM,MACNe,aAAc,GACdkE,eAAe,IAGnB55B,KAAKb,SAAS,CAAC49B,WAAS,+BAAC,kDAAuB,MAAM,WAClD,GAAIX,EAAa,CACb,IAAMtD,EAAW3qB,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMg6B,WACtDzsB,OAAOuG,OAAOkmB,EAAUsD,GACxB,EAAKj9B,SAAS25B,GACd,EAAKt6B,MAAMiD,SAASq3B,Y,4BAKhC,SAAe33B,EAAOwzB,EAAM4J,GACxBv+B,KAAKi8B,iBAAY9uB,OAAWA,OAAWA,EAAoB,WAATwnB,EAAoBxzB,OAAQgM,EAAoB,eAATwnB,EAAwBxzB,OAAQgM,K,sBAG7H,WACInN,KAAKi8B,gB,qBAeT,WACI,OAAO4M,EAAsB1J,mB,sBApRjC,SAAeC,EAAQb,GACnB,IAgBIrI,EAhBA/0B,EAAQi+B,EAAOj+B,MAuBnB,OAtBIi+B,EAAOwH,WACPzlC,EAAQi+B,EAAOqI,OAAS,iBAAmB,sBAE7Bt6B,IAAVhM,GAAiC,OAAVA,IACvBA,EAAQ,IAGgB,kBAAjBi+B,EAAOj+B,OACd4kC,WAAW3G,EAAOj+B,OAAO0K,aAAeuzB,EAAOj+B,OAC9B,SAAjBi+B,EAAOj+B,OACU,UAAjBi+B,EAAOj+B,QAEPA,EAAK,WAAOA,EAAMpB,QAAQ,KAAM,OAA3B,YAAqCk4B,GAAaqH,kBAAkBf,MAK7ErI,EADAkJ,EAAOqI,SAAWrI,EAAOwH,WACxB,4BAAwBxH,EAAOz3B,IAA/B,qCAA+Dy3B,EAAOxB,IAAtE,WAEA,4BAAwBwB,EAAOz3B,IAA/B,cAAwCxG,GAGvC,wBAAN,OAA+Bi+B,EAAOxB,IAAtC,eAAgDwB,EAAOqI,SAAWrI,EAAOwH,WAAa,SAAWzlC,EAAjG,0BAAwHi+B,EAAO0J,MAA/H,mBACF5S,EADE,kCAEckJ,EAAOz3B,IAFrB,+BAE+Cy3B,EAAOz3B,IAFtD,kBAEsF,WAAnBy3B,EAAOxE,QAF1E,qCAGewE,EAAOxB,IAHtB,0BAG2CwB,EAAOz3B,IAHlD,aAG6E,WAAnBy3B,EAAOxE,QAHjE,aAG0F14B,SAASk9B,EAAO0J,MAAO,IAHjH,aAGyH1J,EAAO2J,aAAe,OAAS,QAHxJ,Q,yBAMJ,SAAmB53B,GACf,OAAY,OAARA,EACO,YACQhE,IAARgE,EACA,YACAi1B,MAAMC,QAAQl1B,GACdA,EAAIrR,KAAK,MACM,kBAARqR,EACPhD,KAAK8C,UAAUE,GAEfA,EAAItF,a,2BA+NnB,WACI,MAAO,CACH0wB,WAAY,UACZv9B,KAAM,iBACND,GAAI,wBACJwJ,KAAM,cACNsyB,aAAc,CAAC,UAAW,UAC1Bz2B,MAAO,0CACP44B,WAAY,8G,GAzRY/E,KCW9B+Q,GAAW,CACbC,SAAUvJ,GACVwJ,MAAO3J,GACP4J,MAAOjK,GACPkK,SAAUnJ,GACV,eAAgBG,GAChB,UAAaE,IAGJ+I,GAAuBC,0BAEvBC,GAAiB,SAAC,GAA0B,IAAxB77B,EAAuB,EAAvBA,SAAUrG,EAAa,EAAbA,OACvC,EAA4BgrB,mBAAS,MAArC,mBAAO7I,EAAP,KAAeggB,EAAf,KACA,EAAgCnX,oBAAS,GAAzC,mBAAOmK,EAAP,KAAiB/B,EAAjB,KACA,EAA4CpI,oBAAS,GAArD,mBAAO6L,EAAP,KAAuBuL,EAAvB,KACA,EAAgDpX,oBAAS,GAAzD,mBAAO2L,EAAP,KAAyB0L,EAAzB,KAkBA,OAhBAnX,qBAAU,WACNiK,GAAY/B,GAAY,KACzB,CAAC+B,IAEJjK,qBAAU,WACNlrB,EAAOc,sBACFZ,MAAK,SAAAhI,GACF,IAEMoqC,EAFWt9B,OAAOC,KAAK08B,IAAUlhC,QAAO,SAAAO,GAAO,OACjD9I,EAAU6G,MAAK,SAAAoB,GAAG,aAAO,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKC,cAAL,eAAazI,QAASqJ,QACZjG,KAAI,SAAAiG,GAAO,OAAI2gC,GAAS3gC,MAE5DmhC,EAAU,GAAD,mBAAKtB,IAAL,YAAwByB,UAG1C,IAEI,eAACN,GAAqBO,SAAtB,CAA+BzoC,MAAO,CACzCqoB,SACAniB,SACAm1B,WACA/B,cACAyD,iBACAuL,oBACAzL,mBACA0L,uBARG,SAUFh8B,KC9CT,IAAMm8B,GAAc7V,gBAAK,SAAAx1B,GACrB,IAAQsrC,EAAwGtrC,EAAxGsrC,aAAc5W,EAA0F10B,EAA1F00B,UAAWvrB,EAA+EnJ,EAA/EmJ,IAAK5I,EAA0EP,EAA1EO,GAAIgrC,EAAsEvrC,EAAtEurC,WAAYpX,EAA0Dn0B,EAA1Dm0B,OAAQ4J,EAAkD/9B,EAAlD+9B,WAAYX,EAAsCp9B,EAAtCo9B,WAAYE,EAA0Bt9B,EAA1Bs9B,YAAaD,EAAar9B,EAAbq9B,SACnG,EAAgCxJ,mBAAS,MAAzC,mBAAOjd,EAAP,KAAiB40B,EAAjB,KACA,EAAoFC,qBAAWZ,IAAvF7f,EAAR,EAAQA,OAAQniB,EAAhB,EAAgBA,OAAQm1B,EAAxB,EAAwBA,SAAU/B,EAAlC,EAAkCA,YAAayD,EAA/C,EAA+CA,eAAgBF,EAA/D,EAA+DA,iBAE/DzL,qBAAU,WACN/rB,QAAQC,IAAI,iBAAmB0H,KAAK8C,UAAUitB,MAC/C,CAACA,IAGJ,IAAMgM,EAAoBC,uBAAY,SAAAprC,GAAE,OAAIyqB,EAAOpjB,MAAK,SAAAD,GAEpD,OADmBA,EAAGg5B,gBACJpgC,KAAOA,OACzB,CAACyqB,IAEC/nB,EAAW0oC,uBAAY,SAAArR,GACzB,IAAIsR,EC3BL,SAAqBtR,EAAU5F,EAAWC,GAC7C,IACIhI,EADIxjB,EAAoBmxB,EAApBnxB,IAAK40B,EAAezD,EAAfyD,WAGb,IAAKA,IAAerJ,EAAUqJ,GAE1B,OADA/1B,QAAQ+W,KAAK,eAAiBgf,GACvBrJ,EAGX,OAAQqJ,GACJ,IAAK,UAQL,IAAK,aAOD,OANApR,EAAQ+H,EAAUqJ,GAAYpJ,GAAqB/sB,MAAK,SAAAD,GAAE,OAAIA,EAAGwB,MAAQA,MAIrEurB,EAAUqJ,GAAYpJ,GAAqBD,EAAUqJ,GAAYpJ,GAAqB3tB,QAAQ2lB,IAAU2N,EAFxGtyB,QAAQ+W,KAAK,eAAiB5V,GAI3BurB,EACX,QAOI,OANA/H,EAAQ+H,EAAUqJ,GAAYn2B,MAAK,SAAAD,GAAE,OAAIA,EAAGwB,MAAQA,MAIhDurB,EAAUqJ,GAAYrJ,EAAUqJ,GAAY/2B,QAAQ2lB,IAAU2N,EAF9DtyB,QAAQ+W,KAAK,eAAiB5V,GAI3BurB,GDNQmX,CAAYvR,EAAU5F,EAAW6W,GACpDK,GAAgBN,EAAaM,KAE9B,CAAClX,IAEEoX,EAAoB,SAAAnqC,GAAK,OAC3BA,EAAMwW,gBAAkBvB,GAAY40B,EAAY7pC,EAAMwW,gBAKpD4zB,EAAaC,mBAAQ,WACvB,IAAMC,EAAcP,EAAkBnrC,IAAOk5B,GAC7C,OAAO,eAACwS,EAAD,2BACH7O,WAAYA,EACZE,YAAaA,EACbD,SAAUA,EACVoB,UAAWiN,EAAkBnrC,IACzBP,GALD,IAMHg+B,SAAUA,EACV/B,YAAaA,EACbuD,iBAAkBA,EAClBE,eAAgBA,EAChBz8B,SAAUA,EACVoC,UAAW,KACXwD,OAAQA,OAGb,CAAC6rB,EAAWsJ,EAAU0B,EAAgBF,IAEzC,EAAgC3L,oBAAS,GAAzC,mBAAOqY,EAAP,KAAiBC,EAAjB,KAEA,OAAO,uBACHC,YAAaN,EACbO,aAAcP,EACdQ,aA3BuB,kBACvBd,EAAY,OA2BZjoB,YAAa,SAAA5b,GACT,GAAIA,EAAG4kC,QAAS,CACZ,IAAIC,EACAZ,EAAenX,GAASsJ,EAAYrJ,EAAW6W,GAE/CiB,EADe,aAAfjB,EACUK,EAAa7N,GAAYwN,GAAY3jC,MAAK,SAAAD,GAAE,OAAIA,EAAGwB,MAAQA,KAE3DyiC,EAAa7N,GAAYn2B,MAAK,SAAAD,GAAE,OAAIA,EAAGwB,MAAQA,KAE1C,aAAfoiC,EACAK,EAAa7N,GAAYwN,GAAYjkC,OAAOskC,EAAa7N,GAAYwN,GAAYvkC,QAAQwlC,GAAU,EAAnG,6BAA2GA,GAA3G,IAAoHrjC,IAAKsT,KAAK2O,SAE9HwgB,EAAa7N,GAAYz2B,OAAOskC,EAAa7N,GAAY/2B,QAAQwlC,GAAU,EAA3E,6BAAmFA,GAAnF,IAA4FrjC,IAAKsT,KAAK2O,SAE1GkgB,EAAaM,KAGrBrrC,GAAG,SACHgC,MAAO4xB,EAAS,CAAE3xB,MAAOib,SAASsK,eAAe,SAAS0kB,YAAc,IAAO,KAC/EpnC,UAAS,UAAKgvB,KAAIqY,UAAT,YAAsBvY,EAASE,KAAIsY,gBAAkB,KAArD,YAA6DT,EAAW7X,KAAI6X,SAAW,MAvB7F,UAwBH,sBAAK7mC,UAAWgvB,KAAIuY,cACnBb,EACAT,GAAgB,sBAAKjmC,UAAWgvB,KAAIwY,YAAatqC,MAAO8yB,QAAQze,GAAY,CAAEvH,QAAS,GAAM,CAAEA,QAAS,GAAxF,SACb,sBAAKpL,QAAS,SAAAf,GACV,IAAI4pC,EAAmBrY,GAASsJ,EAAYrJ,EAAW6W,GACvDuB,EAAmBlY,GAAcmJ,EAAY+O,EAAkBvB,EAAYpiC,GAC3EgjC,GAAY,GACZnpC,YAAW,WACY,aAAf+6B,GACA9B,GAAY,GAEhBqP,EAAawB,KACd,MACJznC,UAAWgvB,KAAI0Y,mBAK9B1B,GAAYviB,aAAe,CACvBqL,QAAQ,GAOGkX,UExGT2B,GAAc,CAChBrhC,SAAU,QACVshC,cAAe,OACftlB,OAAQ,IACRiB,KAAM,EACNhO,IAAK,EACLpY,MAAO,OACPiE,OAAQ,QASNymC,GAAgB,SAACC,EAAeC,EAAeC,GACjD,IAAKF,IAAkBC,EACnB,MAAO,CACH5mC,QAAS,QAGjB,IAAMkoB,EAAS0e,EAAT1e,EAAGC,EAAMye,EAANze,EACT,GAAI0e,EAAc,OAbH,SAAC3e,EAAGC,GAGnB,MAAO,CAF+B,GAArB2e,KAAKC,MAAM7e,EAAI,IACM,GAArB4e,KAAKC,MAAM5e,EAAI,KAcnB6e,CAFT9e,GAAKye,EAAcze,EACnBC,GAAKwe,EAAcxe,GAFL,mBAGbD,EAHa,KAGVC,EAHU,KAIdD,GAAKye,EAAcze,EACnBC,GAAKwe,EAAcxe,EAEvB,IAAMnf,EAAS,oBAAgBkf,EAAhB,eAAwBC,EAAxB,OACf,MAAO,CACHnf,YACAi+B,gBAAiBj+B,IAIZk+B,GAAkB,SAAA1tC,GAC3B,MAOI2tC,cAAa,SAAA9+B,GAAO,MAAK,CACzBhH,KAAMgH,EAAQrF,UACdokC,SAAU/+B,EAAQg/B,cAClBV,cAAet+B,EAAQi/B,+BACvBV,cAAev+B,EAAQk/B,wBACvBz+B,WAAYT,EAAQS,aACpB0+B,UAAWn/B,EAAQo/B,mBAZnBL,EADJ,EACIA,SACAt+B,EAFJ,EAEIA,WACAzH,EAHJ,EAGIA,KACAslC,EAJJ,EAIIA,cACAC,EALJ,EAKIA,cACAY,EANJ,EAMIA,UAoBJ,OAAK1+B,EAIE,sBAAK/M,MAAOyqC,GAAZ,SACH,sBAAKzqC,MAAO2qC,GAAcC,EAAeC,GAAzC,SAfe,WACf,OAAQQ,GACJ,IAAK,MACD,OAAOI,EAAUhtC,OAAS,eAAC,GAAD,2BAAamzB,QAAM,GAAKtsB,GAAxB,IAA8BijB,UAAW9qB,EAAM8qB,aACrE,eAAC,GAAD,2BAAUqJ,QAAM,GAAKtsB,GAArB,IAA2BgB,OAAQ7I,EAAM6I,UACjD,QACI,OAAO,MAUVqlC,OALE,M,oBCpER,SAASC,GAAcC,EAAQC,GAClC,MAA0BjqC,WACtBmF,aAAaC,QAAQ6kC,GAAc1+B,KAAKC,MAAMrG,aAAaC,QAAQ6kC,IAAeD,GADtF,mBAAO9tC,EAAP,KAAcK,EAAd,KAQA,MAAO,CAACL,EAJgB,SAACguC,GACrB/kC,aAAaiC,QAAQ6iC,EAAY1+B,KAAK8C,UAAU67B,IAChD3tC,EAAS2tC,MAEmB/kC,aAAaC,QAAQ6kC,I,mCCTnDE,GAAUC,KAAEC,UACd,SAACC,EAAUha,GAAX,OAAyBga,EAASha,KAChC,GAEAia,GAAW,SACbpuC,EACAquC,EACAC,EACAH,EACAha,EACAqJ,EACA+Q,EACAC,EACAC,GAEA,MAAwBC,GAAS1uC,EAAIsuC,GAA7BtpC,EAAR,EAAQA,KAAMoI,EAAd,EAAcA,MACd,KAAIA,EAAQihC,GAAWG,EAAeC,MAGlCrhC,EAAQihC,GAAWG,EAAeC,IAGlCzpC,GAAQoI,IAAUihC,EAAS,CAC3B,IAAMM,EAAWV,KAAEW,MAAMN,GACzBK,EAAS5nC,OAAOqG,EAAO,GACvBuhC,EAAS5nC,OAAOsnC,EAAS,EAAGrpC,GAC5B,IAAM6pC,EAAcZ,KAAEW,MAAMza,GAC5B,OAAQqJ,GACJ,IAAK,UAIL,IAAK,aAGD,OAFAqR,EAAYrR,GAAY+Q,GAAgBI,OACxCX,GAAQG,EAAUU,GAEtB,QAGI,OAFAA,EAAYrR,GAAcmR,OAC1BX,GAAQG,EAAUU,MAK5BH,GAAW,SAAC1uC,EAAIsuC,GAClB,IAAMtpC,EAAOspC,EAAMjnC,MAAK,SAACynC,GAAD,OAAOA,EAAElmC,MAAQ5I,KACzC,MAAO,CACHgF,OACAoI,MAAOkhC,EAAM7nC,QAAQzB,K,qBCtCvB+pC,GAAc,SAAC,GAAqG,IAAnGC,EAAkG,EAAlGA,WAAYC,EAAsF,EAAtFA,cAAejvC,EAAuE,EAAvEA,GAAIkvC,EAAmE,EAAnEA,SAAUnE,EAAyD,EAAzDA,aAAc5W,EAA2C,EAA3CA,UAAWxlB,EAAgC,EAAhCA,SAAU/F,EAAsB,EAAtBA,IAAKoiC,EAAiB,EAAjBA,WAC5FtP,EAAgBwP,qBAAWZ,IAA3B5O,YACR,EAAqC7sB,YAAQ,CACzCvK,KAAM,MACNgD,KAAM,+BAAC,gBAAW2nC,GAAZ,IAA2BjvC,KAAIkvC,WAAUtmC,SAC/CumC,IAAK,SAAC7nC,EAAMgH,GACR,IAEI+8B,EAFE7N,EAAel2B,EAAfk2B,WACF4R,EAAa9gC,EAAQ+gC,gBAEzB,IAAKD,EAMD,MALmB,kBAARxmC,GAAqB0F,EAAQo/B,eAAejtC,SAEnD4qC,EAAehX,GAAcmJ,EAD7B6N,EAAenX,GAASsJ,EAAYrJ,EAAW6W,GACQA,EAAYpiC,GACnEmiC,EAAaM,IAEV,KAEX,GAAI+D,EAAWpE,aAAeA,EAAY,CACtC,IAAIsE,EAA0B,kBAAR1mC,EAAmBA,EAAMsT,KAAK2O,MACpDwgB,EAAenX,GAASsJ,EAAYrJ,EAAWib,EAAWpE,YAC1D,IAAMiB,EAAU,CAAEjsC,GAAIsH,EAAKtH,GAAIw9B,WAAYl2B,EAAKk2B,YAChD,OAAQA,GACJ,IAAK,UAMD,OALIwN,IACAK,EAAehX,GAAcmJ,EAAY6N,EAAcL,EAAYpiC,KAEvEyiC,EAAehX,GAAcmJ,EAAY6N,EAAc+D,EAAWpE,WAAYpiC,IACjE40B,GAAY4R,EAAWpE,YAAYzjC,KAAhD,6BAA0D0kC,GAA1D,IAAmErjC,IAAK0mC,KACjEvE,EAAaM,GAExB,IAAK,aAMD,MAL0B,kBAAfL,IACPK,EAAehX,GAAcmJ,EAAY6N,EAAcL,EAAYpiC,KAEvEyiC,EAAehX,GAAcmJ,EAAY6N,EAAc+D,EAAWpE,WAAYpiC,IACjE40B,GAAY4R,EAAWpE,YAAYzjC,KAAhD,6BAA0D0kC,GAA1D,IAAmErjC,IAAK0mC,KACjEvE,EAAaM,GAExB,QAII,OAHA3P,GAAY,IACZ2P,EAAehX,GAAcmJ,EAAY6N,EAAc+D,EAAWpE,WAAYpiC,IACjE40B,GAAYj2B,KAAzB,6BAAmC0kC,GAAnC,IAA4CrjC,IAAK0mC,KAC1CvE,EAAaM,MAIpCh9B,QAAS,SAAAC,GAAO,MAAK,CACjBQ,QAASR,EAAQS,aAAe,GAAM,EACtCA,WAAYT,EAAQS,iBA9C5B,mBAASD,EAAT,KAASA,QAAWE,EAApB,KAA0BugC,EAA1B,KAiDM9gC,EAAM+gC,iBAAO,MACnB,EAAiBxhC,YAAQ,CACrBC,OAAQ,MACRwhC,QAAS,kBAAM,GACfC,MAHqB,WAGiBphC,GAAU,IAAD,EAAlCqhC,EAAkC,EAAvC/mC,IAAgB40B,EAAuB,EAAvBA,WACpB,GAAK/uB,EAAIkO,SAGLqyB,IAAexR,EAAnB,CAGA,IAAMoS,EAAiB,UAAGnhC,EAAIkO,eAAP,aAAG,EAAakzB,wBACjCpB,GAAgBmB,EAAkBzoB,OAASyoB,EAAkBv1B,KAAO,EAEpEm0B,EADelgC,EAAQwhC,kBACK1hB,EAAIwhB,EAAkBv1B,IAExD,GAAMzR,GAAO+mC,IAAc/mC,EACvB,OAAQ40B,GACJ,IAAK,UACD,GAAmB,SAAfwN,GAAwC,SAAfA,EAAuB,CAChD,IAAe+E,EAAqBrB,GAAS9lC,EAAKurB,EAAUqJ,GAAYwN,IAAhE59B,MACJ2iC,IAAqBJ,GACrBvB,GAASuB,EACLI,EACA5b,EAAUqJ,GAAYwN,GACtBD,EACA5W,EACAqJ,EACAwN,EACAwD,EACAC,GAIZ,OACJ,IAAK,aACD,GAA0B,kBAAfzD,EAAyB,CAChC,IAAegF,EAAwBtB,GAAS9lC,EAAKurB,EAAUqJ,GAAYwN,IAAnE59B,MACJ4iC,IAAwBL,GACxBvB,GAASuB,EACLK,EACA7b,EAAUqJ,GAAYwN,GACtBD,EACA5W,EACAqJ,EACAwN,EACAwD,EACAC,GAIZ,OACJ,QACI,IAAewB,EAAcvB,GAAS9lC,EAAKurB,EAAUqJ,IAA7CpwB,MAaR,YAZI6iC,IAAcN,GACdvB,GAASuB,EACLM,EACA9b,EAAUqJ,GACVuN,EACA5W,EACAqJ,EACA,KACAgR,EACAC,SA9DnBvgC,EAAT,oBAsEAslB,qBAAU,WACN+b,EAAQW,eAAiB,CAAEC,sBAAsB,MAElD,IAEHnhC,EAAKd,EAAKO,IACV,IAAM2hC,EAAWzrC,OAAO0rC,WAAa,IACrC,OAAO,uBAAK5hC,IAAK2hC,GAAYxnC,EAAM,KAAO6F,EAAK3J,UAAWgvB,KAAIlsB,KAAM5F,MAAO,CAAE8M,WAAtE,UAAiF,sBAAKhK,UAAW8D,EAAMkrB,KAAI9kB,KAAO,KAAMP,IAAK7F,GAAOwnC,EAAW3hC,EAAM,OAASE,MAGzKogC,GAAYxmB,aAAe,CACvBtoB,KAAM,GACN2zB,QAAQ,EACR5zB,GAAI,GACJ4I,IAAK,MAOMmmC,UC9ITuB,GAAa,SAAC,GAAD,IAAG3wC,EAAH,EAAGA,QAAS6B,EAAZ,EAAYA,KAAZ,OAAuB,gBAACL,GAAA,EAAD,CACtCK,KAAMA,EACN7B,QAASA,EACT,kBAAgB,qBAChB,mBAAiB,2BAJqB,UAMtC,eAACiC,GAAA,EAAD,UACI,uBAAKI,MAAO,CACRmC,SAAU,OACVwa,WAAY,6CACZva,WAAY,IACZ6V,WAAY,IACZs2B,cAAe,aALnB,UAOI,8BAAK7uC,IAAKC,EAAE,yBACZ,+BAAMD,IAAKC,EAAE,oBACb,8BAAKD,IAAKC,EAAE,gBACZ,+BAAMD,IAAKC,EAAE,0BAGrB,eAAC4B,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQE,QAAS/D,EAASgE,MAAM,UAAUzB,WAAS,EAAC0B,UAAW,eAAC,KAAD,IAA/D,SACKlC,IAAKC,EAAE,cAKpB2uC,GAAW/nB,aAAe,CACtB/mB,MAAM,EACN7B,QAAS,cAQE2wC,UCxCTE,GAAkB,SAAC,GAAD,IAAG7wC,EAAH,EAAGA,QAAS6B,EAAZ,EAAYA,KAAZ,OAAuB,gBAACL,GAAA,EAAD,CAC3CK,KAAMA,EACN7B,QAASA,EACT,kBAAgB,qBAChB,mBAAiB,2BAJ0B,UAM3C,eAACiC,GAAA,EAAD,UACI,gBAACkG,GAAA,EAAD,CAAmB9H,GAAG,2BAAtB,UACI,8BAAK0B,IAAKC,EAAE,yBACZ,+BAAMD,IAAKC,EAAE,oBACb,8BAAKD,IAAKC,EAAE,gBACZ,+BAAMD,IAAKC,EAAE,0BAGrB,eAAC4B,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQE,QAAS/D,EAASgE,MAAM,UAAUzB,WAAS,EAAnD,SACKR,IAAKC,EAAE,cAKpB6uC,GAAgBjoB,aAAe,CAC3B/mB,MAAM,EACN7B,QAAS,cAQE6wC,UCpBTC,GAAgC,SAAC,GAA0I,IAAD,EAAvI/qC,EAAuI,EAAvIA,KAAMgrC,EAAiI,EAAjIA,oBAAqB1F,EAA4G,EAA5GA,WAAY2F,EAAgG,EAAhGA,QAASC,EAAuF,EAAvFA,UAAWzc,EAA4E,EAA5EA,UAAW4W,EAAiE,EAAjEA,aAAc8F,EAAmD,EAAnDA,UAAW9T,EAAwC,EAAxCA,YAAaD,EAA2B,EAA3BA,SAAUD,EAAiB,EAAjBA,WAC3J,EAAkCvJ,oBAAS,GAA3C,mBAAOwd,EAAP,KAAkBC,EAAlB,KACA,EAAwCzd,oBAAS,GAAjD,mBAAO0d,EAAP,KAAqBC,EAArB,KACA,EAA8B3d,oBAAS,GAAvC,mBAAO4d,EAAP,KAAgBC,EAAhB,KACA,EAAoC7d,mBAAS,IAA7C,mBAAO8d,EAAP,KAAmBC,EAAnB,KAEM1uB,EAAU3U,YAAQ,CACpBC,OAAQ,MACRC,KAAM,iBAAO,CAAE88B,eACf0E,MAAO,WAAsBphC,GAAa,IAAhCkvB,EAA+B,EAA/BA,WAAY50B,EAAmB,EAAnBA,IAClBmoC,EAAavT,IAAeoT,GAC5BO,IAAavoC,GACbyoC,EAAc/iC,EAAQgjC,iBAE1B7B,QAAS,WAAiBnhC,GAAa,IAA3BkvB,EAA0B,EAA1BA,WAER,OADAyT,EAAgBzT,IAAeoT,GACxBpT,IAAeoT,GAE1BviC,QAAS,SAAAC,GAAO,YAAK,CACjBH,OAAQG,EAAQH,SAChBshC,SAAS,UAAAnhC,EAAQrF,iBAAR,eAAmBu0B,cAAeoT,EAC3C5M,OAAQ11B,EAAQwhC,kBAChByB,SAAUjjC,EAAQijC,aAI1B,cAAsD5uB,EAAtD,UAAS8sB,EAAT,EAASA,QAASthC,EAAlB,EAAkBA,OAAQ61B,EAA1B,EAA0BA,OAAQuN,EAAlC,EAAkCA,SAAYrjC,EAA9C,KAEAslB,qBAAU,WAAQ6d,EAAc,MAAO,CAACrN,IAExC,IAAMkL,EAAWO,GAAWthC,EACxB6M,EAAkB,GAStB,OARIk0B,EACAl0B,EAAkB81B,EAAY,YAAc,YACrCrB,EACPz0B,EAAkBg2B,EAAe,YAAc,YACxChN,IACPhpB,EAAkBu2B,IAAaH,EAAa,YAAc,IAGvD,sBAAK3iC,IAAKP,EAAMlM,MAAO,CAAEgZ,mBAAmBlW,UAAS,UAAK4J,YAAKolB,KAAI0d,iBAAiB9rC,GAAQouB,KAAI2d,gBAA3C,YAA8Dd,EAAUE,EAAY/c,KAAI4d,gBAAkB,KAAO5d,KAAI6d,kBAA1K,SACH,uBAAK7sC,UAAWgvB,KAAI8d,cAApB,oBAAoClB,EAAoB1F,UAAxD,aAAoC,EAAiC3nC,KAAI,SAAA+D,GAAE,OACvE,eAAC,GAAD,2BACI4nC,WAAY4B,GAERxpC,GAHR,IAII4jC,WAAYA,EACZiE,cAAe7nC,EACf+sB,UAAWA,EACX4W,aAAcA,EAPlB,SASI,eAAC,GAAD,6BACQ3jC,GADR,IAEIy1B,WAAYA,EACZE,YAAaA,EACbD,SAAUA,EACV/C,SAAU3yB,EACV4jC,WAAYA,EACZ7W,UAAWA,EACX4W,aAAcA,OAfb3jC,EAAGwB,QAkBZ,sBACI5G,MAAOktC,GAAY4B,IAAcI,EAAU,CAAEhrC,OAAQgX,SAASsK,eAAe,UAAYtK,SAASsK,eAAe,UAAUqqB,aAAe,KAAQ,KAClJ/sC,UAAS,UAAKgvB,KAAIge,gBAAT,YAA4B5C,GAAY4B,IAAcI,EAAUpd,KAAIie,WAAaje,KAAIke,wBAM9GvB,GAA8BloB,aAAe,CACzC5Z,SAAU,KACVgiC,SAAS,EACTE,WAAW,GAGf,IAAMoB,GAAoB,SAAC,GAA8J,IAA5JvsC,EAA2J,EAA3JA,KAAMkrC,EAAqJ,EAArJA,UAAW3wC,EAA0I,EAA1IA,KAAMiyC,EAAoI,EAApIA,iBAAkB3D,EAAkH,EAAlHA,aAAc4D,EAAoG,EAApGA,OAAQhe,EAA4F,EAA5FA,UAAW4W,EAAiF,EAAjFA,aAAc1X,EAAmE,EAAnEA,SAAU/pB,EAAyD,EAAzDA,QAAShB,EAAgD,EAAhDA,OAAQy0B,EAAwC,EAAxCA,YAAaD,EAA2B,EAA3BA,SAAUD,EAAiB,EAAjBA,WACnK,EAAwE+Q,GAA4B,YAAdgD,GAAkC,GAAnC,iCAAiEA,IAAtJ,mBAAOwB,EAAP,KAA+BC,EAA/B,KAA0DC,EAA1D,KACA,EAAgChf,oBAAS,GAAzC,mBAAOif,EAAP,KAAiBC,EAAjB,KACA,EAAsDlf,oBAAS,GAA/D,mBAAOmf,EAAP,KAA4BC,EAA5B,KAEAlf,qBAAU,WACN,GAAkB,eAAdod,GAA8BwB,EAAuB3xC,SAAW0zB,EAAS,WAAe1zB,OAAS,EAAG,CACpG,IAAIkyC,EAAW,GACfxe,EAAS,WAAeltB,SAAQ,SAACG,EAAIwrC,GAC7BA,EAAM,GACND,EAASprC,KAAK,CACVqB,IAAKsT,KAAK2O,MACVrpB,MAAM,OAIlB6wC,EAA0B,GAAD,mBAAKD,GAA2BO,IAE3C,YAAd/B,IAA4B0B,GAAcne,EAAS,QAAT,KAA6B1zB,QACvE4xC,GAA0B,KAG/B,IAEH,MAAkC/e,oBAAS,GAA3C,mBAAOud,EAAP,KAAkBgC,EAAlB,KAEA,OAAO,uBAAK/tC,UAAS,UAAK4J,YAAKolB,KAAIgf,mBAAoBptC,GAAQouB,KAAIif,kBAA9C,YAAmEZ,IAAWzsC,EAAOouB,KAAIqe,OAAS,MAAhH,UACH,wBAAMnyC,GAAG,QAAQ8E,UAAWgvB,KAAIkf,eAAhC,UACI,eAAC,GAAD,CAAqB3f,SAAUA,EAAUvuB,UAAWgvB,KAAIqK,aAAc70B,QAASA,EAAShB,OAAQA,IAAWrI,KAEhG,eAAd2wC,EACG,uBAAK5uC,MAAO,CAAEC,MAAO,QAArB,UACI,gBAACiB,GAAA,EAAD,CACI4B,UAAWgvB,KAAImf,eACf7wC,MAAO+xB,EAAU0N,YAAa,EAC9Bn/B,SAAU,SAAAC,GACN,IAAMuwC,EAAahf,GAAS,aAAcC,GAC1C+e,EAAWrR,UAAYl/B,EAAEC,OAAOR,MAChC2oC,EAAamI,IANrB,UASI,eAAC5vC,EAAA,EAAD,CAAUlB,OAAO,EAAjB,SAAyBV,IAAKC,EAAE,yBAChC,eAAC2B,EAAA,EAAD,CAAUlB,OAAO,EAAjB,SAAwBV,IAAKC,EAAE,mBAEnC,eAAC0J,EAAA,EAAD,CAAY3F,KAAK,QAAQL,MAAO3D,IAAKC,EAAE,eAAgBmD,UAAWgvB,KAAIqf,mBAAoBzvC,QAAS,kBAAM8uC,GAAY,IAArH,SACI,eAAC,KAAD,CAAU1tC,UAAWgvB,KAAIsf,8BAG/B,KACN,eAAC,GAAD,CACIrW,YAAaA,EACbD,SAAUA,EACVD,WAAYA,EACZmO,WAA0B,YAAd4F,EAA0B,OAAuB,eAAdA,EAA6B,EAAIA,EAChFA,UAAWA,EACX7F,aAAcA,EACd5W,UAAWA,EACXzuB,KAAMA,EACNgrC,oBAAmC,YAAdE,EAA0Bzc,EAAS,QAA4B,eAAdyc,EAA6Bzc,EAAS,WAAiBA,IAEhIoa,GAAgB,YAAIlH,MAAoB,YAAduJ,EAA0B,EAAIzc,EAAUyN,WAAWnhC,OAAS,IAAI4C,KAAI,SAACV,EAAGyK,GAC/F,IAAMimC,EAAsB,eAACjxC,EAAD,uDAASgL,EAAT,OAAmB0nB,QAAsB,YAAd8b,EAA0BwB,EAAyBA,EAAuB/qC,MAAK,SAACD,EAAIwrC,GAAL,OAAaA,IAAQxwC,GAASgF,EAAG5F,UACvK,OAAO,gBAAC,WAAD,WACH,uBACIkC,QAAS,WACL,GAAkB,YAAdktC,EAEA,OADAyB,GAA2BD,GACpB,KAEX,IAAIkB,EAAkBlkC,KAAKC,MAAMD,KAAK8C,UAAUkgC,IAChD,GAAIje,EAAS,WAAe/mB,EAAQ,GAAG3M,OAGnC,OAFA6yC,EAAgBlmC,GAAO5L,MAAQ8xC,EAAgBlmC,GAAO5L,KACtD6wC,EAA0BiB,GACnB,KAEXA,EAAkBA,EAAgBvqC,QAAO,SAAC3B,EAAIwrC,GAAL,OAAaA,IAAQxlC,KAC9DilC,EAA0BiB,GAC1BT,EAA2B,YAAdjC,GAAiCxjC,GAC9C3K,YAAW,WACPowC,GAAa,GACb9H,EAAa,6BAAK5W,GAAN,IAAiByN,WAAW,YAAKzN,EAAUyN,WAAW74B,QAAO,SAAC3B,EAAIwrC,GAAL,OAAaA,IAAQxlC,EAAQ,WACvG,MAGKtI,UAAWgvB,KAAIyf,aArB/B,UAsBKF,IAAwB,IAAM,IAAI,sBAAKvuC,UAAWgvB,KAAI0f,QAApB,SAC9BtB,MAFA9kC,GAKT,eAAC,GAAD,CACI49B,WAA0B,YAAd4F,EAA0B,OAAuB,eAAdA,EAA6BxjC,EAAQ,EAAIwjC,EACxFA,UAAWA,EACX7F,aAAcA,EACd2F,oBAAmC,YAAdE,EAA0Bzc,EAAS,QAA4B,eAAdyc,EAA6Bzc,EAAS,WAAiBA,EAC7HA,UAAWA,EACXwc,QAAS0C,IACTxC,UAAW/b,QAAQ+b,IAAczjC,GACjC1H,KAAMA,MAnCP,UAAkB0H,EAAlB,kBAAiCwjC,OAuC3CrC,GAA8B,eAAdqC,GAA8B,uBAC3CltC,QAAS,WACL2uC,EAA0B,GAAD,mBAAKD,GAAL,CAA6B,CAClDxpC,IAAKsT,KAAK2O,MACVrpB,MAAM,MAEVupC,EAAa,6BAAK5W,GAAN,IAAiByN,WAAW,GAAD,mBAAMzN,EAAUyN,YAAhB,CAA4B,QACnEiR,EAA2B,YAAdjC,GAAiCzc,EAAUyN,WAAWnhC,OAAS,GAC5EgC,YAAW,kBAAMowC,GAAa,KAAQ,MAE1C/tC,UAAWgvB,KAAIyf,aAV4B,UAY1C,IACD,sBAAKzuC,UAAWgvB,KAAI0f,QAApB,SACKtB,OAGT,eAAC,GAAD,CAAY1wC,KAAM+wC,EAAU5yC,QAAS,kBAAM6yC,GAAY,MACvD,eAAC,GAAD,CAAiBhxC,KAAMixC,EAAqB9yC,QAAS,kBAAM+yC,GAAuB,UAI1FT,GAAkB1pB,aAAe,CAC7B5Z,SAAU,KACV1O,KAAM,GACNiyC,iBAAkB,GAClB3D,cAAc,EACd4D,QAAQ,EACRvB,UAAW,IAeAqB,U,wCChMAwB,GA1CQ,SAAAh0C,GACnB,IAAQwvC,EAA8HxvC,EAA9HwvC,cAAR,EAAsIxvC,EAA/GwvC,cAAiBzR,EAAxC,EAAwCA,WAAYx9B,EAApD,EAAoDA,GAAM+qC,EAA4EtrC,EAA5EsrC,aAAc5W,EAA8D10B,EAA9D00B,UAAW4I,EAAmDt9B,EAAnDs9B,YAAaD,EAAsCr9B,EAAtCq9B,SAAUD,EAA4Bp9B,EAA5Bo9B,WAAYhJ,EAAgBp0B,EAAhBo0B,YACtH,OAAO,eAAC,GAAD,0CAAiBp0B,GAAWwvC,GAA5B,aACH,eAAC,GAAD,2BACIpb,YAAaA,EACblpB,cAAe,WACVkyB,GACGC,IAAa/D,IACN,yBAAP/4B,GACA+8B,EAAYhE,IAEf8D,GACGC,IAAa/D,IACN,oBAAP/4B,GACA+8B,EAAYhE,IAEhB,IACIiS,EADApiC,EAAMsT,KAAK2O,MAEf,OAAQ2S,GACJ,IAAK,UACDwN,EAAa,OACb,MAEJ,IAAK,aACDA,EAAa7W,EAAUqJ,GAAY/8B,OAAS,EAMpD,IAAI4qC,EAAenX,GAASsJ,EAAYrJ,EAAW6W,GAC7CiB,EAAU,CAAEjsC,KAAI4I,MAAK40B,mBACRpvB,IAAf48B,EACAK,EAAa7N,GAAYwN,GAAYzjC,KAArC,gBAA+C0kC,IAE/CZ,EAAa7N,GAAYj2B,KAAzB,gBAAmC0kC,IAEvClB,EAAaM,IACdqI,SAAO,GAAKj0C,GAAWwvC,Q,qBCxChC0E,GAAgB,SAAC,GAAe,IAAdhD,EAAa,EAAbA,QACpB,OAAO,sBAAK7rC,UAAS,UAAKgvB,KAAI8f,cAAT,YAA0BjD,EAAU7c,KAAI+f,QAAU,OAG3EF,GAAcprB,aAAe,CACzBooB,SAAS,GAOEgD,UCoIAG,GApIF,SAAC,GAAyG,IAAvGC,EAAsG,EAAtGA,SAAUC,EAA4F,EAA5FA,aAAczpB,EAA8E,EAA9EA,UAAW4J,EAAmE,EAAnEA,UAAW8f,EAAwD,EAAxDA,eAAgBlX,EAAwC,EAAxCA,YAAaD,EAA2B,EAA3BA,SAAUD,EAAiB,EAAjBA,WAEjG,EAA2BqO,qBAAWZ,IAA9B7f,EAAR,EAAQA,OAAQniB,EAAhB,EAAgBA,OAChB,EAA4CslC,IAAc,EAAO,kBAAjE,mBAAOsG,EAAP,KAAuBC,EAAvB,KACA,EAA4BvG,GAAc,CACtCpoC,KAAM,GACNlB,KAAM,WACN8I,MAAO,GACR,sBAJH,mBAAOrE,EAAP,KAAeqrC,EAAf,KAiBMC,EAAgB,WAAiD,IAAhD7uC,EAA+C,uDAAxCuD,EAAOvD,KAAM8uC,EAA2B,uDAAhBvrC,EAAOzE,KACzD,GAAKmmB,EAAL,CAGA,IAAI8pB,EAAY,YAAO9pB,GAQvB8pB,GAPAA,EAAeA,EAAaxrC,QAAO,SAAA3B,GAC/B,IAAK5B,EACD,OAAO,EAEX,IAAQvF,EAASmH,EAAGg5B,gBAAZngC,KACR,OAAOA,GAAQyB,IAAKC,EAAE1B,GAAMyK,cAAchG,SAASc,EAAKkF,mBAEhC3B,QAAO,SAAA3B,GAAE,OAAIktC,IAAaltC,EAAGg5B,gBAAgB5C,cACzEwW,EAAaO,KAGXC,EAAY,SAAApnC,GAAK,MAAK,CACxBpN,GAAG,wBAAD,OAA0BoN,GAC5B,gBAAgB,6BAAhB,OAA8CA,KAOlD,OAJAomB,qBAAU,WACN6gB,MAED,CAAC5pB,IACG,eAACgqB,GAAA,EAAD,CACHC,YAAY,EACZC,WAAW,eACXC,YAAa,kBAAMT,GAAkB,IAHlC,SAKH,uBAAKrvC,UAAW4J,YAAKolB,KAAI+gB,YAAad,EAAS,OAASjgB,KAAIghB,cAA5D,UACI,sBAAKhwC,UAAS,UAAKgvB,KAAIihB,iBAAT,YAA6Bb,EAAiBpgB,KAAIkhB,aAAe,MAC3EtxC,QAAS,kBAAMywC,GAAmBD,IADtC,SACuD,eAAC,GAAD,CAAevD,SAAUuD,MAEhF,uBAAKpvC,UAAS,UAAK4J,YAAKolB,KAAImhB,UAAWlB,EAAS,OAASjgB,KAAIohB,mBAAoBnB,EAAS,MAAQjgB,KAAIqhB,kBAAxF,YAA6GjB,EAAiBpgB,KAAIshB,QAAU,MAA1J,UACI,sBAAKtwC,UAAWgvB,KAAIuhB,aAApB,SACI,eAACC,GAAA,EAAD,CAAQxwC,UAAWgvB,KAAIyhB,mBAAoBnqC,SAAS,SAApD,SACI,gBAACoqC,GAAA,EAAD,CACIpzC,MAAO2G,EAAOqE,MACd1K,SAlDH,SAACtB,EAAO6lB,GACzB4V,GAA4B,IAAb5V,GAAkB6V,IAAa/D,IAAyBgE,EAAYhE,IACnF8D,GAA4B,IAAb5V,GAAkB6V,IAAa/D,IAAwBgE,EAAYhE,IAClFqb,EAAU,6BACHrrC,GADE,IAELqE,MAAO6Z,EACP3iB,KAAM,CAAC,WAAY,aAAc,WAAW2iB,MAEhDotB,EAActrC,EAAOvD,KAAM,CAAC,WAAY,aAAc,WAAWyhB,KAwCjD,UAII,eAACwuB,GAAA,EAAD,cAAK3wC,UAAU,kBACXO,MAAO3D,IAAKC,EAAE,YACd6H,KAAM,eAAC,GAAD,CAAqB6pB,SAAS,aAChCmhB,EAAU,KAClB,eAACiB,GAAA,EAAD,cAAKpwC,MAAO3D,IAAKC,EAAE,cAAemD,UAAU,oBAAoB0E,KAAM,eAAC,GAAD,CAAqB6pB,SAAS,UAC5FmhB,EAAU,KAClB,eAACiB,GAAA,EAAD,cAAKpwC,MAAO3D,IAAKC,EAAE,WAAYmD,UAAU,iBAAiB0E,KAAM,eAAC,GAAD,CAAqB6pB,SAAS,iBACtFmhB,EAAU,YAI9B,sBAAK1vC,UAAWgvB,KAAI4hB,sBAApB,SACI,kCACKnrB,EAAUlnB,KAAI,SAAA+D,GACX,MAAoCA,EAAGg5B,gBAA/BngC,EAAR,EAAQA,KAAMD,EAAd,EAAcA,GAAIwJ,EAAlB,EAAkBA,KAAMF,EAAxB,EAAwBA,QACxB,OAAO,eAAC,WAAD,UACH,eAAC,GAAD,CACIuqB,YAAa,kBAAMsgB,GAAkB,IACrCpX,YAAaA,EACbD,SAAUA,EACVD,WAAYA,EACZoS,cAAe7nC,EAAGg5B,gBAClBngC,KAAMA,EACNuJ,KAAMA,EACNF,QAASA,EACThB,OAAQA,EACR6rB,UAAWA,EACX4W,aAAckJ,EACd/E,UAAU,EACVlvC,GAAIA,KAdUA,MAkBJ,IAArBuqB,EAAU9pB,QAAgB,uBAAKqE,UAAWgvB,KAAI6hB,aAApB,UACtBj0C,IAAKC,EAAE,iBADe,MAEvB,sBAAKmD,UAAWgvB,KAAI8hB,YAAalyC,QAAS,WACtC0wC,EAAU,6BACHrrC,GADE,IAELvD,KAAM,MAEV6uC,EAAc,KALlB,SAMI3yC,IAAKC,EAAE,0BAIvB,sBAAKmD,UAAW4J,YAAKolB,KAAI+hB,UAAW/hB,KAAIgiB,cACxC,eAAC,GAAD,CACIhxC,UAAWgvB,KAAIiiB,WACfx0C,WAAS,EACTkzB,aAAW,EACXryB,MAAO2G,EAAOvD,KACdE,KAAK,QACL5D,aAAa,MACbK,MAAOT,IAAKC,EAAE,UACd8B,QAAQ,WACRf,SAAU,SAACN,GACPgyC,EAAU,6BAAKrrC,GAAN,IAAcvD,KAAMpD,KAC7BiyC,EAAcjyC,eC8EvB4zC,I,OArMK,SAAC,GAA2G,IAAzGp2B,EAAwG,EAAxGA,KAAMld,EAAkG,EAAlGA,SAAUkN,EAAwF,EAAxFA,UAAWmtB,EAA6E,EAA7EA,YAAaD,EAAgE,EAAhEA,SAAUD,EAAsD,EAAtDA,WAAY9R,EAA0C,EAA1CA,QAASkrB,EAAiC,EAAjCA,SAAU9jC,EAAuB,EAAvBA,QAAS+jC,EAAc,EAAdA,QAE7G,EAAgFhL,qBAAWZ,IAAnF7f,EAAR,EAAQA,OAAQniB,EAAhB,EAAgBA,OAAQozB,EAAxB,EAAwBA,YAAagP,EAArC,EAAqCA,kBAAmBC,EAAxD,EAAwDA,oBACxD,EAAkCrX,mBAAS,IAA3C,mBAAO/I,EAAP,KAAkBypB,EAAlB,KACA,EAAkC1gB,mBAAS8P,GAAQC,UAAUzjB,IAA7D,mBAAOuU,EAAP,KAAkB4W,EAAlB,KACA,EAAwCzX,mBAAS,IAAjD,mBAAO6iB,EAAP,KAAqBC,EAArB,KACA,EAA0B9iB,oBAAS,GAAnC,mBAAO+iB,EAAP,KAAcC,EAAd,KAIA9iB,qBAAU,WACN,IAAI+iB,EACAC,EACEC,EAAU,SAAVA,EAAWz2C,EAAIyI,GAOT,IAAD,EACsC,EAPzCzI,IAAOu2C,EAAc,SACjBC,KAAQ,OAAK/tC,QAAL,IAAKA,OAAL,EAAKA,EAAK2J,OAClBokC,EAAQ,OAAG/tC,QAAH,IAAGA,OAAH,EAAGA,EAAK2J,MAEJ9J,EAAO4X,OAAOq2B,EAAYv1C,QAAQ,qBAAsB,IAAK,UAAWi1C,GAGpFM,KAAW,OAAK9tC,QAAL,IAAKA,GAAL,UAAKA,EAAKC,cAAV,aAAK,EAAa+E,UAC7B8oC,GAAejuC,EAAO2J,iBAAP,UAA2BskC,EAA3B,UAAgDE,GAC/DD,GAAYluC,EAAO4X,OAAOq2B,EAAYv1C,QAAQ,qBAAsB,IAAK,UAAWi1C,IACpFM,EAAW,OAAG9tC,QAAH,IAAGA,GAAH,UAAGA,EAAKC,cAAR,aAAG,EAAa+E,SAEZnF,EAAO0J,eAAP,UAAyBukC,EAAzB,UAA8CE,KAInEC,EAAgB,SAAC12C,EAAID,GACvB,IACI,IAAI42C,EAAMvnC,KAAKC,MAAMtP,EAAMqS,KAEvBukC,EAAIC,SAAWX,GAAY/5B,KAAK2O,MAAQ8rB,EAAIx6B,GAAK,KACjDuuB,EAAkB,CAACtL,QAASuX,EAAIvX,QAASpyB,KAAM2pC,EAAI3pC,KAAMmP,GAAIw6B,EAAIx6B,KAEvE,MAAOxZ,GACL8E,QAAQf,MAAM,kBAatB,OATA4B,EAAOC,UAAU0tC,GACZztC,MAAK,SAAAC,GAAQ,IAAD,EACT8tC,EAAW,OAAG9tC,QAAH,IAAGA,GAAH,UAAGA,EAAKC,cAAR,aAAG,EAAa+E,OAE3BnF,EAAOuuC,gBAAgBZ,EAAUQ,GACjCF,GAAejuC,EAAO0J,eAAP,UAAyBukC,EAAzB,UAA8CE,GAC7DF,GAAejuC,EAAO0J,eAAeukC,EAAYv1C,QAAQ,qBAAsB,IAAM,eAAgB01C,MAGtG,WACHH,GAAejuC,EAAOwuC,kBAAP,UAA4BP,EAA5B,UAAiDE,GAChEnuC,EAAO2J,iBAAiBgkC,EAAUQ,GAClCD,GAAYD,GAAejuC,EAAO4X,OAAOq2B,EAAYv1C,QAAQ,qBAAsB,IAAK,WAAYi1C,GACpGM,GAAejuC,EAAO2J,iBAAiBskC,EAAYv1C,QAAQ,qBAAsB,IAAM,eAAgB01C,MAG5G,IAEHljB,qBAAU,WACNmX,GAAqBx4B,GAAW+jC,KACjC,CAAC/jC,EAAS+jC,EAASvL,IAEtBnX,qBAAU,WACAzI,IACFqrB,EAAgBrrB,GACXsrB,GACDC,GAAS,MAIlB,CAACvrB,IAEJyI,qBAAU,WACN,IAAM6X,EAAejI,GAAQC,UAAUzjB,GACnCxQ,KAAK8C,UAAUm5B,KAAkBj8B,KAAK8C,UAAUiiB,KAChD4W,EAAaM,GACb3P,GAAY,MAGjB,CAAC9b,IAEJ4T,qBAAU,WACNtW,SAAS2O,qBAAqB,QAAQ,GAAG/mB,UAAY8K,GAAa,SACnE,CAACA,IAEJ,IAAMqkC,EAAiB7I,uBAAY,SAAApJ,GAC/B+I,EAAa/I,GACbt/B,EAAS0gC,GAAQE,UAAUtB,EAAMvX,MAClC,CAACA,EAAQ/nB,IAEN+L,EAAM+gC,iBAAO,CAAEtD,YAAa,IAClC,EAAgC5Y,mBAAS,CAAE,KAAK,EAAO,MAAM,IAA7D,mBAAOygB,EAAP,KAAiBgD,EAAjB,KAgBA,OAfAvjB,qBAAU,WACF/kB,EAAIkO,UACAlO,EAAIkO,QAAQuvB,aAAe,MAC3B6K,EAAY,CAAE,KAAK,EAAO,MAAM,IAEhCtoC,EAAIkO,QAAQuvB,aAAe,KAC3B6K,EAAY,CAAE,MAAM,EAAM,KAAK,IAE/BtoC,EAAIkO,QAAQuvB,YAAc,MAC1B6K,EAAY,CAAE,KAAK,EAAO,MAAM,OAIzC,CAACtoC,EAAIkO,QAAQuvB,cAEXzhB,EAIE,uBAAuB3lB,UAAWgvB,KAAIkjB,aAAcvoC,IAAKA,EAAzD,UACF,eAAC,GAAD,CAAiB8b,UAAWA,EAAWjiB,OAAQA,IAC9B,WAAjB6tC,EACG,eAAC,GAAD,CAEIx2C,QAAS,kBAAM22C,GAAS,IACxB90C,KAAM60C,EACN7wC,KAAM4J,KAAK8C,UAAUiiB,EAAW,KAAM,IAHlC,gBAIR,eAAC,GAAD,CACI3yB,KAAM60C,EAEN12C,QAAS,SAAA6F,GACL8wC,GAAS,GACL9wC,GACAyuC,EAAe7kC,KAAKC,MAAM7J,MAJ9B,gBAOX,uBAAKV,UAAW4J,YAAKolB,KAAImjB,YAAalD,EAAS,MAAQjgB,KAAIigB,UAA3D,UACG,eAAC,GAAD,CACIC,aAAcA,EACdzpB,UAAWA,EACX4J,UAAWA,EACX8f,eAAgBA,EAChBlX,YAAaA,EACbD,SAAUA,EACViX,SAAUA,EACVlX,WAAYA,IAEhB,eAAC,GAAD,CACIkO,aAAckJ,EACd9f,UAAWA,EACX0I,WAAYA,EACZE,YAAaA,EACbD,SAAUA,EACV78B,KAAI,UAAKyB,IAAKC,EAAE,QAAZ,OACJivC,UAAU,WACVvd,SAAS,UACT3tB,KAAMquC,EAAS,OAEnB,eAAC,GAAD,CACIhJ,aAAckJ,EACdpX,WAAYA,EACZE,YAAaA,EACbD,SAAUA,EACV3I,UAAWA,EACXl0B,KAAI,aAAQyB,IAAKC,EAAE,OAAf,OACJivC,UAAU,aACVvd,SAAS,OACT6e,iBAAkBxwC,IAAKC,EAAE,MACzB4sC,cAAY,EACZ4D,QAAM,EACNzsC,KAAMquC,EAAS,OAEnB,eAAC,GAAD,CACIhJ,aAAckJ,EACdpX,WAAYA,EACZE,YAAaA,EACbD,SAAUA,EACV3I,UAAWA,EACXl0B,KAAI,aAAQyB,IAAKC,EAAE,SACnBivC,UAAU,UACVvd,SAAS,cACT6e,iBAAkBxwC,IAAKC,EAAE,QACzB4sC,cAAY,EACZ7oC,KAAMquC,EAAS,YAhEX,eAHL,O,UCvETmD,G,kDACF,WAAYz3C,GAAQ,IAAD,8BACf,cAAMA,IAEDM,MAAQ,CACT6b,OAAQ,EAAKnc,MAAMiV,QAAU,IAAI7T,MAAM,YAJ5B,E,kDAQnB,SAAe2e,EAAQC,GACnBxe,KAAKwe,OAASA,EACdxe,KAAKue,OAASA,EACdA,EAAO5a,U,oBAGX,WAAU,IAAD,OACL,OAAO,sBAAKE,UAAW7D,KAAKxB,MAAMsF,QAAQoyC,UAAnC,SACH,eAAC,GAAD,CAEIl3C,KAAMgB,KAAKxB,MAAM23C,WACjBlkB,YAAajyB,KAAKxB,MAAMyzB,YACxBhU,UAAU,EACVU,KAAM3e,KAAKxB,MAAMiV,QAAU,GAC3BsK,OAAiC,SAAzB/d,KAAKxB,MAAMkoB,UACnBrf,OAAQrH,KAAKxB,MAAM6I,OACnBqI,iBAAkB1P,KAAKxB,MAAMkR,iBAC7BsO,SAAU,aAEV6C,YAAa7gB,KAAKxB,MAAMqiB,YACxBW,SAAUxhB,KAAKxB,MAAMiqC,OAASzoC,KAAKxB,MAAMgjB,SAAW,KACpDM,mBAAoB,SAAA5b,GAAC,OAAI,EAAK1H,MAAMsjB,mBAAmB5b,KAZnD,kBAF6C,wB,GAhB5CtD,IAAMC,WAmDZC,gBArGA,SAAAC,GAAK,MAAK,CACrBmzC,UAAW,CACPjxC,OAAQ,OACRjE,MAAO,OACPqR,SAAU,SACVlI,SAAU,YAEdoU,OAAQ,CACJvd,MAAO,OACPiE,OAAQ,OACRoN,SAAU,QAEd4vB,KAAM,CACFjhC,MAAO,OACPmR,WAAY,UAEhB+P,WAAY,CACRlhB,MAAO,GACPmR,WAAY,SACZE,SAAU,SACVrN,QAAS,eACT0Y,WAAY,qCACZ/Y,UAAW,QACXzB,SAAU,GACVsH,YAAa,EACb4rC,YAAa,iBACbtjC,OAAQ,WAEZujC,eAAgB,CACZvvC,WAAY,UACZpE,MAAO,SAEX4zC,SAAU,CAENtxC,QAAS,eACT0Y,WAAY,qCACZxa,SAAU,GACVtB,OAAQ,EACRuQ,WAAY,OAEhBokC,gBAAiB,CACbzvC,WAAY,MACZpE,MAAO,SAEX8zC,YAAa,CACT1vC,WAAY,UACZpE,MAAO,YAuDAI,CAAmBmzC,ICsBlC,SAASj8B,GAAcC,GACnB,IAAI1V,EACA2B,EAAI+T,EAAEC,WAiBV,OAhBIhU,EAAI,KAAIA,EAAI,IAAMA,EAAE2F,YACxBtH,EAAO2B,EAAI,KAEXA,EAAI+T,EAAEE,cACE,KAAIjU,EAAI,IAAMA,EAAE2F,YACxBtH,GAAQ2B,EAAI,KACZA,EAAI+T,EAAEG,cACE,KAAIlU,EAAI,IAAMA,EAAE2F,YACxBtH,GAAQ2B,EAAI,KACZA,EAAI+T,EAAEI,mBACE,GACJnU,EAAI,KAAOA,EAAE2F,WACN3F,EAAI,MACXA,EAAI,IAAMA,EAAE2F,YAEhBtH,GAAQ2B,E,IAINuwC,G,kDACF,WAAYj4C,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACT6b,MAAO,GACPS,UAAU,GAEd,EAAKE,YAAc1Y,IAAM0L,YANV,E,gDAQnB,SAAamM,GACT,OAAO,sBAA8D5W,UAAW7D,KAAKxB,MAAMsF,QAAQ2W,EAAQK,UAApG,UACH,qBAAiBjX,UAAW7D,KAAKxB,MAAMsF,QAAQyX,OAA/C,SAAwDvB,GAAc,IAAIiB,KAAKR,EAAQS,MAA/E,UACR,qBAAqBrX,UAAW7D,KAAKxB,MAAMsF,QAAQ0X,WAAnD,SAAgEf,EAAQK,UAAhE,cACR,8BAAqBL,EAAQlW,MAArB,eAHI,MAAQkW,EAAQS,GAAK,IAAMT,EAAQlW,KAAKkX,QAAQ,O,2BAMpE,SAAcd,GAAQ,IAAD,OACjB,OAAIA,GAASA,EAAMnb,OACR,uBAAKqE,UAAW7D,KAAKxB,MAAMsF,QAAQ2Y,YAAnC,UACH,wBAAsB5Y,UAAW7D,KAAKxB,MAAMsF,QAAQ4Y,MAApD,SAA2D,iCAC1D/B,EAAMvY,KAAI,SAAC6/B,EAAM/7B,GAAP,OAAa,EAAK2U,aAAaonB,SAD/B,YAEX,sBAA0Bz0B,IAAKxN,KAAKsb,YAAava,MAAO,CAAC0V,MAAO,OAAQkG,MAAO,SAAtE,oBAH8C,WAMpD,sBAAmB9Y,UAAW7D,KAAKxB,MAAMsF,QAAQ2Y,YAAa1b,MAAO,CAAC8Y,YAAa,IAAnF,SAAyFpZ,IAAKC,EAAE,gBAAvF,a,oBAIxB,YA3DJ,SAAyBsb,GACrB,IAAM7V,EAAKzC,OAAOuY,SAASC,cAAc,YACzC/V,EAAGhF,MAAQ6a,EACXtY,OAAOuY,SAASE,KAAKC,YAAYjW,GACjCA,EAAGkW,SACH3Y,OAAOuY,SAASK,YAAY,QAC5B5Y,OAAOuY,SAASE,KAAKI,YAAYpW,GAsD7BqW,CAAiBxc,KAAKxB,MAAMgI,QAAS1G,KAAK,S,4BAG9C,WACIE,KAAKsb,aAAetb,KAAKsb,YAAYI,SAAW1b,KAAKsb,YAAYI,QAAQC,eAAe,CAACC,SAAU,a,gCAGvG,WACI5b,KAAKlB,MAAMsc,UAAYpb,KAAK+b,mB,oBAGhC,WAAU,IAAD,OACCpB,EAAQ3a,KAAKxB,MAAMgI,QACzB,OAAO,uBAAK3C,UAAW7D,KAAKxB,MAAMsF,QAAQ8Y,OAAnC,UACH,uBAAK/Y,UAAW7D,KAAKxB,MAAMsF,QAAQ+Y,QAAnC,UACI,eAACzS,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKtD,SAAS,CAACic,UAAW,EAAKtc,MAAMsc,YAAY1Y,MAAO1C,KAAKlB,MAAMsc,SAAW,YAAc,GAAlK,SAAsK,eAAC,IAAD,MACrKT,GAASA,EAAMnb,OAAS,eAAC4K,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKjE,MAAMk4C,kBAAjF,SAAmG,eAAC,IAAD,MAA6B,KACxJ/7B,GAASA,EAAMnb,OAAS,eAAC4K,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ8N,YAAanP,QAAS,kBAAM,EAAKwT,UAA3E,SAAqF,eAAC,IAAD,MAA2B,OAH7F,WAK/CjW,KAAKmd,cAAcxC,U,GAhDV/X,IAAMC,WA2DbC,gBApMA,SAAAC,GAAK,MAAK,CACrB4zC,YAAa,CACTzzC,SAAU,GACVR,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,OAAS,QAEpDuzC,YAAa,GAGbC,aAAc,CACV98B,gBAAwC,SAAvBhX,EAAMgE,QAAQ1D,KAAkB,UAAY,WAEjEyzC,cAAe,CACX/8B,gBAAwC,SAAvBhX,EAAMgE,QAAQ1D,KAAkB,UAAY,WAEjE0zC,cAAe,CACXlpC,QAAS,IAEbmpC,gBAAiB,CACb35B,cAAe,MACfrc,MAAO,GACPi2C,cAAe,aAEnBC,YAAa,CACT/kC,WAAY,SACZkL,cAAe,MACfrc,MAAO,KAGXm2C,YAAa,CACTz5B,WAAY,qCACZ/D,WAAY,EACZ,QAAS,CACL/X,OAAQ,IAMhBgb,OAAQ,CACJ5b,MAAO,OACPiE,OAAQ,OACRkF,SAAU,WACVkI,SAAU,UAEdoK,YAAa,CACTzX,QAAS,eACTtC,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,QACjDrC,MAAM,eAAD,OAjDS,GAiDT,OACLiE,OAAQ,OAERoN,SAAU,OACVlI,SAAU,WACVkT,cAAe,OAEnBC,KAAM,CACFxW,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,WAAa,YACzDX,OAAOK,EAAMgE,QAAQ1D,KAAmB,UAE5CoC,MAAO,CACHqB,WAAY,UACZpE,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDka,KAAM,CACFzW,WAAY,UACZpE,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDma,MAAO,CACH1W,WAAY,OACZ+G,QAAS,GACTnL,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAmB,QAAU,SAEtDoa,MAAO,CACH3W,WAAY,OACZ+G,QAAS,GACTnL,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,SAErDqZ,MAAO,CACHgB,WAAY,YACZ1c,MAAO,QAEX6b,QAAS,CAKL7b,MAvFc,GAwFdiE,OAAQ,OACR0Y,UAAW,iHACX3Y,QAAS,eACTqY,cAAe,MACfhL,SAAU,UAEdkJ,OAAQ,CACJva,MAAO,IAEXwa,WAAY,CACRxa,MAAO,GACPmC,WAAY,QAEhByO,YAAa,CACT5Q,MAAO,GACPiE,OAAQ,GACRmN,QAAS,MA8FFtP,CAAmB2zC,I,qBCrE5BW,G,kDACF,WAAY54C,GAAQ,IAAD,8BACf,cAAMA,IAED64C,WAAatR,WAAWriC,OAAOqE,aAAaC,QAAQ,oBAAsB,IAE/E,EAAKlJ,MAAQ,CACTw4C,UAAW,KACXC,WAAY,EAAK/4C,MAAM+4C,YAG3B,EAAKC,QAAU50C,IAAM0L,YAVN,E,0DAanB,WAA0B,IAAD,OACrBtO,KAAKxB,MAAMi5C,uBAAuBz3C,KAAKlB,MAAMw4C,UAAUnrC,MAAOnM,KAAK03C,YAAY,WAC3E,EAAKv4C,SAAS,CAACm4C,UAAW,OAC1B,EAAKI,WAAa,U,8BAI1B,SAAiBrxC,EAAMH,GAAI,IAAD,OAChBlH,EAAOgB,KAAKlB,MAAMw4C,WAA2C,eAA9Bt3C,KAAKlB,MAAMw4C,UAAUj0C,MAAyBrD,KAAKlB,MAAMw4C,UAAUnrC,QAAUjG,EAC9G,eAAC2D,EAAA,EAAD,CACIwE,SAAUrO,KAAKw3C,QACfl3C,WAAS,EACTsB,OAAO,QACP+1C,OAAQ,kBAAM,EAAK74C,MAAMw4C,WAAa,EAAKn4C,SAAS,CAACm4C,UAAW,QAChE5hB,aAAcrvB,EAAKrH,KACnBinC,QAAS,SAAAvkC,GACa,KAAdA,EAAEwkC,QACF,EAAKuR,yBACgB,KAAd/1C,EAAEwkC,SACT,EAAK/mC,SAAS,CAACm4C,UAAW,QAIlC71C,SAAU,SAAAC,GAAC,OACP,EAAKg2C,WAAah2C,EAAEC,OAAOR,OAE/B8I,aACI,eAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,SACI,eAACC,EAAA,EAAD,CAAY3H,QAAS,kBAAM,EAAKg1C,0BAAhC,SACI,eAAC,IAAD,UAMhB,CACI,sBAAgB5zC,UAAW7D,KAAKxB,MAAMsF,QAAQ8zC,cAAexzC,MAAO3D,IAAKC,EAAE,mCAA3E,SAAgH2F,EAAKrH,MAA5G,QACT,sBAAa6E,UAAW7D,KAAKxB,MAAMsF,QAAQ+zC,eAA3C,gBAAS,KACT,sBAAeh0C,UAAW7D,KAAKxB,MAAMsF,QAAQg0C,eAA7C,SAA8D93C,KAAK+3C,YAAY1xC,EAAKlF,QAA3E,QAGjB,OAAO,gCACH,qBAAI0C,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQk0C,UAAWh4C,KAAKxB,MAAMsF,QAAX,gBAAlD,kBACA,qBAAID,UAAW7D,KAAKxB,MAAMsF,QAAQm0C,UAC9BvuC,cAAe,WACX,EAAKguC,WAAarxC,EAAKrH,MAAQ,GAC/B,EAAKG,SAAS,CACVm4C,UAAW,CACPj0C,KAAM,aACN60C,UAAW,SACX/rC,MAAOjG,EACPlH,KAAMqH,EAAKrH,KACXmC,MAAOkF,EAAKrH,MAAQ,OATpC,SAaEA,IACF,eAACoL,EAAA,EAAD,CACIvG,UAAW7D,KAAKxB,MAAMsF,QAAQq0C,eAC9B1zC,KAAK,QACL5C,WAAY7B,KAAKlB,MAAMw4C,UACvB70C,QAAS,kBAAM,EAAKjE,MAAM45C,mBAAmBlyC,IAJjD,SAMI,eAAC,IAAD,QAtBD,eAAiBA,GAAjB,OAAqBG,EAAKrH,S,+BA2BrC,WAAqB,IAAD,OAChB,OAAOgB,KAAKxB,MAAM65C,YAAYj2C,KAAI,SAACiE,EAAMH,GAAP,OAAa,EAAKoyC,iBAAiBjyC,EAAMH,Q,iCAG/E,SAAoBqyC,EAAOryC,GAAI,IAAD,OAC1B,GAAIlG,KAAKxB,MAAMg6C,eAAiBx4C,KAAKxB,MAAMi6C,iBAAmBF,EAAM/2B,SAASwzB,WAAah1C,KAAKxB,MAAMg6C,aACjG,OAAO,KAEX,IAAME,EAAWH,EAAMznB,IAAIlxB,MAAM,KAAKC,MAAME,QAAQ,gBAAiB,IACrE,OAAO,eAACkJ,EAAA,EAAD,CAEHC,QAAM,EACNzG,QAAS,kBAAM,EAAKjE,MAAMm6C,qBAAqBzyC,IAC/CyO,OAAO,EACPxL,SAAUnJ,KAAKxB,MAAMo6C,eAAiB1yC,EACtCpC,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQ+0C,WANhC,SAQH,eAACtvC,EAAA,EAAD,CACIzF,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQg1C,cAAetvC,QAASxJ,KAAKxB,MAAMsF,QAAQi1C,iBAAkBC,UAAWh5C,KAAKxB,MAAMsF,QAAQm1C,oBAC9H70C,MAAOm0C,EAAMznB,IACbtnB,QAAS+uC,EAAMW,cAAgB,YAC/BF,UAAS,UAAKN,EAAL,aAAkBH,EAAM/2B,SAASU,WAAjC,YAA+Cq2B,EAAM/2B,SAAS4D,aAA9D,QAXRmzB,EAAMx5C,M,yBAgBnB,SAAYoC,EAAOg4C,GACf,GAAKh4C,EAME,IAAmB,aAAfA,EAAMkC,KAAqB,CAClC,IAAMkB,EAAOpD,EAAMi4C,YAAej4C,EAAMi4C,YAAY55C,OAAS,IAAM2B,EAAMi4C,YAAYzoC,UAAU,EAAG,KAAO,MAAQxP,EAAMi4C,YAAe,WACtI,OAAID,EACO50C,EAEA,uBAAMV,UAAW7D,KAAKxB,MAAMsF,QAAQu1C,UAAWj1C,MAAOjD,EAAMi4C,YAA5D,SAA0E70C,IAElF,QAAoB4I,IAAhBhM,EAAMA,MACb,OAAIg4C,EACO,YAEA,uBAAMt1C,UAAW7D,KAAKxB,MAAMsF,QAAQw1C,eAApC,uBAER,GAAoB,OAAhBn4C,EAAMA,MACb,OAAIg4C,EACO,OAEA,uBAAMt1C,UAAW7D,KAAKxB,MAAMsF,QAAQy1C,UAApC,kBAER,GAAmB,WAAfp4C,EAAMkC,KAAmB,CAChC,GAAI81C,EACA,OAAOh4C,EAAMA,MAEb,IAAMoD,EAAOpD,EAAMA,MAASA,EAAMA,MAAM3B,OAAS,IAAM2B,EAAMA,MAAMwP,UAAU,EAAG,KAAO,MAAQxP,EAAMA,MAAS,GAC9G,OAAO,wBAAM0C,UAAW7D,KAAKxB,MAAMsF,QAAQ01C,YAAap1C,MAAOG,EAAxD,cAAgEA,EAAhE,OAER,MAAmB,YAAfpD,EAAMkC,KACT81C,EACOh4C,EAAMA,MAAM0K,WAEZ,uBAAMhI,UAAW7D,KAAKxB,MAAMsF,QAAQ21C,aAApC,SAAmDt4C,EAAMA,MAAM0K,aAEpD,WAAf1K,EAAMkC,KACT81C,EACOhrC,KAAK8C,UAAU9P,EAAMA,OAErB,eAAC,KAAD,CACHu4C,iBAAiB,EACjB34C,MAAO,CAACgZ,gBAAiB,UAAWtP,UAAW,GAC/CpB,IAAKlI,EAAMA,MACXw4C,WAAW,EACX52C,MAAgC,SAAzB/C,KAAKxB,MAAMkoB,UAAuB,SAAW,cACpDkzB,kBAAkB,IAInBz4C,EAAMA,MAAM0K,WAnDnB,OAAIstC,EACO,OAEA,uBAAMt1C,UAAW7D,KAAKxB,MAAMsF,QAAQ+1C,UAApC,oB,+BAoDnB,WAC4B,SAApB75C,KAAK03C,WACL13C,KAAK03C,YAAa,EACS,UAApB13C,KAAK03C,WACZ13C,KAAK03C,YAAa,EACS,SAApB13C,KAAK03C,WACZ13C,KAAK03C,WAAa,KACS,cAApB13C,KAAK03C,WACZ13C,KAAK03C,gBAAavqC,EAElB44B,WAAW/lC,KAAK03C,YAAY7rC,aAAe7L,KAAK03C,aAChD13C,KAAK03C,WAAa3R,WAAW/lC,KAAK03C,aAGtC13C,KAAKxB,MAAMs7C,kBAAkB,CACzBC,aAAc/5C,KAAKlB,MAAMw4C,UAAUt4C,KACnCg7C,YAAa,EACbh0B,SAAU,CACN7kB,MAAOnB,KAAK03C,WACZQ,iBAAkBl4C,KAAK03C,YAE3BuC,YAAaj6C,KAAKxB,MAAM+4C,WAAWv3C,KAAKxB,MAAMo6C,cAAcqB,cAGhEj6C,KAAKb,SAAS,CAACm4C,UAAW,OAC1Bt3C,KAAK03C,WAAa,O,gCAGtB,WAAsB,IAAD,EAEjB,UAAA13C,KAAKw3C,QAAQ97B,eAAb,SAAsB/X,U,yBAG1B,SAAYu2C,EAAS7zC,EAAMhD,GAAO,IAAD,WACvB82C,GAAYn6C,KAAKxB,MAAMo6C,cAAgBvyC,EAAKlF,QAA8B,cAApBkF,EAAKlF,MAAMkC,MAA4C,WAApBgD,EAAKlF,MAAMkC,MAAyC,WAApBgD,EAAKlF,MAAMkC,MAAyC,YAApBgD,EAAKlF,MAAMkC,MAA4C,QAAtB,UAAAgD,EAAKlF,aAAL,eAAYA,aAAwCgM,KAAtB,UAAA9G,EAAKlF,aAAL,eAAYA,QAEpOgF,EAAKnG,KAAKlB,MAAMw4C,WAAat3C,KAAKlB,MAAMw4C,UAAUj0C,OAASA,GAAQrD,KAAKlB,MAAMw4C,UAAUt4C,OAASqH,EAAKrH,KACxG,CACI,sBAAgB6E,UAAW7D,KAAKxB,MAAMsF,QAAQ8zC,cAA9C,SAA8DvxC,EAAKrH,MAA1D,QACT,sBAAa6E,UAAW7D,KAAKxB,MAAMsF,QAAQ+zC,eAA3C,gBAAS,KACT,eAAChuC,EAAA,EAAD,CACIwE,SAAUrO,KAAKw3C,QACf51C,OAAO,QACP+1C,OAAQ,kBAAM,EAAK74C,MAAMw4C,WAAa,EAAKn4C,SAAS,CAACm4C,UAAW,QAChE5hB,aAAc11B,KAAK+3C,YAAY1xC,EAAKlF,OAAO,GAC3C8kC,QAAS,SAAAvkC,GACa,KAAdA,EAAEwkC,QACF,EAAK4T,oBACgB,KAAdp4C,EAAEwkC,SACT,EAAK/mC,SAAS,CAACm4C,UAAW,QAGlC71C,SAAU,SAAAC,GAAC,OACP,EAAKg2C,WAAah2C,EAAEC,OAAOR,OAC/B8I,aACI,eAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,SACI,eAACC,EAAA,EAAD,CAAY3H,QAAS,kBAAM,EAAKq3C,qBAAhC,SACI,eAAC,IAAD,WAOpB,CACI,sBAAgBj2C,UAAW7D,KAAKxB,MAAMsF,QAAQ8zC,cAAexzC,MAAO3D,IAAKC,EAAE,+BAA3E,SAA4G2F,EAAKrH,MAAxG,QACT,sBAAa6E,UAAW7D,KAAKxB,MAAMsF,QAAQ+zC,eAA3C,gBAAS,KACT,uBAAeh0C,UAAW7D,KAAKxB,MAAMsF,QAAQg0C,eAA7C,UAA8D93C,KAAK+3C,YAAY1xC,EAAKlF,OAApF,KAA8FkF,EAAKlF,MAAMkC,KAAzG,MAAS,QAIjB,OAAO,gCACH,qBAAIQ,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQk0C,UAAWh4C,KAAKxB,MAAMsF,QAAQ,aAAeT,IAApF,SAA6FA,IAC7F,qBACIQ,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQm0C,WAAYj4C,KAAKxB,MAAMo6C,cAAgBuB,GAAYn6C,KAAKxB,MAAMsF,QAAQs2C,oBACzG1wC,cAAe,WACPywC,IACA,EAAKzC,WAAarxC,EAAKlF,MAAMA,MAC7B,EAAKhC,SAAS,CACVm4C,UAAW,CACP4C,UACA72C,OACA60C,UAAW7xC,EAAKlF,MAAMkC,KACtBrE,KAAMqH,EAAKrH,KACXmC,MAAOkF,EAAKlF,MAAMA,WAXtC,SAgBEgF,MAlBC,UAAY9C,EAAZ,YAAoB62C,EAApB,YAA+B7zC,EAAKrH,S,0BAsB/C,SAAau5C,GAAQ,IAAD,OAChB,GAAKA,EAEE,CAAC,IAAD,YAECtsC,EAASjM,KAAKq6C,oBAEdlmC,EAAK,UAAGnU,KAAKxB,MAAM87C,cAAd,iBAAG,EAAmBC,aAAtB,iBAAG,EAA0BC,kBAA7B,aAAG,EAAsCvuC,OAAO7J,KAAI,SAAAiE,GAAI,OAAI,EAAKo0C,YAAY,EAAKj8C,MAAM87C,OAAOv7C,GAAIsH,EAAM,YAMlH,OALA8N,GAASA,EAAMnO,SAAQ,SAAAK,GAAI,OAAI4F,EAAO3F,KAAKD,OAE3C8N,EAAK,UAAGnU,KAAKxB,MAAM87C,cAAd,iBAAG,EAAmBI,eAAtB,iBAAG,EAA4BF,kBAA/B,aAAG,EAAwCvuC,OAAO7J,KAAI,SAAAiE,GAAI,OAAI,EAAKo0C,YAAY,EAAKj8C,MAAM87C,OAAOv7C,GAAIsH,EAAM,gBACvG8N,EAAMnO,SAAQ,SAAAK,GAAI,OAAI4F,EAAO3F,KAAKD,MAEpC,wBAAOtF,MAAO,CAACC,MAAO,QAAtB,SACH,iCACKiL,MAbT,OAAO,O,oBAmBf,WAAU,IAAD,OACL,OAAO,gBAAC,IAAD,CACH0uC,gBAAiB36C,KAAKxB,MAAMsF,QAAQ82C,SACpCC,aAAc,EACdC,iBAAkB,IAClBC,eAAgB,IAChBC,UAAU,EACVC,qBAAsBj7C,KAAKq3C,WAC3B6D,0BAA2B,SAAAz2C,GAAI,OAAI,EAAK4yC,WAAatR,WAAWthC,IAChE02C,UAAW,kBAAMz3C,OAAOqE,aAAaiC,QAAQ,iBAAkB,EAAKqtC,WAAWxrC,aAR5E,UAUH,sBAAK9K,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,QAAtD,SACI,eAACtJ,EAAA,EAAD,CAAMjF,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQs3C,UAAzC,SACKp7C,KAAKxB,MAAM+4C,WAAav3C,KAAKxB,MAAM+4C,WAAWn1C,KAAI,SAACm2C,EAAOryC,GAAR,OAC/C,EAAKm1C,oBAAoB9C,EAAOryC,MAAM,SAGlD,uBAAKnF,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,QAAtD,UACI,sBAAKxO,UAAW7D,KAAKxB,MAAMsF,QAAQw3C,cAAnC,SACI,eAAClxC,EAAA,EAAD,CAAY3F,KAAK,QAAQhC,QAAS,kBAAM,EAAKjE,MAAM+8C,iBAAgB,SAACr1C,EAAGG,GACnE,EAAKqxC,WAAarxC,EAAKrH,MAAQ,GAC/B,EAAKG,SAAS,CACVm4C,UAAW,CACPj0C,KAAM,aACN60C,UAAW,SACX/rC,MAAOjG,EACPlH,KAAMqH,EAAKrH,KACXmC,MAAOkF,EAAKrH,MAAQ,UARhC,SAWI,eAAC,IAAD,QAER,sBAAK6E,UAAW7D,KAAKxB,MAAMsF,QAAQ03C,mBAAnC,SACKx7C,KAAKxB,MAAM+4C,YAAcv3C,KAAKxB,MAAM+4C,WAAW/3C,QAAUQ,KAAKy7C,aAAaz7C,KAAKxB,MAAM+4C,WAAWv3C,KAAKxB,MAAMo6C,2B,GAxT7Gh2C,IAAMC,WA8UXC,gBAtcA,SAAAC,GAAK,MAAK,CACrB81C,UAAW,CACPl/B,WAAY,EACZC,cAAe,GAEnBk/B,cAAe,CACXl3C,OAAQ,GAEZm3C,iBAAkB,CACdr2C,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,OAAS,QAEpD41C,mBAAoB,CAChB/zC,UAAW,SACXhC,SAAU,GACV2K,QAAS,GACTgM,YAAa9W,EAAMqC,QAAQ,IAG/Bg2C,SAAU,CACNhpC,QAAS,GAGb4lC,UAAW,CACP36B,cAAe,MACf45B,cAAe,YACfj2C,MAAO,IAEX06C,gBAAiB,CACbh5C,MAAO,WAEXi5C,kBAAmB,CACfj5C,MAAO,WAEXk5C,eAAgB,CACZl5C,MAAO,WAEXu1C,UAAW,CACPv1C,MAAO,UACP1B,MAAO,oBACPmR,WAAY,SACZ0pC,aAAc,YAElBC,YAAa,CACT96C,MAAO,IAEXo5C,mBAAoB,CAChBtnC,OAAQ,WAEZipC,cAAe,CACXhiC,gBAAiB,OACjBrX,MAAO,SAEXk4C,SAAU,CACN55C,MAAO,OACPiE,OAAQ,oBACRoN,SAAU,SACVnP,SAAU,IAGdo4C,cAAe,CACXt6C,MAAO,GACPgE,QAAS,eACTC,OAAQ,OACR6B,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,OAAS,OACrDga,cAAe,OAEnBm+B,mBAAoB,CAChBx6C,MAAO,oBACPgE,QAAS,eACTC,OAAQ,OACRoY,cAAe,OAGnBu6B,cAAe,CACXz0C,WAAY,OACZ6B,QAAS,eACTqY,cAAe,OAEnBw6B,eAAgB,CACZ7yC,QAAS,eACTtC,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,OAAS,OAChDga,cAAe,OAEnBy6B,eAAgB,CACZz6B,cAAe,MACfrY,QAAS,eACTtC,MAAO,UACPyP,WAAY,UAEhBgmC,eAAgB,CACZ/lC,QAAS,EACTqE,MAAO,SAGX8iC,UAAW,CACP72C,MAAO,WAEX42C,eAAgB,CACZ52C,MAAO,WAEX82C,YAAa,CACT92C,MAAO,WAEXs5C,YAAa,CACTt5C,MAAO,WAEX+2C,aAAc,CACV/2C,MAAO,WAEXu5C,YAAa,CACTv5C,MAAO,WAEXm3C,UAAW,CACPn3C,MAAO,WAEX22C,UAAW,CACP32C,MAAO,cAkVAI,CAAmBs0C,ICpW5B8E,G,kDACF,WAAY19C,GAAQ,IAAD,uBACf,cAAMA,IAwIV29C,aAAe,SAACp9C,EAAID,GAChB,IACI,IAAMiN,EAAOoC,KAAKC,MAAMtP,EAAMqS,KAC9B,GAAiB,eAAbpF,EAAKqwC,IACL,EAAK59C,MAAM6I,OAAO4X,OAAO,EAAKngB,MAAMG,SAAU,QAAS,EAAKT,MAAM69C,eAAiB,CAAClG,WAAY,EAAK33C,MAAM6K,WAE/G,GAAiB,iBAAb0C,EAAKqwC,IAAwB,CAC7B,EAAK5D,aAAezsC,EAAKipC,SACzB,EAAKxmC,QAAQzC,EAAKipC,UAAYjpC,EAAK0H,OAC/B1H,EAAK0H,OAAO7K,WAAW,6BACvB,EAAK4F,QAAQzC,EAAKipC,UAAY,mBAAqBjpC,EAAK0H,OAAO9C,UAAU,4BAA4BnR,QAC9FuM,EAAK0H,OAAO7K,WAAW,eAC9B,EAAK4F,QAAQzC,EAAKipC,UAAYjpC,EAAK0H,OAAO9C,UAAU,YAAYnR,SAGpE,IAAM88C,EAAOnuC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMw9C,OAClDA,EAAKvwC,EAAKipC,UAAY,EAAKx2C,MAAM69C,cAAgBtwC,EAAK+kB,IAAK,EAAKtyB,MAAM6K,IAAItJ,QAAQ,aAAc,IAEhG,IAAMmb,EAAKD,KAAK2O,MAAQ,IAAsB,IAAhBkiB,KAAKyQ,SACnCxwC,EAAKwyB,QAAQgZ,YAAcxrC,EAAKwyB,QAAQgZ,WAAWvxC,SAAQ,SAACK,EAAMH,GAAP,OAAaG,EAAKtH,GAAKmc,EAAKhV,KAEvF,EAAK/G,SAAS,CACVq9C,UAAU,EACVC,UAAU,EACVtzC,SAAU,EAAKqvC,aACf/kC,OAAQ,EAAKjF,QAAQzC,EAAKipC,UAC1BsH,OACA1D,aAAc,EACd8D,SAAS,EACTjU,QAAQ,EACRjnB,SAAU,EAAKm7B,YAAY5wC,EAAKwyB,SAChCA,QAASxyB,EAAKwyB,UACf,kBACC,EAAKqe,mBAAkB,WACnB,EAAKC,mBACL,EAAKC,6BAEV,GAAiB,WAAb/wC,EAAKqwC,IAAkB,CAC9B,IAAMlhC,EAAKD,KAAK2O,MAAQ,IAAsB,IAAhBkiB,KAAKyQ,SACnCxwC,EAAKwyB,QAAQgZ,YAAcxrC,EAAKwyB,QAAQgZ,WAAWvxC,SAAQ,SAACK,EAAMH,GAAP,OAAaG,EAAKtH,GAAKmc,EAAKhV,KACvF,IAAMsb,EAAW,EAAKm7B,YAAY5wC,EAAKwyB,SACjC+d,EAAOnuC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMw9C,OAC5C38C,EAAQoM,EAAKwyB,QAAQgZ,WAAW,GAAGzmB,IAAIlxB,MAAM,uBACnD08C,EAAK96B,EAASwzB,WAAar1C,EAAM,IAAMA,EAAM,IAAII,QAAQ,aAAc,IAEvE,IAAMuR,EAAW,CACbgrC,OACA7T,QAAQ,EACRjnB,WACAo3B,aAAc,EACdra,QAASxyB,EAAKwyB,QACdwe,MAAO,CAACh+C,GAAKgN,EAAKwyB,SAAWxyB,EAAKwyB,QAAQgZ,YAAcxrC,EAAKwyB,QAAQgZ,WAAW,IAAMxrC,EAAKwyB,QAAQgZ,WAAW,GAAGx4C,IAAO,IAG5HuS,EAASmC,YAA6CtG,IAApC,EAAKqB,QAAQgT,EAASwzB,UAA0Bv0C,IAAKC,EAAE,cAAgB,EAAK8N,QAAQgT,EAASwzB,UAC/G1jC,EAASnI,SAAWqY,EAASwzB,SAE7B,EAAK71C,SAASmS,GAAU,WACpB,EAAKurC,mBACL,EAAKC,kBACA,EAAKtuC,QAAQgT,EAASwzB,WACvB,EAAKgI,eAAe,CAACZ,IAAK,SAAUpH,SAAUxzB,EAASwzB,mBAG5D,GAAiB,WAAbjpC,EAAKqwC,IACZ,EAAK5tC,QAAQzC,EAAKipC,UAAYjpC,EAAKxH,KAC/B,EAAKzF,MAAMqK,WAAa4C,EAAKipC,UAC7B,EAAK71C,SAAS,CAACsU,OAAQ,EAAKjF,QAAQzC,EAAKipC,iBAE1C,GAAiB,YAAbjpC,EAAKqwC,IACZ,EAAKj9C,SAAS,CAACspC,QAAQ,SACpB,GAAiB,QAAb18B,EAAKqwC,IACZ,GAA4B,YAAxB,EAAKt9C,MAAMm+C,SAAwB,CACnC,EAAKz2C,QAAU,KACf,IAAMA,EAAO,YAAO,EAAK1H,MAAM0H,SAC/BA,EAAQF,KAAK,CAAC/B,KAAMwH,EAAKxH,KAAMuW,SAAU/O,EAAK+O,SAAUI,GAAInP,EAAKmP,KACjE,EAAK/b,SAAS,CAACqH,gBAEO,UAAlBuF,EAAK+O,SACL,EAAK3b,SAAS,CAAC+9C,UAAW,EAAKp+C,MAAMo+C,UAAY,IACxB,SAAlBnxC,EAAK+O,SACZ,EAAK3b,SAAS,CAACg+C,YAAa,EAAKr+C,MAAMq+C,YAAc,IAErD,EAAKh+C,SAAS,CAACi+C,KAAM,EAAKt+C,MAAMs+C,KAAO,IAE3C,EAAK52C,QAAU,EAAKA,SAAL,YAAoB,EAAK1H,MAAM0H,SAC9C,EAAKA,QAAQF,KAAK,CAAC/B,KAAMwH,EAAKxH,KAAMuW,SAAU/O,EAAK+O,SAAUI,GAAInP,EAAKmP,UAEvE,GAAiB,UAAbnP,EAAKqwC,IACZ,EAAKj9C,SAAS,CAACsG,MAAOsG,EAAKtG,aACxB,GAAiB,aAAbsG,EAAKqwC,KAAmC,iBAAbrwC,EAAKqwC,IACvC,EAAKj9C,SAAS,CACVs9C,UAAU,EACVD,UAAU,EACVE,SAAS,SAEV,GAAiB,OAAb3wC,EAAKqwC,IAAc,CAC1B,IAAMv7B,EAAc1S,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAM+hB,cACrD3P,GAAU,EACdnF,EAAK8U,YAAY/Y,QAAO,SAAAwd,GAAE,OAAIA,KAAItf,SAAQ,SAAAsf,GACxBzE,EAAYza,MAAK,SAAAC,GAAI,OAC/BA,EAAKmb,SAASwzB,WAAa1vB,EAAG9D,SAASwzB,UAAY3uC,EAAKmb,SAASU,aAAeoD,EAAG9D,SAASU,gBAE5FhR,GAAU,EACV2P,EAAYva,KAAKgf,OAGzBpU,GAAWxN,OAAOqE,aAAaiC,QAAQ,uBAAyB,EAAKxL,MAAM6K,IAAK8E,KAAK8C,UAAU4P,IAC/F3P,GAAW,EAAK/R,SAAS,CAAC0hB,qBACvB,GAAiB,OAAb9U,EAAKqwC,IAAc,CAC1B,IAAMv7B,EAAc1S,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAM+hB,cACrD3P,GAAU,EAEdnF,EAAK8U,YAAY/Y,QAAO,SAAA/I,GAAE,YAAWoO,IAAPpO,GAA2B,OAAPA,KAAaiH,SAAQ,SAAAjH,GACnE,IAAM6Z,EAAQiI,EAAYza,MAAK,SAAAC,GAAI,OAAIA,EAAKtH,KAAOA,KACnD,GAAI6Z,EAAO,CACP,IAAMxH,EAAMyP,EAAYrb,QAAQoT,GAChCiI,EAAY/a,OAAOsL,EAAK,GACxBF,GAAU,MAGlBA,GAAWxN,OAAOqE,aAAaiC,QAAQ,uBAAyB,EAAKxL,MAAM6K,IAAK8E,KAAK8C,UAAU4P,IAC/F3P,GAAW,EAAK/R,SAAS,CAAC0hB,qBACvB,GAAiB,UAAb9U,EAAKqwC,IAAiB,CAE7B,IAAM7B,EAAQxuC,EAAKuuC,OAAOl0C,MAAK,SAAA22C,GAAK,MAAmB,UAAfA,EAAM15C,SAAqB,KAC7Dq3C,EAAU3uC,EAAKuuC,OAAOl0C,MAAK,SAAA22C,GAAK,MAAmB,YAAfA,EAAM15C,SAAuB,KAEvEmD,QAAQC,IAAI0H,KAAK8C,UAAUypC,IAE3B,EAAKv7C,SAAS,CAACm7C,OAAQ,CAACC,QAAOG,UAAS37C,GAAI,EAAKD,MAAMi+C,MAAMh+C,GAAK,IAAM,EAAKD,MAAM85C,qBAChF,GAAiB,aAAb7sC,EAAKqwC,IAAoB,CAChC,IACI/1C,EADEi0C,EAASnsC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMw7C,UAGhDj0C,EADqB,IAArB0F,EAAKiuC,YACEM,EAAOC,OAASD,EAAOC,MAAMC,YAAcF,EAAOC,MAAMC,WAAWvuC,QAAUquC,EAAOC,MAAMC,WAAWvuC,OAAO7F,MAAK,SAAAC,GAAI,OAAIA,EAAKrH,OAAS+M,EAAKguC,gBAE5IO,EAAOI,SAAWJ,EAAOI,QAAQF,YAAcF,EAAOI,QAAQF,WAAWvuC,QAAUquC,EAAOI,QAAQF,WAAWvuC,QAAUquC,EAAOI,QAAQF,WAAWvuC,OAAO7F,MAAK,SAAAC,GAAI,OAAIA,EAAKrH,OAAS+M,EAAKguC,mBAG/L1zC,EAAKlF,MAAMA,MAAQ4K,EAAKia,SAAS7kB,MACjC,EAAKhC,SAAS,CAACm7C,iBAEhB,GAAiB,gBAAbvuC,EAAKqwC,IAAuB,CAEnC,IAAI/D,EAAclqC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMu5C,cACnDnnC,GAAU,EACdnF,EAAKssC,YAAYryC,SAAQ,SAAAK,GACrB,IAAMg3C,EAAahF,EAAYjyC,MAAK,SAAAqG,GAAE,OAAIA,EAAGzN,OAASqH,EAAKrH,QACvDq+C,IACAnsC,GAAU,EACVmsC,EAAWl8C,MAAQkF,EAAK4F,WAGhCiF,GAAW,EAAK/R,SAAS,CAACk5C,gBAE1B7xC,QAAQC,IAAI,gBAAkB0H,KAAK8C,UAAUlF,SAC1C,GAAiB,2BAAbA,EAAKqwC,IAAkC,CAAC,IAAD,QACF,KAAxC,UAAArwC,EAAK8U,mBAAL,mBAAkBy8B,iBAAlB,eAA6B99C,QAC7B,EAAKw9C,eAAe,CAACn8B,YAAa9U,EAAK8U,YAAYy8B,UAAWlB,IAAK,QAC5D,UAACrwC,EAAK8U,mBAAN,iBAAC,EAAkBy8B,iBAAnB,aAAC,EAA6B99C,QAGrC,EAAKL,SAAS,CAACo+C,iBAAkBxxC,EAAK8U,YAAYy8B,YAFlD55C,OAAO85C,MAAM,mBAKjBh3C,QAAQf,MAAR,2BAAkC0I,KAAK8C,UAAUlF,KAEvD,MAAOrK,MA/ST,IAAImf,EAAcnd,OAAOqE,aAAaC,QAAQ,uBAAyB,EAAKxJ,MAAM6K,KAClF,IACIwX,EAAcA,EAAc1S,KAAKC,MAAMyS,GAAe,GACxD,MAAOnf,GACLmf,EAAc,GAGlB,IAAIw3B,EAAc30C,OAAOqE,aAAaC,QAAQ,yBAA2B,EAAKxJ,MAAM6K,KACpF,IAEIgvC,GADAA,EAAcA,EAAclqC,KAAKC,MAAMiqC,GAAe,IAC5Bj2C,KAAI,SAAApD,GAAI,MAAK,CAACA,WAC1C,MAAO0C,GACL22C,EAAc,GAdH,OAiBf,EAAKoF,SAAW/5C,OAAOqE,cAAeg+B,WAAWriC,OAAOqE,aAAaC,QAAQ,kBAA0B,IAEvG,EAAKlJ,MAAQ,CACT09C,UAAU,EACVrzC,SAAU,KACVmzC,KAAM,GACN7oC,OAAQ,GACRoN,cACAw3B,cACApD,SAAS,EACTxvC,MAAO,GACPi3C,SAAS,EACTjU,QAAQ,EACRjnB,SAAU,KACVy7B,SAAUv5C,OAAOqE,aAAaC,QAAQ,yBAA2B,UACjE01C,gBAAqF,SAApEh6C,OAAOqE,aAAaC,QAAQ,oCAC7CxB,QAAS,GACTi2C,UAAU,EACV7D,aAAc,EACd0B,OAAQ,GACRiD,iBAAkB,KAClBL,UAAW,EACXC,YAAa,EACbC,KAAM,GAGV,EAAK5uC,QAAU,GACf,EAAKgqC,aAAe,KA5CL,E,qDA+CnB,WAAqB,IAAD,OAChB,IAAIvmC,SAAQ,SAAAC,GACJ,EAAK1T,MAAM69C,cACXnqC,EAAQ,EAAK1T,MAAM69C,cAAcp9C,UAEjC,EAAKT,MAAM6I,OAAOC,UAAU,EAAK9I,MAAM6K,KAClC9B,MAAK,SAAAC,GAAG,eAAI0K,EAAO,OAAC1K,QAAD,IAACA,GAAD,UAACA,EAAKC,cAAN,iBAAC,EAAa+E,cAAd,aAAC,EAAqBzM,QAAQ,kBAAmB,WAG5EwH,MAAK,SAAAtI,GAAQ,OACV,EAAKE,SAAS,CAACF,SAAUA,IAAW,WAC5B,EAAKH,MAAMG,UACX,EAAKT,MAAM6I,OAAOlI,SAAS,EAAKL,MAAMG,SAAW,cAAe,yBAAyB,GAEzFuC,YAAW,kBACP,EAAKhD,MAAM6I,OAAO0J,eAAe,EAAKjS,MAAMG,SAAW,cAAe,EAAKk9C,gBAAe,MAE9F,EAAKh9C,SAAS,CAACsG,MAAO,6B,kCAK1C,WACQzF,KAAKlB,MAAMG,WACXe,KAAKxB,MAAM6I,OAAO2J,iBAAiBhR,KAAKlB,MAAMG,SAAW,cAAee,KAAKm8C,cAC7En8C,KAAKxB,MAAM6I,OAAO4X,OAAOjf,KAAKlB,MAAMG,SAAU,gB,4BAItD,SAAem9C,GACXp8C,KAAKxB,MAAM6I,OAAOlI,SAASa,KAAKlB,MAAMG,SAAW,YAAakP,KAAK8C,UAAUmrC,M,+BAGjF,SAAkB9rC,GAAK,IAAD,OAClB,GAAItQ,KAAKlB,MAAM+hB,YAAYrhB,OAAQ,CAC/B,IAAIqhB,EAAc1S,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM+hB,cACvDA,EAAcA,EAAYze,KAAI,SAAAiE,GAAI,OAAIA,EAAKmb,YAC3CxhB,KAAKb,SAAS,CAAC0hB,YAAa,KAAK,WAC7B,EAAKm8B,eAAe,CAACn8B,cAAau7B,IAAK,OACnC,EAAKt9C,MAAM4+C,iBACX,EAAKV,eAAe,CAACZ,IAAK,kBAAmBt9C,OAAO,IAGxDwR,GAAMA,YAEHtQ,KAAKlB,MAAM4+C,iBAClB19C,KAAKg9C,eAAe,CAACZ,IAAK,kBAAmBt9C,OAAO,IACpDwR,GAAMA,KAENA,GAAMA,M,yBAId,SAAYiuB,GACR,GAAIA,EAAQgZ,WAER,OADchZ,EAAQgZ,WAAW,GACpB/1B,W,8BAIrB,WACI,IAAM+2B,EAAQv4C,KAAKlB,MAAMy/B,QAAQgZ,WAAWv3C,KAAKlB,MAAM85C,cACvD,GAAIL,EAAO,CACP,IAAM+B,EAAS/B,EAAMoF,WAAW71C,QAAO,SAAAi1C,GAAK,MAAmB,WAAfA,EAAM15C,QAClDi3C,EAAO96C,OACPQ,KAAKg9C,eAAe,CAACZ,IAAK,QAAS9B,YAC5Bt6C,KAAKlB,MAAMw7C,OAAOsD,QAAU59C,KAAKlB,MAAMw7C,OAAOC,OAASv6C,KAAKlB,MAAMw7C,OAAOI,UAChF16C,KAAKb,SAAS,CAACm7C,OAAQ,Q,6BAKnC,SAAgBp0C,GAAI,IAAD,EACXlG,KAAKlB,MAAMu5C,YAAY74C,SAAvB,UAAiCQ,KAAKlB,MAAMy/B,eAA5C,aAAiC,EAAoBgZ,aAAcv3C,KAAKlB,MAAMy/B,QAAQgZ,WAAWv3C,KAAKlB,MAAM85C,qBAClGzrC,IAANjH,EACAlG,KAAKg9C,eAAe,CAChBZ,IAAK,cACL/D,YAAa,CAACr4C,KAAKlB,MAAMu5C,YAAYnyC,IACrC+zC,YAAaj6C,KAAKlB,MAAMy/B,QAAQgZ,WAAWv3C,KAAKlB,MAAM85C,cAAcqB,cAGxEj6C,KAAKg9C,eAAe,CAChBZ,IAAK,cACL/D,YAAar4C,KAAKlB,MAAMu5C,YACxB4B,YAAaj6C,KAAKlB,MAAMy/B,QAAQgZ,WAAWv3C,KAAKlB,MAAM85C,cAAcqB,iB,+BAmLpF,SAAkBz4B,GACd,IAAIygB,EAAOjiC,KAAKlB,MAAM2U,OAAO7T,MAAM,WAAW4hB,EAASU,YACnD27B,EAAQ,GAQZ,OAPIr8B,EAAS4D,cAAgB,IACzB6c,EAAOA,EAAKtxB,UAAU6Q,EAAS4D,aAAe,GAAI5D,EAAS4D,aAAe,IAC1Ey4B,EAAQ,GAAGjmB,SAAS,GAAI,KAAO,WAE/BqK,EAAOA,EAAKtxB,UAAU,EAAG,GAAK6Q,EAAS4D,cACvCy4B,EAAQ,GAAGjmB,SAASpW,EAAS4D,aAAc,KAAO,UAE/C,CACH,sBAAKvhB,UAAW7D,KAAKxB,MAAMsF,QAAQg6C,UAAnC,SAA+C7b,IAC/C,sBAAKp+B,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQg6C,UAAW99C,KAAKxB,MAAMsF,QAAQ+5C,OAAtE,SAA+EA,O,oCAIvF,WAA0B,IAAD,OACrB,OAAI79C,KAAKlB,MAAMy+C,iBACJ,gBAACr9C,GAAA,EAAD,CAAQxB,QAAS,kBAAM,EAAKS,SAAS,CAACo+C,iBAAkB,QAAQ,kBAAgB,kBAAkBh9C,MAAM,EAAxG,UACH,eAACC,GAAA,EAAD,CAAazB,GAAG,kBAAhB,SAAmC0B,IAAKC,EAAE,uBAC1C,eAACqI,EAAA,EAAD,UACK/I,KAAKlB,MAAMy+C,iBAAiBn7C,KAAI,SAACkjB,EAAIpf,GAAL,OAC7B,eAAC+C,EAAA,EAAD,CACInF,QAAS,CAAC6C,KAAM,EAAKnI,MAAMsF,QAAQi6C,YACnCppC,OAAO,EACPzL,QAAM,EACNzG,QAAS,WACL,EAAKu6C,eAAe,CAACn8B,YAAa,CAACyE,GAAK82B,IAAK,OAC7C,EAAKj9C,SAAS,CAACo+C,iBAAkB,QANzC,SASI,eAACh0C,EAAA,EAAD,CACIzF,QAAS,CAAC0F,QAAS,EAAKhL,MAAMsF,QAAQk6C,cAAehF,UAAW,EAAKx6C,MAAMsF,QAAQm6C,iBACnFz0C,QAAS,EAAK00C,kBAAkB54B,MAH/Bpf,WAUd,O,yBAIf,WAAe,IAAD,OACV,OAAIlG,KAAKlB,MAAM2G,MACJ,eAAC,GAAD,CAA+B/G,QAAS,kBAAM,EAAKS,SAAS,CAAEsG,MAAO,MAAOlB,KAAMvE,KAAKlB,MAAM2G,OAA5E,eAEjB,O,sBAIf,SAAS1G,EAAI2C,GACTA,GAAKA,EAAEgQ,kBACP,IAAM4qC,EAAOnuC,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMw9C,cAC3CA,EAAKv9C,GACZ,IAAMuS,EAAW,CAACgrC,OAAM7oC,OAAQzT,KAAKwO,QAAQxO,KAAKw4C,cAAervC,SAAUnJ,KAAKw4C,cAC5Ex4C,KAAKlB,MAAM0iB,UAAYxhB,KAAKlB,MAAM0iB,SAASwzB,WAAah1C,KAAKw4C,eAC7DlnC,EAASkQ,SAAW,MAExBxhB,KAAKb,SAASmS,K,wBAGlB,WAAc,IAAD,OACHzP,GAAY7B,KAAKlB,MAAMw9C,OAASt8C,KAAKlB,MAAM49C,QACjD,OAAO,eAACnI,GAAA,EAAD,CACHvrC,UAAW,MACXm1C,eAAe,UACfp9C,MAAO,CAAEoJ,SAAU,WAAYnJ,MAAO,qBAAsBgE,QAAS,gBACrE7D,MAAOnB,KAAKlB,MAAMqK,SAClB1H,SAAU,SAACtB,EAAOgB,GACV,EAAKqN,QAAQrN,GACb,EAAKhC,SAAS,CAACgK,SAAUhI,EAAOsS,OAAQ,EAAKjF,QAAQrN,KAErD,EAAKhC,SAAS,CAACgK,SAAUhI,EAAOsS,OAAQ,eAAe,kBACnD,EAAKupC,eAAe,CAACZ,IAAK,SAAUpH,SAAU7zC,QAG1Di9C,cAAc,OAbX,SAeF/xC,OAAOC,KAAKtM,KAAKlB,MAAMw9C,MAAQ,IAC3Bl6C,KAAI,SAAArD,GACD,IAAImC,EAAQnC,EACRqF,EAAQ,EAAKtF,MAAMw9C,KAAKv9C,IAAO,GASnC,OARI,EAAKD,MAAMw9C,KAAKv9C,KAChBmC,EAAQ,EAAKpC,MAAMw9C,KAAKv9C,GAAIa,MAAM,KAAKC,OAE3CqB,EAAQ,CACJ,sBAAgB2C,UAAW4J,YAAK,EAAKjP,MAAMsF,QAAQu6C,SAAnD,SAA8Dn9C,GAArD,QACTnC,IAAO,EAAKy5C,cAAgB,uBAAiB30C,UAAW,EAAKrF,MAAMsF,QAAQw6C,YAA/C,SACxB,eAAC,IAAD,CAAuB77C,QAAS,SAAAf,GAAC,OAAI,EAAK68C,SAASx/C,EAAI2C,IAAIwB,SAAS,SAArD,UADmB,SAGnC,eAACsxC,GAAA,EAAD,CAAK3yC,SAAUA,EAAUiC,QAAS,CAAC6C,KAAM,EAAKnI,MAAMsF,QAAQ06C,SAAUt9C,MAAOA,EAAOkD,MAAOA,EAAgBjD,MAAOpC,GAAXA,U,sBAK9H,WACIiB,KAAKg9C,eAAe,CAACZ,IAAK,W,qBAG9B,WACIp8C,KAAKg9C,eAAe,CAACZ,IAAK,Y,oBAG9B,WACIp8C,KAAKg9C,eAAe,CAACZ,IAAK,W,sBAG9B,WACIp8C,KAAKg9C,eAAe,CAACZ,IAAK,W,uBAG9B,WACIp8C,KAAKg9C,eAAe,CAACZ,IAAK,U,uBAG9B,WAAa,IAAD,OACRp8C,KAAKb,SAAS,CAACu9C,SAAS,EAAOF,UAAU,IAAO,kBAC5C,EAAKh+C,MAAM6I,OAAO4X,OAAO,EAAKngB,MAAMG,SAAU,QAAS,EAAKT,MAAM69C,eAAiB,CAAClG,WAAY,EAAK33C,MAAM6K,W,+BAGnH,WAAqB,IAAD,OACVq0C,GAAmB19C,KAAKlB,MAAM4+C,gBACpCh6C,OAAOqE,aAAaiC,QAAQ,mCAAoC0zC,EAAkB,OAAS,SAC3F19C,KAAKb,SAAS,CAACu+C,oBAAkB,kBAC7B,EAAKV,eAAe,CAACZ,IAAK,kBAAmBt9C,MAAO4+C,S,2BAG5D,WAAiB,IAAD,OACN77C,GAAY7B,KAAKlB,MAAM49C,QAC7B,OAAO,gBAAC+B,GAAA,EAAD,CAASj8C,QAAQ,QAAQqB,UAAW7D,KAAKxB,MAAMsF,QAAQ8T,QAAvD,UACH,eAACxN,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ46C,cAAe78C,SAAUA,EAAUY,QAAS,kBAAM,EAAKk8C,aAAcv6C,MAAO3D,IAAKC,EAAE,WAA7H,SAAyI,eAAC,IAAD,OAEpIV,KAAKlB,MAAM29C,UAAYz8C,KAAKlB,MAAM2pC,OAC/B,eAACr+B,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ86C,UAAW/8C,SAAUA,EAAUY,QAAS,kBAAM,EAAKo8C,YACjFz6C,MAAO3D,IAAKC,EAAE,oBAD1B,SAC+C,eAAC,IAAD,OAE9CV,KAAKlB,MAAM29C,UAAY,eAACryC,EAAA,EAAD,CAAYvI,SAAUA,EAAUgC,UAAW7D,KAAKxB,MAAMsF,QAAQg7C,YAAar8C,QAAS,kBAAM,EAAKs8C,WAC3G36C,MAAO3D,IAAKC,EAAE,mBADF,SACsB,eAAC,IAAD,OAEpDV,KAAKlB,MAAM29C,UAAY,eAACryC,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQk7C,WAAYn9C,SAAUA,IAAa7B,KAAKlB,MAAM2pC,OAAQhmC,QAAS,kBAAM,EAAKw8C,UAAW76C,MAAO3D,IAAKC,EAAE,mBAA7I,SAAiK,eAAC,IAAD,OACxLV,KAAKlB,MAAM29C,UAAY,eAACryC,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQo7C,WAAYr9C,SAAUA,IAAa7B,KAAKlB,MAAM2pC,OAAQhmC,QAAS,kBAAM,EAAK08C,YAAa/6C,MAAO3D,IAAKC,EAAE,sBAA/I,SAAsK,eAAC,IAAD,OAC7LV,KAAKlB,MAAM29C,UAAY,eAACryC,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQs7C,UAAWv9C,SAAUA,IAAa7B,KAAKlB,MAAM2pC,OAAQhmC,QAAS,kBAAM,EAAK48C,aAAcj7C,MAAO3D,IAAKC,EAAE,0BAA/I,SAA0K,eAAC,IAAD,OACjMV,KAAKlB,MAAM29C,UAAY,eAACryC,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQw7C,gBAAiB58C,MAAO1C,KAAKlB,MAAM4+C,gBAAkB,UAAY,UAAW77C,SAAUA,IAAa7B,KAAKlB,MAAM2pC,OAAQhmC,QAAS,kBAAM,EAAK88C,qBAAqBn7C,MAAO3D,IAAKC,EAAE,qBAAvN,SAA6O,eAAC,IAAD,MACrQV,KAAKw/C,eAdiE,c,oCAkB/E,SAAuBl6B,GACnB,IAAM4oB,EAAG,6BAAO5oB,GAAP,IAAWF,aAAc,MAClCplB,KAAKg9C,eAAe,CAACZ,IAAK,yBAA0BlX,MAAO5f,EAAI4oB,U,8BAGnE,SAAiBhsB,GAAa,IAAD,OACrBoD,EAAKtlB,KAAKlB,MAAM+hB,YAAYza,MAAK,SAAAC,GAAI,OAAIA,EAAKmb,SAASwzB,WAAa,EAAKl2C,MAAMqK,UAAY9C,EAAKmb,SAASU,aAAeA,KAC5H,GAAIoD,EAAI,CACJ,IAAMzE,EAAc1S,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM+hB,cACzD7gB,KAAKb,SAAS,CAAC0hB,gBAAc,kBACzB,EAAKm8B,eAAe,CAACn8B,YAAa,CAACyE,EAAGvmB,IAAKq9C,IAAK,eAEpD92B,EAAK,CAAC0vB,SAAUh1C,KAAKlB,MAAMqK,SAAU+Y,aAAYkD,aAAc,GAC/DplB,KAAKy/C,uBAAuBn6B,K,wBAIpC,WAAc,IAAD,OACT,GAAItlB,KAAKlB,MAAM2U,QAAUzT,KAAKlB,MAAM49C,QAAS,CACzC,IAAM77B,EAAc7gB,KAAKlB,MAAM+hB,YAAY/Y,QAAO,SAAAwd,GAAE,OAAIA,EAAG9D,SAASwzB,WAAa,EAAKl2C,MAAMqK,YAE5F,OAAO,eAAC,GAAD,CACHuG,iBAAkB1P,KAAKxB,MAAMkR,iBAC7BrI,OAAQrH,KAAKxB,MAAM6I,OACnB4qB,YAAajyB,KAAKxB,MAAMyzB,YACxBkkB,WAAYn2C,KAAKlB,MAAMw9C,KAAKt8C,KAAKlB,MAAMqK,UACvCu2C,SAAU1/C,KAAKlB,MAAMqK,SACrBsK,OAAQzT,KAAKlB,MAAM2U,OACnBg1B,OAAQzoC,KAAKlB,MAAM2pC,OACnB5nB,YAAaA,EACbW,SAAUxhB,KAAKlB,MAAM0iB,SACrBkF,UAAW1mB,KAAKxB,MAAMkoB,UACtB/X,UAAW3O,KAAKxB,MAAMmQ,UACtBmT,mBAAoB,SAAA5b,GAAC,OAAI,EAAKy5C,iBAAiBz5C,S,0BAK3D,WAAgB,IAAD,SACX,OAAKlG,KAAKlB,MAAM2pC,OAIT,eAAC,GAAD,CACHgQ,gBAAiBz4C,KAAKlB,MAAMqK,SAC5BmxC,OAAQt6C,KAAKlB,MAAMw7C,OACnBjC,YAAar4C,KAAKlB,MAAMu5C,YACxB3xB,UAAW1mB,KAAKxB,MAAMkoB,UACtB6wB,WAAU,UAAEv3C,KAAKlB,MAAMy/B,eAAb,aAAE,EAAoBgZ,WAChCqB,aAAc54C,KAAKlB,MAAM85C,aACzBD,qBAAsB,SAAAzyC,GAClB,EAAK/G,SAAS,CAACy5C,aAAc1yC,EAAGo0C,OAAQ,KAAK,WACzC,EAAKuC,mBACL,EAAKC,sBAGbhD,kBAAmB,SAAAtyC,GACf,EAAKw1C,eAAe,CAChBZ,IAAK,WACLrC,aAAcvyC,EAAIuyC,aAClBC,YAAaxyC,EAAIwyC,YACjBh0B,SAAUxe,EAAIwe,SACdi0B,YAAazyC,EAAIyyC,eAGzB7B,mBAAoB,SAAAlyC,GAChB,IAAMmyC,EAAclqC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMu5C,cACzDA,EAAYvyC,OAAOI,EAAG,GACtB,EAAK/G,SAAS,CAACk5C,gBACf30C,OAAOqE,aAAaiC,QAAQ,yBAA2B,EAAKxL,MAAM6K,IAAK8E,KAAK8C,UAAUonC,EAAYj2C,KAAI,SAAAiE,GAAI,OAAIA,EAAKrH,WAEvHu8C,gBAAiB,SAAAjrC,GACb,IAAM+nC,EAAclqC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMu5C,cACzDA,EAAY/xC,KAAK,CAACtH,KAAM,GAAImC,MAAO,CAACA,MAAO,MAC3C,EAAKhC,SAAS,CAACk5C,gBAAc,kBAAM/nC,GAAMA,EAAG+nC,EAAY74C,OAAS,EAAG,EAAKV,MAAMu5C,YAAYA,EAAY74C,OAAS,QAEpHi4C,uBAAwB,SAACvxC,EAAGlH,EAAMsR,GAC9B,IAAM+nC,EAAclqC,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMu5C,cACzD,GAAKr5C,EAEE,IAAIq5C,EAAYjyC,MAAK,SAAAC,GAAI,OAAIA,EAAKrH,OAASA,KAC9C,OAAOsR,GAAMA,GAAG,GAEhB+nC,EAAYnyC,GAAGlH,KAAOA,OAJtBq5C,EAAYvyC,OAAOI,EAAG,GAO1B,EAAK/G,SAAS,CAACk5C,gBAAc,WACzBr5C,GAAQ,EAAK89C,gBAAgB52C,GAC7BoK,GAAMA,OAEV5M,OAAOqE,aAAaiC,QAAQ,yBAA2B,EAAKxL,MAAM6K,IAAK8E,KAAK8C,UAAUonC,EAAYj2C,KAAI,SAAAiE,GAAI,OAAIA,EAAKrH,aAlDhH,O,2BAuDf,WAAiB,IAAD,OACZ,OAAO,eAAC,GAAD,CACH+D,MAAO/C,KAAKxB,MAAMuE,MAClByD,QAASxG,KAAKlB,MAAM0H,QACpBkwC,eAAgB,kBAAM,EAAKv3C,SAAS,CAACqH,QAAS,GAAI02C,UAAW,EAAG0C,WAAY,EAAGxC,KAAM,S,yBAI7F,WAAe,IAGPyC,EAHM,OACJh+C,GAAY7B,KAAKlB,MAAMw9C,OAASt8C,KAAKlB,MAAM49C,QAmBjD,OAfImD,EADA7/C,KAAKlB,MAAMo+C,UACA,eAAC4C,GAAA,EAAD,CAAOC,aAAc//C,KAAKlB,MAAMo+C,UAAWx6C,MAAM,QAAjD,SACP,gCAAOjC,IAAKC,EAAE,eAEXV,KAAKlB,MAAMq+C,YACP,eAAC2C,GAAA,EAAD,CAAOC,aAAc//C,KAAKlB,MAAMq+C,YAAaz6C,MAAM,YAAnD,SACP,gCAAOjC,IAAKC,EAAE,eAEXV,KAAKlB,MAAMs+C,KACP,eAAC0C,GAAA,EAAD,CAAOC,aAAc//C,KAAKlB,MAAMs+C,KAAM16C,MAAM,UAA5C,SACP,gCAAOjC,IAAKC,EAAE,eAGPD,IAAKC,EAAE,WAGf,uBAAKK,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,UAAtD,UACH,gBAACkiC,GAAA,EAAD,CACIzwC,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQk8C,UACnCh3C,UAAW,MACXm1C,eAAe,UACfp9C,MAAO,CAAEoJ,SAAU,WAAYnJ,MAAO,QACtCG,MAAOnB,KAAKlB,MAAMm+C,SAClBx7C,SAAU,SAACtB,EAAOgB,GACd,IAAMmQ,EAAW,CAAC2rC,SAAU97C,GAGxB,EAAKqF,SAAqB,YAAVrF,IAChBmQ,EAAS9K,QAAU,EAAKA,QACxB,EAAKA,QAAU,KACf8K,EAAS8rC,KAAO,EAChB9rC,EAAS6rC,YAAc,EACvB7rC,EAAS4rC,UAAY,GAGzBx5C,OAAOqE,aAAaiC,QAAQ,uBAAwB7I,GAEpD,EAAKhC,SAASmS,IAElB8sC,cAAc,OAtBlB,UAwBI,eAAC5J,GAAA,EAAD,CAAK1wC,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQm8C,SAAUp+C,SAAUA,EAAUX,MAAOT,IAAKC,EAAE,SAAUS,MAAM,UACpG,eAACqzC,GAAA,EAAD,CACI1wC,QAAS,CAAC6C,KAAM3G,KAAKxB,MAAMsF,QAAQm8C,SACnCp+C,SAAUA,EACVX,MAAO2+C,EACP1+C,MAAM,eAGd,uBAAKJ,MAAO,CAACC,MAAO,OAAQiE,OAAQ,oBAAqBoN,SAAU,UAAnE,UAC6B,UAAxBrS,KAAKlB,MAAMm+C,UAAyBp7C,EAAiC,KAAtB7B,KAAKkgD,eAC5B,YAAxBlgD,KAAKlB,MAAMm+C,UAA2Bp7C,EAAkC,KAAvB7B,KAAKmgD,wB,oBAKnE,WAAU,IAAD,OACL,OAAO,uBAAoBp/C,MAAOf,KAAKxB,MAAMuC,MAAO8C,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQ6C,KAAM3G,KAAKxB,MAAMqF,WAAjG,UACF7D,KAAKlB,MAAM09C,SAAW,eAAC4D,GAAA,EAAD,IAAoB,KAC1CpgD,KAAKqgD,gBACN,gBAAC,IAAD,CACI1F,gBAAiB36C,KAAKxB,MAAMsF,QAAQ82C,SACpCG,eAAgB,IAChBC,UAAU,EACVC,qBAAsBj7C,KAAKy9C,SAC3BvC,0BAA2B,SAAAz2C,GAAI,OAAI,EAAKg5C,SAAW1X,WAAWthC,IAC9D02C,UAAW,kBAAMz3C,OAAOqE,aAAaiC,QAAQ,eAAgB,EAAKyzC,SAAS5xC,aAN/E,UASI,uBAAK9K,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,UAAtD,UACKrS,KAAKsgD,aACLtgD,KAAKugD,4BAEV,sBAAKx/C,MAAO,CAACC,MAAO,OAAQiE,OAAQ,OAAQoN,SAAU,UAAtD,SACKrS,KAAKwgD,mBAGbxgD,KAAKygD,gBApBM,gB,GAhnBD79C,IAAMC,WAspBdC,gBA5uBA,SAAAC,GAAK,MAAK,CACrB4D,KAAM,CACF3F,MAAO,OACPiE,OAAO,eAAD,OAAiBlC,EAAM6U,QAAQ3S,OAAS,GAA8B,EAAtE,OACNoN,SAAU,SACVlI,SAAU,YAEdyN,QAAS,CACL8oC,UAAW,GACX/iC,UAAW,kHAEfihC,UAAW,CACPl8C,MAAO,SAEXo8C,YAAa,CACTp8C,MAAO,UAEXg8C,cAAe,CACXh8C,MAAO,aAEXi+C,WAAY,CACRj+C,MAAO,OAEXs8C,WAAY,CACRt8C,MAAO,QAEXw8C,WAAY,CACRx8C,MAAO,QAEX08C,UAAW,CACP18C,MAAO,QAEX48C,gBAAiB,GAIjBd,QAAS,CACLvH,cAAe,UACfv0C,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,OAAS,WAEpDg7C,QAAS,CACLh+C,SAAU,IACVw7C,aAAc,WACd1pC,WAAY,SACZE,SAAU,SACVrN,QAAS,eACTqY,cAAe,UAEnBihC,YAAa,CACTn0C,SAAU,WACViP,IAAK,EACLD,MAAO,EACPgN,OAAQ,GACR/T,QAAS,EACTU,OAAQ,WAGZktC,SAAU,CACNU,UAAW,GACX55C,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,OAAS,UACrDX,MAA8B,SAAvBK,EAAMgE,QAAQ1D,KAAkB,QAAU,WAErD48C,QAAS,CACLS,UAAW,IAGf3C,WAAY,CACR6C,UAAW,wBAEf9C,UAAW,CACPpgC,WAAY,yBACZvL,WAAY,MACZjP,SAAU,IAEd26C,MAAO,CACHn7C,MAAO,WAEXk4C,SAAU,CACN31C,OAAQ,oBACR,iBAAkB,CACdoN,SAAU,SACVpN,OAAQ,YA2pBLnC,CAAmBo5C,ICvtB5B7wC,GAAS,CACX,QAAWC,GACX,gBAAiBC,GACjB,MAASE,GACTD,IAAKD,GACL,gBAAiBG,IAIfm1C,GAAc,UACdC,GAAgB,UAkGhB7K,G,kDACF,WAAYz3C,GAAQ,IAAD,uBACf,cAAMA,IAwHVuiD,kBAAoB,SAAChiD,EAAIyI,GACrB,GAAKzI,EAIL,IAAKyI,GAAO9D,OAAOsD,KAAKzH,UAAUkE,SAAS1E,GAAK,QACrC2E,OAAOsD,KAAK2R,QAAQ5Z,GAC3B,IAAMqS,EAAM1N,OAAOsD,KAAKzH,UAAUiG,QAAQzG,GAC1C2E,OAAOsD,KAAKzH,UAAUuG,OAAOsL,EAAK,QAE9B5J,GAAoB,aAAbA,EAAInE,OAENK,OAAOsD,KAAKzH,UAAUkE,SAAS1E,KAChC2E,OAAOsD,KAAKzH,UAAU+G,KAAKvH,GAC3B2E,OAAOsD,KAAKzH,UAAUiJ,QAE1B9E,OAAOsD,KAAK2R,QAAQ5Z,GAAMyI,IAzInB,EA+JnBw5C,eAAiB,SAAAt/C,GACb,IAAMu/C,EAAY50C,OAAOC,KAAK,EAAKkC,SAASpI,MAAK,SAAArH,GAAE,OAC/CoP,KAAK8C,UAAU,EAAKzC,QAAQzP,MAASoP,KAAK8C,UAAU,EAAKzS,MAAMma,QAAQ5Z,GAAI0I,WAE/E,GAAMw5C,EAAW,CACbz6C,QAAQC,IAAI,UAAYD,QAAQC,IAAI,UAAY0H,KAAK8C,UAAU,EAAKzC,QAAQyyC,MAC5E,IAAMxmC,EAAUha,IAAKC,EAAE,4BAQvB,OAPAgB,EAAIA,GAAKgC,OAAOvD,SAGZuB,EAAEw/C,YAAczmC,GAIbA,IA7KI,EAglCnBqhB,YAAc,SAAAD,GAAQ,OAAI,EAAK18B,SAAS,CAAE08B,cA7kCtC,IAAM1yB,EAAWzF,OAAOqE,aAAaC,QAAQ,oBAAsB,GAC/D4S,EAAUlX,OAAOqE,aAAaC,QAAQ,mBAAqB,KAC/D,IACI4S,EAAUzM,KAAKC,MAAMwM,GACvB,MAAOlZ,GACLkZ,EAAU,GARC,OAUXzR,IAA2C,IAA/ByR,EAAQpV,QAAQ2D,IAC5ByR,EAAQtU,KAAK6C,GAGjB,EAAKg4C,QAAUv+C,IAAM0L,YAErB,EAAKxP,MAAQ,CACTqK,SAAUA,EACVyR,QAASA,EACT1J,QAAS,GACTuX,QAAS,KACT24B,MAAO,KACPC,cAAc,EACdC,gBAAgB,EAChBC,kBAAkB,EAClB5nB,cAAc,EACd6nB,UAAU,EACVC,YAAY,EACZhjC,OAAQ,GACRlP,WAAY,GACZmX,UAAW,EAAKloB,MAAMkoB,UACtBg7B,QAASljD,EAAMkjD,QACfC,aAAc,GACdC,WAAY,GACZzyC,aAAc,EAAK3Q,MAAM2Q,WACzB0yC,gBAAgB,EAChBC,iBAAkB,KAClBpyC,iBAAkB,EAAKlR,MAAMkR,kBAAoB,GACjDqyC,eAAe,EACfC,MAAO,GACPC,iBAAiB,EACjBrmB,WAAoD,SAAxCl4B,OAAOqE,aAAaC,QAAQ,QACxC6zB,SAAU/D,GACVloB,kBAAkB,GAGtB,EAAKsyC,oBAIL,EAAKnpC,SAAW,CACZopC,UAAW,KACXpxB,SAAU,MAEd,EAAK4T,KAAO,CACRwd,UAAW,KACXpxB,SAAU,MAEd,EAAKqxB,aAAe,CAChBD,UAAW,KACXpxB,SAAU,KACVgB,KAAM,KACND,UAAU,GAGdpuB,OAAO2+C,WAAa5hD,IAAK+C,cACzBE,OAAOsD,KAAO,CACV2R,QAAS,GACTrR,UAAW,SAACvI,EAAIuR,GAAL,OAAY,EAAK9R,MAAM6I,OAAOC,UAAUvI,GAAIwI,MAAK,SAAAC,GAAG,OAAI8I,GAAMA,EAAG,KAAM9I,MAAMiyB,OAAM,SAAA5oB,GAAG,OAAIP,GAAMA,EAAGO,OAC9GtR,UAAW,GACX+iD,eAAgB,SAACH,EAAW7xC,GACxB,EAAKyI,SAASgY,SAAWzgB,EACzB,EAAKyI,SAASopC,UAAYA,EAC1B,EAAKhjD,SAAS,CAAEw6B,cAAc,KAElC4oB,WAAY,SAACJ,EAAW7xC,GACpB,EAAKq0B,KAAK5T,SAAWzgB,EACrB,EAAKq0B,KAAKwd,UAAYA,EACtB,EAAKhjD,SAAS,CAAEqiD,UAAU,KAE9BgB,iBAAkB,SAACrhD,EAAO4wB,EAAMD,EAAUxhB,GACtC,EAAK8xC,aAAarxB,SAAWzgB,EAC7B,EAAK8xC,aAAaD,UAAYhhD,EAC9B,EAAKihD,aAAarwB,KAAOA,EACzB,EAAKqwB,aAAatwB,SAAWA,IAAY,EACzC,EAAK3yB,SAAS,CAAEsiD,YAAY,MAIpC,EAAK9oC,QAAUna,EAAMma,QAGrB,EAAKnK,QAAU,IAEV,EAAK1P,MAAMqK,UAAY,EAAKrK,MAAM8b,QAAQpb,SAC3C,EAAKV,MAAMqK,SAAW,EAAKrK,MAAM8b,QAAQ,IAG7C,EAAK6nC,yBACAl7C,MAAK,WAEE,EAAK/I,MAAMkkD,kBAAoB,EAAK5jD,MAAMqK,UAC1C3H,YAAW,kBAAM,EAAKhD,MAAMkkD,iBAAiB,EAAK5jD,MAAMqK,SAAU,EAAKrK,MAAM8b,WAAU,QAtGpF,E,0DA2GnB,WAA0B,IAAD,OACrB,OAAO5a,KAAKxB,MAAM6I,OAAOc,qBAAoB,GACxCZ,MAAK,SAAAo7C,GACF,IAAMhqC,EAAU,GACVpZ,EAAYojD,EAAgBvgD,KAAI,SAAAoF,GAElC,OADAmR,EAAQnR,EAAIG,KAAOH,EACZA,EAAIG,OAEfjE,OAAOsD,KAAK2R,QAAUA,EACtBjV,OAAOsD,KAAKzH,UAAYA,EACxB,EAAKJ,SAAS,CAAE8iD,iBAAiB,S,+BAwB7C,WAAqB,IAAD,OACVhB,EAAY50C,OAAOC,KAAKtM,KAAKlB,MAAMoS,SAAS9K,MAAK,SAAArH,GAAE,OAAI,EAAKD,MAAMoS,QAAQnS,MAEnD,qBAAlB2E,OAAOgC,QAA0BhC,OAAOgC,SAC/ChC,OAAOgC,OAAOk9C,eAAiB3B,K,+BAIvC,WACIv9C,OAAO4qB,iBAAiB,eAAgBtuB,KAAKghD,gBAAgB,GAC7DhhD,KAAKxB,MAAM6I,OAAOuuC,gBAAgB,mBAAoB51C,KAAK+gD,qB,kCAG/D,WACIr9C,OAAOqsB,oBAAoB,eAAgB/vB,KAAKghD,gBAChDhhD,KAAKxB,MAAM6I,OAAOwuC,kBAAkB,mBAAoB71C,KAAK+gD,qB,sCAqBjE,SAAyB9gD,EAAWqR,GAChCrR,EAAYA,GAAaD,KAAKxB,MAC9B8S,EAAWA,GAAY,GAEvB,IAAIuxC,GAAW,EACf,GAAI7iD,KAAKlB,MAAM8b,SACY5a,KAAKlB,MAAM8b,QAAQxU,MAAK,SAAArH,GAAE,OAAKkB,EAAU0Y,QAAQ5Z,MAEpD,CAGhB,IADA,IAAM6b,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM8b,UAC5C1U,EAAI0U,EAAQpb,OAAS,EAAG0G,GAAK,EAAGA,IAChClG,KAAK2Y,QAAQiC,EAAQ1U,MACtB28C,GAAW,EACXjoC,EAAQ9U,OAAOI,EAAG,IAGtB28C,IACAvxC,EAASsJ,QAAUA,GAEnB5a,KAAKlB,MAAMqK,WAAanJ,KAAK2Y,QAAQ3Y,KAAKlB,MAAMqK,YAChD05C,GAAW,EACXvxC,EAASnI,SAAWyR,EAAQ,IAAM,GAC9B5a,KAAKwO,QAAQ8C,EAASnI,YAClBnJ,KAAKlB,MAAM2pB,WAA4D,YAA/CzoB,KAAKwO,QAAQ8C,EAASnI,UAAUoD,cACxD+E,EAASmX,QAAyD,YAA/CzoB,KAAKwO,QAAQ8C,EAASnI,UAAUoD,WACnDs2C,GAAW,GAEX7iD,KAAKlB,MAAMsiD,SAA0D,UAA/CphD,KAAKwO,QAAQ8C,EAASnI,UAAUoD,cACtD+E,EAAS8vC,MAAuD,UAA/CphD,KAAKwO,QAAQ8C,EAASnI,UAAUoD,WACjDs2C,GAAW,GAEX7iD,KAAKlB,MAAMwiD,iBAAmBthD,KAAKwO,QAAQ8C,EAASnI,UAAU25C,UAC9DxxC,EAASgwC,eAAiBthD,KAAKwO,QAAQ8C,EAASnI,UAAU25C,QAC1DD,GAAW,GAEX7iD,KAAKlB,MAAMuiD,eAAiBrhD,KAAKwO,QAAQ8C,EAASnI,UAAUqU,QAC5DlM,EAAS+vC,aAAerhD,KAAKwO,QAAQ8C,EAASnI,UAAUqU,MACxDqlC,GAAW,KAM/B,OAAOA,I,8CAGX,SAAiC5iD,GAAY,IAAD,OAClCqR,EAAW,GACbuxC,GAAW,EA6Bf,GA3BI10C,KAAK8C,UAAUhR,EAAUyP,oBAAsBvB,KAAK8C,UAAUjR,KAAKlB,MAAM4Q,oBACzEmzC,GAAW,EACXvxC,EAAS5B,iBAAmBzP,EAAUyP,kBAGtC1P,KAAKlB,MAAMqQ,aAAelP,EAAUkP,aACpCmC,EAASnC,WAAalP,EAAUkP,WAChC0zC,GAAW,GAGX7iD,KAAKlB,MAAM4nB,YAAczmB,EAAUymB,YACnCpV,EAASoV,UAAYzmB,EAAUymB,UAC/Bm8B,GAAW,GAIX7iD,KAAK+iD,yBAAyB9iD,EAAWqR,KACzCuxC,GAAW,GAIX7iD,KAAKlB,MAAMyQ,aAAetP,EAAUsP,aACpC+B,EAAS/B,WAAatP,EAAUsP,WAChCszC,GAAW,GAIX7iD,KAAK2Y,UAAY1Y,EAAU0Y,QAAS,CACpC3Y,KAAK2Y,QAAU1Y,EAAU0Y,QACzBjV,OAAOsD,KAAK2R,QAAU1Y,EAAU0Y,QAGhCtM,OAAOC,KAAKtM,KAAKwO,SAASxI,SAAQ,SAAAjH,GAC9B,IAAMkV,EAAS,EAAKzF,QAAQzP,GAAIkV,OAChC,EAAKzF,QAAQzP,GAAMoP,KAAKC,MAAMD,KAAK8C,UAAU,EAAK0H,QAAQ5Z,GAAI0I,SAC9D,EAAK+G,QAAQzP,GAAIkV,OAASA,KAI1BjU,KAAKlB,MAAMqK,UAAYnJ,KAAK2Y,QAAQ3Y,KAAKlB,MAAMqK,YAC/CnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAK2Y,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SACjIzH,KAAKlB,MAAM2pB,WAA8D,YAAjDzoB,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUoD,cAC1D+E,EAASmX,QAA2D,YAAjDzoB,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUoD,WACrDs2C,GAAW,GAEX7iD,KAAKlB,MAAMsiD,SAA4D,UAAjDphD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUoD,cACxD+E,EAAS8vC,MAAyD,UAAjDphD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUoD,WACnDs2C,GAAW,GAEX7iD,KAAKlB,MAAMwiD,iBAAmBthD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU25C,UAChExxC,EAASgwC,eAAiBthD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU25C,QAC5DD,GAAW,GAEX7iD,KAAKlB,MAAMuiD,eAAiBrhD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqU,QAC9DlM,EAAS+vC,aAAerhD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqU,MAC1DqlC,GAAW,IAMnB,IADA,IAAMjoC,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM8b,UAC5C1U,EAAI0U,EAAQpb,OAAS,EAAG0G,GAAK,EAAGA,IAChClG,KAAK2Y,QAAQiC,EAAQ1U,MACtB28C,GAAW,EACXjoC,EAAQ9U,OAAOI,EAAG,QACqBiH,IAAnCnN,KAAKlB,MAAMoS,QAAQ0J,EAAQ1U,MAC3BoL,EAASJ,QAAUI,EAASJ,SAAW/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,iBACrEI,EAASJ,QAAQ0J,EAAQ1U,MAIxClG,KAAKlB,MAAMqK,WAAanJ,KAAK2Y,QAAQ3Y,KAAKlB,MAAMqK,YAChDmI,EAASnI,SAAWyR,EAAQ,IAAM,IAElCioC,IACAvxC,EAASsJ,QAAUA,QAIvB,IAAK,IAAM7b,KAAMiB,KAAKwO,QAClB,GAAKxO,KAAKwO,QAAQ4O,eAAere,GACjC,GAAIiB,KAAK2Y,QAAQ5Z,IAAOiB,KAAK2Y,QAAQ5Z,GAAI0I,OAAQ,CAC7C,IAAMu7C,EAAYhjD,KAAKwO,QAAQzP,GAAIkV,OAC7BgvC,EAAc90C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKwO,QAAQzP,KAC3DkkD,EAAYhvC,OAASjU,KAAK2Y,QAAQ5Z,GAAI0I,OAAOwM,OAEzC9F,KAAK8C,UAAUgyC,KAAiB90C,KAAK8C,UAAUjR,KAAK2Y,QAAQ5Z,GAAI0I,UAChEzH,KAAKwO,QAAQzP,GAAMoP,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAK2Y,QAAQ5Z,GAAI0I,SAC9DzH,KAAKwO,QAAQzP,GAAIkV,OAAS+uC,GAG1BA,IAAchjD,KAAK2Y,QAAQ5Z,GAAI0I,OAAOwM,OAEjCjU,KAAKlB,MAAMoS,QAAQnS,GAIhBiB,KAAK2Y,QAAQ5Z,GAAIokB,MAAQnjB,KAAK2Y,QAAQ5Z,GAAIokB,KAAKva,WAAW,gCAC1D5I,KAAK2Y,QAAQ5Z,GAAIokB,KAAO,yBAExBnjB,KAAKb,SAAS,CAAE6iD,MAAOvhD,IAAKC,EAAE,kCAAmC3B,EAAGa,MAAM,KAAKC,UALnFG,KAAKwO,QAAQzP,GAAIkV,OAASjU,KAAK2Y,QAAQ5Z,GAAI0I,OAAOwM,OASlDjU,KAAKlB,MAAMoS,QAAQnS,KACnBuS,EAASJ,QAAUI,EAASJ,SAAW/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UAC5EI,EAASJ,QAAQnS,IAAM,EACvB8jD,GAAW,QAKnB,UADO7iD,KAAKwO,QAAQzP,GAChBiB,KAAKlB,MAAMqK,WAAapK,EAAI,CAC5B,IAAwC,IAApCiB,KAAKlB,MAAM8b,QAAQpV,QAAQzG,GAAY,CACvC,IAAM6b,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM8b,UAC/CxJ,EAAMwJ,EAAQpV,QAAQzG,IACf,IAATqS,IACAwJ,EAAQ9U,OAAOsL,EAAK,GACpBE,EAASsJ,QAAUA,EACnBioC,GAAW,GAGnBvxC,EAASnI,SAAWnJ,KAAKlB,MAAM8b,QAAQ,IAAM,GAC7CioC,GAAW,EAM3B,GAAI7iD,KAAKlB,MAAMqK,WAAalJ,EAAUkJ,UAAYlJ,EAAUkJ,SAAU,CAC9DlJ,EAAUkJ,WACVnJ,KAAKwO,QAAQvO,EAAUkJ,UAAYnJ,KAAKwO,QAAQvO,EAAUkJ,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ1Y,EAAUkJ,UAAU1B,UAG5I,IAAMy7C,EAAaljD,KAAKxB,MAAMma,QAAQ1Y,EAAUkJ,WAAanJ,KAAKxB,MAAMma,QAAQ1Y,EAAUkJ,UAAU1B,OAE9FyJ,EAAUgyC,GAAc/0C,KAAK8C,UAAUjR,KAAKwO,QAAQvO,EAAUkJ,aAAegF,KAAK8C,UAAUiyC,GAE5FtoC,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM8b,UACjD3a,EAAUkJ,WAAqD,IAAzCyR,EAAQpV,QAAQvF,EAAUkJ,YAChDyR,EAAQtU,KAAKrG,EAAUkJ,UACvBnJ,KAAKxB,MAAMkkD,iBAAiBziD,EAAUkJ,SAAUyR,GAChDlX,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,iBAAkBmE,KAAK8C,UAAU2J,KAGxFioC,GAAW,EACXvxC,EAASJ,QAAUI,EAASJ,SAAW/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UAC5EI,EAASJ,QAAQjR,EAAUkJ,UAAY+H,EACvCI,EAASsJ,QAAUA,EACnBtJ,EAASnI,SAAWlJ,EAAUkJ,SAC9BmI,EAASmX,QAA0D,YAAhDzoB,KAAKwO,QAAQvO,EAAUkJ,UAAUoD,WACpD+E,EAAS8vC,MAAwD,UAAhDphD,KAAKwO,QAAQvO,EAAUkJ,UAAUoD,WAClD+E,EAASgwC,eAAiBthD,KAAKwO,QAAQvO,EAAUkJ,UAAU25C,QAC3DxxC,EAAS+vC,aAAerhD,KAAKwO,QAAQvO,EAAUkJ,UAAUqU,MACzDlM,EAASiwC,kBAAmB,EAK5BvhD,KAAKlB,MAAM4iD,UAAYzhD,EAAUyhD,UACjCmB,GAAW,EACXvxC,EAASowC,QAAUzhD,EAAUyhD,SAGjCmB,GAAY7iD,KAAKb,SAASmS,GAAU,kBAAM,EAAK4wC,yB,uBAGnD,WACIliD,KAAKxB,MAAMmgD,WAAa3+C,KAAKxB,MAAMmgD,UAAU3+C,KAAKlB,MAAMqK,Y,oBAG5D,WAAU,IAAD,OAML,GALInJ,KAAKlB,MAAM88B,YAAc57B,KAAKlB,MAAM+8B,WAAa/D,KACjD93B,KAAKb,SAAS,CAAEy8B,YAAY,IAC5Bl4B,OAAOqE,aAAaiC,QAAQ,OAAQ,SAGpChK,KAAKlB,MAAMoS,QAAQlR,KAAKlB,MAAMqK,UAAW,CACzC,IAAM+H,EAAU/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UACrDA,EAAQlR,KAAKlB,MAAMqK,WAAY,EAC/BnJ,KAAKb,SAAS,CAAE+R,YAAW,WACvB,EAAKgxC,oBACL,EAAK1jD,MAAMiD,UAAY,EAAKjD,MAAMiD,SAAS,EAAK3C,MAAMqK,SAAU,EAAKqF,QAAQ,EAAK1P,MAAMqK,iB,uBAKpG,WAAa,IAAD,OACF+H,EAAU/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UACrD7E,OAAOC,KAAK4E,GACPlL,SAAQ,SAAAjH,GACDmS,EAAQnS,KACRmS,EAAQnS,IAAM,EACd,EAAKP,MAAMiD,UAAY,EAAKjD,MAAMiD,SAAS1C,EAAI,EAAKyP,QAAQzP,QAIxEiB,KAAKb,SAAS,CAAE+R,YAAW,kBACvB,EAAKgxC,yB,sBAGb,WAAY,IAAD,OACPliD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYgF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SAEtG,IAAMyJ,EAAU/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UACrDA,EAAQlR,KAAKlB,MAAMqK,WAAY,EAE/BnJ,KAAKb,SAAS,CAAE+R,YAAW,kBAAM,EAAKgxC,yB,8BAG1C,SAAiBxd,GACb1kC,KAAKmjD,UAAYze,I,iCAGrB,WAAuB,IAAD,OAClB1kC,KAAKojD,kBAAkB3iD,IAAKC,EAAE,sDAAsD,SAAAuL,GAChF,GAAIA,EAAQ,CACR,EAAKuC,QAAQ,EAAK1P,MAAMqK,UAAUoD,WAAa,gBAC/C,IACMoO,EADO,EAAKnM,QAAQ,EAAK1P,MAAMqK,UAAU8K,OAC1BrU,MAAM,MAC3B+a,EAAM9a,MACN,EAAK2O,QAAQ,EAAK1P,MAAMqK,UAAU8K,OAAS0G,EAAM7a,KAAK,MACtD,IAAMujD,EAAc,EAAKvkD,MAAMqK,SAEzB+H,EAAU/C,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAMoS,UACrDA,EAAQ,EAAKpS,MAAMqK,WAAY,EAE/B,EAAKhK,SAAS,CAAE+R,UAASuX,SAAS,EAAOtf,SAAU,KAAM,WACrD,EAAK+4C,oBAEL1gD,YAAW,kBAAM,EAAKrC,SAAS,CAAEgK,SAAUk6C,MAAgB,c,sBAM3E,SAAS3hC,GAAU,IAAD,YAESvU,KADvBuU,EAAUA,GAAW,IACTjO,SACRzT,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU8K,OAASyN,EAAQjO,aAEjCtG,IAAlBuU,EAAQlE,QACRxd,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqU,MAAQkE,EAAQlE,YAE9BrQ,IAApBuU,EAAQohC,UACR9iD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU25C,QAAUphC,EAAQohC,SAExD,IAAMD,EAAW10C,KAAK8C,UAAUjR,KAAKwO,QAAQxO,KAAKlB,MAAMqK,aAAegF,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,QAC9H,GAAIo7C,KAAc7iD,KAAKlB,MAAMoS,QAAQlR,KAAKlB,MAAMqK,YAAa,GAAQ,CAEjE,IAAM+H,EAAU/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UACrDA,EAAQlR,KAAKlB,MAAMqK,UAAY05C,EAC/B7iD,KAAK2Y,QAAQ3Y,KAAKlB,MAAMqK,UAAUga,KAAO,yBACzCnjB,KAAKb,SAAS,CAAE+R,YAAW,kBAAM,EAAKgxC,0B,yBAK9C,SAAY/hD,EAAOgJ,GACf,IAAInJ,KAAKxB,MAAMqT,UAAf,CAGAnO,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,kBAAmBb,GACtE,IAAM1B,EAASzH,KAAKwO,QAAQrF,IAAcnJ,KAAKxB,MAAMma,QAAQxP,IAAanJ,KAAKxB,MAAMma,QAAQxP,GAAU1B,OACvGzH,KAAKb,SAAS,CACVgK,WACAi4C,MAA6B,UAAtB35C,EAAO8E,WACdkc,QAA+B,YAAtBhhB,EAAO8E,WAChBg1C,kBAAkB,EAClBD,eAAgB75C,EAAOq7C,QACvBzB,aAAc55C,EAAO+V,QAEzBxd,KAAKxB,MAAMkkD,kBAAoB1iD,KAAKxB,MAAMkkD,iBAAiBv5C,EAAUnJ,KAAKlB,MAAM8b,Y,6BAGpF,SAAgB7b,GACZ,OAAOiB,KAAKwO,QAAQzP,IAAOiB,KAAKxB,MAAMma,QAAQ5Z,IAAOoP,KAAK8C,UAAUjR,KAAKwO,QAAQzP,MAASoP,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ5Z,GAAI0I,U,wBAGpI,SAAW1I,EAAI2C,GAAI,IAAD,OACdA,GAAKA,EAAEgQ,kBAEP,IAAMN,EAAMpR,KAAKlB,MAAM8b,QAAQpV,QAAQzG,GACvC,IAAwC,IAApCiB,KAAKlB,MAAM8b,QAAQpV,QAAQzG,GAC3B,GAAIiB,KAAKsjD,gBAAgBvkD,GACrBiB,KAAKojD,kBAAkB3iD,IAAKC,EAAE,yBAA0BV,KAAKxB,MAAMma,QAAQ5Z,GAAI0I,OAAOzI,OAAO,SAAAukD,GACrFA,WACO,EAAK/0C,QAAQzP,GACpB,EAAKykD,WAAWzkD,WAGrB,CACH,IAAM6b,EAAUzM,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAM8b,UACrDA,EAAQ9U,OAAOsL,EAAK,GACpB,IAAME,EAAW,CAAEsJ,WAenB,GAdI7b,IAAOiB,KAAKlB,MAAMqK,SACdyR,EAAQpb,OACI,IAAR4R,GAAgC,IAAnBwJ,EAAQpb,OACrB8R,EAASnI,SAAWyR,EAAQ,GAE5BtJ,EAASnI,SAAWyR,EAAQxJ,EAAM,GAGtCE,EAASnI,SAAW,GAEjBnJ,KAAKlB,MAAMqK,WAAayR,EAAQpb,SACvC8R,EAASnI,SAAW,IAExBzF,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,iBAAkBmE,KAAK8C,UAAU2J,SAC1DzN,IAAtBmE,EAASnI,SAAwB,CACjCmI,EAASJ,QAAUI,EAASJ,SAAW/C,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKlB,MAAMoS,UAC5EI,EAASJ,QAAQI,EAASnI,UAAYnJ,KAAKsjD,gBAAgBhyC,EAASnI,UACpE,IAAM1B,EAAS6J,EAASnI,WAAanJ,KAAKwO,QAAQ8C,EAASnI,WAAcnJ,KAAKxB,MAAMma,QAAQrH,EAASnI,WAAanJ,KAAKxB,MAAMma,QAAQrH,EAASnI,UAAU1B,QACxJ6J,EAASmX,UAAUhhB,GAA+B,YAAtBA,EAAO8E,WACnC+E,EAAS8vC,QAAQ35C,GAA+B,UAAtBA,EAAO8E,WACjC+E,EAASgwC,iBAAiB75C,GAASA,EAAOq7C,QAC1CxxC,EAAS+vC,eAAe55C,GAASA,EAAO+V,MACxClM,EAASiwC,kBAAmB,EAGhCvhD,KAAKb,SAASmS,GAAU,WACpB,EAAK4wC,yBAEqB/0C,IAAtBmE,EAASnI,UACT,EAAK3K,MAAMkkD,kBAAoB,EAAKlkD,MAAMkkD,iBAAiBpxC,EAASnI,SAAU,EAAKrK,MAAM8b,SACzFlX,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,kBAAmBsH,EAASnI,WAE/E,EAAK3K,MAAMkkD,kBAAoB,EAAKlkD,MAAMkkD,iBAAiB,EAAK5jD,MAAMqK,SAAU,EAAKrK,MAAM8b,e,+BAO/G,SAAkB6oC,EAAUnzC,GACxBtQ,KAAK0jD,gBAAkBpzC,EACvBtQ,KAAKb,SAAS,CAAEwkD,QAASF,M,kCAG7B,SAAqBrH,GAAM,IAAD,OACtBp8C,KAAKb,SAAS,CAAEwiD,aAAcvF,IAAO,kBACjC56C,YAAW,kBACP,EAAKrC,SAAS,CAAEwiD,aAAc,OAAO,U,gCAGjD,SAAmBvF,GAAM,IAAD,OACpBp8C,KAAKb,SAAS,CAAEyiD,WAAYxF,IAAO,kBAC/B56C,YAAW,kBACP,EAAKrC,SAAS,CAAEyiD,WAAY,OAAO,U,qBAG/C,WAAW,IAAD,OACN,OAAI5hD,KAAKlB,MAAM8b,QAAQpb,OACZ,CAAC,gBAAC+0C,GAAA,EAAD,CACJvrC,UAAW,MAEX7H,MAAOnB,KAAKxB,MAAM69C,cAAgBr8C,KAAKxB,MAAM69C,cAAch0C,QAAUrI,KAAKlB,MAAMqK,SAChF1H,SAAU,SAACtB,EAAOgB,GAAR,OAAkB,EAAKyiD,YAAYzjD,EAAOgB,IACpDg9C,eAAe,UACfp9C,MAAO,CAAEoJ,SAAU,WAAYnJ,MAAOhB,KAAKlB,MAAM8b,QAAQpb,OAAS,EAAI,oBAAsB,OAAQwF,QAAS,gBAC7G6+C,UAAU,UACVrhD,QAAQ,aACR47C,cAAc,OATV,UAWHp+C,KAAKlB,MAAM8b,QAAQxY,KAAI,SAAArD,GACpB,GAAK,EAAKP,MAAMma,QAAQ5Z,GAajB,CACH,IAAIwF,EAAO,EAAK/F,MAAMma,QAAQ5Z,GAAI0I,OAAOzI,KACrCoF,EAAQ,GACRG,EAAK/E,OAAS,KACd4E,EAAQG,EACRA,EAAOA,EAAKoM,UAAU,EAAG,IAAM,OAEnC,IAAMO,EAAU,EAAK1S,MAAMma,QAAQ5Z,GAAI0I,QAAU,EAAK+G,QAAQzP,IAAO,EAAKP,MAAMma,QAAQ5Z,GAAI0I,OAAOwM,SAAW,EAAKzF,QAAQzP,GAAIkV,OACzH/S,EAAQ,CACV,sBAAgBoI,IAAK,GAAID,IAAKgC,GAAO,EAAK7M,MAAMma,QAAQ5Z,GAAI0I,OAAO8E,aAAelB,GAAOG,IAAK3H,UAAW,EAAKrF,MAAMsF,QAAQggD,SAAnH,QACT,sBAAgBjgD,UAAW4J,YAAK,EAAKjP,MAAMsF,QAAQu6C,QAAS,EAAKiF,gBAAgBvkD,IAAO,EAAKP,MAAMsF,QAAQigD,YAA3G,SAAyHx/C,GAAhH,QACT2M,EAAU,uBAAwBrN,UAAW,EAAKrF,MAAMsF,QAAQkgD,eAAtD,mBAAU,eAAuE,MACzF,EAAKxlD,MAAM69C,iBAAmB,EAAK79C,MAAMqT,WAAa,EAAK/S,MAAMqK,WAAapK,IAAQ,uBAAkB8E,UAAW,EAAKrF,MAAMsF,QAAQw6C,YAAhD,SAA6D,eAAC,IAAD,CAAuB77C,QAAS,SAAAf,GAAC,OAAI,EAAK8hD,WAAWzkD,EAAI2C,IAAIwB,SAAS,SAAvD,UAAlE,UAGtG,OAAO,eAACsxC,GAAA,EAAD,CACH3yC,SAAU,EAAKrD,MAAM69C,eAAkB,EAAKv9C,MAAMqK,WAAapK,GAAM,EAAKP,MAAMqT,UAChFoyC,SAAO,EACPj7C,UAAW,MACXk7C,KAAM,IAAMnlD,EAEZmC,MAAOA,EACP2C,UAAW,EAAKrF,MAAMsF,QAAQqgD,UAC9BhjD,MAAOpC,EACPqF,MAAOA,EACPN,QAAS,CAAEsgD,QAAS,EAAK5lD,MAAMsF,QAAQugD,mBALlCtlD,GAhCT,IAAMmC,EAAQ,CACV,sBAAgB2C,UAAW4J,YAAK,EAAKjP,MAAMsF,QAAQu6C,QAAS,EAAKiF,gBAAgBvkD,IAAO,EAAKP,MAAMsF,QAAQigD,YAA3G,SAAyHhlD,EAAGa,MAAM,KAAKC,OAA9H,QACT,uBAAiBgE,UAAW,EAAKrF,MAAMsF,QAAQw6C,YAA/C,SAA4D,eAAC,IAAD,CAAuB77C,QAAS,SAAAf,GAAC,OAAI,EAAK8hD,WAAWzkD,EAAI2C,IAAIwB,SAAS,SAAvD,UAAjE,SACd,OAAO,eAACsxC,GAAA,EAAD,CACHyP,SAAO,EACPj7C,UAAW,MACXk7C,KAAM,IAAMnlD,EAEZmC,MAAOA,EACPC,MAAOpC,EACP+E,QAAS,CAAEsgD,QAAS,EAAK5lD,MAAMsF,QAAQugD,mBAHlCtlD,MAkChBiB,KAAKxB,MAAM69C,cAAgB,eAAC7H,GAAA,EAAD,CACxB3yC,UAAU,EACVoiD,SAAO,EACPj7C,UAAW,MACXk7C,KAAM,IAAMlkD,KAAKxB,MAAM69C,cAAch0C,QAErCnH,MAAOlB,KAAKxB,MAAM69C,cAAch0C,QAChCxE,UAAW7D,KAAKxB,MAAMsF,QAAQqgD,UAC9BhjD,MAAOnB,KAAKxB,MAAM69C,cAAch0C,QAChCjE,MAAOpE,KAAKxB,MAAM69C,cAAch0C,QAChCvE,QAAS,CAAEsgD,QAASpkD,KAAKxB,MAAMsF,QAAQugD,mBALlCrkD,KAAKxB,MAAM69C,cAAch0C,SAM7B,KA/DD,SAiERrI,KAAKlB,MAAM8b,QAAQpb,OAAS,EAAI,eAAC4K,EAAA,EAAD,CAE5B85C,KAAK,IACL,aAAW,wBACXrgD,UAAW7D,KAAKxB,MAAMsF,QAAQwgD,cAC9BlgD,MAAO3D,IAAKC,EAAE,yBACd,gBAAc,QACd+B,QAAS,SAAA8hD,GACL,IAAM3pC,EAAU,CAAC,EAAK9b,MAAMqK,UAE5BkD,OAAOC,KAAK,EAAKkC,SAASxI,SAAQ,SAAAjH,GAAE,OAChCA,IAAO,EAAKD,MAAMqK,UAClBgF,KAAK8C,UAAU,EAAKzC,QAAQzP,MAASoP,KAAK8C,UAAU,EAAKzS,MAAMma,QAAQ5Z,GAAI0I,SAC3EmT,EAAQtU,KAAKvH,MAGjB2E,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,iBAAkBmE,KAAK8C,UAAU2J,IACpF,EAAKzb,SAAS,CAAE0iD,gBAAgB,EAAOC,iBAAkB,KAAMlnC,QAASA,KAjBhD,SAoB5B,eAAC,IAAD,KAnBI,cAoBQ,MAGT,sBAAiB/W,UAAW7D,KAAKxB,MAAMsF,QAAQ8T,QAA/C,SACH,gBAACrV,GAAA,EAAD,CAAsBV,UAAU,EAAMgC,UAAW7D,KAAKxB,MAAMsF,QAAQ0gD,WAAYN,KAAK,GAArF,UACI,gCAAqBzjD,IAAKC,EAAE,uBAAlB,WACV,eAAC,IAAD,CAA0BmD,UAAW7D,KAAKxB,MAAMsF,QAAQ2gD,UAAxC,WAChB,gCAAqBhkD,IAAKC,EAAE,8BAAlB,aAHF,YADA,W,0BAUxB,WAAgB,IAAD,OACX,OAAKV,KAAKlB,MAAMijD,cAIT,gBAAC,IAAD,CAEHhjD,GAAG,aACHqW,SAAUpV,KAAKlB,MAAM4lD,kBACrBnkD,KAAMP,KAAKlB,MAAMijD,cACjBrjD,QAAS,kBAAM,EAAKS,SAAS,CAAE4iD,eAAe,EAAO2C,kBAAmB,QACxErvC,WAAY,CACRtU,MAAO,CACHuU,UAAWC,MARhB,UAYH,gBAAClT,EAAA,EAAD,CACI+B,MAAO3D,IAAKC,EAAE,cACd+B,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKpC,SAAS,CAAE4iD,eAAe,EAAO2C,kBAAmB,KAAMrD,cAAe,EAAKviD,MAAMuiD,eAAgB,kBAAM,EAAK5/C,SAAS,CAAE+b,MAAO,EAAK1e,MAAMuiD,mBALzJ,UAOI,eAAC1tB,GAAA,EAAD,CAAUC,QAAS5zB,KAAKlB,MAAMuiD,eAC9B,eAAC,IAAD,CAAWx9C,UAAW7D,KAAKxB,MAAMsF,QAAQ6gD,SAAU5jD,MAAO,CAAE2B,MAAOm+C,MAClEpgD,IAAKC,EAAE,WATE,gBAWd,gBAAC2B,EAAA,EAAD,CACI+B,MAAO3D,IAAKC,EAAE,gBACd+B,QAAS,SAAAtC,GACLA,EAAMuR,kBACNvR,EAAMoB,iBACN,EAAKpC,SAAS,CAAE4iD,eAAe,EAAO2C,kBAAmB,KAAMpD,gBAAiB,EAAKxiD,MAAMwiD,iBAAkB,kBAAM,EAAK7/C,SAAS,CAAEqhD,QAAS,EAAKhkD,MAAMwiD,qBAL/J,UAOI,eAAC3tB,GAAA,EAAD,CAAUC,QAAS5zB,KAAKlB,MAAMwiD,iBAC9B,eAAC,IAAD,CAAaz9C,UAAW7D,KAAKxB,MAAMsF,QAAQ6gD,SAAU5jD,MAAO,CAAE2B,MAAOo+C,MACpErgD,IAAKC,EAAE,aATE,oBAtBV,aAJG,O,2BAwCf,WACI,MAAO,CACHV,KAAKlB,MAAMuiD,cAAgBrhD,KAAKlB,MAAMwiD,gBAAmB,eAAC,IAAD,CAA8Bz9C,UAAW7D,KAAKxB,MAAMsF,QAAQ6gD,SAAU5jD,MAAO,CAAE2B,MAAOo+C,KAAvE,gBACxE9gD,KAAKlB,MAAMuiD,eAAiBrhD,KAAKlB,MAAMwiD,gBAAmB,eAAC,IAAD,CAAgCz9C,UAAW7D,KAAKxB,MAAMsF,QAAQ6gD,SAAU5jD,MAAO,CAAE2B,MAAOm+C,KAAzE,mBACxE7gD,KAAKlB,MAAMuiD,cAAgBrhD,KAAKlB,MAAMwiD,gBAAmB,eAAC,IAAD,CAAkCz9C,UAAW7D,KAAKxB,MAAMsF,QAAQ6gD,SAAU5jD,MAAO,CAAE2B,MAAOo+C,KAAzE,qB,8BAInF,WAAoB,IAAD,OACf,OAAI9gD,KAAKlB,MAAM8lD,cACJ,eAAC,IAAD,CACHlmD,QAAS,SAAAuN,GACL,EAAK9M,SAAS,CAACylD,eAAe,IAAQ,kBAClC,EAAKpmD,MAAMqmD,mBAAkB,OAErCtB,GAAI9iD,IAAKC,EAAE,OACXokD,OAAQrkD,IAAKC,EAAE,UACf6D,KAAM9D,IAAKC,EAAE,0FAGV,O,wBAIf,WAAc,IAAD,OACHqkD,EAAoB/kD,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAanJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAAUxM,KAAKlB,MAAM4Q,iBAAiB1P,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAC1Lw4C,EAAkBhlD,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAanJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU/B,QAEtH,GAAIpH,KAAKlB,MAAMqK,SAAU,CACrB,IAAM87C,EAAa54C,OAAOC,KAAKtM,KAAKlB,MAAMoS,SAASpJ,QAAO,SAAA/I,GAAE,OAAI,EAAKD,MAAMoS,QAAQnS,MAAKS,OAClF0R,EAAUlR,KAAKlB,MAAMoS,QAAQlR,KAAKlB,MAAMqK,UAC9C,OAAO,gBAACs1C,GAAA,EAAD,CAASj8C,QAAQ,QAAQqB,UAAW7D,KAAKxB,MAAMsF,QAAQ8T,QAAvD,WACD5X,KAAKxB,MAAM69C,eAAiBr8C,KAAKlB,MAAMqQ,YAAcnP,KAAKxB,MAAM0mD,UAAY,eAAC96C,EAAA,EAAD,CAAYvG,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAA6BpS,MAAO3D,IAAKC,EAAE,eAAgB+B,QAAS,kBAAM,EAAKjE,MAAM0mD,SAAS,EAAKpmD,MAAMqK,WAAnJ,SAA8J,eAAC,IAAD,KAAhG,WAC1InJ,KAAKxB,MAAM69C,gBAAkBnrC,GAAW6zC,GAAqB,eAAC36C,EAAA,EAAD,CAA0BvI,SAAU7B,KAAKxB,MAAMqT,UAAWrP,QAAQ,YAAYqB,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAAgB/T,QAAS,kBAAM,EAAKk8C,aAAav6C,MAAO3D,IAAKC,EAAE,WAA3K,SAAuL,eAAC,IAAD,KAAvK,YAC7EV,KAAKxB,MAAM69C,gBAAkBnrC,IAAY8zC,GAAmB,uBAAMnhD,UAAW7D,KAAKxB,MAAMsF,QAAQqhD,WAApC,SAAiD1kD,IAAKC,EAAE,4BACpHwQ,GAAW8zC,IAAoBD,GAAqB,uBAAMlhD,UAAW7D,KAAKxB,MAAMsF,QAAQqhD,WAApC,SAAiD1kD,IAAKC,EAAE,0BAC7GwQ,GAAW,gBAAC3O,GAAA,EAAD,CAAmBC,QAAQ,YAAYqB,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQshD,WAAYplD,KAAKxB,MAAMsF,QAAQuhD,WAAY,eAAgB5iD,QAAS,kBAAM,EAAK6iD,UAAzJ,UAAoK7kD,IAAKC,EAAE,QAAQ,eAAC,IAAD,CAAUmD,UAAW7D,KAAKxB,MAAMsF,QAAQyhD,aAA/M,SACtBN,EAAa,GAAqB,IAAfA,IAAqB/zC,IAAa,gBAAC3O,GAAA,EAAD,CAAsBC,QAAQ,YAAYqB,UAAW7D,KAAKxB,MAAMsF,QAAQshD,WAAY3iD,QAAS,kBAAM,EAAK+iD,aAAxG,UAAsH/kD,IAAKC,EAAE,YAAY,eAAC,IAAD,CAAUmD,UAAW7D,KAAKxB,MAAMsF,QAAQyhD,aAArK,WAClEr0C,GAAW,gBAAC3O,GAAA,EAAD,CAAqBC,QAAQ,YAAYqB,UAAW7D,KAAKxB,MAAMsF,QAAQshD,WAAY3iD,QAAS,kBAAM,EAAKgjD,YAAvG,UAAoHhlD,IAAKC,EAAE,UAAU,eAAC,IAAD,CAAYmD,UAAW7D,KAAKxB,MAAMsF,QAAQyhD,aAAnK,UACxB,sBAAKxkD,MAAO,CAAEuR,KAAM,KAEnBtS,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMyiD,kBAC/B,eAACn3C,EAAA,EAAD,CAAyB,aAAW,gBAChChG,MAAO3D,IAAKC,EAAE,iBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKijD,qBAAqB,WAH7C,SAII,eAAC,KAAD,KAJY,UAMnB1lD,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMyiD,kBAC/B,eAACn3C,EAAA,EAAD,CAAyB,aAAW,gBAChChG,MAAO3D,IAAKC,EAAE,iBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKijD,qBAAqB,WAH7C,SAII,eAAC,KAAD,KAJY,UAMnB1lD,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMyiD,kBAC/B,eAACn3C,EAAA,EAAD,CAAwB,aAAW,aAC/BhG,MAAO3D,IAAKC,EAAE,gBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKijD,qBAAqB,UAH7C,SAII,eAAC,KAAD,KAJY,UAMlB1lD,KAAKxB,MAAMqT,YAAc7R,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMsiD,QAAUphD,KAAKlB,MAAMyiD,kBAAoB,eAACn3C,EAAA,EAAD,CAA8B,aAAW,cAC3IhG,MAAO3D,IAAKC,EAAE,sCACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKtD,SAAS,CAAEqiD,UAAU,KAHyD,SAGhD,eAAC,KAAD,KAHgE,gBAKpHxhD,KAAKxB,MAAMqT,YAAc7R,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMsiD,QAAUphD,KAAKlB,MAAMyiD,kBAAoB,eAACn3C,EAAA,EAAD,CAA4B,aAAW,YACzIhG,MAAO3D,IAAKC,EAAE,oBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKtD,SAAS,CAAEw6B,cAAc,KAHqD,SAG5C,eAAC,KAAD,KAH4D,aAKrH35B,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMsiD,OAASphD,KAAKlB,MAAMyiD,kBAAoB,eAACh/C,GAAA,EAAD,CAAyB,aAAW,wBAC3G6B,MAAO3D,IAAKC,EAAE,2CACd+B,QAAS,kBAAM,EAAKkjD,uBAFmD,wBAAY,cAItF3lD,KAAKlB,MAAMsiD,QAAUphD,KAAKlB,MAAMyiD,kBAC7B,eAACn3C,EAAA,EAAD,CAAyB,aAAW,gBAChChG,MAAO3D,IAAKC,EAAE,iBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKmjD,mBAAmB,WAH3C,SAII,eAAC,KAAD,KAJY,UAKnB5lD,KAAKlB,MAAMsiD,QAAUphD,KAAKlB,MAAMyiD,kBAC7B,eAACn3C,EAAA,EAAD,CAAyB,aAAW,gBAChChG,MAAO3D,IAAKC,EAAE,iBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,kBAAM,EAAKmjD,mBAAmB,WAH3C,SAII,eAAC,KAAD,KAJY,UAMnB5lD,KAAKxB,MAAM8Q,aAAe4B,IAAYlR,KAAKxB,MAAMqT,YAAe7R,KAAKlB,MAAM2pB,UAAYzoB,KAAKlB,MAAMsiD,QAAYphD,KAAKlB,MAAM2pB,SAAWzoB,KAAKlB,MAAMsiD,QAAUphD,KAAKlB,MAAMyiD,mBAAsB,eAACn3C,EAAA,EAAD,CACvLvG,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B9T,MAAO1C,KAAKxB,MAAMqT,UAAY,UAAY,UAC1ChQ,UAAW7B,KAAKxB,MAAMqT,YAAckzC,EACpCtiD,QAAS,YACA,EAAKjE,MAAMqT,WAAamzC,EACzB,EAAK7lD,SAAS,CAACylD,eAAe,IAE9B,EAAKpmD,MAAMqmD,mBAAmB,EAAKrmD,MAAMqT,YARsI,SAYvL,eAAC,IAAD,CAAe9Q,MAAO,CAACmC,SAAU,SAGnClD,KAAKlB,MAAM2pB,SAAWzoB,KAAKlB,MAAMsiD,QAAU,eAAC7+C,GAAA,EAAD,CAEzC,aAAW,UACX6B,MAAO3D,IAAKC,EAAE,wBACdmD,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQ0S,eAAgB,iBAAkBxW,KAAKxB,MAAMqT,WAAa7R,KAAKxB,MAAMsF,QAAQ+hD,wBAChHnjD,MAAO1C,KAAKlB,MAAMyiD,iBAAmB,YAAc,UACnD1/C,SAAU7B,KAAKxB,MAAMqT,UACrB9Q,MAAO,CAAEqR,QAAS,SAClB3P,QAAS,WACD,EAAKjE,MAAMqT,YAGf,EAAK1S,SAAS,CAAEoiD,kBAAmB,EAAKziD,MAAMyiD,mBAC9C,EAAKziD,MAAM88B,YAAc,EAAK98B,MAAM+8B,WAAa/D,IAAwB,EAAK34B,SAAS,CAAE08B,SAAU/D,KACnG,EAAKh5B,MAAM88B,YAAc,EAAK98B,MAAM+8B,WAAa/D,IAA2B,EAAK34B,SAAS,CAAE08B,SAAU/D,OAdjE,SAgBzC,sBAAKxuB,IAAKtJ,KAAKlB,MAAM2pB,QAAU,aAAe,WAAYpf,IAAKrJ,KAAKlB,MAAM2pB,QC9+B/E,yjFCAA,gkLF+9BS,gBAgBR,eAACre,EAAA,EAAD,CAEIvI,SAAU7B,KAAKxB,MAAMqT,UACrB,aAAW,aACXzN,MAAO3D,IAAKC,EAAE,iBACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0S,eAC9B/T,QAAS,SAAAf,GAAC,OAAI,EAAKvC,SAAS,CAAE4iD,eAAe,EAAM2C,kBAAmBhjD,EAAEiV,iBAN5E,SAQI,eAACmpC,GAAA,EAAD,CAAOj8C,UAAW7D,KAAKxB,MAAMsF,QAAQgiD,YAAa/F,aAAc//C,KAAK+lD,gBAArE,SACI,eAAC,IAAD,OARA,WA3F+D,YAwG3E,OAAO,O,6BAIf,WAAmB,IAAD,OACd,OAAK/lD,KAAKxB,MAAMqT,YACZ7R,KAAKlB,MAAMqK,WACXnJ,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,WACP,OAAvBnJ,KAAKlB,MAAM2pB,SACTzoB,KAAKlB,MAAM2pB,UAAWzoB,KAAKlB,MAAMyiD,kBACjCvhD,KAAKlB,MAAMsiD,QAASphD,KAAKlB,MAAMyiD,iBAyB1B,MAvBPvhD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SAEpI,sBAAK5D,UAAW7D,KAAKxB,MAAMsF,QAAQoyC,UAAnC,SACH,eAAC,GAAD,CAEIl3C,KAAMgB,KAAKlB,MAAMqK,SACjB8oB,YAAajyB,KAAKxB,MAAMyzB,YACxBxT,OAAQze,KAAKlB,MAAM2f,OACnBsH,WAAY,kBAAM,EAAK5mB,SAAS,CAAEsf,OAAQ,MAC1C6C,YAAa,kBAAM,EAAKgkC,UACxB/1C,WAAYvP,KAAKlB,MAAMyQ,WACvB8P,iBAAkB,SAAAqlB,GAAI,OAAI,EAAKrlB,iBAAiBqlB,IAChDzmB,SAAUje,KAAKlB,MAAMyiD,iBACrBrwC,QAASlR,KAAKlB,MAAMoS,QAAQlR,KAAKlB,MAAMqK,UACvCwV,KAAM3e,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU8K,QAAU,GAClD8J,OAAiC,SAAzB/d,KAAKlB,MAAM4nB,UACnBrf,OAAQrH,KAAKxB,MAAM6I,OACnBqI,iBAAkB1P,KAAKlB,MAAM4Q,iBAC7BjO,SAAU,SAAAukB,GAAQ,OAAI,EAAKvkB,SAAS,CAAEgS,OAAQuS,KAC9ChI,SAA2D,kBAAjDhe,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUoD,WAAiC,aAAe,cAfxF,kBAF6C,sB,8BAyBjE,WAAoB,IAAD,OACf,OAAKvM,KAAKxB,MAAMqT,WACZ7R,KAAKlB,MAAMmjD,iBACXjiD,KAAKlB,MAAMqK,UACXnJ,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,WAC9BnJ,KAAKlB,MAAM2pB,UACVzoB,KAAKlB,MAAMyiD,kBACZvhD,KAAKlB,MAAM4iD,SAEX1hD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SAEpI,sBAAK5D,UAAW7D,KAAKxB,MAAMsF,QAAQoyC,UAAnC,SACH,eAAC,GAAD,CACIpsB,QAAS9pB,KAAKlB,MAAM6iD,aAEpBj7B,UAAW1mB,KAAKlB,MAAM4nB,UACtBnX,WAAYvP,KAAKlB,MAAMyQ,WACvBy2C,SAAUhmD,KAAKxB,MAAMwnD,SACrBrnC,KAAM3e,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU8K,QAAU,GAClDxS,SAAU,SAAAukB,GAAQ,OAAI,EAAKvkB,SAAS,CAAEgS,OAAQuS,MAL1C,kBAH6C,qBAYlD,O,4BAIf,WAAkB,IAAD,OACb,IAAKhmB,KAAKxB,MAAMqT,WACZ7R,KAAKlB,MAAMmjD,iBACXjiD,KAAKlB,MAAMqK,UACXnJ,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,WAC9BnJ,KAAKlB,MAAMsiD,QACVphD,KAAKlB,MAAMyiD,kBACZvhD,KAAKlB,MAAM4iD,QACb,CACE1hD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SAC3I,IAAMs9C,EAAoB/kD,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAanJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAAUxM,KAAKlB,MAAM4Q,iBAAiB1P,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAC1Lw4C,EAAkBhlD,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAanJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU/B,QAEtH,OAAO,sBAAKvD,UAAW4J,YAAKzN,KAAKxB,MAAMsF,QAAQoyC,WAAxC,SACH,eAAC,GAAD,CACIlB,SAAUh1C,KAAKlB,MAAMqK,SACrB2yB,YAAa97B,KAAK87B,YAClBD,SAAU77B,KAAKlB,MAAM+8B,SACrBD,WAAY57B,KAAKlB,MAAM88B,WACvB1qB,QAASlR,KAAKlB,MAAMoS,QAAQlR,KAAKlB,MAAMqK,UACvC8rC,QAAS8P,GAAqBC,EAC9Bl7B,QAAS9pB,KAAKlB,MAAM8iD,WAEpBl7B,UAAW1mB,KAAKlB,MAAM4nB,UACtB/X,UAAW3O,KAAKxB,MAAMmQ,UACtBY,WAAYvP,KAAKlB,MAAMyQ,WACvBy2C,SAAUhmD,KAAKxB,MAAMwnD,SACrBrnC,KAAM3e,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU8K,QAAU,GAClDxS,SAAU,SAAAukB,GAAQ,OAAI,EAAKvkB,SAAS,CAAEgS,OAAQuS,MAN1C,eATmD,iBAmB/D,OAAO,O,8BAIf,WAAoB,IAAD,OACf,OAAIhmB,KAAKlB,MAAM6kD,QACJ,eAAC,IAAD,CAEHp/C,KAAMvE,KAAKlB,MAAM6kD,QACjBjlD,QAAS,SAAAuN,GACL,GAAI,EAAKy3C,gBAAiB,CACtB,IAAMpzC,EAAK,EAAKozC,gBAChB,EAAKA,gBAAkB,KACvBpzC,EAAGrE,GAEP,EAAK9M,SAAS,CAAEwkD,QAAS,OARzB,kBAYD,O,+BAIf,WAAqB,IAAD,OAChB,GAAI3jD,KAAKlB,MAAM66B,aAAc,CACzB,IAAIssB,EAAajmD,KAAK+Y,SAASgY,SAAW/wB,KAAK+Y,SAASopC,WAAa,GAAKniD,KAAKmjD,UAAYnjD,KAAKmjD,YAAc,GAK1G/xC,EAAM60C,EAAWzgD,QAAQ,OAChB,IAAT4L,IACA60C,EAAaA,EAAWt1C,UAAU,EAAGS,KAG5B,KADbA,EAAM60C,EAAWzgD,QAAQ,SAErBygD,EAAaA,EAAWt1C,UAAU,EAAGS,IAEzC,IAAI4D,EAAIixC,EAAWx1C,MAAM,aASzB,OARIuE,IACAixC,EAAajxC,EAAE,KAEnBA,EAAIixC,EAAWx1C,MAAM,gBAEjBw1C,EAAajxC,EAAE,IAGZ,eAAC,KAAD,CAEHilB,YAAY,QACZtrB,UAAW3O,KAAKxB,MAAMmQ,UACtB+X,UAAW1mB,KAAKlB,MAAM4nB,UACtBrf,OAAQrH,KAAKxB,MAAM6I,OACnB8B,SAAU88C,EACV7rB,YAAY,EACZ17B,QAAS,WACL,EAAKS,SAAS,CAAEw6B,cAAc,IAC1B,EAAK5gB,SAASgY,WACd,EAAKhY,SAASgY,SAAW,OAGjCsJ,KAAM,SAAClxB,EAAUnK,GACb,EAAK+Z,SAASopC,UAAY,KACtB,EAAKppC,SAASgY,UACd,EAAKhY,SAASgY,SAAS5nB,GACvB,EAAK4P,SAASgY,SAAW,MAEzB,EAAK5xB,SAAS,CAAEsf,OAAO,IAAD,OAAMtV,EAAN,cAAoBnK,EAApB,UAnB1B,mBAwBR,OAAO,O,2BAIf,WAAiB,IAAD,OACZ,OAAIgB,KAAKlB,MAAM0iD,SACJ,eAAC,KAAD,CAEH7c,KAAM3kC,KAAK2kC,KAAK5T,SAAW/wB,KAAK2kC,KAAKwd,WAAa,GAAKniD,KAAKmjD,UAAYnjD,KAAKmjD,YAAc,YAC3FzkD,QAAS,kBAAM,EAAKS,SAAS,CAAEqiD,UAAU,KACzCnnB,KAAM,SAAAsK,GACF,EAAKA,KAAKwd,UAAY,KAClB,EAAKxd,KAAK5T,UACV,EAAK4T,KAAK5T,SAAS4T,GACnB,EAAKA,KAAK5T,SAAW,MAErB,EAAK5xB,SAAS,CAAEsf,OAAO,IAAD,OAAMkmB,EAAN,SAT1B,eAcD,O,6BAIf,WAAmB,IAAD,OACd,OAAI3kC,KAAKlB,MAAM2iD,WACJ,eAAC,GAAD,CAEHxvB,YAAajyB,KAAKxB,MAAMyzB,YACxBhe,OAAQjU,KAAKoiD,aAAaD,UAC1BpwB,KAAM/xB,KAAKoiD,aAAarwB,KAAO/xB,KAAKoiD,aAAarwB,KAAKjyB,KAAK,MAAQ,GACnEgyB,SAAU9xB,KAAKoiD,aAAatwB,SAC5BzqB,OAAQrH,KAAKxB,MAAM6I,OACnBqI,iBAAkB1P,KAAKlB,MAAM4Q,iBAC7BgX,UAAW1mB,KAAKlB,MAAM4nB,UACtBhoB,QAAS,SAAAuN,GACL,EAAKm2C,aAAaD,UAAY,KAC1B,EAAKC,aAAarxB,YACP,IAAX9kB,GAAoB,EAAKm2C,aAAarxB,SAAS9kB,GAAU,IACzD,EAAKm2C,aAAarxB,SAAW,MAEjC,EAAK5xB,SAAS,CAAEsiD,YAAY,MAd5B,sBAkBD,O,sBAIf,WAAY,IAAD,OACP,OAAO,eAACyE,GAAA,EAAD,CAEHC,aAAc,CACVnL,SAAU,SACVoL,WAAY,QAEhB7lD,OAAQP,KAAKlB,MAAMkjD,MACnBqE,iBAAkB,IAClB3nD,QAAS,kBAAM,EAAKS,SAAS,CAAE6iD,MAAO,MACtCsE,aAAc,CAAE,mBAAoB,cACpC7rC,QAAS,uBAAM1b,GAAG,aAAT,SAAuBiB,KAAKlB,MAAMkjD,QAC3C9f,OAAQ,CACJ,eAAC93B,EAAA,EAAD,CAEI,aAAW,QACX1H,MAAM,UACNmB,UAAW7D,KAAKxB,MAAMsF,QAAQyiD,WAC9B9jD,QAAS,kBAAM,EAAKtD,SAAS,CAAE6iD,MAAO,MAL1C,SAMC,eAAC,IAAD,KALO,WAZR,W,qBAyBZ,WAAW,IAAD,OACN,GAAIhiD,KAAKlB,MAAMmjD,iBACXjiD,KAAKlB,MAAMqK,UACqB,IAAhCnJ,KAAKxB,MAAMgoD,kBACXxmD,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,WAC9BnJ,KAAKlB,MAAMsiD,OACXphD,KAAKlB,MAAM4iD,QACX,OAAO,eAAC,KAAD,CAEH3pB,MAAOA,GACP0uB,OAAQzmD,KAAKlB,MAAM88B,WACnB8qB,eAAgB,WACZ,EAAKvnD,SAAS,CAAEy8B,YAAY,IAC5Bl4B,OAAOqE,aAAaiC,QAAQ,OAAQ,QACpC,EAAKxL,MAAM6I,OAAOlI,SAAS,oCAAoC,GAAM,IAGzEwnD,SAAU3mD,KAAKlB,MAAM+8B,UATjB,U,sBAchB,WAAY,IAAD,OACP,OAAI77B,KAAKxB,MAAMqT,UACe7R,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAanJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAAUxM,KAAKlB,MAAM4Q,iBAAiB1P,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAUqD,QAErL,eAAC,GAAD,CAEHkD,iBAAkB1P,KAAKlB,MAAM4Q,iBAC7BuiB,YAAajyB,KAAKxB,MAAMyzB,YACxB5qB,OAAQrH,KAAKxB,MAAM6I,OACnBtE,MAAO/C,KAAKxB,MAAMuE,MAClB4L,UAAW3O,KAAKxB,MAAMmQ,UACtB+X,UAAW1mB,KAAKxB,MAAMkoB,UACtBrd,IAAKrJ,KAAKxB,MAAM69C,cAAgBr8C,KAAKxB,MAAM69C,cAAch0C,QAAUrI,KAAKlB,MAAMqK,SAC9EkzC,cAAer8C,KAAKxB,MAAM69C,eARtB,aAWR76C,YAAW,kBAAM,EAAKhD,MAAMqmD,mBAAkB,MACvC,MAGJ,O,oBAIf,WAAU,IAAD,OAkBL,OAjBI7kD,KAAKlB,MAAMqK,UAAYnJ,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,WAAoC,OAAvBnJ,KAAKlB,MAAM2pB,SAAyC,OAArBzoB,KAAKlB,MAAMsiD,QAC5GphD,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAagF,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKxB,MAAMma,QAAQ3Y,KAAKlB,MAAMqK,UAAU1B,SAC3IjG,YAAW,WACP,IAAM8P,EAAW,CACbmX,QAA0D,YAAjD,EAAKja,QAAQ,EAAK1P,MAAMqK,UAAUoD,WAC3C60C,MAAwD,UAAjD,EAAK5yC,QAAQ,EAAK1P,MAAMqK,UAAUoD,WACzCg1C,kBAAkB,EAClBF,aAAc,EAAK7yC,QAAQ,EAAK1P,MAAMqK,UAAUqU,MAChD8jC,eAAgB,EAAK9yC,QAAQ,EAAK1P,MAAMqK,UAAU25C,SAItD,EAAKC,yBAAyB,KAAMzxC,GACpC,EAAKnS,SAASmS,KACf,MAGA,CACHtR,KAAK4mD,UACL5mD,KAAK6mD,aACL7mD,KAAK8mD,kBACL9mD,KAAK+mD,mBACL/mD,KAAKgnD,mBACLhnD,KAAKinD,iBACLjnD,KAAKknD,WACLlnD,KAAKmnD,mBACLnnD,KAAKonD,oBACLpnD,KAAKqnD,gBACLrnD,KAAKsnD,kBACLtnD,KAAKunD,eACLvnD,KAAKwnD,WACLxnD,KAAKynD,e,GAjqCI7kD,IAAMC,WA4rCZC,gBA5xCA,SAAAC,GAAK,MAAK,CAErB6U,QAAS,CACL8oC,UAAW,GACX/iC,UAAW,kHAEfnH,eAAgB,CACZpE,QAAS,EACTS,WAAY,GAEhBgzC,uBAAwB,CACpB/9C,OAAQ,kBACR+F,QAAS,IAEbqoC,UAAW,CACPjxC,OAAO,eAAD,OAAiBlC,EAAM6U,QAAQ3S,OAAS,GAA8B,EAAtE,OACNjE,MAAO,OACPqR,SAAU,SACVlI,SAAU,YAEdi7C,WAAY,CACR56C,YAAa,GACbk2C,UAAW,GACXtuC,QAAS,YAEbizC,WAAY,CACRv+C,WAAY,WAEhBy+C,SAAU,CACN1yC,WAAY9P,EAAMqC,QAAQ,IAE9B0+C,QAAS,CACL9iD,MAAO,GACPiE,OAAQ,GACRoY,cAAe,SACflY,aAAc,EACdqF,YAAa,EACb+O,aAAc,GAElBkrC,SAAU,CAENryC,QAAS,eAEbs1C,SAAU,GAGVlD,WAAY,CACR/5C,UAAW,EACXoI,WAAY,IAEhByxC,cAAe,CACXn6C,SAAU,WACViP,IAAK,EACLD,MAAO,GAEX4qC,WAAY,CACRrhD,MAAOK,EAAMgE,QAAQiyC,UAAUhyC,MAEnCq3C,QAAS,CACLh+C,SAAU,IACVw7C,aAAc,WACd1pC,WAAY,SACZE,SAAU,SACVrN,QAAS,eACTqY,cAAe,UAEnB2mC,eAAgB,CACZthD,MAAO,UACPQ,SAAU,IAEdo7C,YAAa,CACTn0C,SAAU,WACViP,IAAK,EACLD,MAAO,EACPgN,OAAQ,GACR/T,QAAS,EACTU,OAAQ,WAEZqyC,WAAY,CACRziD,MAAO,UACP8H,YAAazH,EAAMqC,QAAQ,IAE/B++C,UAAW,GAGXE,iBAAkB,CACdr/C,QAAS,gBAEb2/C,SAAU,CACN3jD,MAAO,GACPiE,OAAQ,GACRsU,aAAc,EACd/O,YAAa,MAgsCN1H,CAAmBmzC,I,UGnxC5B0R,G,kDAEF,WAAYnpD,GAAQ,IAAD,8BACf,cAAMA,IACDM,MAAQ,CACT2G,MAAO,GACPmiD,YAAa,IAJF,E,qDAQnB,WACIpmD,YAAW,WACP,IACIkC,OAAOuY,SAASsK,eAAe,oBAAoB5iB,QACrD,MAAOjC,OAGV,O,0BAGP,WACI1B,KAAKxB,MAAME,Y,sBAGf,SAASgD,GACL1B,KAAKb,SAAS,CAACoF,KAAM7C,EAAEC,OAAOR,U,4BAoBlC,SAAe0mD,GAAQ,IAAD,OAKlB,GAJIA,GAASA,EAAMzqC,eAAe,YAC9ByqC,EAAQA,EAAMlmD,OAAOkmD,OAGpBA,GAAUA,EAAMroD,OAArB,CAIA,IAAMsoD,EAAOD,EAAMA,EAAMroD,OAAS,GAE7BsoD,GAGLH,EAAiBI,gBAAgBD,GAAM,SAACj3C,EAAK5E,GACrC4E,EACA,EAAK1R,SAAS,CAACsG,MAAOoL,IAEtB,EAAKrS,MAAME,QAAQuN,GAAUA,EAAOF,Y,oBAKhD,WAAU,IAAD,OACCjI,EAAU9D,KAAKxB,MAAMsF,QACrBD,EAAYC,EAAQkkD,SAAW,KAAkC,aAA3BhoD,KAAKlB,MAAM8oD,YAA6B9jD,EAAQmkD,iBAA+C,aAA3BjoD,KAAKlB,MAAM8oD,YAA6B9jD,EAAQokD,iBAAmB,IAEnL,OAAO,gBAAChoD,GAAA,EAAD,CACHxB,QAAS,SAACyB,EAAOC,GAAR,OAAmB,GAC5BC,SAAS,KACTyD,QAAS,CAAC2T,MAAO3T,EAAQ0iB,QACzBlmB,WAAW,EACXC,MAAM,EACN,kBAAgB,sBANb,UAQH,eAACC,GAAA,EAAD,CAAazB,GAAG,sBAAhB,SAAuC0B,IAAKC,EAAE,oBAC9C,gBAACC,GAAA,EAAD,CAAekD,UAAWC,EAAQ0jB,WAAlC,UACI,eAAC,KAAD,CAEY2gC,QAAS,IACTC,gBAAiBtkD,EAAQmkD,iBACzBI,gBAAiBvkD,EAAQokD,iBACzBp7C,OAAQ,SAAA+6C,GAAK,OAAI,EAAKS,eAAeT,IACrCnzB,UAAU,EACV1nB,OAAO,+CACPnJ,UAAWA,EARvB,SAUQ,YAAiE,IAA9D0kD,EAA6D,EAA7DA,aAAcC,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,aAC5B,OAD4D,EAAlBC,cAEP,aAA3B,EAAK5pD,MAAM8oD,aACX,EAAKzoD,SAAS,CAACyoD,YAAa,aAG5B,iDAAK/jD,UAAW,EAAKrF,MAAMsF,QAAQ6kD,aAAiBJ,KAApD,cACI,uCAAWC,MACX,uBAAiB3kD,UAAW,EAAKrF,MAAMsF,QAAQS,KAA/C,SAAsD9D,IAAKC,EAAE,gCAAnD,QACV,eAAC,IAAD,CAAmBmD,UAAW,EAAKrF,MAAMsF,QAAQyE,KAAO,IAAM,EAAK/J,MAAMsF,QAAQ8kD,WAArE,aAEbH,GACwB,aAA3B,EAAK3pD,MAAM8oD,aACX,EAAKzoD,SAAS,CAACyoD,YAAa,aAI5B,iDAAK/jD,UAAW,EAAKrF,MAAMsF,QAAQ6kD,aAAiBJ,KAApD,cACI,uCAAWC,MACX,uBAAiB3kD,UAAW,EAAKrF,MAAMsF,QAAQS,KAA/C,SAAsD9D,IAAKC,EAAE,+BAAnD,QACV,eAAC,IAAD,CAAqBmD,UAAW,EAAKrF,MAAMsF,QAAQyE,KAAO,IAAM,EAAK/J,MAAMsF,QAAQ+kD,QAArE,cAGS,SAA3B,EAAK/pD,MAAM8oD,aACX,EAAKzoD,SAAS,CAACyoD,YAAa,SAG5B,iDAAK/jD,UAAW,EAAKrF,MAAMsF,QAAQ6kD,aAAiBJ,KAApD,cACI,uCAAWC,MACX,uBAAiB3kD,UAAW,EAAKrF,MAAMsF,QAAQS,KAA/C,SAAsD9D,IAAKC,EAAE,qCAAnD,QACV,eAAC,IAAD,CAAuBmD,UAAW,EAAKrF,MAAMsF,QAAQyE,MAArC,eAxCxB,cA8CfvI,KAAKlB,MAAM2G,MAAS,eAAC,GAAD,CAAalB,KAAMvE,KAAKlB,MAAM2G,MAAO/G,QAAS,kBAAM,EAAKS,SAAS,CAACsG,MAAO,QAAW,QAE9G,eAACnD,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM,EAAKhE,gBAAgBkE,UAAW,eAAC,KAAD,IAA3E,SAA2FlC,IAAKC,EAAE,mB,8BAvG9G,SAAuBonD,EAAMx3C,GACzB,IAAMw4C,EAAS,IAAIC,WACnBD,EAAOr+B,OAAS,WACZna,EAAG,KAAM,CAACvE,KAAM+8C,EAAO78C,OAAQjN,KAAM8oD,EAAK9oD,QAE9C8pD,EAAOE,QAAU,WACbxiD,QAAQf,MAAM,4BACd6K,EAAG7P,IAAKC,EAAE,8BAEdooD,EAAO73B,QAAU,SAACvvB,GACd8E,QAAQf,MAAM,2BACd6K,EAAG7P,IAAKC,EAAE,8BAA+BgB,KAG7ConD,EAAOG,cAAcnB,O,GA1CEllD,IAAMC,WA8ItBC,gBAtMA,SAAAC,GAAK,MAAK,CACrByjB,OAAQ,CACJvhB,OAAQ,OAEZuiB,WAAY,CACRviB,OAAQ,OACRoN,SAAU,UAEd21C,SAAU,CACNv9C,UAAW,GACXzJ,MAAO,OACPkoD,YAAa,EACbC,YAAa,SACbC,YAAa,UACbzkD,UAAW,SACX0kD,UAAW,aACX1vC,WAAY,GACZJ,aAAc,GACdtU,OAAQ,qBAEZ0jD,YAAa,CACT3nD,MAAO,OACPiE,OAAQ,QAEZijD,iBAAkB,CACdkB,YAAa,WAEjBnB,iBAAkB,CACdmB,YAAa,WAEjB7gD,KAAM,CACFtD,OAAQ,MACRjE,MAAO,MACP0B,MAAO,UACPyH,SAAU,WACViP,IAAK,MACLgO,KAAM,MACNpZ,UAAW,uBACXmY,OAAQ,GAEZyiC,UAAW,CACPlmD,MAAO,WAEXmmD,OAAQ,CACJnmD,MAAO,WAEX6B,KAAM,CACF6U,IAAK,MACLgO,KAAM,MACNpZ,UAAW,uBACXtL,MAAO,UACPyH,SAAU,WACVgc,OAAQ,MAkJDrjB,CAAmB6kD,IClG5B2B,G,kDACF,WAAY9qD,GAAQ,IAAD,8BACf,cAAMA,EAAO,CACT+qD,aAAc,CACV,GAAMC,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,GAAMA,EAAQ,KACd,QAASA,EAAQ,MAErBC,eAAe,EACfpiD,OAAQ,CACJqiD,kBAAkB,MAiB9BC,iBAAmB,SAAC5qD,EAAIyI,GACpB,GAAKzI,EAAL,CAGA,IAAImS,GAAU,EACRI,EAAW,GACbvS,EAAG6J,WAAW,gBACVpB,EACI2G,KAAK8C,UAAU,EAAKzC,QAAQzP,MAASoP,KAAK8C,UAAUzJ,KACpD,EAAKgH,QAAQzP,GAAMyI,EACnB0J,GAAU,EACVI,EAAS3B,YAAc,EAAK7Q,MAAM6Q,YAAc,GAE7C,EAAKnB,QAAQzP,YACb,EAAKyP,QAAQzP,GACpBmS,GAAU,EACVI,EAAS3B,YAAc,EAAK7Q,MAAM6Q,YAAc,IAIxDuB,GAAW,EAAK/R,SAASmS,KArDV,EAwDnByvC,kBAAoB,SAAChiD,EAAIyI,GACrB,GAAKzI,EAAL,CAGA,IAAImS,GAAU,EACRI,EAAW,GAEjB,GAAIvS,EAAG0R,MAAM,iCAAkC,CAE3C,GAAI1R,EAAG6J,WAAW,kBAAoB,EAAKqpB,YAAc,KACrD,GAAIzqB,GAAoB,aAAbA,EAAInE,KACN,EAAKvE,MAAMS,UAAUkE,SAAS1E,KAC/BuS,EAAS/R,UAAT,YAAyB,EAAKT,MAAMS,WACpC+R,EAAS/R,UAAU+G,KAAKvH,GACxBuS,EAAS/R,UAAUiJ,OACnB0I,GAAU,EAEV,EAAK7J,OAAO0J,eAAevJ,EAAIG,IAAM,SAAU,EAAKiiD,+BAErD,IAAKpiD,GAAO,EAAK1I,MAAMS,UAAUkE,SAAS1E,GAAK,CAClD,EAAKsI,OAAO2J,iBAAiBjS,EAAK,SAAU,EAAK6qD,yBACjDt4C,EAAS/R,UAAT,YAAyB,EAAKT,MAAMS,WACpC,IAAM6R,EAAME,EAAS/R,UAAUiG,QAAQzG,GACvCuS,EAAS/R,UAAUuG,OAAOsL,EAAK,GAC/BF,GAAU,EAOd1J,GAAOA,EAAIzI,GAAI0I,QAAUD,EAAIzI,GAAI0I,OAAOghB,UACxC,EAAKi7B,gBAAkB,SAAAz3C,GAAM,OAAIA,GAAUvI,OAAO8d,SAASqoC,UAC3Dv4C,EAASqyC,QAAUljD,IAAKC,EAAE,2CAC1BwQ,GAAU,GAGlBA,GAAW,EAAK/R,SAASmS,KA7FV,EAgGnBw4C,cAAgB,SAAC/qD,EAAIyI,GACjB,GAAKzI,EAAL,CAMA,GAAIA,EAAG6J,WAAW,gBACd,GAAIpB,GAAoB,SAAbA,EAAInE,KACN,EAAK0mD,MAAMtmD,SAAS1E,KACrB,EAAKgrD,MAAMzjD,KAAKvH,GAChB,EAAKgrD,MAAMvhD,aAEZ,IAAKhB,GAAO,EAAKuiD,MAAMtmD,SAAS1E,GAAK,CACxC,IAAMqS,EAAM,EAAK24C,MAAMvkD,QAAQzG,GAC/B,EAAKgrD,MAAMjkD,OAAOsL,EAAK,MA/GhB,EAqSnBw4C,sBAAwB,SAAC7qD,EAAID,GACzB,GAAIC,IACAA,EAAKA,GAAMA,EAAG4R,UAAU,EAAG5R,EAAGS,OAAS,GAEnC,EAAKV,MAAM4Q,iBAAiB3Q,QAASD,GAAQA,EAAMqS,MAAc,CACjE,IAAMzB,EAAmBvB,KAAKC,MAAMD,KAAK8C,UAAU,EAAKnS,MAAM4Q,mBAC9DA,EAAiB3Q,KAAMD,GAAQA,EAAMqS,IACrC,EAAKhS,SAAS,CAAEuQ,uBAvRxB,EAAKs6C,QAAUtmD,OAAOqE,cAAeg+B,WAAWriC,OAAOqE,aAAaC,QAAQ,iBAAyB,IACrG,EAAKiiD,SAAWvmD,OAAOqE,cAAeg+B,WAAWriC,OAAOqE,aAAaC,QAAQ,kBAA0B,IACvG,EAAK+hD,MAAQ,GACb,EAAKG,WAAa,KAClB,EAAK17C,QAAU,GAEf9K,OAAO85C,MAAQ,SAAA/iC,GACXjU,QAAQf,MAAMgV,GACd,EAAKjF,UAAUiF,EAAQ5O,aA7BZ,E,qDAsHnB,WAAqB,IAAD,OAChBnI,OAAO2+C,WAAariD,KAAKqH,OAAOg7C,WAChCriD,KAAKb,SAAS,CACVgrD,OAAO,EACPC,cAAe,EACfz6C,YAAa,EACbpQ,UAAW,GACX8qD,UAAU,EACVrE,UAAU,EACV78C,SAAU,KACVmhD,WAAY,GACZ1vC,QAAS,GACTzL,WAA8D,UAAlDzL,OAAOqE,aAAaC,QAAQ,kBACxCuiD,aAAc,GACdj7C,WAA8D,SAAlD5L,OAAOqE,aAAaC,QAAQ,kBACxCwiD,cAAoE,SAArD9mD,OAAOqE,aAAaC,QAAQ,qBAC3C0H,iBAAkB,GAClBi0C,QAAS,GACTuG,YAAY,EACZzvC,QAAS,GACTlL,WAAY,GACZk7C,QAAwD,SAA/C/mD,OAAOqE,aAAaC,QAAQ,eACrC6J,WAAW,EACXwqC,cAAe,OAGnB,IAAM/qC,EAAW,GAIjBtR,KAAK0qD,uBACAnjD,MAAK,SAAA0E,GAIF,OAHAqF,EAAS/R,UAAY0M,EAAO1M,UAC5B+R,EAAS5B,iBAAmBzD,EAAOyD,iBAE5B,IAAIuC,SAAQ,SAAAC,GAGyB,SAFzB,EAAK7K,OAETsjD,aAAaljD,OAAOmjD,KAC3B,EAAKvjD,OAAOc,oBAAoBzE,OAAOuuB,aAClC1qB,MAAK,SAAAhI,GACF,IAAMsrD,IAAkBtrD,EAAU6G,MAAK,SAAAC,GAAI,OAAKA,EAAKoB,OAAOqjD,wBAGxDpnD,OAAOqnD,WAAaF,GAA0C,mBAAzBnnD,OAAO8d,SAASlZ,MACrD0iD,IAAY,CACRC,IAAKvnD,OAAOqnD,UACZG,QAAQ,YAAD,OAAcxnD,OAAOuuB,YAArB,YAAoCk5B,KAC3CC,aAAc,CACV,IAAIC,OAKZ,EAAKhkD,OAAOC,UAAU,oBACjBC,MAAK,SAAA+jD,GACEA,GAAWA,EAAQx3B,QAAUw3B,EAAQx3B,OAAOy3B,MAC5CP,KAAsB,SAAAjO,GAAK,OACvBA,EAAMyO,QAAQ,CAACzsD,GAAIusD,EAAQx3B,OAAOy3B,UAE1Cr5C,QAGRA,OAIZA,UAIX3K,MAAK,kBAAM,EAAKkkD,6BAChBlkD,MAAK,kBAAM,EAAKF,OAAOqkD,cACvBnkD,MAAK,SAAAwiD,GAGF,OAFA,EAAKA,MAAQA,EAAM3nD,KAAI,SAAAoF,GAAG,OAAIA,EAAIG,OAE3B,EAAKgkD,oBAEfpkD,MAAK,SAAAiH,GACE9K,OAAOqE,cAAkE,SAAlDrE,OAAOqE,aAAaC,QAAQ,mBAAkF,UAAlDtE,OAAOqE,aAAaC,QAAQ,mBAE3GqE,OAAOC,KAAKkC,GAASpI,MAAK,SAAArH,GAAE,OAAIA,EAAG6J,WAAW,sBAAyC,WAAjB4F,EAAQnL,UAC9EiO,EAAShC,YAAa,GAG9B,EAAKd,QAAUA,EAEf,IAAImB,EAAc,EAAK7Q,MAAM6Q,YACzB,EAAKi8C,eAAep9C,IACpBmB,IAEJ2B,EAAS3B,YAAcA,EACvB2B,EAAS64C,OAAQ,EACjB,EAAK9iD,OAAOuuC,gBAAgB,WAAY,EAAK+T,kBAC7C,EAAKtiD,OAAOuuC,gBAAgB,mBAAoB,EAAKmL,mBACrD,EAAK15C,OAAOuuC,gBAAgB,gBAAiB,EAAKkU,eAElD,EAAK3qD,SAASmS,Q,iCAK1B,WAAuB,IAAD,OAClB,OAAO,IAAIW,SAAQ,SAACC,EAAS25C,GACzB,IAAI5kC,EAAUzlB,YAAW,WACrBylB,EAAU,KACV,EAAK5f,OAAOykD,cAAZ,yBACsB,EAAK75B,YAD3B,8BAEsB,EAAKA,YAF3B,WAGI,YAEC1qB,MAAK,SAAA4M,GAAK,OAAIjC,EAAQ7F,OAAOC,KAAK6H,GAAO/R,KAAI,SAAArD,GAAE,OAAIoV,EAAMpV,UACzD06B,OAAM,SAAA/3B,GAAC,OAAImqD,EAAOnqD,QACxB,KAEH,OAAO,EAAK2F,OAAOc,oBAAoB,EAAK8pB,aACvC1qB,MAAK,SAAA0E,GACF,GAAIgb,EAGA,OAFA5Q,aAAa4Q,GACbA,EAAU,KACH/U,EAAQjG,MAGtBwtB,OAAM,SAAA/3B,GACCulB,GAAiB,oBAANvlB,IACX2U,aAAa4Q,GACbA,EAAU,KACV4kC,EAAOnqD,Y,kCAM3B,WAAwB,IAAD,OACnB,OAAO1B,KAAKmI,sBACPZ,MAAK,SAAAwkD,GACF,IAAMxsD,EAAYwsD,EAAe3pD,KAAI,SAAAoF,GAAG,OAAItF,SAASsF,EAAIG,IAAI/H,MAAM,KAAKC,UAAQ2I,OAC1EkH,EAAmB,GACzBnQ,EAAUyG,SAAQ,SAAAjH,GAAE,OAAI2Q,EAAiB,kBAAoB,EAAKuiB,YAAc,IAAMlzB,IAAM,KAE5F,IAAMitD,EAAW,GAajB,OAVAzsD,EAAUyG,SAAQ,SAAA/G,GACd,IAAMgtD,EAAU,yBAAqB,EAAKh6B,YAA1B,YAAyChzB,GACnDF,EAAE,UAAMktD,EAAN,UACRD,EAAS1lD,KAAK,EAAKe,OAAOuJ,SAAS7R,GAC9BwI,MAAK,SAAAzI,GACF4Q,EAAiBu8C,KAAcntD,GAAQA,EAAMqS,IAC7C,EAAK9J,OAAO0J,eAAehS,EAAI,EAAK6qD,8BAIzC33C,QAAQi6C,IAAIF,GACdzkD,MAAK,iBAAO,CAAEhI,YAAWmQ,4B,4BAI1C,WAAkB,IAAD,OACb,OAAO1P,KAAKqH,OAAOykD,cAAc,aAAc,mBAAoB,WAC9DvkD,MAAK,SAAAuP,GAAO,OACT,EAAKzP,OAAOykD,cAAc,aAAc,mBAAoB,UACvDvkD,MAAK,SAAAiH,GAEF,OADAnC,OAAOC,KAAKkC,GAASxI,SAAQ,SAAAjH,GAAE,OAAI+X,EAAQ/X,GAAMyP,EAAQzP,MAClD+X,U,qCAI3B,WACI,OAAO9W,KAAKqH,OAAOykD,cAAc,kBAAmB,wBAAyB,WACxEvkD,MAAK,SAAA6pB,GAAQ,OACV,IAAInf,SAAQ,SAAAC,GAAO,OACfsW,GAAc2jC,kBAAkB/6B,GAAU,kBAAMlf,e,gCAehE,SAAmB5C,GACftP,KAAK2V,mBAAmBrG,K,4BAG5B,SAAe88C,GACX,IAAMC,EAAShgD,OAAOC,KAAKtM,KAAKwO,SAC1B89C,EAASjgD,OAAOC,KAAK8/C,GAC3B,GAAIC,EAAO7sD,SAAW8sD,EAAO9sD,OAEzB,OADAQ,KAAKwO,QAAUxO,KAAKosD,YACb,EAEX,GAAIj+C,KAAK8C,UAAUo7C,KAAYl+C,KAAK8C,UAAUq7C,GAE1C,OADAtsD,KAAKwO,QAAUxO,KAAKosD,YACb,EAEX,IAAK,IAAIlmD,EAAI,EAAGA,EAAImmD,EAAO7sD,OAAQ0G,IAAK,CACpC,IAAIqmD,EAAYvsD,KAAKwO,QAAQ69C,EAAOnmD,IAAIuB,OACpC+kD,EAAYJ,EAAWC,EAAOnmD,IAAIuB,OACtC,GAAI8kD,EAAUvtD,OAASwtD,EAAUxtD,KAE7B,OADAgB,KAAKwO,QAAUxO,KAAKosD,YACb,EAEX,GAAIG,EAAU//C,SAAWggD,EAAUhgD,OAE/B,OADAxM,KAAKwO,QAAUxO,KAAKosD,YACb,EAEX,GAAIG,EAAUhgD,aAAeigD,EAAUjgD,WAEnC,OADAvM,KAAKwO,QAAUxO,KAAKosD,YACb,EAEX,GAAIG,EAAUnlD,UAAYolD,EAAUplD,QAEhC,OADApH,KAAKwO,QAAUxO,KAAKosD,YACb,K,sBAKnB,SAASvtD,EAAOqV,EAAOmE,EAASC,GAAc,IAEtCm0C,EAFqC,OAOzC,GANAjmD,QAAQC,IAAR,iBAAsB5H,EAAtB,eAAkCqV,IAElClU,KAAKb,SAAS,CAAEkrD,UAAU,IAItBrqD,KAAKwO,QAAQ3P,IAAuC,WAA7BmB,KAAKwO,QAAQ3P,GAAOwE,KAAmB,CAC9D,IAAMoE,EAAS0G,KAAKC,MAAMD,KAAK8C,UAAUjR,KAAKwO,QAAQ3P,GAAO4I,SAC7DA,EAAOzI,KAAOqZ,GAAW5Q,EAAOzI,UACZmO,IAAhBmL,IACA7Q,EAAO+E,OAAS,6BAA+B8L,GAGnD,IAAM3Y,EAAQuU,EAAMtU,MAAM,KAC1BD,EAAME,MACN,IAAM6sD,EAAW/sD,EAAMG,KAAK,KAExBE,KAAKwO,QAAQk+C,IAA6C,WAAhC1sD,KAAKwO,QAAQk+C,GAAUrpD,OACjD1D,EAAME,MACNqU,EAAQvU,EAAMG,KAAK,KAAO,IAAMoU,EAAMtU,MAAM,KAAKC,OAGrD4sD,EAAUzsD,KAAK2sD,aAAa9tD,EAAOqV,EAAOzM,QAE1CglD,EAAUzsD,KAAK4sD,YAAY/tD,EAAOqV,EAAOmE,GAG7Co0C,EACKllD,MAAK,kBAAM,EAAKpI,SAAS,CAAEkrD,UAAU,OACrC5wB,OAAM,SAAA5oB,GAAG,MAAY,aAARA,GAAsB,EAAK2E,UAAU3E,Q,yBAG3D,SAAY9R,EAAImV,EAAOmE,EAASw0C,GAAQ,IAAD,OACnC,GAAKA,EAoCE,IAAIA,EAAMrtD,OAAQ,CACrB,IAAIstD,EAAMD,EAAMhtD,MAEhB,OAAOG,KAAKqH,OAAOC,UAAUwlD,GACxBvlD,MAAK,SAAAC,GAAG,OACL,EAAKH,OAAO0lD,UAAUD,GACjBrzB,OAAM,eACNlyB,MAAK,WAKF,OAJAulD,EAAM54C,EAAQ44C,EAAIn8C,UAAU5R,EAAGS,QAC/BgI,EAAIG,IAAMmlD,EACVtlD,EAAIC,OAASD,EAAIC,QAAU,GAC3BD,EAAIC,OAAOulD,QAAS,EACb,EAAK3lD,OAAOK,UAAUolD,EAAKtlD,MAErCD,MAAK,kBAAM,EAAKqlD,YAAY7tD,EAAImV,EAAOmE,EAASw0C,SAG7D,OAAO56C,QAAQC,UA9Cf,OANA26C,EAAQ,GAIRA,EAAQxgD,OAAOC,KAAKtM,KAAKwO,SAAS1G,QAAO,SAAAH,GAAG,OAAIA,EAAIiB,WAAW7J,EAAK,QAE7DiB,KAAKqH,OAAOC,UAAUvI,GACxBwI,MAAK,SAAAC,IACFA,EAAMA,GAAO,CAAEC,OAAQ,KACnBA,OAAOzI,KAAOqZ,GAAW7Q,EAAIC,OAAOzI,MAAQD,EAAGa,MAAM,KAAKC,MAC9D2H,EAAIG,IAAMuM,EAEV,EAAK7M,OAAO0lD,UAAUhuD,GACjB06B,OAAM,eACNlyB,MAAK,kBAAM,EAAKF,OAAOK,UAAUwM,EAAO1M,MACxCD,MAAK,kBAAM,EAAKqlD,YAAY7tD,EAAImV,EAAOmE,EAASw0C,MAChDpzB,OAAM,SAAA/3B,GACH8E,QAAQC,IAAI/E,SAGvB+3B,OAAM,SAAA/3B,GACH8E,QAAQC,IAAI/E,GACZ,IAAM8F,EAAM,CACRG,IAAKuM,EACL7Q,KAAM,UACNoE,OAAQ,CACJzI,KAAMqZ,GAAWtZ,EAAGa,MAAM,KAAKC,MAC/BmtD,QAAQ,GAEZl5B,OAAQ,IAGZ,OAAO,EAAKzsB,OAAOK,UAAUwM,EAAO1M,GAC/BD,MAAK,kBAAM,EAAKqlD,YAAY7tD,EAAImV,EAAOmE,EAASw0C,W,4BAuBrE,SAAe9tD,EAAI0I,GAAS,IAAD,OACnBzH,KAAKwO,QAAQzP,IAAiC,WAA1BiB,KAAKwO,QAAQzP,GAAIsE,MACrCrD,KAAK2sD,aAAa5tD,EAAIA,EAAI0I,GACrBF,MAAK,eACLkyB,OAAM,SAAA5oB,GAAG,MAAY,aAARA,GAAsB,EAAK2E,UAAU3E,Q,sBAI/D,SAAS1H,GAAW,IAAD,OACXnJ,KAAKwO,QAAQrF,IAAanJ,KAAKwO,QAAQrF,GAAU1B,QAA0C,WAAhCzH,KAAKwO,QAAQrF,GAAU9F,MAClFrD,KAAKb,SAAS,CAAEgK,WAAUohD,aAAcphD,IAAY,kBAChD3H,YAAW,kBAAM,EAAKrC,SAAS,CAAEorD,aAAc,UAAQ,O,gCAInE,SAAmBj7C,GACXtP,KAAKlB,MAAMwQ,aAAeA,IAC1B5L,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,iBAAkBsF,EAAa,OAAS,SAC3FtP,KAAKb,SAAS,CAAEmQ,kB,uBAIxB,SAAUuB,GACN7Q,KAAKb,SAAS,CAAE+P,UAAW2B,EAAMA,EAAIhF,WAAa,O,yBAGtD,SAAY4O,GACRza,KAAKb,SAAS,CAAEsb,QAASA,EAAUA,EAAQ5O,WAAa,O,sBAG5D,SAAS9M,GAAK,IAAD,OACTiB,KAAKqH,OAAO0lD,UAAUhuD,GACjBwI,MAAK,eACLkyB,OAAM,SAAA5oB,GAAG,OACN,EAAK2E,UAAU3E,Q,oBAG3B,SAAO9R,GACCiB,KAAKlB,MAAMqK,WAAapK,GACxBiB,KAAKb,SAAS,CAAEgK,SAAUpK,M,sBAIlC,SAASA,EAAIC,EAAMiuD,EAAUhuD,EAAUoE,EAAM4Q,GAAS,IAAD,OAC3Ci5C,EAAM,IAAIC,OAAJ,WAAepuD,EAAf,QAEZ,GAAIsN,OAAOC,KAAKtM,KAAKwO,SAASpI,MAAK,SAAAuB,GAAG,OAAI5I,IAAO4I,GAAOulD,EAAIrvC,KAAK9e,MAC7D,OAAOiB,KAAKwV,UAAU/U,IAAKC,EAAE,gBAG7BusD,EACAjtD,KAAKqH,OAAOK,UAAU3I,EAAI,CACtB0I,OAAQ,CACJzI,OACAguD,QAAQ,GAEZ3pD,KAAM,YAELkE,MAAK,kBACF/F,YAAW,kBAAM,EAAKrC,SAAS,CAAEorD,aAAcxrD,IAAM,kBACjDyC,YAAW,kBAAM,EAAKrC,SAAS,CAAEorD,aAAc,UAAQ,OAAM,QACpE9wB,OAAM,SAAA5oB,GAAG,OAAI,EAAK2E,UAAU3E,MAEjC7Q,KAAKqH,OAAOK,UAAU3I,EAAI,CACtB0I,OAAQ,CACJzI,OACAguD,QAAQ,EACRzgD,WAAYlJ,EACZmJ,OAAQ,8BAAgCvN,GAAY,GACpDgV,OAAQA,GAAU,GAClBuJ,OAAO,EACPslC,SAAS,GAEbz/C,KAAM,WAELkE,MAAK,kBAAM/F,YAAW,kBAAM,EAAK4rD,SAASruD,KAAK,QAC/C06B,OAAM,SAAA5oB,GAAG,OAAI,EAAK2E,UAAU3E,Q,0BAIzC,SAAahS,EAAOqV,EAAOm5C,GAAY,IAAD,OAClC,OAAOrtD,KAAKqH,OAAOC,UAAUzI,GACxB0I,MAAK,SAAA+lD,GACF,IAAM9lD,EAAM,CAAEC,OAAQ,IAUtB,YARyB0F,IAArBkgD,EAAU7gD,SAAsBhF,EAAIC,OAAO+E,OAAS6gD,EAAU7gD,aACxCW,IAAtBkgD,EAAUjmD,UAAuBI,EAAIC,OAAOL,QAAUimD,EAAUjmD,cAC3C+F,IAArBkgD,EAAUp5C,SAAsBzM,EAAIC,OAAOwM,OAASo5C,EAAUp5C,aAC1C9G,IAApBkgD,EAAU7vC,QAAqBhW,EAAIC,OAAO+V,MAAQ6vC,EAAU7vC,YACtCrQ,IAAtBkgD,EAAUvK,UAAuBt7C,EAAIC,OAAOq7C,QAAUuK,EAAUvK,SAEpEt7C,EAAI2b,KAAO,yBAEPtkB,IAAUqV,GAASo5C,GAAQA,EAAK7lD,QAAU4lD,EAAUruD,OAASsuD,EAAK7lD,OAAOzI,MACpEquD,EAAU9gD,YAAc8gD,EAAU9gD,aAAe+gD,EAAK7lD,OAAO8E,iBACjCY,IAAzBkgD,EAAU9gD,aACV/E,EAAIC,OAAO8E,WAAa8gD,EAAU9gD,YAAc,iBAIjD,EAAKlF,OAAOkmD,aAAa1uD,EAAO2I,IAQnC8lD,GAAQA,EAAK7lD,QACb6lD,EAAK7lD,OAAO8E,WAAa8gD,EAAU9gD,YAAc+gD,EAAK7lD,OAAO8E,YAAc,gBACpE,EAAKlF,OAAO0lD,UAAUluD,GACxB0I,MAAK,gBACwB4F,IAAtB3F,EAAIC,OAAO+E,SAAsB8gD,EAAK7lD,OAAO+E,OAAShF,EAAIC,OAAO+E,aAC1CW,IAAvB3F,EAAIC,OAAOL,UAAuBkmD,EAAK7lD,OAAOL,QAAUI,EAAIC,OAAOL,cAC7C+F,IAAtB3F,EAAIC,OAAOwM,SAAsBq5C,EAAK7lD,OAAOwM,OAASzM,EAAIC,OAAOwM,aAC7C9G,IAApB3F,EAAIC,OAAOzI,OAAoBsuD,EAAK7lD,OAAOzI,KAAOwI,EAAIC,OAAOzI,WACxCmO,IAArB3F,EAAIC,OAAO+V,QAAqB8vC,EAAK7lD,OAAO+V,MAAQhW,EAAIC,OAAO+V,YACxCrQ,IAAvB3F,EAAIC,OAAOq7C,UAAuBwK,EAAK7lD,OAAOq7C,QAAUt7C,EAAIC,OAAOq7C,gBAEhEwK,EAAKE,KAGZF,EAAK7lD,OAAOzI,KAAOquD,EAAUruD,KAC7BsuD,EAAK7lD,OAAOulD,QAAS,EAErBM,EAAK3lD,IAAMuM,EAEX,EAAK7M,OAAOK,UAAUwM,EAAOo5C,SAGrCA,EAAO9lD,GAINC,OAAOzI,KAAOquD,EAAUruD,KAC7BsuD,EAAK7lD,OAAOulD,QAAS,EAErBM,EAAK3lD,IAAMuM,EAEJ,EAAK7M,OAAOK,UAAUwM,EAAOo5C,S,6BAKpD,SAAgBvuD,EAAIqI,GAAU,IAAD,OACzB,GAAIpH,KAAKwO,QAAQzP,IAAiC,WAA1BiB,KAAKwO,QAAQzP,GAAIsE,KAAmB,CACxD,IAAMoE,EAASzH,KAAKwO,QAAQzP,GAAI0I,OAChCA,EAAOL,QAAUA,EACjBK,EAAOulD,QAAS,EAChBhtD,KAAK2sD,aAAa5tD,EAAIA,EAAI0I,GACrBgyB,OAAM,SAAA5oB,GAAG,MAAY,aAARA,GAAsB,EAAK2E,UAAU3E,S,yBAI/D,SAAYP,EAAIu8C,GAAQ,IAAD,OAKnB,GAJKA,IACDA,EAAQ7sD,KAAK+pD,MAAL,YAAiB/pD,KAAK+pD,OAAS,IAGvC8C,EAAMrtD,OAAQ,CACd,IAAMT,EAAK8tD,EAAMr8C,QACjBxQ,KAAKqH,OAAOuJ,SAAS7R,EAAK,UACrBwI,MAAK,SAAAzI,GACEA,GAASA,EAAMqS,IACfb,EAAGvR,GAEHyC,YAAW,kBAAM,EAAKisD,YAAYn9C,EAAIu8C,cAIlDv8C,M,sBAIR,WAAY,IAAD,OACPtQ,KAAKytD,aAAY,SAAAnlD,GACb,IAAKA,EACD,OAAO,EAAKkN,UAAU/U,IAAKC,EAAE,yBAGjC,IAAMuZ,EAAI,IAAIgB,KACVD,EAAOf,EAAEyzC,cACT14C,EAAIiF,EAAE0zC,WAAa,EACnB34C,EAAI,KACJA,EAAI,IAAMA,GAEdgG,GAAQ,IAAMhG,GACdA,EAAIiF,EAAE2zC,WACE,KACJ54C,EAAI,IAAMA,GAEdgG,GAAQ,IAAMhG,EAAI,IAElB,EAAK3N,OAAOwmD,eAAeC,KAAK,aAAcxlD,EAAM,mBAAoB,CACpED,QAAS,aACTtJ,GAAI,YACJgvD,KAAM/yC,EAAO,gBACd,SAAAjP,GACC,GAAoB,kBAATA,EAAmB,CAE1B,IAAMtD,EAAIwT,SAASC,cAAc,KAE3Bvc,EAAQoM,EAAKnM,MAAM,SACzB6I,EAAEy7C,KAAO,QAAUvkD,EAAM,GAAK,IAAMA,EAAM,GAC1Csc,SAASE,KAAKC,YAAY3T,GAC1BA,EAAEulD,QACFvlD,EAAEwlD,cAGF,GADAliD,EAAKtG,OAAS,EAAK+P,UAAUzJ,EAAKtG,OAC9BsG,EAAKA,KAAM,CACX,IAAMtD,EAAIwT,SAASC,cAAc,KACjCzT,EAAEy7C,KAAO,gCAAkCn4C,EAAKA,KAChDtD,EAAEylD,SAAWlzC,EAAO,cACpBiB,SAASE,KAAKC,YAAY3T,GAC1BA,EAAEulD,QACFvlD,EAAEwlD,kB,sBAOtB,SAASliD,GACL/L,KAAKkqD,WAAan+C,EACdA,GACA/L,KAAK0jD,gBAAkB1jD,KAAKmuD,kBAAkB99C,KAAKrQ,MACnDA,KAAKb,SAAS,CAAE+qD,YAAY,EAAOvG,QAASljD,IAAKC,EAAE,4CAEnDV,KAAKb,SAAS,CAAE+qD,YAAY,M,+BAIpC,SAAkB3G,GAAK,IAAD,OACdx3C,EAAO/L,KAAKkqD,WAChBlqD,KAAKkqD,WAAa,KACd3G,GAAMx3C,IACNA,EAAOA,EAAKnM,MAAM,KAAK,GACvBI,KAAKytD,aAAY,SAAAnlD,GACRA,EAIL,EAAKjB,OAAOwmD,eAAeC,KAAK,aAAcxlD,EAAM,oBAAqB,CACrEyD,KAAMA,EACN1D,QAAS,aACTtJ,GAAI,cACL,SAAAgN,GACc,oBAATA,EACA,EAAKyJ,UAAU/U,IAAKC,EAAEqL,KACdA,GAAQA,EAAKtG,MACrB,EAAK+P,UAAUzJ,EAAOtL,IAAKC,EAAEqL,EAAKtG,OAAShF,IAAKC,EAAE,kBAElD,EAAK0tD,YAAY3tD,IAAKC,EAAE,YAb5B,EAAK8U,UAAU/U,IAAKC,EAAE,+B,6BAoBtC,WACIgD,OAAOqE,cAAgBrE,OAAOqE,aAAaiC,QAAQ,oBAAqBhK,KAAKlB,MAAM0rD,cAAgB,QAAU,QAC7GxqD,KAAKb,SAAS,CAAEqrD,eAAgBxqD,KAAKlB,MAAM0rD,kB,0BAG/C,WAAgB,IAAD,OACLhE,EAAmBn6C,OAAOC,KAAKtM,KAAKwO,SAAS6/C,QAAO,SAACC,EAAKvvD,GAAN,OACtDuvD,GAA8C,UAAvC,EAAK9/C,QAAQzP,GAAI0I,OAAO8E,WAAyB,EAAI,KAAI,GAEpE,OAAO,eAAC,GAAD,CAEHsF,UAAW7R,KAAKlB,MAAM+S,UACtBgzC,kBAAmB,SAAA1jD,GACVA,EAGD,EAAKhC,SAAS,CAAC0S,WAAW,IAF1B,EAAK1S,SAAS,CAAC0S,WAAW,EAAOwqC,cAAe,QAKxDqF,SAAU1hD,KAAKlB,MAAMknD,SACrB3+C,OAAQrH,KAAKqH,OACb4qB,YAAajyB,KAAKiyB,YAClBizB,SAAU,SAAAqF,GAAY,OAAI,EAAKprD,SAAS,CAAEorD,kBAC1C76C,iBAAkB1P,KAAKlB,MAAM4Q,iBAC7BP,WAAYnP,KAAKlB,MAAMqQ,WACvBI,WAAYvP,KAAKlB,MAAMyQ,WACvBmX,UAAW1mB,KAAKlB,MAAM4nB,UACtB/X,UAAW3O,KAAKlB,MAAM6P,UACtB5L,MAAO/C,KAAKlB,MAAMiE,MAClBuM,WAAYtP,KAAKlB,MAAMwQ,WACvB7N,SAAU,SAAC1C,EAAI0I,GAAL,OAAgB,EAAK8mD,eAAexvD,EAAI0I,IAClD++C,iBAAkBA,EAClBnK,cAAer8C,KAAKlB,MAAMu9C,cAC1BqG,iBAAkB,SAAC3jD,EAAI6b,GACnB,IAAMtJ,EAAW,GACbJ,GAAU,EACVnS,IAAO,EAAKD,MAAMqK,WAClB+H,GAAU,EACVI,EAASnI,SAAWpK,GAEpBoP,KAAK8C,UAAU2J,KAAazM,KAAK8C,UAAU,EAAKnS,MAAM8b,WACtD1J,GAAU,EACVI,EAASsJ,QAAUzM,KAAKC,MAAMD,KAAK8C,UAAU2J,KAEjD1J,GAAW,EAAK/R,SAASmS,IAE7BqtC,UAAW,SAAA5/C,GAAE,OAAI,EAAKsI,OAAOkmD,aAAaxuD,EAAI,CAAE0I,OAAQ,CAAEL,SAAS,MACnE+B,SAAUnJ,KAAKlB,MAAMqK,UAAYnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,WAAwD,WAA3CnJ,KAAKwO,QAAQxO,KAAKlB,MAAMqK,UAAU9F,KAAoBrD,KAAKlB,MAAMqK,SAAW,GAClJwP,QAAS3Y,KAAKwO,QACdjP,UAAWS,KAAKlB,MAAMS,WAvClB,Y,2BA2CZ,WAAiB,IAAD,OACZ,OAAO,sBAEH6E,MAAO3D,IAAKC,EAAE,aACdmD,UAAW7D,KAAKxB,MAAMsF,QAAQ0qD,cAC9B/rD,QAAS,WACLiB,OAAOqE,aAAaiC,QAAQ,cAAe,SAC3C,EAAK7K,SAAS,CAAEsrD,SAAS,EAAOzE,UAAU,IAC1CxkD,YAAW,kBAAM,EAAKrC,SAAS,CAAE6mD,UAAU,MAAU,MAPtD,SAUH,eAAC,IAAD,KATI,a,+BAaZ,WAAqB,IAAD,OAChB,OAAOhmD,KAAKlB,MAAMoQ,UACd,eAAC,GAAD,CAEIxQ,QAAS,kBAAM,EAAKS,SAAS,CAAE+P,UAAW,MAC1C3K,KAAMvE,KAAKlB,MAAMoQ,WAFb,eAIR,O,wBAGR,WAAc,IAAD,OACDpL,EAAY9D,KAAKxB,MAAjBsF,QACR,MAAO,CACH9D,KAAKlB,MAAM2b,QAAU,eAAC,IAAD,CAAmC/b,QAAS,kBAAM,EAAKS,SAAS,CAAEsb,QAAS,MAAOlW,KAAMvE,KAAKlB,MAAM2b,SAAhF,iBAA8F,KACtIza,KAAK2wB,oBACL3wB,KAAKlB,MAAMorD,WAAa,eAAC,GAAD,CAAyCxrD,QAAS,SAAAqN,GAAI,OAAI,EAAK8J,SAAS9J,KAAlD,oBAA8D,KAC5G/L,KAAKlB,MAAM6kD,QAAU,eAAC,IAAD,CAEjBjlD,QAAS,SAAAuN,GACL,EAAKnN,MAAM6kD,SAAW,EAAKxkD,SAAS,CAAEwkD,QAAS,KAC/C,EAAKD,iBAAmB,EAAKA,gBAAgBz3C,GAC7C,EAAKy3C,gBAAkB,MAE3Bn/C,KAAMvE,KAAKlB,MAAM6kD,SANb,iBAM2B,KACnC,uBAAK9/C,UAAWC,EAAQ+f,QAAU,uBAAlC,UACI,sBAAqBhgB,UAAWC,EAAQ2qD,oBAAqBhsD,QAAS,WAClEiB,OAAOqE,aAAaiC,QAAQ,iBAAkB,EAAKlL,MAAMqQ,WAAa,QAAU,QAChF,EAAKhQ,SAAS,CAAEgQ,YAAa,EAAKrQ,MAAMqQ,WAAY62C,UAAU,IAC9DxkD,YAAW,kBAAM,EAAKrC,SAAS,CAAE6mD,UAAU,MAAU,MAHzD,SAKKhmD,KAAKlB,MAAMqQ,WAAa,eAAC,IAAD,IAAqB,eAAC,IAAD,KALzC,aAOT,gBAAC,IAAD,CAEI6rC,UAAWh7C,KAAKlB,MAAM0rD,cACtBzP,eAAgB,IAChBE,qBAAsBj7C,KAAKlB,MAAM2rD,QAAU,EAAIzqD,KAAKgqD,QAEpD0E,YAAa,kBAAM,EAAKvvD,SAAS,CAAE6mD,UAAU,KAC7C9K,0BAA2B,SAAAz2C,GAAI,OAAI,EAAK3F,MAAM2rD,QAAU,EAAI,EAAKT,QAAUjkB,WAAWthC,IACtF02C,UAAW,WACP,EAAKh8C,SAAS,CAAE6mD,UAAU,IAC1BtiD,OAAOqE,aAAaiC,QAAQ,cAAe,EAAKggD,QAAQn+C,aAVhE,UAaI,uCACK7L,KAAK2uD,gBACJ3uD,KAAKlB,MAAM+S,WAAa7R,KAAKlB,MAAM2rD,SAAWzqD,KAAKwuD,oBAEvDxuD,KAAKlB,MAAM+S,YAAc7R,KAAKlB,MAAM2rD,SAAW,eAAC,GAAD,CAE7CxtC,gBAAiBjd,KAAKlB,MAAM0rD,cAC5BztC,eAAgB,kBAAM,EAAK6xC,mBAC3Bh0C,QAAS5a,KAAKlB,MAAM8b,QACpBvT,OAAQrH,KAAKqH,OACb8B,SAAUnJ,KAAKlB,MAAMqK,SACrB+T,UAAW,WACPxZ,OAAOqE,aAAaiC,QAAQ,cAAe,QAC3C,EAAK7K,SAAS,CAAEsrD,SAAS,EAAMzE,UAAU,IACzCxkD,YAAW,kBAAM,EAAKrC,SAAS,CAAE6mD,UAAU,MAAU,OATrD,SAjBJ,oBATkD,W,oBA2CtE,WAAU,IAAD,OACGliD,EAAY9D,KAAKxB,MAAjBsF,QAER,OAAK9D,KAAKlB,MAAMqrD,MAKT,sBAAKtmD,UAAWC,EAAQ6C,KAAxB,SACH,eAAC,GAAD,CAAgBU,OAAQrH,KAAKqH,OAA7B,SACI,gBAAC,IAAD,CAEI2zC,UAAU,EACVD,eAAgB,IAChBF,aAAc,EACdC,iBAAkB,IAClBG,qBAAsBj7C,KAAKiqD,SAC3BtP,gBAAiB72C,EAAQ+qD,aAAe,KAAQ7uD,KAAKlB,MAAMqQ,WAA0C,GAA7BrL,EAAQgrD,oBAChFJ,YAAa,kBAAM,EAAKvvD,SAAS,CAAE6mD,UAAU,KAC7C9K,0BAA2B,SAAAz2C,GAAI,OAAI,EAAKwlD,SAAWlkB,WAAWthC,IAC9D02C,UAAW,WACP,EAAKh8C,SAAS,CAAE6mD,UAAU,IAC1BtiD,OAAOqE,aAAaiC,QAAQ,eAAgB,EAAKigD,SAASp+C,aAZlE,UAeI,sBAAKhI,UAAWC,EAAQirD,QAAxB,SACI,eAACC,GAAD,CACIn9C,UAAW7R,KAAKlB,MAAM+S,UACtBuF,gBAAiB,SAAArL,GAEb,EAAK5M,SAAS,CAACk9C,cAAetwC,EAAM8F,YAAa9F,KAGrDyC,QAASxO,KAAKwO,QACdmB,YAAa3P,KAAKlB,MAAM6Q,YACxBpQ,UAAWS,KAAKlB,MAAMS,UACtB0vD,OAAQjvD,KAAKlB,MAAMsrD,cACnBxrD,SAAUoB,KAAKpB,SAASyR,KAAKrQ,MAC7BotD,SAAUptD,KAAKotD,SAAS/8C,KAAKrQ,MAC7BqH,OAAQrH,KAAKqH,OACb0R,SAAU/Y,KAAKlB,MAAMyrD,aACrBv4C,OAAQhS,KAAKgS,OAAO3B,KAAKrQ,MACzBsP,WAAYtP,KAAKlB,MAAMwQ,WACvBoX,UAAW1mB,KAAKlB,MAAM4nB,UACtB/X,UAAW3O,KAAKlB,MAAM6P,UACtBmH,cAAe,SAAAnH,GACXorB,IAAMm1B,aAAavgD,GACnB,IAAM+X,EAAYqT,IAAMo1B,aAAaxgD,GACrC,EAAKxP,SAAS,CAAEwP,YAAW+X,cAAa,kBAAM,EAAKloB,MAAMsX,cAAcnH,OAE3Ee,iBAAkB1P,KAAKlB,MAAM4Q,iBAC7BiG,mBAAoB3V,KAAK2V,mBAAmBtF,KAAKrQ,MACjDiD,SAAUjD,KAAKiD,SAASoN,KAAKrQ,MAC7BgW,SAAUhW,KAAKgW,SAAS3F,KAAKrQ,MAC7B+R,gBAAiB/R,KAAK+R,gBAAgB1B,KAAKrQ,MAC3C4V,SAAU5V,KAAK4V,SAASvF,KAAKrQ,MAC7BgB,MAAOhB,KAAKiqD,SACZp0C,SAAU,kBAAM,EAAK1W,SAAS,CAAE+qD,YAAY,KAC5C3zC,SAAU,SAAAhH,GAAU,OAAI,EAAKpQ,SAAS,CAAEoQ,iBA1BpC,aAPyB,QAoCpCvP,KAAKovD,eAlDF,oBANL,eAAC,IAAD,CAAQrsD,MAAO/C,KAAKlB,MAAM4nB,gB,GAj0B3B2oC,KAg4BHvsD,gBA19BA,SAAAC,GAAK,MAAK,CACrB4D,KAAM,CACF2oD,SAAU,EACVtqD,QAAS,OACThE,MAAO,OACPiE,OAAQ,QAEZsqD,QAAS,CACLl9C,SAAU,UAEdw8C,aAAc,CACV,QAAS,CACLx8C,SAAU,SACVrR,MAAO,OACPiE,OAAQ,QAEZ,qBAAsB,CAClB6B,WAAmC,SAAvB/D,EAAMgE,QAAQ1D,KAAkB,UAAY,UAGhE0rD,QAAS,CACL/tD,MAAO,OACPiE,OAAQ,OACRoN,SAAU,UAUdwR,QAAS,CACL7iB,MAAO,OACPiE,OAAQ,OACR8U,gBAAiBhX,EAAMgE,QAAQD,YAAc/D,EAAMgE,QAAQD,WAAW29B,QACtEt6B,SAAU,YAEdqlD,oBAAqB,CACjBxuD,MAAM,qBACNiE,OAAQ,QAEZ6pD,mBAAoB,CAChB,oBAAqB,CACjB9pD,QAAS,QAEb,qBAAsB,CAClBA,QAAS,SAGjByqD,SAAU,CACN7tD,OAAQ,KAEZ6sD,oBAAqB,CACjBtkD,SAAU,WACVid,KAAM,EACN7N,aAAc,cACdH,IAAK,EACLO,WAAY,EACZ7G,OAAQ,UACRqT,OAAQ,EACRlhB,OAAQ,GACRjE,MAAO,GACP8F,WAAY/D,EAAMgE,QAAQiyC,UAAUhyC,KACpCtE,MAAOK,EAAMgE,QAAQyC,QAAQxC,KAC7B6S,YAAa,EACb,UAAW,CACPnX,MAAO,UAGf8rD,cAAe,CACXrkD,SAAU,WACVgP,MAAO,EACPI,aAAc,cACd2M,OAAQ,EACRvM,WAAY,EACZ7G,OAAQ,UACRqT,OAAQ,GACRlhB,OAAQ,GACRjE,MAAO,GACP8F,WAAY/D,EAAMgE,QAAQiyC,UAAUhyC,KACpCtE,MAAOK,EAAMgE,QAAQyC,QAAQxC,KAC7B6S,YAAa,EACb,UAAW,CACPnX,MAAO,aAq4BJI,CAAmBwmD,IC1+Bdz1B,QACW,cAA7BnwB,OAAO8d,SAASkuC,UAEe,UAA7BhsD,OAAO8d,SAASkuC,UAEhBhsD,OAAO8d,SAASkuC,SAASj/C,MACvB,2D,mCCJN/M,OAAOuuB,YAAc,aACrBvuB,OAAOqnD,UAAY,kEAEnB,IAAIp8C,GAAYorB,IAAMI,eAEtB3zB,QAAQC,IAAI,YAAc/C,OAAOuuB,YAAc,IAAMk5B,IAAU,iBAAmBx8C,GAAY,KAE9F,SAASghD,IACL,IAAMxgB,EAAWzrC,OAAO0rC,WAAa,IACrC,OAAOwgB,IAAS9yB,OAAO,eAAC,IAAD,CAAkB/5B,MAAOA,KAAM4L,IAA/B,SACnB,eAACkhD,EAAA,EAAD,CAAa93C,QAASo3B,EAAW2gB,KAAe93C,IAAhD,SACI,eAAC,GAAD,CAAKlC,cAAe,SAAAi6C,GAChBphD,GAAYohD,EACZJ,WAGS1zC,SAASsK,eAAe,SAIjDopC,GD2FM,kBAAmBK,WACrBA,UAAUC,cAAc9F,MAAM5iD,MAAK,SAAA2oD,GACjCA,EAAaC,iB,mBE9HnB9xD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,sBAAwB,qCAAqC,QAAU,uBAAuB,UAAY,yBAAyB,WAAa,0BAA0B,WAAa,0BAA0B,YAAc,2BAA2B,iBAAmB,gCAAgC,aAAe,4BAA4B,aAAe,4BAA4B,YAAc,2BAA2B,aAAe,4BAA4B,mBAAqB,kCAAkC,aAAe,4BAA4B,mBAAqB,kCAAkC,iBAAmB,mC","file":"static/js/main.88fe6c09.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__En4yZ\",\"cardStyleActive\":\"style_cardStyleActive__187bW\",\"controlMenu\":\"style_controlMenu__oxVbO\",\"closeBtn\":\"style_closeBtn__3-sjr\",\"isDelete\":\"style_isDelete__3kqXw\",\"drag_mobile\":\"style_drag_mobile__2AUNF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__255ne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__6pK17\",\"nameCard\":\"style_nameCard__36uE-\",\"cardStyleActive\":\"style_cardStyleActive__3GUtE\",\"iconThemCard\":\"style_iconThemCard__35NqD\",\"iconThemCardSelectable\":\"style_iconThemCardSelectable__3X-i1\",\"iconHelp\":\"style_iconHelp__3PxY4\",\"inputCard\":\"style_inputCard__2XCXj\",\"blockName\":\"style_blockName__1uBrS\",\"controlMenu\":\"style_controlMenu__3mX61\",\"closeBtn\":\"style_closeBtn__2SQuj\",\"controlMenuTop\":\"style_controlMenuTop__1p2x_\",\"debugInfo\":\"style_debugInfo__8hlHY\",\"fadeIn\":\"style_fadeIn__2OTyl\",\"tagCard\":\"style_tagCard__2WCVB\",\"displayFlex\":\"style_displayFlex__3TrhK\",\"blockMarginTop\":\"style_blockMarginTop__1pL9O\",\"nameBlock\":\"style_nameBlock__bnJAd\",\"frontText\":\"style_frontText__3O6fy\",\"backText\":\"style_backText__mOiyG\",\"iconTag\":\"style_iconTag__3EK_R\",\"displayItalic\":\"style_displayItalic__119bW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperRules\":\"style_wrapperRules__3DNwp\",\"rootWrapper\":\"style_rootWrapper__2cFm6\",\"addClass\":\"style_addClass__3uJXJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchesItem\":\"style_switchesItem__35NpY\",\"switchesItemActive\":\"style_switchesItemActive__JBB7t\",\"iconTheme\":\"style_iconTheme__2s6Vo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__17MaZ\",\"square\":\"style_square__2rgh5\",\"icon\":\"style_icon__2F-fY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__3SOXS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContentWrapper\":\"style_modalContentWrapper__1fidG\",\"modalButtonBlock\":\"style_modalButtonBlock__1i7xx\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__pCk6I\",\"modalWrapper\":\"style_modalWrapper__1tJVc\",\"modalDialog\":\"style_modalDialog__18EnX\",\"close\":\"style_close__1mJsJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2amb7\",\"mark\":\"style_mark__2KZXn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drag\":\"style_drag__2v6eq\",\"root\":\"style_root__NOUQz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__3pGbg\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__1K8KO\",\"animate\":\"hamburgerMenu_animate__kbuoJ\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__Kip1N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__3WTzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__oQ57I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1sZR9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__zT3iL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"style_border__1uR3Q\",\"emptyBlockStyle\":\"style_emptyBlockStyle__2LCnI\",\"emptyBlock\":\"style_emptyBlock__3N0r1\",\"marginTop\":\"style_marginTop__1uqeZ\",\"selectOnChange\":\"style_selectOnChange__2z1Tv\",\"selectOnChangeHelp\":\"style_selectOnChangeHelp__1dUvH\",\"selectOnChangeHelpIcon\":\"style_selectOnChangeHelpIcon__3NKlM\",\"emptyBlockNone\":\"style_emptyBlockNone__2cUD4\",\"mainBlockItemRules\":\"style_mainBlockItemRules__JS12m\",\"nameBlockItems\":\"style_nameBlockItems__p3QAM\",\"contentBlockItem\":\"style_contentBlockItem__3RFNn\",\"wrapperMargin\":\"style_wrapperMargin__2v407\",\"contentHeightOn\":\"style_contentHeightOn__sSvuz\",\"heightBlock\":\"style_heightBlock__1Zc8x\",\"contentHeightOff\":\"style_contentHeightOff__3aC04\",\"cardAdd\":\"style_cardAdd__uMTmS\",\"blockCardAdd\":\"style_blockCardAdd__2mrSO\",\"addClassOverflow\":\"style_addClassOverflow__1i5CZ\",\"addClassHeight\":\"style_addClassHeight__2ddvq\"};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowODYwNDk3ZS1kM2NmLTQ4NjktOTJkMy1lZDdhMWJhZjRjNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphZGNhYzk5MC01NDk0LTMxNGEtOGUzOS0yMjM3MGIzYTc1NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZGJiZjliOC1lOThkLTQ1YmQtOWZlMS00Njk4NjZkODdiYmUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2RiYmY5YjgtZTk4ZC00NWJkLTlmZTEtNDY5ODY2ZDg3YmJlIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n});\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        style={{width: '100%'}}\n                        id=\"standard-name\"\n                        autoFocus\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <TextField\n                        id=\"standard-name-id\"\n                        style={{width: '100%'}}\n                        label={I18n.t('ID')}\n                        value={this.state.id}\n                        disabled={true}\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance'}}\n                                >\n                                    {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                </Select>\n                            </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default withStyles(styles)(DialogRename);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n\n});\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n            <DialogContent>\n                <IconDelete/>\n                <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    },\n    complexity: {\n        fontWeight: 'bold',\n        fontStyle: 'italic',\n        marginBottom: theme.spacing(1),\n    }\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (!html.includes('javascript.md') && (lang === 'de' || lang === 'ru')) {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for programmers')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getTSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for professionals')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('normal')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n\n    getRulesCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('easy')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Rules description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n            <DialogContent style={{textAlign: 'center'}}>\n                {this.getRulesCard()}\n                {this.getBlocklyCard()}\n                {this.getJSCard()}\n                {this.getTSCard()}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAWGSURBVHhe7d3La1xlHMbxttKKdCVUVMSdSxFX/gG6cdF/wo0bV+JCqK03Qq3gQgvdiBcUVyIUi6iICoKIStObljbG0pttsGlsU5tOJjc99fyIwzczc97zm/POeWfO8/DZPO15L5z+oKFpkk2bdh0WiY5dJAZ2kRjYRWJgF4mBXSQGdpEY2EViYBeJgV0kBnaRGNhFYmAXiYFdJAZ2kRjYRWJgF4mBXSQGdpEY2EViYJcGePL93947PPvTxZtTs60TM7e+mp7f/8OfT7x7Go9Vib3Z/kk4860V3LaUj45etY3CMvHtZewwEPZms3ecZP5edM6ZrfcGuzmxN5u92iSz0F7FbQvZyoGzuraGnUtjbzZ7r0mmtVRizu7de8yWVRccUQ57s9kbTTLtldA5+3r6uq2pOlt3T+KsUOzNZq8zySyvBv3ldebqLVsQJ5s3nBiEvdnsXSaZkA+SdkwctadjBocGYW82e5FJZi1gzuzR+MG5xdibzd5iqsFtwR4aVnB6AfZms1eYanDbTtv2TNpDw8rOD6dxh37Ym81eYarBbTvZE0PMoVN/4Q79sDebvcJUg9t2sidK5uDJa2//fOXs3KL14OD0YuzN9uj+kz5LK2v2J1AULCwFt12377sZ2z0s23Zzh9xjB07ZE73TWi79aYnb2MVlcXnV/hyKgoWVsK3DgrUb2XPdgidLYBeXUZkzLOzFnu7I9cH+t4jmrBpjNmcZW/Bf8Fse7OIyEnMW/hnSzN2v3v7UwsyNJfy6E7u4jMScnZlbxMLhYReXkZizuYVlLBwednEZv4/PKsYuLpqzAuziMipzlgVrh4RdXEZozrJg+TCwi0u9c9YOPn09OyaOYZO42MWl3jnL2O4l4/xP2A7s4jKic5bn/teOY7fqsYtL7XO284NpO8Cb57+4gD2rxC4utc9Zxg4YLIFfVVUau7ikMGfbXz5iZ1QRbD4odnFJYc4ydkZ1wf5+7OKSyJxl7JjqEvL1fMXYxSWdOcvYSZXm+MwCTimHXVySmrOMHVZ1cEoJ7OKS2pxl7Lyq8/25GzgoCLu4JDhnmac+OWunVhrPR2zs4pLmnOXs4KqDUwqwi0vKc5az4ysNjuiHXVzSn7PM5qqnbWq2hSN6YheXkZizdXaVKoKde2IXl9Gas1wr+M79g227YxeXUZyz3IEfr9jNvMGG3bGLy+jOWe6Bfcftfq5gty7YxWXU5yz34OvOacM+XbCLy3jMWe7LqdLfFn7Lhk2IXVzGac5ydt2w/H616B842MVl/OYsYzcOC9YSu7iM5ZwdvbRglw4I1hK7uIzlnGXs0gHBQmIXl9TmLDuokq/NzO8cEiwkdnFJZ87W1v7/jsz4LQfbKCBYSOziksKcPfPpeTujI3imLNslIFhI7OJS75zd8ULPgfhjvo2HS7FdAoKFxC4uNc6Z7ds75685v13oymroD0XIgrXELi61zNm11rJtWpRsYrC20D0lf8QilhO7uAx/zmy7MsEOfXx8Ys7WhKX4Z4qxi8tIzFme7S8dwVadHn9nyp4rE2zSBbu41PL3pu04QK7cXDoxs3Dxetu6N7hYF+ziUsucDT4fleThN3/FxbpgF5da5ixjm9YaXKk7dnGpa84ytm9N2bp7Evfpjl1capyzjG099Cy0g3+IHbu41DtnW3p/PiBqcI1+2MWl3jnL2QHDCk4vwC4uKcxZxs6IHH0fl9okMmeZO/dM2klx8shbPX9Mez/s4pLOnOWePnjOzqs0OKUEdnFJbc5yD73xi506WByfhid2cUlzztY9+9kFO75k7nox7J/HCrHLuLtv77HnPr9wevaWjVJHLs+3X/nmEp6vBrtIDOwiMbCLxMAuEgO7SAzsIjGwi8TALhIDu0gM7CKV23X4X+z2cWDXCRtHAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphODQ2NTA5Ny0yN2UyLTQwMmMtYmU5Ni02NDI0MDliZDc0MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMmI0ZjY0Ni1kYjQ4LWY3NGUtYmJiMi0zZDY4ZTE1OTg1MWIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmY2ZmNmIzMi0xOThkLTRlOWUtODllYi04ODAwNTA1MTIzYjUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmNmZjZiMzItMTk4ZC00ZTllLTg5ZWItODgwMDUwNTEyM2I1IiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n\n});\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        style={{width: '100%'}}\n                        id=\"standard-name\"\n                        autoFocus\n                        error={!!this.state.error}\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        helperText={this.state.error}\n                        onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <FormControl style={{minWidth: 100}}>\n                        <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                        <Select\n                            style={{width: '100%'}}\n                            value={this.state.parent}\n                            onChange={e => this.setState({parent: e.target.value})}\n                            inputProps={{name: 'parent', id: 'parent',}}\n                        >\n                            {this.props.parents.map(parent => {\n                                const parts = parent.id.split('.');\n                                parts.splice(0, 2); // remove script.js\n                                const names = [];\n                                let id = 'script.js';\n                                parts.forEach((n, i) => {\n                                    id += '.' + n;\n                                    const el = this.props.parents.find(item => item.id === id);\n                                    if (el) {\n                                        names.push(el.name);\n                                    } else {\n                                        names.push(n);\n                                    }\n                                });\n                                if (!names.length) {\n                                    names.push(parent.name);\n                                }\n                                return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                            })}\n                        </Select>\n                    </FormControl>\n                    <TextField\n                        id=\"standard-name-id\"\n                        style={{width: '100%'}}\n                        label={I18n.t('ID')}\n                        value={this.getId()}\n                        disabled={true}\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl>\n                            <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                            <Select\n                                value={this.state.instance}\n                                onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                inputProps={{name: 'instance', id: 'instance',}}\n                            >\n                                {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                            </Select>\n                        </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return <Dialog\n            open={true}\n            maxWidth=\"sm\"\n            fullWidth={true}\n            onClose={() => this.handleOk()}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle className={this.props.classes.titleBackground}\n                         classes={{root: this.props.classes.titleColor}}\n                         id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {this.props.text || I18n.t('Unknown error!')}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Grid from '@material-ui/core/Grid';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconClose from '@material-ui/icons/Close';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        width: 24,\n        height: 24,\n    },\n    filter: {\n        width: '100%',\n    },\n    filterWithButton: {\n        width: '100%',\n    },\n    title: {\n        fontWeight: 'bold',\n        marginTop: theme.spacing(2),\n    }\n});\n\n\nclass DialogAdapterDebug extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            instances: [],\n            filter: window.localStorage.getItem('javascript.debug.filter') || '',\n            showAskForStop: false,\n            jsInstance: window.localStorage.getItem('javascript.debug.instance') || '',\n            jsInstanceHost: '',\n            adapterToDebug: window.localStorage.getItem('javascript.debug.adapter') || '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.socket.getAdapterInstances()\n            .then(instances => {\n                instances = instances.filter(i => i && !i.common?.onlyWWW).map(item =>  {\n                    const name = item._id.replace(/^system\\.adapter\\./, '');\n                    const [adapter] = name.split('.');\n                    return {\n                        id: name,\n                        enabled: item.common?.enabled,\n                        host: item.common?.host,\n                        icon: item.common?.icon ? `../../adapter/${adapter}/${item.common.icon}` : '',\n                    };\n                });\n                instances.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0));\n                let jsInstance = this.state.jsInstance || '';\n                let jsInstanceObj = this.state.jsInstance && instances.find(item => item.id === this.state.jsInstance);\n                let jsInstanceHost;\n\n                // check if selected instance is in the list\n                if (!this.state.jsInstance || !jsInstanceObj) {\n                    jsInstance = instances.find(item => item.id.startsWith('javascript.')); // take the first one\n                    jsInstanceHost = jsInstance ? jsInstance.host : '';\n                    jsInstance = jsInstance ? jsInstance.id : '';\n                } else {\n                    jsInstanceHost = jsInstanceObj ? jsInstanceObj.host : '';\n                }\n\n                let adapterToDebug = this.state.adapterToDebug || '';\n                if (adapterToDebug && !instances.find(item => item.id === adapterToDebug)) {\n                    adapterToDebug = '';\n                }\n\n                this.setState({instances, jsInstance, adapterToDebug, jsInstanceHost});\n            });\n    }\n\n    handleOk = () => {\n        // TODO\n        if (this.state.instances.find(item => item.id === this.state.adapterToDebug).enabled) {\n            return this.props.socket.getObject('system.adapter.' + this.state.adapterToDebug)\n                .then(obj => {\n                    obj.common.enabled = false;\n                    this.props.socket.setObject(obj._id, obj)\n                        .then(() =>\n                            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug));\n                })\n        } else {\n            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug);\n        }\n    };\n\n\n    renderJavascriptList() {\n        const js = this.state.instances.filter(item => item.id.startsWith('javascript.'));\n        if (js.length < 2) {\n            return null;\n        } else {\n            return <Grid item>\n                <div className={this.props.classes.title}>{I18n.t('Host')}</div>\n                <List component=\"nav\">\n                    {js.map(item => <ListItem\n                        button\n                        selected={this.state.jsInstance === item.id}\n                        onClick={this.setState({jsInstance: item.id, jsInstanceHost: item.host})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    renderInstances() {\n        if (!this.state.jsInstance) {\n            return <Grid item/>;\n        } else {\n            const instances = this.state.instances.filter(item =>\n                item.id !== this.state.jsInstance && item.host === this.state.jsInstanceHost && (!this.state.filter || item.id.includes(this.state.filter.toLowerCase()) ));\n            return <Grid item>\n                <div className={this.props.classes.title}>{I18n.t('Instances')}</div>\n                <List component=\"nav\">\n                    {instances.map(item => <ListItem\n                        button\n                        selected={this.state.adapterToDebug === item.id}\n                        onDoubleClick={() => this.setState({adapterToDebug: item.id}, () => this.handleOk())}\n                        onClick={() => this.setState({adapterToDebug: item.id})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    render() {\n        return <Dialog\n            maxWidth=\"md\"\n            fullWidth={false}\n            open={true}\n            onClose={(event, reason) => false}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Debug instance')}</DialogTitle>\n            <DialogContent>\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <Input\n                            classes={{root: this.props.classes.filterWithButton}}\n                            value={this.state.filter}\n                            placeholder={I18n.t('Filter')}\n                            onChange={e => {\n                                this.setState({filter: e.target.value});\n                                window.localStorage.setItem('javascript.debug.filter', e.target.value);\n                            }}\n                            endAdornment={\n                                <InputAdornment position=\"end\">\n                                    {this.state.filter ? <IconButton\n                                        size=\"small\"\n                                        aria-label=\"toggle password visibility\"\n                                        onClick={() => this.setState({filter: ''})}\n                                    >\n                                        <IconClose />\n                                    </IconButton> : ''}\n                                </InputAdornment>\n                            }\n                        />\n                    </Grid>\n                    <Grid item>\n                        <Grid container>\n                            {this.renderJavascriptList()}\n                            {this.renderInstances()}\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!this.state.jsInstance || !this.state.adapterToDebug} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Start')}</Button>\n                <Button variant=\"contained\" onClick={() => this.props.onClose()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAdapterDebug.propTypes = {\n    socket: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onDebug: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DialogAdapterDebug);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\nimport DialogAdapterDebug from \"./Dialogs/AdapterDebug\";\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    iconButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        }\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'Rules':ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder'\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = props => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        type: 'script',\n        item: () => ({name}),\n        collect: monitor => ({opacity: monitor.isDragging() ? 0.3 : 1,}),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n            showAdapterDebug: false,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring(ROOT_ID.length + 1);\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = ROOT_ID + '.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton\n                    className={clsx(this.props.classes.iconButtons, this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    onClick={e => {\n                        e.stopPropagation();\n                        this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                    }}\n                    title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                    disabled={this.props.debugMode}\n                    key=\"startStop\"\n                    style={{color}}>\n                    {item.enabled ? <IconPause/> : <IconPlay/>}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton> : null,\n                <IconButton\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    key=\"openInEdit\"\n                    title={I18n.t('Edit script or just double click')}\n                    onClick={e => this.onEdit(item, e)}\n                >\n                    <IconDoEdit/>\n                </IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === GLOBAL_ID && !this.state.expertMode);\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>\n            ];\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !reorder ? SELECTED_STYLE : {});\n\n        if (!reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = clsx(this.props.classes.folderIcon, reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = clsx(this.props.classes.scriptIcon, reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                reorder && item.type === 'folder' && 'folder-reorder',\n                reorder && item.type !== 'folder' && 'script-reorder',\n                reorder && this.props.classes.reorder,\n                reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                classes={{root: this.props.classes.listItemIcon}}\n            >{\n                item.type === 'folder' ? (\n                        reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)}/> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)}/>\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def}/>\n            }</ListItemIcon>\n            <ListItemText\n                classes={{primary: item.id === this.state.selected && !reorder ? this.props.classes.selected : undefined}}\n                style={this.getTextStyle(item)} primary={(<span>{title}{childrenCount}</span>)}/>\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = target + '.' + source.split('.').pop();\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += '_' + I18n.t('copy');\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item, dragging) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={'droppable_' + item.id} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={'draggable_' + item.id} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={'draggable_' + item.id} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense={true}\n            disablePadding={true}\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\.\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"delete\"\n                disabled={this.props.debugMode || !this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem\n                key=\"expertMode\"\n                disabled={this.props.debugMode}\n                selected={this.state.expertMode}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                }}>\n                <IconExpert className={this.props.classes.iconDropdownMenu} style={{color: this.state.expertMode ? 'orange' : 'inherit'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={event =>\n                    this.onCloseMenu(() => {\n\n                        // TODO: use Utils.toggleTheme(themeName)\n                        // newThemeName = Utils.toggleTheme(themeName);\n                        const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                            this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                                this.state.themeName === 'light' ? 'dark' : 'colored';\n                        this.props.onThemeChange(newThemeName);\n                    })}>\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>}\n            {this.state.expertMode && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"debugInstance\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.setState({showAdapterDebug: true}));\n                }}>\n                <IconDebug className={this.props.classes.iconDropdownMenu}/>{I18n.t('Debug instance')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        const reorder = this.state.reorder && !this.props.debugMode;\n        if (this.state.searchMode && !this.props.debugMode) {\n            result.push(<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>);\n        } else {\n            if (!reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                    }}\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                        <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{color: reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{color: reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={reorder || this.props.debugMode}\n                className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right', opacity: this.props.debugMode ? 0.5 : (reorder ? 0 : 1)}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                disabled={this.props.debugMode}\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                style={{color: reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder});\n                }}\n            ><IconReorder/></IconButton>);\n\n            if (!reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    title={I18n.t('Rename')}\n                    key=\"rename\"\n                    onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>);\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: ROOT_ID, name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item =>\n            item.type === 'folder' && folders.push({id: item.id, name: item.title})\n        );\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder || this.props.debugMode) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterRules\"\n                className={this.props.classes.footerButtons}\n                alt=\"Rules\"\n                style={{opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['Rules'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <IconExpandAll key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>,\n            this.state.expanded.length ? <IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/> : null,\n        ];\n    }\n\n    getAdapterDebugDialog() {\n        if (this.state.showAdapterDebug) {\n            return <DialogAdapterDebug\n                socket={this.props.socket}\n                onClose={() => this.setState({showAdapterDebug: false})}\n                onDebug={(instance, adapter) => this.setState({showAdapterDebug: false}, () => this.props.onDebugInstance({instance, adapter}))}\n            />;\n        }\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={ this.getUniqueName() }\n                parents={ this.getFolders() }\n                folder={ false }\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type)}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={ this.getUniqueName(this.state.copingScript) }\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, true)}\n            /> : null,\n\n            this.state.errorText ? <DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null,\n\n            this.getAdapterDebugDialog(),\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    onDebugInstance: PropTypes.func,\n    width: PropTypes.number,\n    debugMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdVisibilityOff as IconHide} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        display: 'inline-block',\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return '00' + ms;\n    }\n    if (ms < 100) {\n        return '0' + ms;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n    }\n\n    generateLine(message) {\n        return <tr key={'tr_' + message.ts + '_' + message.message.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>;\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler = message => {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) {\n            return;\n        }\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandler);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandler);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            changed = true;\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (!editing.includes(id)) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    renderLogList(lines) {\n        if (this.state.selected && lines && lines.length) {\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n            </div>;\n        } else {\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>;\n        }\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton> : null}\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton> : null}\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onHideLog()} title={I18n.t('Hide logs')}><IconHide /></IconButton>\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n        let scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({alive: true, check: true, typingsLoaded: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.useUnknownInCatchVariables = false;\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                glyphMargin: !!this.props.breakpoints,\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => {\n                this.highlightText(this.state.searchText);\n                this.location = this.props.location;\n                this.breakpoints = this.props.breakpoints;\n                this.showDecorators();\n            });\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark,\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n        if (this.props.onToggleBreakpoint) {\n            this.editor.onMouseDown(e => {\n                if (e.target.detail && e.target.detail.glyphMarginLeft !== undefined) {\n                    this.props.onToggleBreakpoint(e.target.position.lineNumber - 1);\n                }\n            });\n        } else {\n            this.editor.onMouseDown(null);\n        }\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({readOnly: options.readOnly});\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts'\n                    : (language === 'coffee' ? 'coffee'\n                        : language));\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n        // BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco.languages.typescript.typescriptDefaults.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco.languages.typescript.typescriptDefaults.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    showDecorators() {\n        this.decorations = this.decorations || [];\n        const decorations = [];\n        if (this.location) {\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, this.location.columnNumber + 1, this.location.lineNumber + 1, 1000),\n                options: {\n                    isWholeLine: false,\n                    className: this.props.isDark ? 'monacoCurrentLineDark' : 'monacoCurrentLine',\n                }\n            });\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, 0, this.location.lineNumber + 1, 0),\n                options: {\n                    isWholeLine: true,\n                    className: this.props.isDark ? 'monacoCurrentFullLineDark' : 'monacoCurrentFullLine',\n                }\n            });\n        }\n\n        if (this.breakpoints) {\n            this.breakpoints.forEach(bp => {\n                decorations.push({\n                    range: new this.monaco.Range(bp.location.lineNumber + 1, 0, bp.location.lineNumber + 1, 100),\n                    options: {\n                        isWholeLine: true,\n                        glyphMarginClassName: this.props.isDark ? 'monacoBreakPointDark' : 'monacoBreakPoint',\n                    }\n                });\n            });\n        }\n        this.editor && (this.decorations =\n            this.editor.deltaDecorations(this.decorations, decorations));\n    }\n\n    initNewScript(name, code) {\n        this.setState({name});\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        this.showDecorators();\n        //this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    scrollToLineIfNeeded(lineNumber) {\n        if (this.editor) {\n            const ranges = this.editor.getVisibleRanges();\n            if (!ranges || !ranges[0] || ranges[0].startLineNumber > lineNumber || lineNumber > ranges[0].endLineNumber) {\n                this.editor.revealLineInCenter(lineNumber);\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance will be found and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n            this.showDecorators();\n            this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location) &&\n            JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.location = nextProps.location;\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            //this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        } else if (JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n        } else if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location)) {\n            this.location = nextProps.location;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            //this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log('Insert text' + this.insert);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                color=\"secondary\"><IconNoCheck/></Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport IconCopy from '@material-ui/icons/FileCopy';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    overflowY: {\n        overflowY: 'hidden'\n    }\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({ popper: I18n.t('Copied'), anchorEl: target });\n                setTimeout(() => this.setState({ popper: '', anchorEl: null }), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            key=\"export-dialog\"\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth={true}\n            open={this.props.open}\n            aria-labelledby=\"export-dialog-title\"\n        >\n            <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n            <DialogContent\n                classes={{ root: classes.overflowY }}>\n                <pre\n                    id=\"export-text\"\n                    className={classes.textArea + ' ' + (this.props.themeType === 'dark' ? '' : classes.textAreaLight)}\n                >{this.props.text}</pre>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={event => this.onCopy(event)} color=\"secondary\" startIcon={<IconCopy/>}>{I18n.t('Copy to clipboard')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} color=\"primary\" startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n\n                <Popper\n                    id=\"popper\"\n                    style={{ zIndex: 10000 }}\n                    open={!!this.state.popper}\n                    placement=\"top\"\n                    anchorEl={this.state.anchorEl} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper>\n                                <p className={classes.typography}>{this.state.popper}</p>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n                <textarea id=\"copy_input\" readOnly={true} style={{ position: 'absolute', left: -9999 }} tabIndex={-1} aria-hidden={true} value={this.props.text} />\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogExport.defaultProps = {\n    open: true\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n});\n\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth={true}\n            open={this.props.open}\n            aria-labelledby=\"import-dialog-title\"\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                <textarea\n                    autoFocus\n                    id=\"import-text-area\"\n                    className={classes.textArea}\n                    onChange={e => this.onChange(e)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" disabled={!this.state.text} onClick={event => this.handleOk()} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Import')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImport.defaultProps = {\n    open: true\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log('Detected custom blockly: ' + adapters[id].common.name);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.includes(b.id)).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({themeType: nextProps.themeType}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                let variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    let vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        let nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({error: I18n.t('Cannot extract Blockly code!')}));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n                for (const _b in this.Blockly[name].blocks) {\n                    if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({message: ''})}\n            /> :\n            null;\n    }\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({error: ''});\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport key=\"dialogImport\"  onClose={text => {\n            this.setState({importText: false});\n            this.onImportBlocks(text);\n        }}/> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    themeType: PropTypes.string\n};\n\nexport default BlocklyEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && !this.state.source.includes('return ')) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" startIcon={<IconSave/>}>{I18n.t('Save')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import { useState, useEffect } from 'react';\nimport * as Icons from '@material-ui/icons/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket, onClick }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img onClick={e => onClick && onClick(e)} src={url || ''} className={className} alt=\"\" />;\n    } else {\n        const Element = Icons[iconName || 'Help'];\n        return <Element\n            className={className}\n            onClick={e => onClick && onClick(e)}\n        />;\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst CardMenu = ({ name, id, active, icon, adapter, socket, onDoubleClick, title, onTouchMove }) => <div\n    onDoubleClick={onDoubleClick}\n    onTouchMove={onTouchMove}\n    key={id}\n    title={I18n.t(title)}\n    className={clsx(cls.switchesItem, active && cls.switchesItemActive, 'block-' + id)}\n>\n    <MaterialDynamicIcon iconName={icon} className={cls.iconTheme} adapter={adapter} socket={socket} />\n    <span>\n        {name ? I18n.t(name) : ''}\n    </span>\n</div>;\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    onDoubleClick: () => { }\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules,\n                [name]: {\n                    ...userRules[name],\n                    [additionalParameter]: [...userRules[name][additionalParameter]]\n                }\n            };\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules,\n                [name]: [...userRules[name]]\n            };\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","import { Button } from '@material-ui/core';\nimport React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\nimport CustomIcon from '@iobroker/adapter-react/Components/Icon';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value, square, icon }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={clsx(cls.root, className, square ? cls.square : '')}\n        margin=\"normal\"\n        size={size}\n    >{icon ? <CustomIcon className={cls.icon} src={icon} /> : value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    className: null,\n    variant: 'standard',\n    size: 'medium',\n    fullWidth: false,\n    square: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default CustomButton;","import { Checkbox } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);","import { TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CustomIcon from '@iobroker/adapter-react/Components/Icon';\n\nconst CustomInput = ({ autoFocus, fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, icon }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        autoFocus={autoFocus}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            !customValue && setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        InputProps={{\n            endAdornment: icon ?\n                <InputAdornment position=\"end\"><CustomIcon className={cls.icon} src={icon} /></InputAdornment>\n                : null\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    autoFocus: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;","import { FormControl, FormHelperText, Input, MenuItem, Select, withStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst SelectMod = withStyles({\n    root: {\n        margin: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n})(FormControl);\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                } else {\n                    _options.unshift({value: adapter, title: I18n.t('All')});\n                }\n                setOptions(_options);\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <SelectMod\n        className={className}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {options.map(item =>\n                <MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </SelectMod>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;","import React, {useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport { Dialog, DialogActions, DialogContent } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport i18n from '@iobroker/adapter-react/i18n';\nimport CustomInput from \"../CustomInput\";\n\nconst CustomModal = ({ open, onClose, children, titleButtonApply, titleButtonClose, onApply, className, textInput, defaultValue}) => {\n    let [value, setValue] = useState(defaultValue);\n\n    return <Dialog\n        open={open}\n        maxWidth=\"md\"\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{paper: cls.modalDialog, /*paper: classes.background*/}}\n        className={cls.modalWrapper}\n    >\n        <DialogContent>\n            {textInput && <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"medium\"\n                rows={10}\n                multiline\n                value={value}\n                onChange={setValue}\n                customValue\n            />}\n            {!textInput && children}\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => onApply(textInput ? value : null)}  variant=\"contained\" color=\"primary\">\n                {i18n.t(titleButtonApply)}\n            </Button>\n            <Button onClick={onClose} variant=\"contained\">\n                {i18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok'\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func\n};\n\nexport default CustomModal;","import { FormControl, FormHelperText, Input, MenuItem, Select } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport clsx from 'clsx';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className, doNotTranslate, doNotTranslate2 }) => {\n    const [inputText, setInputText] = useState(value === undefined ? options[0].value : value);\n\n    const v = customValue ? value : inputText;\n    const text = v === '' || v === null || v === undefined ? '_' : v;\n\n    return <FormControl\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={text}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    // sort\n                    selected.sort();\n                    let pos = selected.indexOf('0');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.push('0');\n                    }\n                    pos = selected.indexOf('_');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.unshift('_');\n                    }\n\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort ? (doNotTranslate ? onlyItem.titleShort : I18n.t(onlyItem.titleShort)) : (doNotTranslate ? onlyItem.title : I18n.t(onlyItem.title))\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? (item.titleShort ? (doNotTranslate ? item.titleShort : I18n.t(item.titleShort)) : (doNotTranslate ? item.title : I18n.t(item.title))) : (doNotTranslate ? item : I18n.t(item)));\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title ? (doNotTranslate ? item?.title : I18n.t(item?.title)) : selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly), attr);\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value), attr);\n                        }\n                    }\n                }\n                onChange(e.target.value, attr);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value === '' || item.value === null || item.value === undefined ? '_' : item.value}>{doNotTranslate ? item.title : I18n.t(item.title)}{item.title2 && <div>{doNotTranslate2 ? item.title2 : I18n.t(item.title2)}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{doNotTranslate ? item.title : I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;","import React, { useState } from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Slider } from '@material-ui/core';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, min, max, step, unit }) => {\n    const [inputText, setInputText] = useState(0);\n    min = min !== undefined ? min : 0;\n    max = max !== undefined ? max : 0;\n    step = step !== undefined ? step : (max - min) / 100;\n\n    const marks = [\n        {\n            value: min,\n            label: min + (unit || ''),\n        },\n        {\n            value: max,\n            label: max + (unit || ''),\n        },\n    ];\n\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        classes={{mark: cls.mark}}\n        marks={marks}\n        step={step}\n        min={min}\n        max={max}\n        error={error || ''}\n        //fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        //helperText={error || ''}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            !customValue && setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","import { FormControlLabel, Switch } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);","import { TextField } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomTime = ({ value, style, onChange, className }) => {\n    return <TextField\n        id=\"time\"\n        type=\"time\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","import { FormControl, MenuItem, Select } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nconst CustomDate = ({ value, onChange, className, title, style }) => {\n    let [month, date] = (value || '01.01').toString().split('.');\n    date = parseInt(date, 10) || 0;\n    month = parseInt(month, 10) || 0;\n    if (month > 12) {\n        month = 12;\n    } else if (month < 0) {\n        month = 0;\n    }\n\n    if (date > DAYS[month]) {\n        date = DAYS[month];\n    } else if (date < 0) {\n        date = 0;\n    }\n\n    let days = [];\n    for (let i = 0; i < DAYS[month]; i++) {\n        days.push(i + 1);\n    }\n\n    return <div>\n        <FormControl\n            className={clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                className={clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Month')}\n                onChange={e =>\n                    onChange(e.target.value.toString().padStart(2, '0') + '.' + date.toString().padStart(2, '0'))}\n                value={month}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={0} value={0}>{I18n.t('Any month')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={1} value={1}>{I18n.t('January')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={2} value={2}>{I18n.t('February')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={3} value={3}>{I18n.t('March')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={4} value={4}>{I18n.t('April')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={5} value={5}>{I18n.t('May')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={6} value={6}>{I18n.t('June')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={7} value={7}>{I18n.t('July')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={8} value={8}>{I18n.t('August')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={9} value={9}>{I18n.t('September')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={10} value={10}>{I18n.t('October')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={11} value={11}>{I18n.t('November')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={12} value={12}>{I18n.t('December')}</MenuItem>\n            </Select>\n        </FormControl>\n        <FormControl\n            className={clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                className={clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Date')}\n                onChange={e =>\n                    onChange(month.toString().padStart(2, '0') + '.' + e.target.value.toString().padStart(2, '0'))}\n                value={date}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={'A'} value={0}>{I18n.t('Any')}</MenuItem>\n                {days.map(i => <MenuItem style={{ placeContent: 'space-between' }} key={i} value={i}>{i}</MenuItem>)}\n            </Select>\n        </FormControl>\n    </div>;\n}\n\nCustomDate.defaultProps = {\n    value: '',\n    className: null,\n};\n\nCustomDate.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomDate;","import I18n from '@iobroker/adapter-react/i18n';\n\nlet lang;\nconst getName = obj => {\n    lang = lang || I18n.getLanguage();\n    if (typeof obj === 'object') {\n        return obj[lang] || obj.en;\n    } else {\n        return obj;\n    }\n};\n\nconst utils = {\n    getName\n};\n\nexport default utils;","const STEPS = {\n    selectTriggers: 0,\n    addScheduleByDoubleClick: 1,\n    openTagsMenu: 2,\n    selectIntervalTag: 3,\n    selectActions: 4,\n    addActionPrintText: 5,\n    showJavascript: 6,\n    switchBackToRules: 7,\n    saveTheScript: 8,\n};\n\nconst steps = [\n    {  // 0\n        selector: '.blocks-triggers',\n        content: 'Select triggers',\n    },\n    {  // 1\n        selector: '.block-TriggerScheduleBlock',\n        content: 'Double click to add the block',\n    },\n    {   // 2\n        selector: '.tag-card',\n        content: 'Open drop down menu',\n    },\n    {   // 3\n        selector: '.tag-card-interval',\n        content: 'Select interval',\n    },\n    {   // 4\n        selector: '.blocks-actions',\n        content: 'Select action blocks',\n    },\n    {  // 5\n        selector: '.block-ActionPrintText',\n        content: 'Double click to add the block',\n    },\n    {  // 6\n        selector: '.button-js-code',\n        content: 'Check the script',\n    },\n    {  // 7\n        selector: '.button-js-code',\n        content: 'Switch back to rules',\n    },\n    {   // 8\n        selector: '.button-save',\n        content: 'Save the script',\n    }\n];\n\nexport {STEPS};\n\nexport default steps;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport { Menu, MenuItem } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconHelp from '@material-ui/icons/HelpOutline';\n\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogError from '@iobroker/adapter-react/Dialogs/Error';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\nimport CustomDate from '../CustomDate';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport clsx from 'clsx';\nimport { STEPS } from '../../helpers/Tour';\nimport { getSelectIdIcon } from '@iobroker/adapter-react/Components/Icon';\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : ''\n        }\n\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n            helpDialog: item.helpDialog || props.helpDialog || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            showSelectId: false,\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n            error: '',\n            helpText: '',\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings,\n            debugMessage: null,\n            enableSimulation: this.props.enableSimulation,\n        };\n\n        this.debugHideTimeout = null;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (!nextProps || !nextProps.settings) {\n            console.log(JSON.stringify(nextProps));\n            return;\n        }\n\n        const settings = JSON.parse(JSON.stringify(nextProps.settings));\n        if (!settings.tagCard && this.state.tagCardArray && this.state.tagCardArray.length) {\n            settings.tagCard = typeof this.state.tagCardArray[0] !== 'string' ? this.state.tagCardArray[0].title : this.state.tagCardArray[0];\n        }\n\n        let newState = null;\n\n        if (nextProps.onDebugMessage && nextProps.onDebugMessage.blockId === this.props._id) {\n            newState = {};\n            newState.debugMessage = JSON.parse(JSON.stringify(nextProps.onDebugMessage));\n            this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n            this.debugHideTimeout = setTimeout(() =>\n                this.setState({ debugMessage: null }),\n                nextProps.onDebugMessage.hideTimeout || 5000);\n        }\n\n        if (JSON.stringify(settings) !== JSON.stringify(this.state.settings)) {\n            newState = newState || {};\n            newState.settings = settings;\n        }\n\n        if (this.state.enableSimulation !== nextProps.enableSimulation) {\n            newState = newState || {};\n            newState.enableSimulation = nextProps.enableSimulation;\n        }\n\n        newState && this.setState(newState);\n    }\n\n    componentWillUnmount() {\n        this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n        this.debugHideTimeout = null;\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard, cb) {\n        // analyse inputs and fill the attributes with default values\n        let changed = false;\n        let settings = JSON.parse(JSON.stringify(this.state.settings));\n        this.state.inputs.forEach(input => {\n            if (input.attr && input.defaultValue !== undefined) {\n                if (settings[input.attr] === undefined) {\n                    changed = true;\n                    settings[input.attr] = input.defaultValue;\n                }\n            }\n        });\n        if (changed) {\n            this.setState({ settings }, () => cb && cb());\n            this.props.onChange(settings);\n        } else {\n            cb && cb();\n        }\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name, doNotTranslate, doNotTranslateBack } = input;\n        return <Fragment key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature, doNotTranslate, defaultValue }, value) => <div\n        className={clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {doNotTranslate ? defaultValue : I18n.t(defaultValue)}\n    </div>;\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox, doNotTranslate, doNotTranslateBack } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n        return visibility ? <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={clsx(className, input.className)}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomCheckbox\n                className={className}\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div onClick={() => onChange(typeof settings[attr] === 'boolean' ? !settings[attr] : !defaultValue)} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, min, max, step, unit, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex} style={{ marginRight: 20 }}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSlider\n                    customValue\n                    min={min}\n                    max={max}\n                    step={step}\n                    unit={unit}\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={val => {\n                        console.log(val);\n                        onChange(val)\n                    }}\n                />\n                {backText && <div style={{ marginLeft: 20 }} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, buttonText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomButton\n                label={buttonText}\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    findIcon = obj => {\n        if (!obj) {\n            return Promise.resolve(null);\n        } else\n            if (obj.common?.icon) {\n                return Promise.resolve(getSelectIdIcon(obj, '../..'));\n            } else if (obj.type === 'state' || obj.type === 'channel') {\n                const parts = obj._id.split('.');\n                parts.pop();\n                const newId = parts.join('.');\n                return this.props.socket.getObject(newId)\n                    .then(obj => this.findIcon(obj))\n                    .catch(() => null);\n            }\n    }\n\n    renderObjectID = (input, value, onChange) => {\n        const { showSelectId, settings } = this.state;\n        const { className, socket } = this.props;\n        const { attr, openCheckbox, checkReadOnly } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                socket.getObject(value)\n                    .then(obj => {\n                        this.findIcon(obj)\n                            .then(icon => this.setState({\n                                [settings[attr]]: obj,\n                                [settings[attr] + '___icon']: icon,\n                                error: checkReadOnly && this.lastObjectIdChange && Date.now() - this.lastObjectIdChange < 1000 && obj?.common?.write === false ? I18n.t('Read only ID selected: %s', settings[attr]) : ''\n                            }))\n                    });\n            }, 0);\n        }\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    icon={this.state[this.state.settings[input.attr] + '___icon']}\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ showSelectId: true })}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                key=\"tableSelect\"\n                imagePrefix=\"../..\"\n                dialogName={'javascript'}\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly={true}\n                selected={value}\n                onClose={() => this.setState({ showSelectId: false })}\n                onOk={(selected, name, common) =>\n                    this.setState({ showSelectId: false }, () =>\n                        // read type of object\n                        socket.getObject(selected)\n                            .then(obj => {\n                                this.lastObjectIdChange = Date.now();\n                                onChange({\n                                    [attr]: selected,\n                                    [attr + 'Role']: obj.common.role,\n                                    [attr + 'Type']: obj.common.type,\n                                    [attr + 'Unit']: obj.common.unit,\n                                    [attr + 'States']: obj.common.states,\n                                    [attr + 'Min']: obj.common.min,\n                                    [attr + 'Max']: obj.common.max,\n                                    [attr + 'Step']: obj.common.step,\n                                    [attr + 'Def']: obj.common.def,\n                                    [attr + 'Write']: obj.common.write,\n                                    [attr + 'Read']: obj.common.read,\n                                }, null, () =>\n                                    this.props.setOnUpdate && this.props.setOnUpdate(true))\n                            }))}\n            /> : null}\n        </div> : null;\n    }\n\n    renderIconTag = () => {\n        return <div\n            className={cls.iconTag}\n            onClick={e => {\n                if (this.state.settings.tagCard) {\n                    if (this.state.tagCardArray.length < 3) {\n                        this.onChangeTag();\n                    } else {\n                        this.setState({ openTagMenu: e.currentTarget })\n                    }\n                }\n            }}>\n            {this.state.settings.tagCard}\n        </div>;\n    }\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, multiple, doNotTranslate, doNotTranslate2, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{I18n.t(frontText)}</div>}\n            <CustomSelect\n                attr={attr}\n                doNotTranslate={doNotTranslate}\n                doNotTranslate2={doNotTranslate2}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className, socket } = this.props;\n        const { name, options, frontText, backText, attr, adapter, doNotTranslate, doNotTranslateBack } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInstance\n                attr={attr}\n                socket={socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({ hideAttributes: [...this.state.hideAttributes, attr] }, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderDialog = (input, value, onChange) => {\n        const { onShowDialog, frontText, backText, attr, icon, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <MaterialDynamicIcon\n                iconName={icon}\n                className={clsx(cls.iconDialog)}\n                onClick={e => onShowDialog && onShowDialog()}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText, noTextEdit, doNotTranslate, doNotTranslateBack} = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    disabled={!!noTextEdit}\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    // fullWidth\n                    style={{ marginLeft: 5 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {openModal ? <CustomModal\n                open={true}\n                onApply={val =>\n                    this.setState({ openModal: false }, () =>\n                        val !== null && val !== undefined && onChange(val))}\n                onClose={() => this.setState({ openModal: false })}\n                defaultValue={value}\n                textInput={true}\n            /> : null}\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    };\n\n    renderDate = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomDate\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    static getReplacesInText(context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.val).replace(/%id/g, obj.id).replace(/%name/g, obj.common && obj.common.name).replace(/%old/g, obj.oldState.val)';\n        }\n        return value;\n    }\n\n    /////////////////////////////\n    renderTags = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        let { tagCard } = this.state.settings;\n        let result = tagCard !== '=' && tagCard !== '<>' && tagCard !== '>=' && tagCard !== '()' && tagCard !== '.' && tagCard !== '<=' && tagCard !== '<' && tagCard !== '>' ? I18n.t(tagCard) : tagCard;\n        if (tagCardArray.length >= 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={e => {\n                        this.setState({ openTagMenu: e.currentTarget }, () => {\n                            this.props.isTourOpen &&\n                                this.props.tourStep === STEPS.openTagsMenu &&\n                                setTimeout(() => this.props.setTourStep(STEPS.selectIntervalTag), 300);\n                        });\n                    }}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return <MenuItem\n                            key={tag}\n                            selected={tag === tagCard}\n                            className={'tag-card-' + tag}\n                            style={{ placeContent: 'space-between' }}\n                            onClick={() => {\n                                const settings = { ...this.state.settings, tagCard: tag };\n                                this.setState({ openTagMenu: null, settings }, () => {\n                                    this.props.onChange(settings);\n                                    this.onTagChange(tag);\n                                });\n                                (this.props.isTourOpen &&\n                                    (this.props.tourStep === STEPS.openTagsMenu ||\n                                        this.props.tourStep === STEPS.selectIntervalTag) &&\n                                    tag === 'interval' &&\n                                    setTimeout(() => this.props.setTourStep(STEPS.selectActions), 500));\n\n                            }}>{tag.search(/>|<|<>|<=|>=|=/) !== -1 ? tag : I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{I18n.t(el.title2)}</div>}\n                        </MenuItem>\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    onChangeTag = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n\n        if (tagCard && newTagCardArray.length < 3) {\n            const newSettings = { ...settings };\n            const newTagCard = newTagCardArray[(newTagCardArray.indexOf(tagCard) + 1) % newTagCardArray.length]\n            newSettings.tagCard = newTagCard;\n            this.setState({ settings: newSettings }, () => {\n                this.props.onChange(newSettings);\n                this.onTagChange(newTagCard);\n            });\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n        // detect changes\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = attribute => {\n        return (value, attr, cb) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n\n            if (typeof value === 'object' && (!attr || typeof attr === 'function')) {\n                Object.keys(value).forEach(_attr => settings[_attr] = value[_attr]);\n            } else {\n                settings[attr || attribute] = value;\n            }\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n                cb && cb();\n            });\n        }\n    }\n\n    renderSpecific() {\n        return null; // it can be overloaded\n    }\n\n    renderDebugInfo() {\n        if (this.state.debugMessage) {\n            return <div className={cls.debugInfo} key={this.state.debugMessage.ts} style={{ opacity: 1, height: 22, bottom: -22 }}>\n                {this.renderDebug ? this.renderDebug(this.state.debugMessage) : I18n.t('executed')}\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard }, helpDialog } = this.state;\n        const { socket, notFound } = this.props;\n\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon\n                    iconName={icon}\n                    className={clsx(cls.iconThemCard, tagCard && this.state.tagCardArray.length && cls.iconThemCardSelectable)}\n                    adapter={adapter}\n                    socket={socket}\n                    onClick={e => {\n                        if (tagCard) {\n                            if (this.state.tagCardArray.length < 3) {\n                                this.onChangeTag();\n                            } else {\n                                this.setState({ openTagMenu: e.currentTarget })\n                            }\n                        }\n                    }}\n                />}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {I18n.t(name)}\n                    {!!notFound ? I18n.t(`%s not found`, settings.id) : ''}\n                    {helpDialog ? <IconButton className={cls.iconHelp} size=\"small\" onClick={() => this.setState({ helpText: I18n.t(helpDialog) })}><IconHelp /></IconButton> : null}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            settings[attr] !== undefined ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={() => this.onChangeTag()} className={clsx(cls.tagCard, 'tag-card')}>{this.renderTags()}</div>\n            </div>}\n            {this.renderDebugInfo()}\n            {this.state.error ? <DialogError title={I18n.t('Warning')} text={this.state.error} onClose={() => this.setState({ error: '' })} /> : null}\n            {this.state.helpText ? <DialogMessage title={I18n.t('Instructions')} text={this.state.helpText} onClose={() => this.setState({ helpText: '' })} /> : null}\n            {this.renderSpecific()}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    \"en\":       {name: \"Google - English\",         engine: \"google\",  params: []},\n    \"de\":       {name: \"Google - Deutsch\",         engine: \"google\",  params: []},\n    \"ru\":       {name: \"Google - Русский\",         engine: \"google\",  params: []},\n    \"it\":       {name: \"Google - Italiano\",        engine: \"google\",  params: []},\n    \"es\":       {name: \"Google - Espaniol\",        engine: \"google\",  params: []},\n    \"fr\":       {name: \"Google - Français\",        engine: \"google\",  params: []},\n    \"ru_YA\":    {name: \"Yandex - Русский\",         engine: \"yandex\",  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed']},\n    \"ru_YA_CLOUD\":   {name: \"Yandex Cloud - Русский\",   engine: \"yandexCloud\",  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil']},\n\n    \"en-US\":    {name: \"PicoTTS - Englisch US\",    engine: \"PicoTTS\", params: []},\n    \"en-GB\":    {name: \"PicoTTS - Englisch GB\",    engine: \"PicoTTS\", params: []},\n    \"de-DE\":    {name: \"PicoTTS - Deutsch\",        engine: \"PicoTTS\", params: []},\n    \"it-IT\":    {name: \"PicoTTS - Italiano\",       engine: \"PicoTTS\", params: []},\n    \"es-ES\":    {name: \"PicoTTS - Espaniol\",       engine: \"PicoTTS\", params: []},\n    \"fr-FR\":    {name: \"PicoTTS - Français\",       engine: \"PicoTTS\", params: []},\n\n    \"ru-RU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"Cloud - Русский - Татьяна\"},\n    \"ru-RU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"Cloud - Русский - Максим\"},\n    \"de-DE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"Cloud - Deutsch - Marlene\"},\n    \"de-DE_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"Cloud - Deutsch - Hans\"},\n    \"en-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"Cloud - en-US - Female - Salli\"},\n    \"en-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"Cloud - en-US - Male - Joey\"},\n    \"da-DK_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"Cloud - da-DK - Female - Naja\"},\n    \"da-DK_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"Cloud - da-DK - Male - Mads\"},\n    \"en-AU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"Cloud - en-AU - Female - Nicole\"},\n    \"en-AU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"Cloud - en-AU - Male - Russell\"},\n    \"en-GB_CLOUD_Female_Amy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"Cloud - en-GB - Female - Amy\"},\n    \"en-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"Cloud - en-GB - Male - Brian\"},\n    \"en-GB_CLOUD_Female_Emma\":  {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"Cloud - en-GB - Female - Emma\"},\n    \"en-GB-WLS_CLOUD_Female\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"Cloud - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_CLOUD_Male\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"Cloud - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"Cloud - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"Cloud - cy-GB - Male - Geraint\"},\n    \"en-IN_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"Cloud - en-IN - Female - Raveena\"},\n    \"en-US_CLOUD_Male_Chipmunk\":{gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"Cloud - en-US - Male - Chipmunk\"},\n    \"en-US_CLOUD_Male_Eric\":    {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"Cloud - en-US - Male - Eric\"},\n    \"en-US_CLOUD_Female_Ivy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"Cloud - en-US - Female - Ivy\"},\n    \"en-US_CLOUD_Female_Jennifer\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Jennifer\",   ssml: true, name: \"Cloud - en-US - Female - Jennifer\"},\n    \"en-US_CLOUD_Male_Justin\":  {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"Cloud - en-US - Male - Justin\"},\n    \"en-US_CLOUD_Female_Kendra\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",     ename: \"Kendra\",     ssml: true, name: \"Cloud - en-US - Female - Kendra\"},\n    \"en-US_CLOUD_Female_Kimberly\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Kimberly\",   ssml: true, name: \"Cloud - en-US - Female - Kimberly\"},\n    \"es-ES_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"Cloud - es-ES - Female - Conchita\"},\n    \"es-ES_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"Cloud - es-ES - Male - Enrique\"},\n    \"es-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"Cloud - es-US - Female - Penelope\"},\n    \"es-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"Cloud - es-US - Male - Miguel\"},\n    \"fr-CA_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"Cloud - fr-CA - Female - Chantal\"},\n    \"fr-FR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"Cloud - fr-FR - Female - Celine\"},\n    \"fr-FR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"Cloud - fr-FR - Male - Mathieu\"},\n    \"is-IS_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"Cloud - is-IS - Female - Dora\"},\n    \"is-IS_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"Cloud - is-IS - Male - Karl\"},\n    \"it-IT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"Cloud - it-IT - Female - Carla\"},\n    \"it-IT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"Cloud - it-IT - Male - Giorgio\"},\n    \"nb-NO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"Cloud - nb-NO - Female - Liv\"},\n    \"nl-NL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"Cloud - nl-NL - Female - Lotte\"},\n    \"nl-NL_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"Cloud - nl-NL - Male - Ruben\"},\n    \"pl-PL_CLOUD_Female_Agnieszka\":{gender: \"Female\", engine: \"cloud\",params: ['cloud'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"Cloud - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_CLOUD_Male_Jacek\":   {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"Cloud - pl-PL - Male - Jacek\"},\n    \"pl-PL_CLOUD_Female_Ewa\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"Cloud - pl-PL - Female - Ewa\"},\n    \"pl-PL_CLOUD_Male_Jan\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"Cloud - pl-PL - Male - Jan\"},\n    \"pl-PL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"Cloud - pl-PL - Female - Maja\"},\n    \"pt-BR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"Cloud - pt-BR - Female - Vitoria\"},\n    \"pt-BR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"Cloud - pt-BR - Male - Ricardo\"},\n    \"pt-PT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"Cloud - pt-PT - Male - Cristiano\"},\n    \"pt-PT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"Cloud - pt-PT - Female - Ines\"},\n    \"ro-RO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"Cloud - ro-RO - Female - Carmen\"},\n    \"sv-SE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"Cloud - sv-SE - Female - Astrid\"},\n    \"tr-TR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"Cloud - tr-TR - Female - Filiz\"},\n\n    \"ru-RU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"AWS Polly - Русский - Татьяна\"},\n    \"ru-RU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"AWS Polly - Русский - Максим\"},\n    \"de-DE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"AWS Polly - Deutsch - Marlene\"},\n    \"de-DE_AP_Female_Vicky\":    {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Vicky\",      ssml: true, name: \"AWS Polly - Deutsch - Vicky\"},\n    \"de-DE_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"AWS Polly - Deutsch - Hans\"},\n    \"en-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"AWS Polly - en-US - Female - Salli\"},\n    \"en-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"AWS Polly - en-US - Male - Joey\"},\n    \"da-DK_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"AWS Polly - da-DK - Female - Naja\"},\n    \"da-DK_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"AWS Polly - da-DK - Male - Mads\"},\n    \"en-AU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"AWS Polly - en-AU - Female - Nicole\"},\n    \"en-AU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"AWS Polly - en-AU - Male - Russell\"},\n    \"en-GB_AP_Female_Amy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"AWS Polly - en-GB - Female - Amy\"},\n    \"en-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"AWS Polly - en-GB - Male - Brian\"},\n    \"en-GB_AP_Female_Emma\":     {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"AWS Polly - en-GB - Female - Emma\"},\n    \"en-GB-WLS_AP_Female\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_AP_Male\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"AWS Polly - cy-GB - Male - Geraint\"},\n    \"en-IN_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"AWS Polly - en-IN - Female - Raveena\"},\n    \"en-US_AP_Male_Chipmunk\":   {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"AWS Polly - en-US - Male - Chipmunk\"},\n    \"en-US_AP_Male_Eric\":       {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"AWS Polly - en-US - Male - Eric\"},\n    \"en-US_AP_Female_Ivy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"AWS Polly - en-US - Female - Ivy\"},\n    \"en-US_AP_Female_Jennifer\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Jennifer\",   ssml: true, name: \"AWS Polly - en-US - Female - Jennifer\"},\n    \"en-US_AP_Male_Justin\":     {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"AWS Polly - en-US - Male - Justin\"},\n    \"en-US_AP_Female_Kendra\":   {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kendra\",     ssml: true, name: \"AWS Polly - en-US - Female - Kendra\"},\n    \"en-US_AP_Female_Kimberly\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kimberly\",   ssml: true, name: \"AWS Polly - en-US - Female - Kimberly\"},\n    \"es-ES_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"AWS Polly - es-ES - Female - Conchita\"},\n    \"es-ES_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"AWS Polly - es-ES - Male - Enrique\"},\n    \"es-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"AWS Polly - es-US - Female - Penelope\"},\n    \"es-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"AWS Polly - es-US - Male - Miguel\"},\n    \"fr-CA_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"AWS Polly - fr-CA - Female - Chantal\"},\n    \"fr-FR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"AWS Polly - fr-FR - Female - Celine\"},\n    \"fr-FR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"AWS Polly - fr-FR - Male - Mathieu\"},\n    \"is-IS_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"AWS Polly - is-IS - Female - Dora\"},\n    \"is-IS_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"AWS Polly - is-IS - Male - Karl\"},\n    \"it-IT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"AWS Polly - it-IT - Female - Carla\"},\n    \"it-IT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"AWS Polly - it-IT - Male - Giorgio\"},\n    \"nb-NO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"AWS Polly - nb-NO - Female - Liv\"},\n    \"nl-NL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"AWS Polly - nl-NL - Female - Lotte\"},\n    \"nl-NL_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"AWS Polly - nl-NL - Male - Ruben\"},\n    \"pl-PL_AP_Female_Agnieszka\":{gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"AWS Polly - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_AP_Male_Jacek\":      {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"AWS Polly - pl-PL - Male - Jacek\"},\n    \"pl-PL_AP_Female_Ewa\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"AWS Polly - pl-PL - Female - Ewa\"},\n    \"pl-PL_AP_Male_Jan\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"AWS Polly - pl-PL - Male - Jan\"},\n    \"pl-PL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"AWS Polly - pl-PL - Female - Maja\"},\n    \"pt-BR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"AWS Polly - pt-BR - Female - Vitoria\"},\n    \"pt-BR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"AWS Polly - pt-BR - Male - Ricardo\"},\n    \"pt-PT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"AWS Polly - pt-PT - Male - Cristiano\"},\n    \"pt-PT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"AWS Polly - pt-PT - Female - Ines\"},\n    \"ro-RO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"AWS Polly - ro-RO - Female - Carmen\"},\n    \"sv-SE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"AWS Polly - sv-SE - Female - Astrid\"},\n    \"tr-TR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"AWS Polly - tr-TR - Female - Filiz\"}\n};\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Sayit ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${config.language && config.language !== '_' ? config.language + ';' : ''}${config.volume ? config.volume + ';' : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tawait setStateAsync(\"${config.instance}.tts.text\", subActionVar${config._id});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Say:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        const lang = I18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({title: sayitEngines[lang].name, value: lang}));\n        options.unshift({title: 'Default', value: '_'});\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options,\n                    defaultValue: '_',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                    attr: 'textVol',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    min: 0,\n                    max: 100\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Say It',\n            id: 'ActionSayText',\n            adapter: 'sayit',\n            title: 'Say some text via sayit adapter',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.recipients) {\n            return `// no recipients defined'\n_sendToFrontEnd(${config._id}, {text: 'No recipients defined'});`;\n        } else {\n            return `// Send Email ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance || 'email.0'}\", {\n\\t\\t    to:      \"${config.recipients || ''}\",\n\\t\\t    subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    text:    subActionVar${config._id}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Send email',\n            id: 'ActionSendEmail',\n            adapter: 'email',\n            title: 'Sends an email',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Telegram ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", ${config.user && config.user !== '_' ? `{user: \"${(config.user || '').replace(/\"/g, '\\\\\"')}\", text: subActionVar${config._id}}` : `subActionVar${config._id}`});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(instance + '.communicate.users');\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            }, () => super.onTagChange());\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({title: 'all', value: ''});\n                } catch (e) {\n                    users = [{title: 'all', value: ''}];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        }\n                    ]\n                }, () => super.onTagChange());\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Telegram',\n            id: 'ActionTelegram',\n            adapter: 'telegram',\n            title: 'Sends message via telegram',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushover extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushover.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushover ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\\`;            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    sound: \"${config.sound}\",\n\\t\\t    priority: ${config.priority}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return 'Sent: ' + debugMessage.data.text;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushover',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushover.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        {value: \"pushover\", title: \"pushover\"},\n                        {value: \"bike\", title: \"bike\"},\n                        {value: \"bugle\", title: \"bugle\"},\n                        {value: \"cashregister\", title: \"cashregister\"},\n                        {value: \"classical\", title: \"classical\"},\n                        {value: \"cosmic\", title: \"cosmic\"},\n                        {value: \"falling\", title: \"falling\"},\n                        {value: \"gamelan\", title: \"gamelan\"},\n                        {value: \"incoming\", title: \"incoming\"},\n                        {value: \"intermission\", title: \"intermission\"},\n                        {value: \"magic\", title: \"magic\"},\n                        {value: \"mechanical\", title: \"mechanical\"},\n                        {value: \"pianobar\", title: \"pianobar\"},\n                        {value: \"siren\", title: \"siren\"},\n                        {value: \"spacealarm\", title: \"spacealarm\"},\n                        {value: \"tugboat\", title: \"tugboat\"},\n                        {value: \"alien\", title: \"alien\"},\n                        {value: \"climb\", title: \"climb\"},\n                        {value: \"persistent\", title: \"persistent\"},\n                        {value: \"echo\", title: \"echo\"},\n                        {value: \"updown\", title: \"updown\"},\n                        {value: \"none\", title: \"none\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: -1,\n                    frontText: 'Priority:',\n                    options: [\n                        {value: -1, title: \"quiet\"},\n                        {value: 0, title: \"normal\"},\n                        {value: 1, title: \"high-priority\"},\n                        {value: 2, title: \"acknowledgment\"},\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushover',\n            id: 'ActionPushover',\n            adapter: 'pushover',\n            title: 'Sends message via pushover',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPushover.getStaticData();\n    }\n}\n\nexport default ActionPushover;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionWhatsappcmb extends GenericBlock {\n    constructor(props) {\n        super(props, ActionWhatsappcmb.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// whatsapp ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", {text: subActionVar${config._id}${config.phone ? `, phone: \"${config.phone.replace(/\"/g, '\\\\\"')}\"` : ''}});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'whatsapp-cmb',\n                    frontText: 'Instance:',\n                    defaultValue: 'whatsapp-cmb.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'phone',\n                    defaultValue: '',\n                    frontText: 'Phone:',\n                    backText: '(optional)'\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Whatsapp-cmb',\n            id: 'ActionWhatsappcmb',\n            adapter: 'whatsapp-cmb',\n            title: 'Sends message via whatsapp-cmb',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionWhatsappcmb.getStaticData();\n    }\n}\n\nexport default ActionWhatsappcmb;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushsafer extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushsafer.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushsafer ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    ${config.device ? `device: \"${config.device}\",` : ''}\n\\t\\t    ${config.sound && config.sound !== '_' ? `sound: \"${config.sound}\",` : ''}\n\\t\\t    priority: ${config.priority},\n\\t\\t    ${config.vibration && config.vibration !== '_' ? `vibration: ${config.vibration},` : ''}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return 'Sent: ' + debugMessage.data.text;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushsafer',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushsafer.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        {value: \"_\", title: \"Device Default\"},\n                        {value: \"0 \", title: \"Silent\"},\n                        {value: \"1 \", title: \"Ahem (IM)\"},\n                        {value: \"2 \", title: \"Applause (Mail)\"},\n                        {value: \"3 \", title: \"Arrow (Reminder)\"},\n                        {value: \"4 \", title: \"Baby (SMS)\"},\n                        {value: \"5 \", title: \"Bell (Alarm)\"},\n                        {value: \"6 \", title: \"Bicycle (Alarm2)\"},\n                        {value: \"7 \", title: \"Boing (Alarm3)\"},\n                        {value: \"8 \", title: \"Buzzer (Alarm4)\"},\n                        {value: \"9 \", title: \"Camera (Alarm5)\"},\n                        {value: \"10\", title: \"Car Horn (Alarm6)\"},\n                        {value: \"11\", title: \"Cash Register (Alarm7)\"},\n                        {value: \"12\", title: \"Chime (Alarm8)\"},\n                        {value: \"13\", title: \"Creaky Door (Alarm9)\"},\n                        {value: \"14\", title: \"Cuckoo Clock (Alarm10)\"},\n                        {value: \"15\", title: \"Disconnect (Call)\"},\n                        {value: \"16\", title: \"Dog (Call2)\"},\n                        {value: \"17\", title: \"Doorbell (Call3)\"},\n                        {value: \"18\", title: \"Fanfare (Call4)\"},\n                        {value: \"19\", title: \"Gun Shot (Call5)\"},\n                        {value: \"20\", title: \"Honk (Call6)\"},\n                        {value: \"21\", title: \"Jaw Harp (Call7)\"},\n                        {value: \"22\", title: \"Morse (Call8)\"},\n                        {value: \"23\", title: \"Electricity (Call9)\"},\n                        {value: \"24\", title: \"Radio Tuner (Call10)\"},\n                        {value: \"25\", title: \"Sirens\"},\n                        {value: \"26\", title: \"Military Trumpets\"},\n                        {value: \"27\", title: \"Ufo\"},\n                        {value: \"28\", title: \"Whah Whah Whah\"},\n                        {value: \"29\", title: \"Man Saying Goodbye\"},\n                        {value: \"30\", title: \"Man Saying Hello\"},\n                        {value: \"31\", title: \"Man Saying No\"},\n                        {value: \"32\", title: \"Man Saying Ok\"},\n                        {value: \"33\", title: \"Man Saying Ooohhhweee\"},\n                        {value: \"34\", title: \"Man Saying Warning\"},\n                        {value: \"35\", title: \"Man Saying Welcome\"},\n                        {value: \"36\", title: \"Man Saying Yeah\"},\n                        {value: \"37\", title: \"Man Saying Yes\"},\n                        {value: \"38\", title: \"Beep short\"},\n                        {value: \"39\", title: \"Weeeee short\"},\n                        {value: \"40\", title: \"Cut in and out short\"},\n                        {value: \"41\", title: \"Finger flicking glas short\"},\n                        {value: \"42\", title: \"Wa Wa Waaaa short\"},\n                        {value: \"43\", title: \"Laser short\"},\n                        {value: \"44\", title: \"Wind Chime short\"},\n                        {value: \"45\", title: \"Echo short\"},\n                        {value: \"46\", title: \"Zipper short\"},\n                        {value: \"47\", title: \"HiHat short\"},\n                        {value: \"48\", title: \"Beep 2 short\"},\n                        {value: \"49\", title: \"Beep 3 short\"},\n                        {value: \"50\", title: \"Beep 4 short\"},\n                        {value: \"51\", title: \"The Alarm is armed\"},\n                        {value: \"52\", title: \"The Alarm is disarmed\"},\n                        {value: \"53\", title: \"The Backup is ready\"},\n                        {value: \"54\", title: \"The Door is closed\"},\n                        {value: \"55\", title: \"The Door is opend\"},\n                        {value: \"56\", title: \"The Window is closed\"},\n                        {value: \"57\", title: \"The Window is open\"},\n                        {value: \"58\", title: \"The Light is off\"},\n                        {value: \"59\", title: \"The Light is on\"},\n                        {value: \"60\", title: \"The Doorbell rings\"},\n                        {value: \"61\", title: \"Pager short\"},\n                        {value: \"62\", title: \"Pager long\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: 0,\n                    frontText: 'Priority:',\n                    options: [\n                        {value: -2, title: \"lowest priority\"},\n                        {value: -1, title: \"lower priority\"},\n                        {value: 0, title: \"normal priority\"},\n                        {value: 1, title: \"high priority\"},\n                        {value: 2, title: \"highest priority\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'vibration',\n                    defaultValue: 0,\n                    frontText: 'Vibration:',\n                    options: [\n                        {value: '_', title: \"default\"},\n                        {value: 1, title: \"1\"},\n                        {value: 2, title: \"2\"},\n                        {value: 3, title: \"3\"},\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushsafer',\n            id: 'ActionPushsafer',\n            adapter: 'pushsafer',\n            title: 'Sends message via Pushsafer',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPushsafer.getStaticData();\n    }\n}\n\nexport default ActionPushsafer;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION_STATE_ONCHANGE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst STANDARD_FUNCTION_ONCHANGE =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\n\nconst NO_FUNCTION = `\"__%%DEBUG_TRIGGER%%__\";\n__%%CONDITIONS_VARS%%__\nconst _cond = __%%CONDITION%%__;\n\n\"__%%DEBUG_CONDITIONS%%__\";\n\nif (_cond) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    justCheck: false,\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n\n    const vars = [];\n    let prelines = [];\n    let hist = json.conditions.find(conds => conds.find(cond => cond.tagCard === '()'));\n\n    jsonTriggers.forEach((trigger, i) => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {\n                trigger,\n                condition: {},\n                justCheck: hist ? false : (json.justCheck || (!json.conditions.length || !json.conditions[0].length)),\n                conditionsDebug: [],\n                conditionsVars: [],\n            };\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n            vars.push('cond' + i);\n\n            if (_context.prelines && _context.prelines.length) {\n                _context.prelines.forEach(line => prelines.push(line));\n            }\n\n            if (text.includes('    __%%CONDITIONS_VARS%%__')) {\n                _context.conditionsVars = _context.conditionsVars.map((v, i) => i ? '    ' + v : v);\n                _context.conditionsDebug = _context.conditionsDebug.map((v, i) => i ? '    ' + v : v);\n            }\n\n            triggers.push(\n                text\n                    .replace('__%%CONDITIONS_VARS%%__', _context.conditionsVars.join('\\n'))\n                    .replace('\"__%%DEBUG_CONDITIONS%%__\";', _context.conditionsDebug.join('\\n'))\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n                    .replace(/__%%STATE%%__/g, 'cond' + i)\n            );\n        }\n    });\n\n    let text = triggers.join('\\n\\n');\n\n    if (!json.justCheck || hist) {\n        text = vars.map(v => `let ${v} = false;`).join('\\n') + '\\n\\n' + text;\n    }\n    if (prelines) {\n        text = prelines.join('\\n') + '\\n\\n' + text;\n    }\n\n    return text;\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.getStaticData && block.getStaticData().id === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    let i = 0;\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length') && ors.length) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    context.condition.index = i++;\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push('(' + _ors.join(') &&\\n                  (') + ')');\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                context.condition.index = i++;\n                result.push(found.compile(ors, context));\n            }\n        }\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return '(' + result.join(') || (') + ')';\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*const demo = ${JSON.stringify(json, null, 2)};*/\\n`;\n\n    return code + '\\n//' + JSON.stringify(json);\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_ONCHANGE,\n    STANDARD_FUNCTION_STATE,\n    STANDARD_FUNCTION_STATE_ONCHANGE,\n    NO_FUNCTION,\n};\n\nexport default Compile;","import GenericBlock from '../GenericBlock';\nimport I18n from \"@iobroker/adapter-react/i18n\";\nimport Compile from '../../helpers/Compile';\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config, context) {\n        return Compile.NO_FUNCTION.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Triggered');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'On script save or adapter start',\n                    attr: 'script'\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Start script',\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n            title: 'Triggers the on script saving or the javascript instance restart'\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","import React from 'react';\nimport SunCalc from 'suncalc2';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport CustomInput from '../CustomInput';\nimport CustomButton from '../CustomButton';\nimport CustomModal from '../CustomModal';\n\nimport ComplexCron from '@iobroker/adapter-react/Components/ComplexCron';\nimport Schedule from '@iobroker/adapter-react/Components/Schedule';\nimport convertCronToText from '@iobroker/adapter-react/Components/SimpleCron/cronText';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst DEFAULT_WIZARD = '{\"time\":{\"start\":\"00:00\",\"end\":\"24:00\",\"mode\":\"hours\",\"interval\":1},\"period\":{\"days\":1}}';\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        let text = '';\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${func}, ${config.interval || 1} * ${config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${func});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow?.length && !config.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${func});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${func});`;\n        } else if (config.tagCard === 'wizard') {\n            text = `schedule('${config.wizard}', ${func});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: sunValue ? TriggerScheduleBlock._time2String(sunValue[name]) : '??:??'\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`;// translate\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes', // translate\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at', // translate\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset', // translate\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    async _setInterval(interval) {\n        interval = parseInt(interval || this.state.settings.interval, 10) || 30;\n        let options;\n        if (interval === 1) {\n            options = [\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            options = [\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    prefix: {\n                        en: 'every'\n                    },\n                    attr: 'interval',\n                    frontText: 'every',\n                    defaultValue: 30,\n                    className: 'block-input-interval'\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 's',\n                    options\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Triggered');\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        } else if (this.state.settings.tagCard === 'interval') {\n            if (attr === 'interval') {\n                this._setInterval(value);\n            }\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: 'text',\n                        defaultValue: value\n                    }, !!settings['text'] ? settings['text'] : value, onChange)}\n                </div>\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={async () => {\n                    await onChange(textCron, 'text');\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false });\n                }}\n                onClose={() => this.setState({ openDialog: false })}>\n                <ComplexCron\n                    cronExpression={!!settings[input.attr] ? '' : settings[attr]}\n                    onChange={el => {textCron = el}} />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: 'every hour at 0 minutes',\n                attr: 'addText',\n                signature: true\n            }, !!settings['addText'] ? settings['addText'] : 'every hour at 0 minutes', onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let wizardText = '';\n        let wizard = null;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={this.state.settings[attr + 'Text']}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={() =>\n                    this.setState({ openDialog: false }, () =>\n                        onChange({\n                            [attr + 'Text']: wizardText,\n                            [attr]: wizard,\n                        }))}\n                onClose={() => this.setState({ openDialog: false })}>\n                <Schedule onChange={(val, text) => {\n                    wizardText = text;\n                    wizard = typeof val === 'object' ? JSON.parse(JSON.stringify(val)) : JSON.parse(val);\n                    wizard.valid = wizard.valid || {};\n                    wizard.valid.from = wizard.valid.from || Schedule.now2string();\n                    wizard = JSON.stringify(wizard);\n                }} />\n            </CustomModal>\n        </div>;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this._setInterval();\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'wizard':\n                const wizard = JSON.parse(DEFAULT_WIZARD);\n                wizard.valid = wizard.valid || {};\n                wizard.valid.from = wizard.valid.from || Schedule.now2string();\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: JSON.stringify(wizard),\n                        }\n                    ]\n                }, () => super.onTagChange(null, () => {\n                    const wizardText = Schedule.state2text(this.state.settings.wizard || wizard);\n                    if (this.state.settings.wizardText !== wizardText) {\n                        const settings = JSON.parse(JSON.stringify(this.state.settings));\n                        settings.wizardText = wizardText;\n                        this.setState({settings});\n                        this.props.onChange(settings);\n                    }\n                }));\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: '07:30',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_', '1', '2', '3', '4', '5', '6', '0'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Schedule',\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n            title: 'Triggers the rule periodically or on some specific time'\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import React from 'react';\nimport {withStyles} from '@material-ui/core/styles';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport Button from '@material-ui/core/Button';\nimport Switch from '@material-ui/core/Switch';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport { MdCancel as IconCancel } from 'react-icons/md';\nimport { MdCheck as IconCheck } from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    valueAck: {\n        color: '#b02323'\n    },\n    valueNotAck: {\n        color: '#12ac15'\n    },\n});\n\nconst Transition = React.forwardRef((props, ref) =>\n    <Slide direction=\"up\" ref={ref} {...props} />);\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n        this.inputRef = React.createRef();\n    }\n\n    static compile(config, context) {\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {val: obj.state.val, ack: obj.state.ack, valOld: obj.oldState && obj.oldState.val, ackOld: obj.oldState && obj.oldState.ack})`);\n        return `on({id: \"${config.oid || ''}\", change: \"${config.tagCard === 'on update' ? 'any' : 'ne'}\"}, ${func});`\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        if (debugMessage.data.valOld !== undefined) {\n            return <span>{I18n.t('Triggered')} <span className={debugMessage.data.ackOld ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.valOld)}</span> → <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n        } else {\n            return <span>{I18n.t('Triggered')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n        }\n    }\n\n    onWriteValue() {\n        this.setState({openSimulate: false});\n        let simulateValue = this.state.simulateValue;\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}_ack`, this.state.simulateAck);\n\n        if (this.state.settings.oidType === 'boolean') {\n            simulateValue = simulateValue === true || simulateValue === 'true' || simulateValue === '1';\n        } else if (this.state.settings.oidType === 'number') {\n            simulateValue = parseFloat(simulateValue) || 0;\n        }\n\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}`, simulateValue);\n        this.props.socket.setState(this.state.settings.oid, simulateValue, !!this.state.simulateAck);\n    }\n\n    renderWriteState() {\n        return <>\n            <Button\n                disabled={!this.state.settings.oid || !this.state.enableSimulation}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                    this.setState({\n                        openSimulate: true,\n                        simulateValue: this.state.settings.oidType === 'boolean' ?\n                            window.localStorage.getItem('javascript.app.' + this.state.settings.oid) === 'true' :\n                            (window.localStorage.getItem('javascript.app.' + this.state.settings.oid) || ''),\n                        simulateAck: window.localStorage.getItem(`javascript.app.${this.state.settings.oid}_ack`) === 'true'\n                    });\n                    setTimeout(() => this.inputRef.current?.focus(), 200);\n                }}>{I18n.t('Simulate')}</Button>\n            <Dialog\n                open={!!this.state.openSimulate}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={() => this.setState({openSimulate: false})}\n                aria-labelledby=\"simulate-dialog-slide-title\"\n                aria-describedby=\"simulate-dialog-slide-description\"\n            >\n                <DialogTitle id=\"simulate-dialog-slide-title\">{I18n.t('Trigger with value')}</DialogTitle>\n                <DialogContent>\n                    {this.state.settings.oidType === 'boolean' ?\n                        <FormControlLabel\n                            control={<Switch\n                                inputRef={this.inputRef}\n                                onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                                value={!!this.state.simulateValue}\n                                onChange={e => this.setState({simulateValue: e.target.checked})}\n                            />}\n                            label={I18n.t('Value')}\n                        />\n                        : <TextField\n                            inputRef={this.inputRef}\n                            label={I18n.t('Value')}\n                            fullWidth={true}\n                            onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                            value={this.state.simulateValue}\n                            onChange={e => this.setState({simulateValue: e.target.value})}\n                        />\n                    }\n                    <br/>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={!!this.state.simulateAck}\n                                onChange={e => this.setState({simulateAck: e.target.checked})}\n                                color=\"primary\"\n                            />\n                        }\n                        label={I18n.t('Ack')}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.onWriteValue()}\n                        color=\"primary\">\n                        <IconCheck/>{I18n.t('Write')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.setState({openSimulate: false})}\n                    >\n                        <IconCancel/>{I18n.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: ''\n                },\n                {\n                    nameRender: 'renderWriteState',\n                }\n            ]\n        }, () => {\n            super.onTagChange();\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'State',\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update'],\n            title: 'Triggers the rule on update or change of some state' // translate\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\nexport default withStyles(styles)(TriggerState);\n","export default __webpack_public_path__ + \"static/media/hysteresis.04ebd02c.png\";","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport HysteresisImage from '../../../assets/hysteresis.png';\n\nconst HYSTERESIS = `function __hysteresis(val, limit, state, hist, comp) {\n    let cond1, cond2;\n    if (comp === '>') {\n        cond1 = val > limit + hist;\n        cond2 = val <= limit - hist;\n    } else if (comp === '<') {\n        cond1 = val < limit - hist;\n        cond2 = val >= limit + hist;\n    } else if (comp === '>=') {\n        cond1 = val >= limit + hist;\n        cond2 = val < limit - hist;\n    } else if (comp === '<=') {\n        cond1 = val <= limit - hist;\n        cond2 = val > limit + hist;\n    } else if (comp === '=') {\n        cond1 = val <= limit + hist && val > limit - hist;\n        cond2 = val > limit + hist || val <= limit - hist;\n    } else if (comp === '<>') {\n        cond1 = val > limit + hist || val <= limit - hist;\n        cond2 = val <= limit + hist && val > limit - hist;\n    }\n     \n    if (!state && cond1) {\n        return true;\n    } else if (state && cond2) {\n        return false;\n    } else {\n        return state;\n    }\n}`;\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === null || value === undefined) {\n            value = false;\n        }\n        let debugValue = '';\n\n        let result;\n        if (config.tagCard === '()') {\n            context.prelines =  context.prelines || [];\n            !context.prelines.find(item => item !== HYSTERESIS) && context.prelines.push(HYSTERESIS);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (value === '') {\n                    value = 0;\n                }\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (value === '') {\n                    value = 0;\n                }\n                if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                    value = `\"${value}\"`;\n                }\n\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            }\n        } else\n        if (config.tagCard !== 'includes') {\n            const compare = config.tagCard === '=' ? '==' : (config.tagCard === '<>' ? '!=' : config.tagCard);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id}.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            }\n        }\n        context.conditionsVars.push(`const subCondVar${config._id} = ${debugValue};`);\n        context.conditionsVars.push(`const subCond${config._id} = ${result};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}, value: subCondVar${config._id}, compareWith: ${value}});`);\n        return 'subCond' + config._id;\n    }\n\n    renderDebug(debugMessage) {\n        const condition = this.state.settings.tagCard;\n        if (condition === '()') {\n            // TODO\n        } else {\n            return debugMessage.data.result.toString().toUpperCase() + ' [' + debugMessage.data.value + ' ' + condition + ' ' + debugMessage.data.compareWith + ']';\n        }\n\n        return I18n.t('Triggered');\n    }\n\n    onShowHelp = () => this.setState({showHysteresisHelp: true});\n\n    _setInputs(useTrigger, tagCard, oidType, oidUnit, oidStates) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        tagCard   = tagCard   || this.state.settings.tagCard;\n        oidType   = oidType   || this.state.settings.oidType;\n        oidUnit   = oidUnit   || this.state.settings.oidUnit;\n        oidStates = oidStates || this.state.settings.oidStates;\n\n        if (isAllTriggersOnState && useTrigger && this.props.userRules?.triggers?.length === 1) {\n            oidType   = this.props.userRules.triggers[0].oidType;\n            oidUnit   = this.props.userRules.triggers[0].oidUnit;\n            oidStates = this.props.userRules.triggers[0].oidStates;\n        }\n\n        const _tagCardArray = ConditionState.getStaticData().tagCardArray;\n        const tag = _tagCardArray.find(item => item.title === tagCard);\n        let tagCardArray;\n        let options = null;\n\n        if (oidType === 'number') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis'\n                }\n            ];\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        } else if (oidType === 'boolean') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ];\n            options = [\n                {title: 'false', value: false},\n                {title: 'true', value: true},\n            ];\n        } else {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        }\n\n        let settings = null;\n        if (!tagCardArray.find(item => item.title === tagCard)) {\n            tagCard = tagCardArray[0].title;\n            settings = settings || {...this.state.settings};\n            settings.tagCard = tagCard;\n        }\n\n        let inputs;\n        let renderText = {\n            nameRender: 'renderText',\n            defaultValue: '',\n            attr: 'value',\n            frontText: tagCard === '()' ? 'Limit' : (tag?.text || 'compare with'),\n            doNotTranslateBack: true,\n            backText: oidUnit\n        };\n\n        if (options) {\n            renderText = {\n                nameRender: 'renderSelect',\n                defaultValue: options[0].value,\n                options,\n                attr: 'value',\n                frontText: tag?.text || 'compare with',\n                doNotTranslateBack: true,\n                backText: oidUnit\n            };\n            if (!options.find(item => item.value === this.state.settings.value)) {\n                settings = settings || {...this.state.settings};\n                settings.value = options[0].value;\n            }\n            if (options.length <= 2) {\n                tagCardArray = [\n                    {\n                        title: '=',\n                        title2: '[equal]',\n                        text: 'equal to'\n                    },\n                    {\n                        title: '<>',\n                        title2: '[not equal]',\n                        text: 'not equal to'\n                    }\n                ];\n            }\n        }\n\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n                renderText,\n            ];\n        } else if (isAllTriggersOnState) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                },\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        }\n\n        if (tagCard === '()') {\n            inputs.splice(1, 0, {\n                nameRender: 'renderDialog',\n                icon: 'HelpOutline',\n                frontText: 'Explanation',\n                onShowDialog: this.onShowHelp,\n            });\n            inputs.splice(2, 0, {\n                nameRender: 'renderSelect',\n                attr: 'histComp',\n                defaultValue: '>',\n                frontText: 'Condition',\n                doNotTranslate: true,\n                options: [\n                    {title: '>',  value: '>'},\n                    {title: '>=', value: '>='},\n                    {title: '<',  value: '<'},\n                    {title: '<=', value: '<='},\n                    {title: '=',  value: '='},\n                    {title: '<>', value: '<>'},\n                ]\n            });\n            inputs.push({\n                frontText: 'Δ',\n                doNotTranslate: true,\n                nameRender: 'renderNumber',\n                noHelperText: true,\n                attr: 'hist',\n                defaultValue: 1,\n                doNotTranslateBack: true,\n                backText: oidUnit\n            });\n        }\n\n        const state = {\n            iconTag: true,\n            tagCardArray,\n            inputs\n        };\n\n        this.setState(state,() =>\n            super.onTagChange(null, () => {\n                if (settings) {\n                    this.setState({settings});\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        if (typeof value === 'object') {\n            this._setInputs(value.useTrigger, value.tagCard, value.oidType, value.states);\n        } else {\n            if (attr === 'useTrigger') {\n                this._setInputs(value);\n            } else if (attr === 'oidType') {\n                this._setInputs(value, undefined, value);\n            } else if (attr === 'oidUnit') {\n                this._setInputs(value, undefined, undefined, value);\n            } else if (attr === 'oidStates') {\n                this._setInputs(value, undefined, undefined, undefined, value);\n            }\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger, tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'State condition',\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis'\n                }\n            ],\n            title: 'Compares the state value with user defined value'\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n\n    renderSpecific() {\n        if (this.state.showHysteresisHelp) {\n            return <Dialog\n                open={true}\n                maxWidth=\"md\"\n                onClose={() => this.setState({showHysteresisHelp: false})}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <img src={HysteresisImage} alt=\"Hysteresis\"/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.setState({showHysteresisHelp: false})} color=\"primary\" autoFocus>\n                        {I18n.t('OK')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let cond;\n\n        if (config.withDate) {\n            let [month, date] = (config.date || '01.01').toString().split('.');\n            date = parseInt(date, 10) || 0;\n            month = parseInt(month, 10) || 0;\n            if (month > 12) {\n                month = 12;\n            } else if (month < 0) {\n                month = 0;\n            }\n\n            if (date > DAYS[month]) {\n                date = DAYS[month];\n            } else if (date < 0) {\n                date = 0;\n            }\n            if (date && month) {\n                cond = `formatDate(Date.now(), 'MM.DD-hh:mm') ${compare} \"${config.date}-${config.time}\"`;\n            } else if (date === 0 && month) {\n                cond = `formatDate(Date.now(), 'MM-hh:mm') ${compare} \"${month.toString().padStart(2, '0')}-${config.time}\"`;\n            } else if (month === 0 && date) {\n                cond = `formatDate(Date.now(), 'DD-hh:mm') ${compare} \"${date.toString().padStart(2, '0')}-${config.time}\"`;\n            } else {\n                cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n            }\n        } else {\n            cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n        }\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}});`);\n        return 'subCond' + config._id;\n    }\n\n    _setInputs(tagCard, withDate, ) {\n        withDate = withDate === undefined ? this.state.settings.withDate : withDate;\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        const inputs = [\n            {\n                nameRender: 'renderNameText',\n                attr: 'interval',\n                defaultValue: 'Actual time of day',\n            },\n            {\n                frontText: tag?.text || tagCard,\n                nameRender: 'renderTime',\n                attr: 'time',\n                defaultValue: '12:00',\n            },\n            {\n                frontText: 'with date',\n                nameRender: 'renderCheckbox',\n                attr: 'withDate',\n                defaultValue: false,\n            }\n        ];\n        if (withDate) {\n            inputs.push({\n                nameRender: 'renderDate',\n                attr: 'date',\n                defaultValue: '01.01',\n            });\n        }\n        this.setState({\n            inputs,\n            iconTag:true\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'withDate') {\n            this._setInputs(undefined, value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Time condition',\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with the user specific time'\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import GenericBlock from '../GenericBlock';\nimport SunCalc from 'suncalc2';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ConditionAstrological extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstrological.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let offset;\n        if (config.offset) {\n            offset = parseInt(config.offsetValue, 10) || 0;\n        }\n        const cond = `formatDate(Date.now(), 'hh:mm') ${compare} formatDate(getAstroDate(\"${config.astro}\"${offset ? `, undefined, ${offset}` : ''}), 'hh:mm')`;\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: ${cond}});`);\n        return cond;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstrological._time2String(sunValue[name])}]`,\n            order: ConditionAstrological._time2String(sunValue[name])\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstrological.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${I18n.t(tag.text)} ${ConditionAstrological._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text'\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text'\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Astrological',\n            id: 'ConditionAstrological',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with astrological event'\n        }\n    }\n\n    getData() {\n        return ConditionAstrological.getStaticData();\n    }\n}\n\nexport default ConditionAstrological;\n","import GenericBlock from '../GenericBlock';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport I18n from \"@iobroker/adapter-react/i18n\";\n\nconst styles = theme => ({\n    valueAck: {\n        color: '#b02323'\n    },\n    valueNotAck: {\n        color: '#12ac15'\n    },\n});\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n        return `// set state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} \n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tawait setStateAsync(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionSetState.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle     = toggle     === undefined ? this.state.settings.toggle     : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n                type = 'select';\n            }\n        }\n\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = {value: oidMax === undefined ? 0 : oidMax};\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = {value: oidMax};\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = {value: options[0].value};\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = {value: false};\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = {value: true};\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = {value: '#FFFFFF'};\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        return {inputs, newSettings: settings};\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            if (newSettings) {\n                const settings = JSON.parse(JSON.stringify(this.state.settings));\n                Object.assign(settings, newSettings);\n                this.setState(settings);\n                this.props.onChange(settings);\n            }\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set state action',\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default withStyles(styles)(ActionSetState);\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstrological from '../Blocks/ConditionAstrological';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\nimport ActionFunction from '../Blocks/ActionFunction';\nimport ActionSetStateDelayed from '../Blocks/ActionSetStateDelayed';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstrological,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n    ActionFunction,\n    ActionSetStateDelayed,\n];\n\nexport default StandardBlocks;","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// exec \"${config.exec}\"\n\\t\\tconst subActionVar${config._id} = \"${(config.exec || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {exec: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return 'Exec: ' + debugMessage.data.exec;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Exec',\n            id: 'ActionExec',\n            icon: 'Apps',\n            title: 'Executes some shell command',\n            helpDialog: 'You can use %s in the command to use current trigger value or %id to use the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// HTTP request ${config.url}\n\\t\\tconst subActionVar${config._id} = \"${(config.url || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {url: subActionVar${config._id}});\n\\t\\trequest(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return 'URL: ' + debugMessage.data.url;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'HTTP Call',\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n            title: 'Make a HTTP get request',\n            helpDialog: 'You can use %s in the URL to use current trigger value or %id to use the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// Log ${config.text}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Log: %s', debugMessage.data.text);\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Log text',\n            id: 'ActionPrintText',\n            icon: 'Subject',\n            title: 'Print some text in log',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import GenericBlock from '../GenericBlock';\nimport I18n from \"@iobroker/adapter-react/i18n\";\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        const ms = config.unit === 'ms' ? 1 : (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))\n\n        return `// pause for ${ms}ms\n\\t\\t_sendToFrontEnd(${config._id}, {paused: true});\\n\n\\t\\tawait wait(${config.pause} * ${ms});\\n\n\\t\\t_sendToFrontEnd(${config._id}, {paused: false});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Paused: %s', debugMessage.data.paused);\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause)\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pause',\n            id: 'ActionPause',\n            icon: 'Pause',\n            title: 'Make a pause between actions'\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionFunction extends GenericBlock {\n    constructor(props) {\n        super(props, ActionFunction.getStaticData());\n    }\n\n    static compile(config, context) {\n        const lines = (config.func || '')\n            .split('\\n')\n            .map((line, i) => '        ' + line);\n\n        lines.unshift(`\\t\\t_sendToFrontEnd(${config._id}, {func: 'executed'});`);\n        lines.unshift(`// user function`);\n\n        return lines.join('\\n');\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Function: executed');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'func',\n                    noTextEdit: true,\n                    defaultValue: 'console.log(\"Test\")',\n                    nameBlock: 'Function'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'User function',\n            id: 'ActionFunction',\n            icon: 'Functions',\n            title: 'Write your own code',\n            helpDialog: 'This is advances option. You can write your own code here and it will be executed on trigger'\n        }\n    }\n\n    getData() {\n        return ActionFunction.getStaticData();\n    }\n}\n\nexport default ActionFunction;\n","import GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ActionSetStateDelayed extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetStateDelayed.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n\n        return `// set delayed state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} with delay of ${config.delay}ms\n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tsetStateDelayed(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'}, ${parseInt(config.delay, 10)}, ${config.clearRunning ? 'true' : 'false'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionSetStateDelayed.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle = toggle === undefined ? this.state.settings.toggle : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n                type = 'select';\n            }\n        }\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = {value: oidMax === undefined ? 0 : oidMax};\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = {value: oidMax};\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = {value: options[0].value};\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = {value: false};\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = {value: true};\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = {value: '#FFFFFF'};\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        inputs.push({\n            backText: 'ms',\n            frontText: 'Delay',\n            nameRender: 'renderNumber',\n            defaultValue: '1000',\n            noHelperText: true,\n            attr: 'delay'\n        });\n        inputs.push({\n            backText: 'clear running',\n            nameRender: 'renderCheckbox',\n            defaultValue: true,\n            attr: 'clearRunning'\n        })\n\n        return {inputs, newSettings: settings};\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            if (newSettings) {\n                const settings = JSON.parse(JSON.stringify(this.state.settings));\n                Object.assign(settings, newSettings);\n                this.setState(settings);\n                this.props.onChange(settings);\n            }\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set with delay',\n            id: 'ActionSetStateDelayed',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state with delay',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSetStateDelayed.getStaticData();\n    }\n}\n\nexport default ActionSetStateDelayed;\n","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport ActionPushover from '../Blocks/ActionPushover';\nimport ActionWhatsappcmb from '../Blocks/ActionWhatsappcmb';\nimport ActionPushsafer from '../Blocks/ActionPushsafer';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n    pushover: ActionPushover,\n    'whatsapp-cmb': ActionWhatsappcmb,\n    'pushsafer': ActionPushsafer,\n}\n\nexport const ContextWrapperCreate = createContext();\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [blocks, setBlocks] = useState(null);\n    const [onUpdate, setOnUpdate] = useState(false);\n    const [onDebugMessage, setOnDebugMessage] = useState(false);\n    const [enableSimulation, setEnableSimulation] = useState(false);\n\n    useEffect(() => {\n        onUpdate && setOnUpdate(false);\n    }, [onUpdate]);\n\n    useEffect(() => {\n        socket.getAdapterInstances()\n            .then(instances => {\n                const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                    instances.find(obj => obj?.common?.name === adapter));\n                const adapterBlocksArray = adapters.map(adapter => ADAPTERS[adapter]);\n\n                setBlocks([...StandardBlocks, ...adapterBlocksArray]);\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{\n        blocks,\n        socket,\n        onUpdate,\n        setOnUpdate,\n        onDebugMessage,\n        setOnDebugMessage,\n        enableSimulation,\n        setEnableSimulation\n    }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, {memo, useCallback, useContext, useEffect, useMemo, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy, isTourOpen, setTourStep, tourStep } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { blocks, socket, onUpdate, setOnUpdate, onDebugMessage, enableSimulation } = useContext(ContextWrapperCreate);\n\n    useEffect(() => {\n        console.log('New message !!' + JSON.stringify(onDebugMessage));\n    }, [onDebugMessage]);\n\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id) || GenericBlock;\n        return <CustomBlock\n            isTourOpen={isTourOpen}\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            notFound={!findElementBlocks(id)}\n            {...props}\n            onUpdate={onUpdate}\n            setOnUpdate={setOnUpdate}\n            enableSimulation={enableSimulation}\n            onDebugMessage={onDebugMessage}\n            onChange={onChange}\n            className={null}\n            socket={socket}\n        />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate, onDebugMessage, enableSimulation]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        onMouseDown={el => {\n            if (el.ctrlKey) {\n                let newItem;\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                if (blockValue !== \"triggers\") {\n                    newItem = newUserRules[acceptedBy][blockValue].find(el => el._id === _id);\n                } else {\n                    newItem = newUserRules[acceptedBy].find(el => el._id === _id);\n                }\n                if (blockValue !== \"triggers\") {\n                    newUserRules[acceptedBy][blockValue].splice(newUserRules[acceptedBy][blockValue].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                } else {\n                    newUserRules[acceptedBy].splice(newUserRules[acceptedBy].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                }\n                setUserRules(newUserRules);\n            }\n        }}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        <div className={cls.drag_mobile} />\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setOnUpdate(true);\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","import React, { useContext, useEffect, useRef } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport cls from './style.module.scss';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { setOnUpdate } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        type: 'box',\n        item: () => ({ ...allProperties, id, isActive, _id }),\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setOnUpdate(true);\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY\n                            );\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n    const isMobile = window.innerWidth < 600;\n    return <div ref={isMobile && _id ? null : ref} className={cls.root} style={{ opacity }}><div className={_id ? cls.drag : null} ref={_id && isMobile ? ref : null} />{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst DialogHelp = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <div style={{\n            fontSize: '1rem',\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n            fontWeight: 400,\n            lineHeight: 1.5,\n            letterSpacing: '0.00938em'\n        }} >\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </div>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus startIcon={<IconOk/>}>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog >;\n\nDialogHelp.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogHelp.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogHelp;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst DialogCondition = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog>;\n\nDialogCondition.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogCondition.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogCondition;","\nimport React, { Fragment, useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { useDrop } from 'react-dnd';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconHelp from '@material-ui/icons/HelpOutline';\nimport { deepCopy } from '../../helpers/deepCopy';\n\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport DialogHelp from './DialogHelp';\nimport DialogCondition from './DialogCondition';\nimport clsx from 'clsx';\n\nconst AdditionallyContentBlockItems = ({ size, itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation, setTourStep, tourStep, isTourOpen }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const options = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.getItem()?.acceptedBy === typeBlock,\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = options;\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div ref={drop} style={{ backgroundColor }} className={`${clsx(cls.contentBlockItem,size && cls.addClassHeight)} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}>\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    isTourOpen={isTourOpen}\n                    setTourStep={setTourStep}\n                    tourStep={tourStep}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height') ? document.getElementById('height').clientHeight : 200 } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ size, typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket, setTourStep, tourStep, isTourOpen }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n    const [showHelp, setShowHelp] = useState(false);\n    const [showConditionDialog, setShowConditionDialog] = useState(false);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${clsx(cls.mainBlockItemRules, size && cls.addClassOverflow)} ${border && !size ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon iconName={iconName} className={cls.iconThemCard} adapter={adapter} socket={socket} />{name}\n        </span>\n        {typeBlock === 'conditions' ?\n            <div style={{ width: '100%' }}>\n                <Select\n                    className={cls.selectOnChange}\n                    value={userRules.justCheck || false}\n                    onChange={e => {\n                        const _userRules = deepCopy('conditions', userRules);\n                        _userRules.justCheck = e.target.value;\n                        setUserRules(_userRules);\n                    }}\n                >\n                    <MenuItem value={false}>{I18n.t('on condition change')}</MenuItem>\n                    <MenuItem value={true}>{I18n.t('just check')}</MenuItem>\n                </Select>\n                <IconButton size=\"small\" title={I18n.t('Explanation')} className={cls.selectOnChangeHelp} onClick={() => setShowHelp(true)}>\n                    <IconHelp className={cls.selectOnChangeHelpIcon} />\n                </IconButton>\n            </div>\n            : null}\n        <AdditionallyContentBlockItems\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            isTourOpen={isTourOpen}\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            size={size}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}>\n                <div\n                    onClick={() => {\n                        if (typeBlock === 'actions') {\n                            setAdditionallyClickItems(!additionallyClickItems);\n                            return null;\n                        }\n                        let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                        if (userRules['conditions'][index + 1].length) {\n                            newAdditionally[index].open = !newAdditionally[index].open\n                            setAdditionallyClickItems(newAdditionally);\n                            return null;\n                        }\n                        newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                        setAdditionallyClickItems(newAdditionally);\n                        setAnimation(typeBlock === 'actions' ? true : index);\n                        setTimeout(() => {\n                            setAnimation(false);\n                            setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                        }, 250);\n\n                    }}\n                    key={index} className={cls.blockCardAdd}>\n                    {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                        {nameAdditionally}\n                    </div>\n                </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                    size={size}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n        <DialogHelp open={showHelp} onClose={() => setShowHelp(false)} />\n        <DialogCondition open={showConditionDialog} onClose={() => setShowConditionDialog(false)} />\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: ''\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;","import React from 'react';\nimport CardMenu from '.';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport DragWrapper from '../DragWrapper';\nimport { STEPS } from '../../helpers/Tour';\n\nconst CustomDragItem = props => {\n    const { allProperties, allProperties: { acceptedBy, id }, setUserRules, userRules, setTourStep, tourStep, isTourOpen, onTouchMove } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu\n            onTouchMove={onTouchMove}\n            onDoubleClick={() => {\n                (isTourOpen &&\n                    tourStep === STEPS.addScheduleByDoubleClick &&\n                    id === 'TriggerScheduleBlock' &&\n                    setTourStep(STEPS.openTagsMenu)\n                );\n                (isTourOpen &&\n                    tourStep === STEPS.addActionPrintText &&\n                    id === 'ActionPrintText' &&\n                    setTourStep(STEPS.showJavascript)\n                );\n                let _id = Date.now();\n                let blockValue;\n                switch (acceptedBy) {\n                    case 'actions':\n                        blockValue = 'then';\n                        break;\n\n                    case 'conditions':\n                        blockValue = userRules[acceptedBy].length - 1;\n                        break;\n\n                    default:\n                        break;\n                }\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                const newItem = { id, _id, acceptedBy };\n                if (blockValue !== undefined) {\n                    newUserRules[acceptedBy][blockValue].push({ ...newItem });\n                } else {\n                    newUserRules[acceptedBy].push({ ...newItem });\n                }\n                setUserRules(newUserRules);\n            }} onDoubl {...props} {...allProperties} />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;","import React from 'react';\nimport cls from './hamburgerMenu.module.scss';\nimport PropTypes from 'prop-types';\n\nconst HamburgerMenu = ({boolean}) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;","import React, { Fragment, useContext, useEffect } from 'react';\nimport cls from './style.module.scss';\nimport { AppBar, ClickAwayListener, Tab, Tabs } from '@material-ui/core';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomInput from '../CustomInput';\nimport CustomDragItem from '../CardMenu/CustomDragItem';\nimport HamburgerMenu from '../HamburgerMenu';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { STEPS } from '../../helpers/Tour';\n\nconst Menu = ({ addClass, setAllBlocks, allBlocks, userRules, onChangeBlocks, setTourStep, tourStep, isTourOpen }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket } = useContext(ContextWrapperCreate);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    const handleChange = (event, newValue) => {\n        isTourOpen && (newValue === 0 && tourStep === STEPS.selectTriggers) && setTourStep(STEPS.addScheduleByDoubleClick);\n        isTourOpen && (newValue === 2 && tourStep === STEPS.selectActions) && setTourStep(STEPS.addActionPrintText);\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && I18n.t(name).toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    useEffect(() => {\n        setBlocksFunc();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n    return <ClickAwayListener\n        mouseEvent={false}\n        touchEvent=\"onTouchStart\"\n        onClickAway={() => setHamburgerOnOff(true)}\n    >\n        <div className={clsx(cls.menuWrapper, addClass[1035] && cls.addClassMenu)}>\n            <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n                onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} />\n            </div>\n            <div className={`${clsx(cls.menuRules, addClass[1035] && cls.addClassBackground, addClass[835] && cls.addClassPosition)} ${hamburgerOnOff ? cls.menuOff : null}`}>\n                <div className={cls.controlPanel}>\n                    <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                        <Tabs\n                            value={filter.index}\n                            onChange={handleChange}\n                        >\n                            <Tab className=\"blocks-triggers\"\n                                title={I18n.t('Triggers')}\n                                icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                                {...a11yProps(0)} />\n                            <Tab title={I18n.t('Conditions')} className=\"blocks-conditions\" icon={<MaterialDynamicIcon iconName='Help' />}\n                                {...a11yProps(1)} />\n                            <Tab title={I18n.t('Actions')} className=\"blocks-actions\" icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                                {...a11yProps(2)} />\n                        </Tabs>\n                    </AppBar>\n                </div>\n                <div className={cls.switchesRenderWrapper}>\n                    <span>\n                        {allBlocks.map(el => {\n                            const { name, id, icon, adapter } = el.getStaticData();\n                            return <Fragment key={id}>\n                                <CustomDragItem\n                                    onTouchMove={() => setHamburgerOnOff(true)}\n                                    setTourStep={setTourStep}\n                                    tourStep={tourStep}\n                                    isTourOpen={isTourOpen}\n                                    allProperties={el.getStaticData()}\n                                    name={name}\n                                    icon={icon}\n                                    adapter={adapter}\n                                    socket={socket}\n                                    userRules={userRules}\n                                    setUserRules={onChangeBlocks}\n                                    isActive={false}\n                                    id={id}\n                                />\n                            </Fragment>;\n                        })}\n                        {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                            {I18n.t('Nothing found')}...\n                            <div className={cls.resetSearch} onClick={() => {\n                                setFilter({\n                                    ...filter,\n                                    text: ''\n                                });\n                                setBlocksFunc('');\n                            }}>{I18n.t('reset search')}</div>\n                        </div>}\n                    </span>\n                </div>\n                <div className={clsx(cls.menuTitle, cls.marginAuto)} />\n                <CustomInput\n                    className={cls.inputWidth}\n                    fullWidth\n                    customValue\n                    value={filter.text}\n                    size=\"small\"\n                    autoComplete=\"off\"\n                    label={I18n.t('search')}\n                    variant=\"outlined\"\n                    onChange={(value) => {\n                        setFilter({ ...filter, text: value });\n                        setBlocksFunc(value);\n                    }}\n                />\n            </div>\n        </div>\n    </ClickAwayListener>;\n}\n\nMenu.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default Menu;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport cls from './style.module.scss';\n\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './helpers/Compile';\nimport PropTypes from 'prop-types';\nimport Menu from './components/Menu';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport './helpers/stylesVariables.scss';\n\nimport DialogExport from '../../Dialogs/Export';\nimport DialogImport from '../../Dialogs/Import';\nimport clsx from 'clsx';\n\nconst RulesEditor = ({ code, onChange, themeName, setTourStep, tourStep, isTourOpen, command, scriptId, changed, running }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket, setOnUpdate, setOnDebugMessage, setEnableSimulation } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [userRules, setUserRules] = useState(Compile.code2json(code));\n    const [importExport, setImportExport] = useState('');\n    const [modal, setModal] = useState(false);\n    //const [jsAlive, setJsAlive] = useState(false);\n    //const [jsInstance, setJsInstance] = useState(false);\n\n    useEffect(() => {\n        let _jsInstance;\n        let _jsAlive;\n        const handler = (id, obj) => {\n            if (id === _jsInstance + '.alive') {\n                if (_jsAlive !== obj?.val) {\n                    _jsAlive = obj?.val;\n                    //setJsAlive(_jsAlive);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                }\n            } else {\n                if (_jsInstance !== obj?.common?.engine) {\n                    _jsInstance && socket.unsubscribeState(`${_jsInstance}.alive`, handler);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                    _jsInstance = obj?.common?.engine;\n                    //setJsInstance(_jsInstance);\n                    _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                }\n            }\n        };\n        const handlerStatus = (id, state) => {\n            try {\n                let msg = JSON.parse(state.val);\n                // if not from previous session\n                if (msg.ruleId === scriptId && Date.now() - msg.ts < 1000) {\n                    setOnDebugMessage({blockId: msg.blockId, data: msg.data, ts: msg.ts});\n                }\n            } catch (e) {\n                console.error('Cannot parse')\n            }\n        };\n\n        socket.getObject(scriptId)\n            .then(obj => {\n                _jsInstance = obj?.common?.engine;\n                //setJsInstance(_jsInstance);\n                socket.subscribeObject(scriptId, handler);\n                _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                _jsInstance && socket.subscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n            });\n\n        return function cleanup() {\n            _jsInstance && socket.unsubscribeObject(`${_jsInstance}.alive`, handler);\n            socket.unsubscribeState(scriptId, handler);\n            _jsAlive && _jsInstance && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOff', scriptId);\n            _jsInstance && socket.unsubscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        setEnableSimulation(!changed && running);\n    }, [changed, running, setEnableSimulation]);\n\n    useEffect(() => {\n        if (!!command) {\n            setImportExport(command);\n            if (!modal) {\n                setModal(true);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [command]);\n\n    useEffect(() => {\n        const newUserRules = Compile.code2json(code);\n        if (JSON.stringify(newUserRules) !== JSON.stringify(userRules)) {\n            setUserRules(newUserRules);\n            setOnUpdate(true);\n        }\n        // eslint-disable-next-line\n    }, [code]);\n\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = themeName || 'blue';\n    }, [themeName]);\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\n    const ref = useRef({ clientWidth: 0 });\n    const [addClass, setAddClass] = useState({ 835: false, 1035: false });\n    useEffect(() => {\n        if (ref.current) {\n            if (ref.current.clientWidth <= 1035) {\n                setAddClass({ 835: false, 1035: true });\n            }\n            if (ref.current.clientWidth <= 835) {\n                setAddClass({ 1035: true, 835: true });\n            }\n            if (ref.current.clientWidth > 1035) {\n                setAddClass({ 835: false, 1035: false });\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ref.current.clientWidth])\n\n    if (!blocks) {\n        return null;\n    }\n\n    return <div key=\"rulesEditor\" className={cls.wrapperRules} ref={ref}>\n        {<CustomDragLayer allBlocks={allBlocks} socket={socket} />}\n        {importExport === \"export\" ?\n            <DialogExport\n                key=\"dialogExport\"\n                onClose={() => setModal(false)}\n                open={modal}\n                text={JSON.stringify(userRules, null, 2)} /> :\n            <DialogImport\n                open={modal}\n                key=\"dialogImport\"\n                onClose={text => {\n                    setModal(false);\n                    if (text) {\n                        onChangeBlocks(JSON.parse(text));\n                    }\n                }} />}\n        {<div className={clsx(cls.rootWrapper, addClass[835] && cls.addClass)}>\n            <Menu\n                setAllBlocks={setAllBlocks}\n                allBlocks={allBlocks}\n                userRules={userRules}\n                onChangeBlocks={onChangeBlocks}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                addClass={addClass}\n                isTourOpen={isTourOpen}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                userRules={userRules}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                name={`${I18n.t('when')}...`}\n                typeBlock=\"triggers\"\n                iconName=\"FlashOn\"\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('and')}...`}\n                typeBlock=\"conditions\"\n                iconName=\"Help\"\n                nameAdditionally={I18n.t('or')}\n                additionally\n                border\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('then')}`}\n                typeBlock=\"actions\"\n                iconName=\"PlayForWork\"\n                nameAdditionally={I18n.t('else')}\n                additionally\n                size={addClass[835]}\n            />\n        </div>}\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string,\n    scriptId: PropTypes.string,\n    setTourStep: PropTypes.func,\n    tourStep: PropTypes.number,\n    command: PropTypes.string,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    searchText: PropTypes.string,\n    resizing: PropTypes.bool,\n\n};\n\nexport default RulesEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport ScriptEditorComponent from '../ScriptEditorVanilaMonaco';\n\nconst styles = theme => ({\n    editorDiv: {\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    editor: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto',\n    },\n    line: {\n        width: '100%',\n        whiteSpace: 'nowrap',\n    },\n    lineNumber: {\n        width: 40,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        fontFamily: 'Lucida Console, Courier, monospace',\n        textAlign: 'right',\n        fontSize: 14,\n        marginRight: 1,\n        borderRight: '1px solid #555',\n        cursor: 'pointer'\n    },\n    lineBreakpoint: {\n        background: '#330000',\n        color: 'white',\n    },\n    lineCode: {\n        //whiteSpace: 'nowrap',\n        display: 'inline-block',\n        fontFamily: 'Lucida Console, Courier, monospace',\n        fontSize: 14,\n        margin: 0,\n        whiteSpace: 'pre',\n    },\n    lineCurrentCode: {\n        background: 'red',\n        color: 'white',\n    },\n    lineCurrent: {\n        background: '#880000',\n        color: 'white',\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            lines: (this.props.script || '').split(/\\r\\n|\\n/)\n        };\n    }\n\n    editorDidMount(editor, monaco) {\n        this.monaco = monaco;\n        this.editor = editor;\n        editor.focus();\n    }\n\n    render() {\n        return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv2\">\n            <ScriptEditorComponent\n                key=\"scriptEditor2\"\n                name={this.props.scriptName}\n                adapterName={this.props.adapterName}\n                readOnly={true}\n                code={this.props.script || ''}\n                isDark={this.props.themeType === 'dark'}\n                socket={this.props.socket}\n                runningInstances={this.props.runningInstances}\n                language={'javascript'}\n\n                breakpoints={this.props.breakpoints}\n                location={this.props.paused ? this.props.location : null}\n                onToggleBreakpoint={i => this.props.onToggleBreakpoint(i)}\n            />\n        </div>;\n    }\n}\n\nEditor.propTypes = {\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    sourceId: PropTypes.string,\n    script: PropTypes.string,\n    scriptName: PropTypes.string,\n    adapterName: PropTypes.string,\n    paused: PropTypes.bool,\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default withStyles(styles)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport {\n    MdContentCopy as IconCopy,\n    MdDeleteForever as IconDelete,\n    MdVerticalAlignBottom as IconBottom,\n} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    consoleLine: {\n        fontSize: 14,\n        color: theme.palette.type === 'dark' ? '#EEE' : '#222'\n    },\n    console_log: {\n\n    },\n    console_warn: {\n        backgroundColor: theme.palette.type === 'dark' ? '#885900' : '#ffa500',\n    },\n    console_error: {\n        backgroundColor: theme.palette.type === 'dark' ? '#7a0000' : '#FF0000',\n    },\n    console_debug: {\n        opacity: 0.6,\n    },\n    consoleSeverity: {\n        verticalAlign: 'top',\n        width: 50,\n        textTransform: 'uppercase',\n    },\n    consoleTime: {\n        whiteSpace: 'nowrap',\n        verticalAlign: 'top',\n        width: 170,\n\n    },\n    consoleText: {\n        fontFamily: 'Lucida Console, Courier, monospace',\n        paddingTop: 4,\n        '&>pre': {\n            margin: 0\n        }\n    },\n\n\n\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        display: 'inline-block',\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n    },\n    toolbox: {\n        //position: 'absolute',\n        //top: 0,\n        //left: 0,\n        //marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\n\nclass Console extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n        };\n        this.messagesEnd = React.createRef();\n    }\n    generateLine(message) {\n        return <tr key={'tr_' + message.ts + '_' + message.text.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.text}</td>\n        </tr>;\n    }\n    renderLogList(lines) {\n        if (lines && lines.length) {\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>\n                {lines.map((line, i) => this.generateLine(line))}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n            </div>;\n        } else {\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>;\n        }\n    }\n\n    onCopy() {\n        copyToClipboard((this.props.console).join('\\n'));\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    render() {\n        const lines = this.props.console;\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onClearAllLogs()}><IconDelete/></IconButton> : null}\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nConsole.propTypes = {\n    theme: PropTypes.object,\n    onClearAllLogs: PropTypes.func,\n    console: PropTypes.array,\n};\n\nexport default withStyles(styles)(Console);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport ReactJson  from 'react-json-view';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\n\nimport {MdCheck as CheckIcon} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    frameRoot: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    frameTextRoot: {\n        margin: 0,\n    },\n    frameTextPrimary: {\n        color: theme.palette.type === 'dark' ? '#CCC' : '#333',\n    },\n    frameTextSecondary: {\n        fontStyle: 'italic',\n        fontSize: 12,\n        opacity: 0.6,\n        paddingLeft: theme.spacing(1),\n    },\n\n    listRoot: {\n        padding: 0,\n    },\n\n    scopeType: {\n        verticalAlign: 'top',\n        textTransform: 'uppercase',\n        width: 50,\n    },\n    scopeType_local: {\n        color: '#53a944'\n    },\n    scopeType_closure: {\n        color: '#365b80'\n    },\n    scopeType_user: {\n        color: '#a48a15'\n    },\n    scopeName: {\n        color: '#bc5b5b',\n        width: 'calc(100% - 82px)',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n    },\n    scopeButton: {\n        width: 32\n    },\n    scopeValueEditable: {\n        cursor: 'pointer'\n    },\n    selectedFrame: {\n        backgroundColor: '#777',\n        color: 'white'\n    },\n    splitter: {\n        width: '100%',\n        height: 'calc(100% - 36px)',\n        overflow: 'hidden',\n        fontSize: 12\n    },\n\n    toolbarScopes: {\n        width: 24,\n        display: 'inline-block',\n        height: '100%',\n        background: theme.palette.type === 'dark' ? '#222' : '#EEE',\n        verticalAlign: 'top',\n    },\n    scopesAfterToolbar: {\n        width: 'calc(100% - 24px)',\n        display: 'inline-block',\n        height: '100%',\n        verticalAlign: 'top',\n    },\n\n    scopeNameName: {\n        fontWeight: 'bold',\n        display: 'inline-block',\n        verticalAlign: 'top',\n    },\n    scopeNameEqual: {\n        display: 'inline-block',\n        color: theme.palette.type === 'dark' ? '#EEE' : '#222',\n        verticalAlign: 'top',\n    },\n    scopeNameValue: {\n        verticalAlign: 'top',\n        display: 'inline-block',\n        color: '#3b709f',\n        whiteSpace: 'nowrap',\n    },\n    scopeButtonDel: {\n        padding: 0,\n        float: 'right',\n    },\n\n    valueNull: {\n        color: '#a44a24'\n    },\n    valueUndefined: {\n        color: '#a44a24'\n    },\n    valueString: {\n        color: '#1e8816'\n    },\n    valueNumber: {\n        color: '#163c88'\n    },\n    valueBoolean: {\n        color: '#a44a24'\n    },\n    valueObject: {\n        color: '#721b70'\n    },\n    valueNone: {\n        color: '#8a8a8a'\n    },\n    valueFunc: {\n        color: '#ac4343'\n    }\n});\n\nclass Stack extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.framesSize = parseFloat(window.localStorage.getItem('App.framesSize')) || 300;\n\n        this.state = {\n            editValue: null,\n            callFrames: this.props.callFrames,\n        };\n\n        this.editRef = React.createRef();\n    }\n\n    onExpressionNameUpdate() {\n        this.props.onExpressionNameUpdate(this.state.editValue.index, this.scopeValue, () => {\n            this.setState({editValue: null});\n            this.scopeValue = null;\n        });\n    }\n\n    renderExpression(item, i) {\n        const name = this.state.editValue && this.state.editValue.type === 'expression' && this.state.editValue.index === i ?\n            <Input\n                inputRef={this.editRef}\n                fullWidth\n                margin=\"dense\"\n                onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                defaultValue={item.name}\n                onKeyUp={e => {\n                    if (e.keyCode === 13) {\n                        this.onExpressionNameUpdate();\n                    } else if (e.keyCode === 27) {\n                        this.setState({editValue: null});\n                    }\n                }}\n\n                onChange={e =>\n                    this.scopeValue = e.target.value}\n\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <IconButton onClick={() => this.onExpressionNameUpdate()}>\n                            <CheckIcon/>\n                        </IconButton>\n                    </InputAdornment>\n                }\n            />\n            :\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to edit expression')}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)}</div>\n            ];\n\n        return <tr key={`user_${i}${item.name}`}>\n            <td className={clsx(this.props.classes.scopeType, this.props.classes['scopeType_user'])}>user</td>\n            <td className={this.props.classes.scopeName}\n                onDoubleClick={() => {\n                    this.scopeValue = item.name || '';\n                    this.setState({\n                        editValue: {\n                            type: 'expression',\n                            valueType: 'string',\n                            index: i,\n                            name: item.name,\n                            value: item.name || ''\n                        }\n                    });\n                }}\n            >{name}</td>\n            <IconButton\n                className={this.props.classes.scopeButtonDel}\n                size=\"small\"\n                disabled={!!this.state.editValue}\n                onClick={() => this.props.onExpressionDelete(i)}\n            >\n                <IconDelete/>\n            </IconButton>\n        </tr>\n    }\n\n    renderExpressions() {\n        return this.props.expressions.map((item, i) => this.renderExpression(item, i));\n    }\n\n    renderOneFrameTitle(frame, i) {\n        if (this.props.mainScriptId === this.props.currentScriptId && frame.location.scriptId !== this.props.mainScriptId) {\n            return null;\n        }\n        const fileName = frame.url.split('/').pop().replace(/^script\\.js\\./, '');\n        return <ListItem\n            key={frame.id}\n            button\n            onClick={() => this.props.onChangeCurrentFrame(i)}\n            dense={true}\n            selected={this.props.currentFrame === i}\n            classes={{root: this.props.classes.frameRoot}}\n        >\n            <ListItemText\n                classes={{root: this.props.classes.frameTextRoot, primary: this.props.classes.frameTextPrimary, secondary: this.props.classes.frameTextSecondary}}\n                title={frame.url}\n                primary={frame.functionName || 'anonymous'}\n                secondary={`${fileName} (${frame.location.lineNumber}:${frame.location.columnNumber})`}\n            />\n        </ListItem>;\n    }\n\n    formatValue(value, forEdit) {\n        if (!value) {\n            if (forEdit) {\n                return 'none';\n            } else {\n                return <span className={this.props.classes.valueNone}>none</span>;\n            }\n        } else if (value.type === 'function') {\n            const text = value.description ? (value.description.length > 100 ? value.description.substring(0, 100) + '...' : value.description) : 'function';\n            if (forEdit) {\n                return text;\n            } else {\n                return <span className={this.props.classes.valueFunc} title={value.description}>{text}</span>;\n            }\n        } else if (value.value === undefined) {\n            if (forEdit) {\n                return 'undefined';\n            } else {\n                return <span className={this.props.classes.valueUndefined}>undefined</span>;\n            }\n        } else if (value.value === null) {\n            if (forEdit) {\n                return 'null';\n            } else {\n                return <span className={this.props.classes.valueNull}>null</span>;\n            }\n        } else if (value.type === 'string') {\n            if (forEdit) {\n                return value.value;\n            } else {\n                const text = value.value ? (value.value.length > 100 ? value.value.substring(0, 100) + '...' : value.value) : '';\n                return <span className={this.props.classes.valueString} title={text}>\"{text}\"</span>;\n            }\n        } else if (value.type === 'boolean') {\n            if (forEdit) {\n                return value.value.toString();\n            } else {\n                return <span className={this.props.classes.valueBoolean}>{value.value.toString()}</span>;\n            }\n        } else if (value.type === 'object') {\n            if (forEdit) {\n                return JSON.stringify(value.value);\n            } else {\n                return <ReactJson\n                    enableClipboard={false}\n                    style={{backgroundColor: 'inherit', marginTop: 3}}\n                    src={value.value}\n                    collapsed={true}\n                    theme={this.props.themeType === 'dark' ? 'brewer' : 'rjv-default'}\n                    displayDataTypes={false}\n                />;\n            }\n        } else {\n            return value.value.toString();\n        }\n    }\n\n    onWriteScopeValue() {\n        if (this.scopeValue === 'true') {\n            this.scopeValue = true;\n        } else if (this.scopeValue === 'false') {\n            this.scopeValue = false;\n        } else if (this.scopeValue === 'null') {\n            this.scopeValue = null;\n        } else if (this.scopeValue === 'undefined') {\n            this.scopeValue = undefined;\n        } else\n        if (parseFloat(this.scopeValue).toString() === this.scopeValue) {\n            this.scopeValue = parseFloat(this.scopeValue);\n        }\n\n        this.props.onWriteScopeValue({\n            variableName: this.state.editValue.name,\n            scopeNumber: 0,\n            newValue: {\n                value: this.scopeValue,\n                valueType: typeof this.scopeValue,\n            },\n            callFrameId: this.props.callFrames[this.props.currentFrame].callFrameId\n        });\n\n        this.setState({editValue: null});\n        this.scopeValue = null;\n    }\n\n    componentDidUpdate() {\n        //this.editRef.current?.select();\n        this.editRef.current?.focus();\n    }\n\n    renderScope(scopeId, item, type) {\n        const editable = !this.props.currentFrame && item.value && (item.value.type === 'undefined' || item.value.type === 'string' || item.value.type === 'number' || item.value.type === 'boolean' || item.value?.value === null || item.value?.value === undefined);\n\n        const el = this.state.editValue && this.state.editValue.type === type && this.state.editValue.name === item.name ?\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <Input\n                    inputRef={this.editRef}\n                    margin=\"dense\"\n                    onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                    defaultValue={this.formatValue(item.value, true)}\n                    onKeyUp={e => {\n                        if (e.keyCode === 13) {\n                            this.onWriteScopeValue()\n                        } else if (e.keyCode === 27) {\n                            this.setState({editValue: null})\n                        }\n                    }}\n                    onChange={e =>\n                        this.scopeValue = e.target.value}\n                    endAdornment={\n                        <InputAdornment position=\"end\">\n                            <IconButton onClick={() => this.onWriteScopeValue()}>\n                                <CheckIcon/>\n                            </IconButton>\n                        </InputAdornment>\n                    }\n                />\n            ]\n            :\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to write value')}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)} ({item.value.type})</div>\n            ];\n\n\n        return <tr key={`${type}_${scopeId}_${item.name}`}>\n            <td className={clsx(this.props.classes.scopeType, this.props.classes['scopeType_' + type])}>{type}</td>\n            <td\n                className={clsx(this.props.classes.scopeName, !this.props.currentFrame && editable && this.props.classes.scopeValueEditable)}\n                onDoubleClick={() => {\n                    if (editable) {\n                        this.scopeValue = item.value.value;\n                        this.setState({\n                            editValue: {\n                                scopeId,\n                                type,\n                                valueType: item.value.type,\n                                name: item.name,\n                                value: item.value.value\n                            }\n                        });\n                    }\n                }}\n            >{el}</td>\n        </tr>;\n    }\n\n    renderScopes(frame) {\n        if (!frame) {\n            return null;\n        } else {\n            // first local\n            let result = this.renderExpressions();\n\n            let items = this.props.scopes?.local?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'local'));\n            items && items.forEach(item => result.push(item));\n\n            items = this.props.scopes?.closure?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'closure'));\n            items && items.forEach(item => result.push(item));\n\n            return <table style={{width: '100%'}}>\n                <tbody>\n                    {result}\n                </tbody>\n            </table>;\n        }\n    }\n\n    render() {\n        return <SplitterLayout\n            customClassName={this.props.classes.splitter}\n            primaryIndex={1}\n            secondaryMinSize={200}\n            primaryMinSize={200}\n            vertical={false}\n            secondaryInitialSize={this.framesSize}\n            onSecondaryPaneSizeChange={size => this.framesSize = parseFloat(size)}\n            onDragEnd={() => window.localStorage.setItem('App.framesSize', this.framesSize.toString())}\n        >\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\n                <List classes={{root: this.props.classes.listRoot}}>\n                    {this.props.callFrames ? this.props.callFrames.map((frame, i) =>\n                        this.renderOneFrameTitle(frame, i)) : null}\n                </List>\n            </div>\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\n                <div className={this.props.classes.toolbarScopes}>\n                    <IconButton size=\"small\" onClick={() => this.props.onExpressionAdd((i, item) => {\n                        this.scopeValue = item.name || '';\n                        this.setState({\n                            editValue: {\n                                type: 'expression',\n                                valueType: 'string',\n                                index: i,\n                                name: item.name,\n                                value: item.name || ''\n                            }\n                        });\n                    })}><IconAdd/></IconButton>\n                </div>\n                <div className={this.props.classes.scopesAfterToolbar}>\n                    {this.props.callFrames && this.props.callFrames.length && this.renderScopes(this.props.callFrames[this.props.currentFrame])}\n                </div>\n            </div>\n        </SplitterLayout>;\n    }\n}\n\nStack.propTypes = {\n    currentScriptId: PropTypes.string,\n    mainScriptId: PropTypes.string,\n    scopes: PropTypes.object,\n    expressions: PropTypes.array,\n    callFrames: PropTypes.array,\n    currentFrame: PropTypes.number,\n    onChangeCurrentFrame: PropTypes.func,\n    onWriteScopeValue: PropTypes.func,\n    onExpressionDelete: PropTypes.func,\n    onExpressionAdd: PropTypes.func,\n    onExpressionNameUpdate: PropTypes.func,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(Stack);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport SplitterLayout from 'react-splitter-layout';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Badge from '@material-ui/core/Badge';\n\nimport {MdClose as IconClose, MdPlayArrow as IconRun} from 'react-icons/md';\nimport { MdPause as IconPause } from 'react-icons/md';\nimport { MdArrowForward as IconNext } from 'react-icons/md';\nimport { MdArrowDownward as IconStep } from 'react-icons/md';\nimport { MdArrowUpward as IconOut } from 'react-icons/md';\nimport { MdRefresh as IconRestart } from 'react-icons/md';\nimport { MdWarning as IconException } from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles';\nimport DialogError from '../../Dialogs/Error';\nimport Editor from './Editor';\nimport Console from './Console';\nimport Stack from './Stack';\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    buttonRun: {\n        color: 'green'\n    },\n    buttonPause: {\n        color: 'orange'\n    },\n    buttonRestart: {\n        color: 'darkgreen'\n    },\n    buttonStop: {\n        color: 'red'\n    },\n    buttonNext: {\n        color: 'blue'\n    },\n    buttonStep: {\n        color: 'blue'\n    },\n    buttonOut: {\n        color: 'blue'\n    },\n    buttonException: {\n\n    },\n\n    tabFile: {\n        textTransform: 'inherit',\n        color: theme.palette.type === 'dark' ? '#DDD' : 'inherit'\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n\n    tabsRoot: {\n        minHeight: 24,\n        background: theme.palette.type === 'dark' ? '#333' : '#e6e6e6',\n        color: theme.palette.type === 'dark' ? 'white' : 'inherit'\n    },\n    tabRoot: {\n        minHeight: 24,\n    },\n\n    bpListItem: {\n        borderTop: '1px dashed #bfbfbf44',\n    },\n    monospace: {\n        fontFamily: 'Courier New, monospace',\n        whiteSpace: 'pre',\n        fontSize: 12,\n    },\n    arrow: {\n        color: '#fffa4f',\n    },\n    splitter: {\n        height: 'calc(100% - 52px)',\n        '& .layout-pane': {\n            overflow: 'hidden',\n            height: '100%'\n        }\n    }\n});\n\nclass Debugger extends React.Component {\n    constructor(props) {\n        super(props);\n        let breakpoints = window.localStorage.getItem('javascript.tools.bp.' + this.props.src);\n        try {\n            breakpoints = breakpoints ? JSON.parse(breakpoints) : [];\n        } catch (e) {\n            breakpoints = [];\n        }\n\n        let expressions = window.localStorage.getItem('javascript.tools.exps.' + this.props.src);\n        try {\n            expressions = expressions ? JSON.parse(expressions) : [];\n            expressions = expressions.map(name => ({name}));\n        } catch (e) {\n            expressions = [];\n        }\n\n        this.toolSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.toolSize')) || 150 : 150;\n\n        this.state = {\n            starting: true,\n            selected: null,\n            tabs: {},\n            script: '',\n            breakpoints,\n            expressions,\n            running: false,\n            error: '',\n            started: false,\n            paused: true,\n            location: null,\n            toolsTab: window.localStorage.getItem('javascript.tools.tab') || 'console',\n            stopOnException: window.localStorage.getItem('javascript.tools.stopOnException') === 'true',\n            console: [],\n            finished: false,\n            currentFrame: 0,\n            scopes: {},\n            queryBreakpoints: null,\n            logErrors: 0,\n            logWarnings: 0,\n            logs: 0,\n        };\n\n        this.scripts = {};\n        this.mainScriptId = null;\n    }\n\n    componentDidMount() {\n        new Promise(resolve => {\n            if (this.props.debugInstance) {\n                resolve(this.props.debugInstance.instance);\n            } else {\n                this.props.socket.getObject(this.props.src)\n                    .then(obj => resolve(obj?.common?.engine?.replace('system.adapter.', '')));\n            }\n        })\n            .then(instance =>\n                this.setState({instance: instance}, () => {\n                    if (this.state.instance) {\n                        this.props.socket.setState(this.state.instance + '.debug.from', '{\"cmd\": \"subscribed\"}', true);\n                        //.then(() => );\n                        setTimeout(() =>\n                            this.props.socket.subscribeState(this.state.instance + '.debug.from', this.fromInstance), 200);\n                    } else {\n                        this.setState({error: 'Unknown instance'});\n                    }\n                }));\n    }\n\n    componentWillUnmount() {\n        if (this.state.instance) {\n            this.props.socket.unsubscribeState(this.state.instance + '.debug.from', this.fromInstance);\n            this.props.socket.sendTo(this.state.instance, 'debugStop');\n        }\n    }\n\n    sendToInstance(cmd) {\n        this.props.socket.setState(this.state.instance + '.debug.to', JSON.stringify(cmd));\n    }\n\n    reinitBreakpoints(cb) {\n        if (this.state.breakpoints.length) {\n            let breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            breakpoints = breakpoints.map(item => item.location);\n            this.setState({breakpoints: []}, () => {\n                this.sendToInstance({breakpoints, cmd: 'sb'});\n                if (this.state.stopOnException) {\n                    this.sendToInstance({cmd: 'stopOnException', state: true});\n                }\n\n                cb && cb();\n            });\n        } else if (this.state.stopOnException) {\n            this.sendToInstance({cmd: 'stopOnException', state: true});\n            cb && cb();\n        } else {\n            cb && cb();\n        }\n    }\n\n    getLocation(context) {\n        if (context.callFrames) {\n            const frame = context.callFrames[0];\n            return frame.location;\n        }\n    }\n\n    readCurrentScope() {\n        const frame = this.state.context.callFrames[this.state.currentFrame];\n        if (frame) {\n            const scopes = frame.scopeChain.filter(scope => scope.type !== 'global');\n            if (scopes.length) {\n                this.sendToInstance({cmd: 'scope', scopes});\n            } else if (this.state.scopes.global || this.state.scopes.local || this.state.scopes.closure) {\n                this.setState({scopes: {}});\n            }\n        }\n    }\n\n    readExpressions(i) {\n        if (this.state.expressions.length && this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame]) {\n            if (i !== undefined) {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: [this.state.expressions[i]],\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            } else {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: this.state.expressions,\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            }\n        }\n    }\n\n    fromInstance = (id, state) => {\n        try {\n            const data = JSON.parse(state.val);\n            if (data.cmd === 'subscribed') {\n                this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src});\n            } else\n            if (data.cmd === 'readyToDebug') {\n                this.mainScriptId = data.scriptId;\n                this.scripts[data.scriptId] = data.script;\n                if (data.script.startsWith('(async () => {debugger;\\n')) {\n                    this.scripts[data.scriptId] = '(async () => {\\n' + data.script.substring('(async () => {debugger;\\n'.length);\n                } else if (data.script.startsWith('debugger;')) {\n                    this.scripts[data.scriptId] = data.script.substring('debugger;'.length);\n                }\n\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                tabs[data.scriptId] = this.props.debugInstance ? data.url: this.props.src.replace('script.js.', '');\n\n                const ts = Date.now() + '.' + Math.random() * 10000;\n                data.context.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n\n                this.setState({\n                    starting: false,\n                    finished: false,\n                    selected: this.mainScriptId,\n                    script: this.scripts[data.scriptId],\n                    tabs,\n                    currentFrame: 0,\n                    started: true,\n                    paused: true,\n                    location: this.getLocation(data.context),\n                    context: data.context,\n                }, () =>\n                    this.reinitBreakpoints(() => {\n                        this.readCurrentScope();\n                        this.readExpressions();\n                    }));\n            } else if (data.cmd === 'paused') {\n                const ts = Date.now() + '.' + Math.random() * 10000;\n                data.context.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n                const location = this.getLocation(data.context);\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                const parts = data.context.callFrames[0].url.split('iobroker.javascript');\n                tabs[location.scriptId] = (parts[1] || parts[0]).replace('script.js.', '');\n\n                const newState = {\n                    tabs,\n                    paused: true,\n                    location,\n                    currentFrame: 0,\n                    context: data.context,\n                    scope: {id: (data.context && data.context.callFrames && data.context.callFrames[0] && data.context.callFrames[0].id) || 0}\n                };\n\n                newState.script = this.scripts[location.scriptId] === undefined ? I18n.t('loading...') : this.scripts[location.scriptId];\n                newState.selected = location.scriptId;\n\n                this.setState(newState, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                    if (!this.scripts[location.scriptId]) {\n                        this.sendToInstance({cmd: 'source', scriptId: location.scriptId});\n                    }\n                });\n            } else if (data.cmd === 'script') {\n                this.scripts[data.scriptId] = data.text;\n                if (this.state.selected === data.scriptId) {\n                    this.setState({script: this.scripts[data.scriptId]});\n                }\n            } else if (data.cmd === 'resumed') {\n                this.setState({paused: false});\n            } else if (data.cmd === 'log') {\n                if (this.state.toolsTab === 'console') {\n                    this.console = null;\n                    const console = [...this.state.console];\n                    console.push({text: data.text, severity: data.severity, ts: data.ts});\n                    this.setState({console});\n                } else {\n                    if (data.severity === 'error') {\n                        this.setState({logErrors: this.state.logErrors + 1});\n                    } else if (data.severity === 'warn') {\n                        this.setState({logWarnings: this.state.logWarnings + 1});\n                    } else {\n                        this.setState({logs: this.state.logs + 1});\n                    }\n                    this.console = this.console || [...this.state.console];\n                    this.console.push({text: data.text, severity: data.severity, ts: data.ts});\n                }\n            } else if (data.cmd === 'error') {\n                this.setState({error: data.error});\n            } else if (data.cmd === 'finished' || data.cmd === 'debugStopped') {\n                this.setState({\n                    finished: true,\n                    starting: false,\n                    started: true,\n                });\n            } else if (data.cmd === 'sb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n                data.breakpoints.filter(bp => bp).forEach(bp => {\n                    const found = breakpoints.find(item =>\n                        item.location.scriptId === bp.location.scriptId && item.location.lineNumber === bp.location.lineNumber);\n                    if (!found) {\n                        changed = true;\n                        breakpoints.push(bp);\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'cb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n\n                data.breakpoints.filter(id => id !== undefined && id !== null).forEach(id => {\n                    const found = breakpoints.find(item => item.id === id);\n                    if (found) {\n                        const pos = breakpoints.indexOf(found);\n                        breakpoints.splice(pos, 1);\n                        changed = true;\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'scope') {\n                //const global = data.scopes.find(scope => scope.type === 'global') || null;\n                const local = data.scopes.find(scope => scope.type === 'local') || null;\n                const closure = data.scopes.find(scope => scope.type === 'closure') || null;\n\n                console.log(JSON.stringify(closure));\n\n                this.setState({scopes: {local, closure, id: this.state.scope.id + '_' + this.state.currentFrame}});\n            } else if (data.cmd === 'setValue') {\n                const scopes = JSON.parse(JSON.stringify(this.state.scopes));\n                let item;\n                if (data.scopeNumber === 0) {\n                    item = scopes.local && scopes.local.properties && scopes.local.properties.result && scopes.local.properties.result.find(item => item.name === data.variableName);\n                } else {\n                    item = scopes.closure && scopes.closure.properties && scopes.closure.properties.result && scopes.closure.properties.result && scopes.closure.properties.result.find(item => item.name === data.variableName);\n                }\n                if (item) {\n                    item.value.value = data.newValue.value;\n                    this.setState({scopes});\n                }\n            } else if (data.cmd === 'expressions') {\n                // update values\n                let expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                let changed = false;\n                data.expressions.forEach(item => {\n                    const expression = expressions.find(it => it.name === item.name);\n                    if (expression) {\n                        changed = true;\n                        expression.value = item.result;\n                    }\n                });\n                changed && this.setState({expressions});\n\n                console.log('expressions: ' + JSON.stringify(data));\n            } else if (data.cmd === 'getPossibleBreakpoints') {\n                if (data.breakpoints?.locations?.length === 1) {\n                    this.sendToInstance({breakpoints: data.breakpoints.locations, cmd: 'sb'});\n                } else if (!data.breakpoints?.locations?.length) {\n                    window.alert('cannot set');\n                } else {\n                    this.setState({queryBreakpoints: data.breakpoints.locations});\n                }\n            } else {\n                console.error(`Unknown command: ${JSON.stringify(data)}`);\n            }\n        } catch (e) {\n\n        }\n    }\n\n    getTextAtLocation(location) {\n        let line = this.state.script.split(/\\r\\n|\\n/)[location.lineNumber];\n        let arrow = '';\n        if (location.columnNumber >= 10) {\n            line = line.substring(location.columnNumber - 10, location.columnNumber + 20);\n            arrow = ''.padStart(10, ' ') + '↑';\n        } else {\n            line = line.substring(0, 30 - location.columnNumber);\n            arrow = ''.padStart(location.columnNumber, ' ') + '↑';\n        }\n        return [\n            <div className={this.props.classes.monospace}>{line}</div>,\n            <div className={clsx(this.props.classes.monospace, this.props.classes.arrow)}>{arrow}</div>\n        ];\n    }\n\n    renderQueryBreakpoints() {\n        if (this.state.queryBreakpoints) {\n            return <Dialog onClose={() => this.setState({queryBreakpoints: null})} aria-labelledby=\"bp-dialog-title\" open={true}>\n                <DialogTitle id=\"bp-dialog-title\">{I18n.t('Select breakpoint')}</DialogTitle>\n                <List>\n                    {this.state.queryBreakpoints.map((bp, i) => (\n                        <ListItem\n                            classes={{root: this.props.classes.bpListItem}}\n                            dense={true}\n                            button\n                            onClick={() => {\n                                this.sendToInstance({breakpoints: [bp], cmd: 'sb'});\n                                this.setState({queryBreakpoints: null})\n                            }}\n                            key={i}>\n                            <ListItemText\n                                classes={{primary: this.props.classes.bpListPrimary, secondary: this.props.classes.bpListSecondary}}\n                                primary={this.getTextAtLocation(bp)}\n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <DialogError key=\"dialogError\" onClose={() => this.setState({ error: '' })} text={this.state.error} />;\n        } else {\n            return null;\n        }\n    }\n\n    closeTab(id, e) {\n        e && e.stopPropagation();\n        const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n        delete tabs[id];\n        const newState = {tabs, script: this.scripts[this.mainScriptId], selected: this.mainScriptId};\n        if (this.state.location && this.state.location.scriptId !== this.mainScriptId) {\n            newState.location = null;\n        }\n        this.setState(newState);\n    }\n\n    renderTabs() {\n        const disabled = !this.state.tabs || !this.state.started;\n        return <Tabs\n            component={'div'}\n            indicatorColor=\"primary\"\n            style={{ position: 'relative', width: 'calc(100% - 300px)', display: 'inline-block' }}\n            value={this.state.selected}\n            onChange={(event, value) => {\n                if (this.scripts[value]) {\n                    this.setState({selected: value, script: this.scripts[value]});\n                } else {\n                    this.setState({selected: value, script: 'loading...'}, () =>\n                        this.sendToInstance({cmd: 'source', scriptId: value}));\n                }\n            }}\n            scrollButtons=\"auto\"\n        >\n            {Object.keys(this.state.tabs || [])\n                .map(id => {\n                    let label = id;\n                    let title = this.state.tabs[id] || '';\n                    if (this.state.tabs[id]) {\n                        label = this.state.tabs[id].split('/').pop();\n                    }\n                    label = [\n                        <div key=\"text\" className={clsx(this.props.classes.tabText)}>{label}</div>,\n                        id !== this.mainScriptId && <span key=\"icon\" className={this.props.classes.closeButton}>\n                            <IconClose key=\"close\" onClick={e => this.closeTab(id, e)} fontSize=\"small\" /></span>];\n\n                    return <Tab disabled={disabled} classes={{root: this.props.classes.tabFile}} label={label} title={title} key={id} value={id}/>;\n                })}\n        </Tabs>;\n    }\n\n    onResume() {\n        this.sendToInstance({cmd: 'cont'});\n    }\n\n    onPause() {\n        this.sendToInstance({cmd: 'pause'});\n    }\n\n    onNext() {\n        this.sendToInstance({cmd: 'next'});\n    }\n\n    onStepIn() {\n        this.sendToInstance({cmd: 'step'});\n    }\n\n    onStepOut() {\n        this.sendToInstance({cmd: 'out'});\n    }\n\n    onRestart() {\n        this.setState({started: false, starting: true}, () =>\n            this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src}));\n    }\n\n    onToggleException() {\n        const stopOnException = !this.state.stopOnException;\n        window.localStorage.setItem('javascript.tools.stopOnException', stopOnException ? 'true' : 'false');\n        this.setState({stopOnException}, () =>\n            this.sendToInstance({cmd: 'stopOnException', state: stopOnException}));\n    }\n\n    renderToolbar() {\n        const disabled = !this.state.started;\n        return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n            <IconButton className={this.props.classes.buttonRestart} disabled={disabled} onClick={() => this.onRestart()}  title={I18n.t('Restart')}><IconRestart/></IconButton>\n            {\n                !this.state.finished && this.state.paused ?\n                    <IconButton className={this.props.classes.buttonRun} disabled={disabled} onClick={() => this.onResume()}\n                                title={I18n.t('Resume execution')}><IconRun/></IconButton>\n                    :\n                    !this.state.finished && <IconButton disabled={disabled} className={this.props.classes.buttonPause} onClick={() => this.onPause()}\n                                title={I18n.t('Pause execution')}><IconPause/></IconButton>\n            }\n            {!this.state.finished && <IconButton className={this.props.classes.buttonNext} disabled={disabled || !this.state.paused} onClick={() => this.onNext()}  title={I18n.t('Go to next line')}><IconNext/></IconButton>}\n            {!this.state.finished && <IconButton className={this.props.classes.buttonStep} disabled={disabled || !this.state.paused} onClick={() => this.onStepIn()}  title={I18n.t('Step into function')}><IconStep/></IconButton>}\n            {!this.state.finished && <IconButton className={this.props.classes.buttonOut} disabled={disabled || !this.state.paused} onClick={() => this.onStepOut()}  title={I18n.t('Step out from function')}><IconOut/></IconButton>}\n            {!this.state.finished && <IconButton className={this.props.classes.buttonException} color={this.state.stopOnException ? 'primary' : 'default'} disabled={disabled || !this.state.paused} onClick={() => this.onToggleException()} title={I18n.t('Stop on exception')}><IconException/></IconButton>}\n            {this.renderTabs()}\n        </Toolbar>;\n    }\n\n    getPossibleBreakpoints(bp) {\n        const end = {...bp, columnNumber: 1000};\n        this.sendToInstance({cmd: 'getPossibleBreakpoints', start: bp, end});\n    }\n\n    toggleBreakpoint(lineNumber) {\n        let bp = this.state.breakpoints.find(item => item.location.scriptId === this.state.selected && item.location.lineNumber === lineNumber);\n        if (bp) {\n            const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            this.setState({breakpoints}, () =>\n                this.sendToInstance({breakpoints: [bp.id], cmd: 'cb'}));\n        } else {\n            bp = {scriptId: this.state.selected, lineNumber, columnNumber: 0};\n            this.getPossibleBreakpoints(bp);\n        }\n    }\n\n    renderCode() {\n        if (this.state.script && this.state.started) {\n            const breakpoints = this.state.breakpoints.filter(bp => bp.location.scriptId === this.state.selected);\n\n            return <Editor\n                runningInstances={this.props.runningInstances}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                scriptName={this.state.tabs[this.state.selected]}\n                sourceId={this.state.selected}\n                script={this.state.script}\n                paused={this.state.paused}\n                breakpoints={breakpoints}\n                location={this.state.location}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                onToggleBreakpoint={i => this.toggleBreakpoint(i)}\n            />\n        }\n    }\n\n    renderFrames() {\n        if (!this.state.paused) {\n            return null;\n        }\n\n        return <Stack\n            currentScriptId={this.state.selected}\n            scopes={this.state.scopes}\n            expressions={this.state.expressions}\n            themeType={this.props.themeType}\n            callFrames={this.state.context?.callFrames}\n            currentFrame={this.state.currentFrame}\n            onChangeCurrentFrame={i => {\n                this.setState({currentFrame: i, scopes: {}}, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                })\n            }}\n            onWriteScopeValue={obj => {\n                this.sendToInstance({\n                    cmd: 'setValue',\n                    variableName: obj.variableName,\n                    scopeNumber: obj.scopeNumber,\n                    newValue: obj.newValue,\n                    callFrameId: obj.callFrameId\n                });\n            }}\n            onExpressionDelete={i => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.splice(i, 1);\n                this.setState({expressions});\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\n            }}\n            onExpressionAdd={cb => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.push({name: '', value: {value: ''}});\n                this.setState({expressions}, () => cb && cb(expressions.length - 1, this.state.expressions[expressions.length - 1]));\n            }}\n            onExpressionNameUpdate={(i, name, cb) => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                if (!name) {\n                    expressions.splice(i, 1);\n                } else if (expressions.find(item => item.name === name)) {\n                    return cb && cb(false);\n                } else {\n                    expressions[i].name = name;\n                }\n\n                this.setState({expressions}, () => {\n                    name && this.readExpressions(i);\n                    cb && cb();\n                });\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\n            }}\n        />;\n    }\n\n    renderConsole() {\n        return <Console\n            theme={this.props.theme}\n            console={this.state.console}\n            onClearAllLogs={() => this.setState({console: [], logErrors: 0, logWarning: 0, logs: 0})}\n        />;\n    }\n\n    renderTools() {\n        const disabled = !this.state.tabs || !this.state.started;\n\n        let _console;\n        if (this.state.logErrors) {\n            _console = <Badge badgeContent={this.state.logErrors} color=\"error\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logWarnings) {\n            _console = <Badge badgeContent={this.state.logWarnings} color=\"secondary\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logs) {\n            _console = <Badge badgeContent={this.state.logs} color=\"default\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else {\n            _console = I18n.t('Console');\n        }\n\n        return <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n            <Tabs\n                classes={{root: this.props.classes.tabsRoot}}\n                component={'div'}\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', width: '100%' }}\n                value={this.state.toolsTab}\n                onChange={(event, value) => {\n                    const newState = {toolsTab: value};\n\n                    // load logs from buffer\n                    if (this.console && value === 'console') {\n                        newState.console = this.console;\n                        this.console = null;\n                        newState.logs = 0;\n                        newState.logWarnings = 0;\n                        newState.logErrors = 0;\n                    }\n\n                    window.localStorage.setItem('javascript.tools.tab', value);\n\n                    this.setState(newState);\n                }}\n                scrollButtons=\"auto\"\n            >\n                <Tab classes={{root: this.props.classes.tabRoot}} disabled={disabled} label={I18n.t('Stack')} value=\"stack\"/>\n                <Tab\n                    classes={{root: this.props.classes.tabRoot}}\n                    disabled={disabled}\n                    label={_console}\n                    value=\"console\"\n                />\n            </Tabs>\n            <div style={{width: '100%', height: 'calc(100% - 36px)', overflow: 'hidden'}}>\n                {this.state.toolsTab === 'stack' && !disabled ? this.renderFrames() : null}\n                {this.state.toolsTab === 'console' && !disabled ? this.renderConsole() : null}\n            </div>\n        </div>;\n    }\n\n    render() {\n        return <div key=\"debugger\" style={this.props.style} className={clsx(this.props.classes.root, this.props.className)}>\n            {this.state.starting ? <LinearProgress/> : null}\n            {this.renderToolbar()}\n            <SplitterLayout\n                customClassName={this.props.classes.splitter}\n                primaryMinSize={100}\n                vertical={true}\n                secondaryInitialSize={this.toolSize}\n                onSecondaryPaneSizeChange={size => this.toolSize = parseFloat(size)}\n                onDragEnd={() => window.localStorage.setItem('App.toolSize', this.toolSize.toString())}\n                //style={{width: '100%', height: 'calc(100% - 73px)', overflow: 'hidden'}}\n            >\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n                    {this.renderCode()}\n                    {this.renderQueryBreakpoints()}\n                </div>\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n                    {this.renderTools()}\n                </div>\n            </SplitterLayout>\n            {this.renderError()}\n        </div>;\n    }\n}\n\nDebugger.propTypes = {\n    runningInstances: PropTypes.object,\n    adapterName: PropTypes.string,\n    src: PropTypes.string,\n    socket: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    themeType: PropTypes.string,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    debugInstance: PropTypes.object,\n};\n\nexport default withStyles(styles)(Debugger);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Tour from 'reactour';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport { MdSave as IconSave } from 'react-icons/md';\nimport { MdCancel as IconCancel } from 'react-icons/md';\nimport { MdClose as IconClose } from 'react-icons/md';\nimport { MdRefresh as IconRestart } from 'react-icons/md';\nimport { MdInput as IconDoEdit } from 'react-icons/md';\nimport { FaClock as IconCron } from 'react-icons/fa';\nimport { FaClipboardList as IconSelectId } from 'react-icons/fa';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport { FaFileImport as IconImport } from 'react-icons/fa';\nimport { FaFlagCheckered as IconCheck } from 'react-icons/fa';\nimport { MdGpsFixed as IconLocate } from 'react-icons/md';\nimport { MdClearAll as IconCloseAll } from 'react-icons/md';\nimport { MdBuild as IconDebugMenu } from 'react-icons/md';\nimport { MdBugReport as IconDebug } from 'react-icons/md';\nimport { MdPlaylistAddCheck as IconVerbose } from 'react-icons/md';\nimport { MdBugReport as IconDebugMode } from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png';\nimport ImgRules2Js from './assets/rules2js.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogCron from '@iobroker/adapter-react/Dialogs/Cron';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\n\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\nimport Debugger from './Components/Debugger';\nimport steps, { STEPS } from './Components/RulesEditor/helpers/Tour';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    toolbarButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    saveButton: {\n        background: '#ff9900'\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1)\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            cmdToRules: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n            isTourOpen: window.localStorage.getItem('tour') !== 'true',\n            tourStep: STEPS.selectTriggers,\n            showAdapterDebug: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({ showSelectId: true });\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({ showCron: true });\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({ showScript: true });\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({ instancesLoaded: true });\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n            if (obj && obj.type === 'instance') {\n                // update instances\n                if (!window.main.instances.includes(id)) {\n                    window.main.instances.push(id);\n                    window.main.instances.sort();\n                }\n                window.main.objects[id] = obj;\n            }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({ toast: I18n.t('Script %s was modified on disk.', id.split('.').pop()) });\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.isTourOpen && this.state.tourStep === STEPS.saveTheScript) {\n            this.setState({ isTourOpen: false });\n            window.localStorage.setItem('tour', 'true');\n        }\n\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({ changed }, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({ changed }, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({ changed, blockly: false, selected: '' }, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({ selected: nowSelected }), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({ changed }, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        if (this.props.debugMode) {\n            return;\n        }\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = { editing };\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () => {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({ confirm: question });\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({ cmdToBlockly: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToBlockly: '' }), 200));\n    }\n\n    sendCommandToRules(cmd) {\n        this.setState({ cmdToRules: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToRules: '' }), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                component={'div'}\n                key=\"tabs1\"\n                value={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                onChange={(event, value) => this.onTabChange(event, value)}\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block' }}\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n            >\n                {this.state.editing.map(id => {\n                    if (!this.props.objects[id]) {\n                        const label = [\n                            <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{id.split('.').pop()}</div>,\n                            <span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\" /></span>];\n                        return <Tab\n                            wrapped\n                            component={'div'}\n                            href={'#' + id}\n                            key={id}\n                            label={label}\n                            value={id}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    } else {\n                        let text = this.props.objects[id].common.name;\n                        let title = '';\n                        if (text.length > 18) {\n                            title = text;\n                            text = text.substring(0, 15) + '...';\n                        }\n                        const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                        const label = [\n                            <img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon} />,\n                            <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                            changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span> : null,\n                            (!this.props.debugInstance && (!this.props.debugMode || this.state.selected !== id)) && <span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\" /></span>,\n                        ];\n\n                        return <Tab\n                            disabled={this.props.debugInstance || (this.state.selected !== id && this.props.debugMode)}\n                            wrapped\n                            component={'div'}\n                            href={'#' + id}\n                            key={id}\n                            label={label}\n                            className={this.props.classes.tabButton}\n                            value={id}\n                            title={title}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    }\n                })}\n                {this.props.debugInstance ? <Tab\n                    disabled={false}\n                    wrapped\n                    component={'div'}\n                    href={'#' + this.props.debugInstance.adapter}\n                    key={this.props.debugInstance.adapter}\n                    label={this.props.debugInstance.adapter}\n                    className={this.props.classes.tabButton}\n                    value={this.props.debugInstance.adapter}\n                    title={this.props.debugInstance.adapter}\n                    classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                /> : ''}\n            </Tabs>,\n            this.state.editing.length > 1 ? <IconButton\n                key=\"menuButton\"\n                href=\"#\"\n                aria-label=\"Close all but current\"\n                className={this.props.classes.tabMenuButton}\n                title={I18n.t('Close all but current')}\n                aria-haspopup=\"false\"\n                onClick={_event => {\n                    const editing = [this.state.selected];\n                    // Do not close not saved tabs\n                    Object.keys(this.scripts).forEach(id =>\n                        id !== this.state.selected &&\n                        JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                        editing.push(id)\n                    );\n\n                    window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                    this.setState({ menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing });\n                }}\n            >\n                <IconCloseAll />\n            </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon} />\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) {\n            return null;\n        }\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({ showDebugMenu: false, menuDebugAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                title={I18n.t('debug_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled }, () => this.onChange({ debug: this.state.debugEnabled }));\n                }}>\n                <Checkbox checked={this.state.debugEnabled} />\n                <IconDebug className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                title={I18n.t('verbose_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled }, () => this.onChange({ verbose: this.state.verboseEnabled }));\n                }}>\n                <Checkbox checked={this.state.verboseEnabled} />\n                <IconVerbose className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />),\n        ]\n    }\n\n    getAskAboutDebug() {\n        if (this.state.askAboutDebug) {\n            return <DialogConfirm\n                onClose={result => {\n                    this.setState({askAboutDebug: false}, () =>\n                        this.props.onDebugModeChange(true));\n                }}\n                ok={I18n.t('Yes')}\n                cancel={I18n.t('Cancel')}\n                text={I18n.t('The script will be stopped and must be activated manually after debugging. Continue?')}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                {!this.props.debugInstance && this.state.menuOpened && this.props.onLocate && <IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate /></IconButton>}\n                {!this.props.debugInstance && !changed && isInstanceRunning && <IconButton key=\"restart\" disabled={this.props.debugMode} variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>}\n                {!this.props.debugInstance && !changed && !isScriptRunning && <span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>}\n                {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                {changed && <Button key=\"save\" variant=\"contained\" className={clsx(this.props.classes.textButton, this.props.classes.saveButton, 'button-save')} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                {(changedAll > 1 || (changedAll === 1 && !changed)) && <Button key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                {changed && <Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={this.props.classes.textIcon} /></Button>}\n                <div style={{ flex: 2 }} />\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                        title={I18n.t('Export blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>}\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                        title={I18n.t('Import blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('import')}>\n                        <IconImport /></IconButton>}\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"check\" aria-label=\"Check code\"\n                        title={I18n.t('Check blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('check')}>\n                        <IconCheck /></IconButton>}\n\n                {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                    title={I18n.t('Create or edit CRON or time wizard')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={() => this.setState({ showCron: true })}><IconCron /></IconButton>}\n\n                {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-id\" aria-label=\"select ID\"\n                    title={I18n.t('Insert object ID')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={() => this.setState({ showSelectId: true })}><IconSelectId /></IconButton>}\n\n                {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                    title={I18n.t('Convert blockly to javascript for ever.')}\n                    onClick={() => this.onConvertBlockly2JS()}\n                >Blockly=>JS</Button>}\n                {this.state.rules && !this.state.showCompiledCode &&\n                    <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                        title={I18n.t('Export blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToRules('export')}>\n                        <IconExport /></IconButton>}\n                {this.state.rules && !this.state.showCompiledCode &&\n                    <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                        title={I18n.t('Import blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToRules('import')}>\n                        <IconImport /></IconButton>}\n\n                {this.props.expertMode && !changed && (this.props.debugMode || (!this.state.blockly && !this.state.rules) || ((this.state.blockly || this.state.rules) && this.state.showCompiledCode)) && <IconButton\n                    className={this.props.classes.toolbarButtons}\n                    color={this.props.debugMode ? 'primary' : 'default'}\n                    disabled={!this.props.debugMode && !isInstanceRunning}\n                    onClick={() => {\n                        if (!this.props.debugMode && isScriptRunning) {\n                            this.setState({askAboutDebug: true})\n                        } else {\n                            this.props.onDebugModeChange(!this.props.debugMode);\n                        }\n                    }}\n                >\n                    <IconDebugMode style={{fontSize: 32}}/>\n                </IconButton>}\n\n                {(this.state.blockly || this.state.rules) && <Button\n                    key=\"blockly-code\"\n                    aria-label=\"blockly\"\n                    title={I18n.t('Show javascript code')}\n                    className={clsx(this.props.classes.toolbarButtons, 'button-js-code', this.props.debugMode && this.props.classes.toolbarButtonsDisabled)}\n                    color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                    disabled={this.props.debugMode}\n                    style={{ padding: '0 5px' }}\n                    onClick={() => {\n                        if (this.props.debugMode) {\n                            return;\n                        }\n                        this.setState({ showCompiledCode: !this.state.showCompiledCode });\n                        this.state.isTourOpen && this.state.tourStep === STEPS.showJavascript && this.setState({ tourStep: STEPS.switchBackToRules });\n                        this.state.isTourOpen && this.state.tourStep === STEPS.switchBackToRules && this.setState({ tourStep: STEPS.saveTheScript });\n                    }}>\n                    <img alt={this.state.blockly ? \"blockly2js\" : \"rules2js\"} src={this.state.blockly ? ImgBlockly2Js : ImgRules2Js} /></Button>}\n                <IconButton\n                    key=\"debug\"\n                    disabled={this.props.debugMode}\n                    aria-label=\"Debug menu\"\n                    title={I18n.t('Debug options')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={e => this.setState({ showDebugMenu: true, menuDebugAnchorEl: e.currentTarget })}\n                >\n                    <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                        <IconDebugMenu />\n                    </Badge>\n                </IconButton>\n            </Toolbar>;\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (!this.props.debugMode &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({ insert: '' })}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n            return <div className={clsx(this.props.classes.editorDiv)} key=\"flowEditorDiv\">\n                <RulesEditor\n                    scriptId={this.state.selected}\n                    setTourStep={this.setTourStep}\n                    tourStep={this.state.tourStep}\n                    isTourOpen={this.state.isTourOpen}\n                    changed={this.state.changed[this.state.selected]}\n                    running={isInstanceRunning && isScriptRunning}\n                    command={this.state.cmdToRules}\n                    key=\"flowEditor\"\n                    themeType={this.state.themeType}\n                    themeName={this.props.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return <DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({ confirm: '' });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                statesOnly={true}\n                onClose={() => {\n                    this.setState({ showSelectId: false });\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({ insert: `'${selected}'/*${name}*/` })\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return <DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({ showCron: false })}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({ insert: `'${cron}'` });\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({ showScript: false });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({ toast: '' })}\n            ContentProps={{ 'aria-describedby': 'message-id', }}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({ toast: '' })}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    setTourStep = tourStep => this.setState({ tourStep });\n\n    getTour() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.isAnyRulesExists === 1 &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            this.state.visible) {\n            return <Tour\n                key=\"tour\"\n                steps={steps}\n                isOpen={this.state.isTourOpen}\n                onRequestClose={() => {\n                    this.setState({ isTourOpen: false });\n                    window.localStorage.setItem('tour', 'true');\n                    this.props.socket.setState('javascript.0.variables.rulesTour', true, true);\n                }}\n                //getCurrentStep={tourStep => this.setTourStep(tourStep)}\n                goToStep={this.state.tourStep}\n            />;\n        }\n    }\n\n    getDebug() {\n        if (this.props.debugMode) {\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            if (isInstanceRunning) {\n                return <Debugger\n                    key=\"debugger\"\n                    runningInstances={this.state.runningInstances}\n                    adapterName={this.props.adapterName}\n                    socket={this.props.socket}\n                    theme={this.props.theme}\n                    themeName={this.props.themeName}\n                    themeType={this.props.themeType}\n                    src={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                    debugInstance={this.props.debugInstance}\n                />;\n            } else {\n                setTimeout(() => this.props.onDebugModeChange(false));\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getAskAboutDebug(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getDebug(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n            this.getTour(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onDebugModeChange: PropTypes.func,\n    debugMode: PropTypes.bool,\n    debugInstance: PropTypes.object,\n    expertMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(Editor);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAYAAADXRcu0AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0zMFQwOTo0Njo0MCswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTUwYTA2OS0wNjQ3LTQxM2ItOWI5MC02MjYxMjBjNDg1MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYTliOGE0YS01MzMzLTc1NDgtYjUxZi01YTI2NWU4NDU3ZjUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQxMjExMGQ0YzAiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMjg5NDQwYi1hMjJlLWMxNGEtOGRhMy1jMmI4NTA1YjJhMjA8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQx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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    }\n});\n\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"import-dialog-title\"\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                <Dropzone   key='image-drop'\n\n                            maxSize={50000000}\n                            acceptClassName={classes.dropzoneAccepted}\n                            rejectClassName={classes.dropzoneRejected}\n                            onDrop={files => this.handleDropFile(files)}\n                            multiple={false}\n                            accept='application/zip,application/x-zip-compressed'\n                            className={className}>\n                    {\n                        ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                            if (isDragReject) {\n                                if (this.state.imageStatus !== 'rejected') {\n                                    this.setState({imageStatus: 'rejected'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                        <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                    </div>);\n                            } else if (isDragActive) {\n                                if (this.state.imageStatus !== 'accepted') {\n                                    this.setState({imageStatus: 'accepted'});\n                                }\n\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                        <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                    </div>);\n                            } else {\n                                if (this.state.imageStatus !== 'wait') {\n                                    this.setState({imageStatus: 'wait'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                        <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                    </div>);\n                            }\n                        }\n                    }\n                </Dropzone>\n                {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport { withStyles } from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport { version } from '../package.json';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport { MdMenu as IconMenuClosed } from 'react-icons/md';\nimport { MdArrowBack as IconMenuOpened } from 'react-icons/md';\nimport { MdVisibility as IconShowLog } from 'react-icons/md';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    },\n    showLogButton: {\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        paddingTop: 3,\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 8,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            translations: {\n                'en': require('./i18n/en'),\n                'de': require('./i18n/de'),\n                'es': require('./i18n/es'),\n                'fr': require('./i18n/fr'),\n                'it': require('./i18n/it'),\n                'nl': require('./i18n/nl'),\n                'pl': require('./i18n/pl'),\n                'pt': require('./i18n/pt'),\n                'ru': require('./i18n/ru'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n        });\n\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith('system.adapter.' + this.adapterName + '.')) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(obj._id + '.alive', this.onInstanceAliveChange());\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(id + '.alive', this.onInstanceAliveChange());\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n\n\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n            debugMode: false,\n            debugInstance: null,\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n\n                return new Promise(resolve => {\n                    const socket = this.socket;\n\n                    if (socket.systemConfig.common.diag !== 'none') {\n                        this.socket.getAdapterInstances(window.adapterName)\n                            .then(instances => {\n                                const sentryEnabled = !!instances.find(item => !item.common.disableDataReporting);\n\n                                // if not local development\n                                if (window.sentryDSN && sentryEnabled && window.location.host !== 'localhost:3000') {\n                                    Sentry.init({\n                                        dsn: window.sentryDSN,\n                                        release: `iobroker.${window.adapterName}@${version}`,\n                                        integrations: [\n                                            new SentryIntegrations.Dedupe()\n                                        ]\n                                    });\n\n                                    // BF 2021.08.31: may be this is not required as executed in adapter-react\n                                    this.socket.getObject('system.meta.uuid')\n                                        .then(uuidObj => {\n                                            if (uuidObj && uuidObj.native && uuidObj.native.uuid) {\n                                                Sentry.configureScope(scope =>\n                                                    scope.setUser({id: uuidObj.native.uuid}));\n                                            }\n                                            resolve();\n                                        });\n                                } else {\n                                    resolve();\n                                }\n                            });\n                    } else {\n                        resolve();\n                    }\n                });\n            })\n            .then(() => this.readAdaptersWithBlockly())\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    // BF(2021.07.16): support fallback on admin4. Remove it after one year\n    getAdapterInstances() {\n        return new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                timeout = null;\n                this.socket.getObjectView(\n                    `system.adapter.${this.adapterName}.`,\n                    `system.adapter.${this.adapterName}.\\u9999`,\n                    'instance'\n                )\n                    .then(items => resolve(Object.keys(items).map(id => items[id])))\n                    .catch(e => reject(e));\n            }, 2000);\n\n            return this.socket.getAdapterInstances(this.adapterName)\n                .then(result => {\n                    if (timeout) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        return resolve(result);\n                    }\n                })\n                .catch(e => {\n                    if (timeout && e !== 'unknown command') {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        reject(e);\n                    }\n                });\n        });\n    }\n\n    subscribeOnInstances() {\n        return this.getAdapterInstances()\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances['system.adapter.' + this.adapterName + '.' + id] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    onToggleExpertMode(expertMode) {\n        this.onExpertModeChange(expertMode);\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(id + '.'));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => {\n                            console.log(e);\n                        });\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop(),\n                            expert: true\n                        },\n                        native: {}\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            obj.common = obj.common || {};\n                            obj.common.expert = true;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n                    }\n\n                    return this.socket.extendObject(oldId, obj);\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n                                _obj.common.expert = true;\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n                    _obj.common.expert = true;\n\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive')\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        const isAnyRulesExists = Object.keys(this.scripts).reduce((sum, id) =>\n            sum + (this.scripts[id].common.engineType === 'Rules' ? 1 : 0), 0);\n\n        return <Editor\n            key=\"editor\"\n            debugMode={this.state.debugMode}\n            onDebugModeChange={value => {\n                if (!value) {\n                    this.setState({debugMode: false, debugInstance: null});\n                } else {\n                    this.setState({debugMode: true});\n                }\n            }}\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            theme={this.state.theme}\n            expertMode={this.state.expertMode}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            isAnyRulesExists={isAnyRulesExists}\n            debugInstance={this.state.debugInstance}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <div\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            className={this.props.classes.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </div>;\n    }\n\n    renderErrorDialog() {\n        return this.state.errorText ?\n            <DialogError\n                key=\"dialogError\"\n                onClose={() => this.setState({ errorText: '' })}\n                text={this.state.errorText}\n            /> :\n            null;\n    }\n\n    renderMain() {\n        const { classes } = this.props;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            this.renderErrorDialog(),\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                    setTimeout(() => this.setState({ resizing: false }), 300);\n                }}>\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.state.hideLog ? 0 : this.logSize}\n                    //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.state.hideLog ? 0 : this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <>\n                        {this.renderEditor()}\n                        {!this.state.debugMode && this.state.hideLog && this.showLogButton()}\n                    </>\n                    {!this.state.debugMode && !this.state.hideLog && <Log\n                        key=\"log\"\n                        verticalLayout={!this.state.logHorzLayout}\n                        onLayoutChange={() => this.toggleLogLayout()}\n                        editing={this.state.editing}\n                        socket={this.socket}\n                        selected={this.state.selected}\n                        onHideLog={() => {\n                            window.localStorage.setItem('App.hideLog', 'true');\n                            this.setState({ hideLog: true, resizing: true });\n                            setTimeout(() => this.setState({ resizing: false }), 300);\n                        }}\n                    />}\n                </SplitterLayout>\n            </div>,\n        ];\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType} />;\n        }\n\n        return <div className={classes.root}>\n            <ContextWrapper socket={this.socket}>\n                <SplitterLayout\n                    key=\"menuSplitter\"\n                    vertical={false}\n                    primaryMinSize={300}\n                    primaryIndex={1}\n                    secondaryMinSize={300}\n                    secondaryInitialSize={this.menuSize}\n                    customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                    }}\n                >\n                    <div className={classes.mainDiv} key=\"menu\">\n                        <SideMenu\n                            debugMode={this.state.debugMode}\n                            onDebugInstance={data => {\n\n                                this.setState({debugInstance: data, debugMode: !!data});\n                            }}\n                            key=\"sidemenu\"\n                            scripts={this.scripts}\n                            scriptsHash={this.state.scriptsHash}\n                            instances={this.state.instances}\n                            update={this.state.updateScripts}\n                            onRename={this.onRename.bind(this)}\n                            onSelect={this.onSelect.bind(this)}\n                            socket={this.socket}\n                            selectId={this.state.menuSelectId}\n                            onEdit={this.onEdit.bind(this)}\n                            expertMode={this.state.expertMode}\n                            themeType={this.state.themeType}\n                            themeName={this.state.themeName}\n                            onThemeChange={themeName => {\n                                Utils.setThemeName(themeName);\n                                const themeType = Utils.getThemeType(themeName);\n                                this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName));\n                            }}\n                            runningInstances={this.state.runningInstances}\n                            onExpertModeChange={this.onExpertModeChange.bind(this)}\n                            onDelete={this.onDelete.bind(this)}\n                            onAddNew={this.onAddNew.bind(this)}\n                            onEnableDisable={this.onEnableDisable.bind(this)}\n                            onExport={this.onExport.bind(this)}\n                            width={this.menuSize}\n                            onImport={() => this.setState({ importFile: true })}\n                            onSearch={searchText => this.setState({ searchText })}\n                        />\n                    </div>\n                    {this.renderMain()}\n                </SplitterLayout>\n            </ContextWrapper>\n        </div>;\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { version } from '../package.json';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nwindow.adapterName = 'javascript';\nwindow.sentryDSN = 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56';\n\nlet themeName = Utils.getThemeName();\n\nconsole.log('iobroker.' + window.adapterName + '@' + version + ' using theme \"' + themeName + '\"');\n\nfunction build() {\n    const isMobile = window.innerWidth < 600;\n    return ReactDOM.render(<MuiThemeProvider theme={theme(themeName)}>\n        <DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n            <App onThemeChange={_theme => {\n                themeName = _theme;\n                build();\n            }} />\n        </DndProvider>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuRules\":\"style_menuRules__2Jxg-\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__18lMS\",\"menuOff\":\"style_menuOff__12e3e\",\"menuTitle\":\"style_menuTitle__3cvB2\",\"marginAuto\":\"style_marginAuto__-k5Os\",\"inputWidth\":\"style_inputWidth__2-Hou\",\"menuWrapper\":\"style_menuWrapper__3LVmm\",\"hamburgerWrapper\":\"style_hamburgerWrapper__1J-qV\",\"hamburgerOff\":\"style_hamburgerOff__7YOse\",\"nothingFound\":\"style_nothingFound__21q0B\",\"resetSearch\":\"style_resetSearch__1hBqi\",\"controlPanel\":\"style_controlPanel__HpepC\",\"controlPanelAppBar\":\"style_controlPanelAppBar__jmRQI\",\"addClassMenu\":\"style_addClassMenu__3SE53\",\"addClassBackground\":\"style_addClassBackground__2_DCR\",\"addClassPosition\":\"style_addClassPosition__2NbXN\"};"],"sourceRoot":""}