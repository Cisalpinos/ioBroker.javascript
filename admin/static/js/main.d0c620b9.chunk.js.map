{"version":3,"sources":["Components/RulesEditor/components/CurrentItem/style.module.scss","Components/RulesEditor/components/GenericBlock/style.module.scss","Components/RulesEditor/components/CustomDate/style.module.scss","Components/RulesEditor/style.module.scss","Components/RulesEditor/components/CardMenu/style.module.scss","Components/RulesEditor/components/CustomButton/style.module.scss","Components/RulesEditor/components/CustomInput/style.module.scss","Components/RulesEditor/components/CustomModal/style.module.scss","Components/RulesEditor/components/CustomSlider/style.module.scss","Components/RulesEditor/components/DragWrapper/style.module.scss","Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss","Components/RulesEditor/components/CustomCheckbox/style.module.scss","Components/RulesEditor/components/CustomSelect/style.module.scss","Components/RulesEditor/components/CustomSwitch/style.module.scss","Components/RulesEditor/components/CustomTime/style.module.scss","Components/RulesEditor/components/ContentBlockItems/style.module.scss","assets/js.png","assets/blockly.png","assets/typescript.png","assets/rules.png","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/tileRules.png","Dialogs/New.js","Dialogs/Error.js","Dialogs/AdapterDebug.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Dialogs/Export.js","Dialogs/Import.js","Components/BlocklyEditor.js","Dialogs/ScriptEditor.js","Components/RulesEditor/helpers/MaterialDynamicIcon.js","Components/RulesEditor/components/CardMenu/index.js","Components/RulesEditor/helpers/deepCopy.js","Components/RulesEditor/helpers/filterElement.js","Components/RulesEditor/components/CustomButton/index.js","Components/RulesEditor/components/CustomCheckbox/index.js","Components/RulesEditor/components/CustomInput/index.js","Components/RulesEditor/components/CustomInstance/index.js","Components/RulesEditor/components/CustomModal/index.js","Components/RulesEditor/components/CustomSelect/index.js","Components/RulesEditor/components/CustomSlider/index.js","Components/RulesEditor/components/CustomSwitch/index.js","Components/RulesEditor/components/CustomTime/index.js","Components/RulesEditor/components/CustomDate/index.js","Components/RulesEditor/helpers/utils.js","Components/RulesEditor/helpers/Tour.js","Components/RulesEditor/components/GenericBlock/index.js","Components/RulesEditor/components/Blocks/ActionSayText.js","Components/RulesEditor/components/Blocks/ActionSendEmail.js","Components/RulesEditor/components/Blocks/ActionTelegram.js","Components/RulesEditor/components/Blocks/ActionPushover.js","Components/RulesEditor/components/Blocks/ActionWhatsappcmb.js","Components/RulesEditor/components/Blocks/ActionPushsafer.js","Components/RulesEditor/components/Blocks/TriggerScriptSave.js","Components/RulesEditor/helpers/Compile.js","Components/RulesEditor/components/Blocks/TriggerSchedule.js","Components/RulesEditor/components/Blocks/TriggerState.js","Components/assets/hysteresis.png","Components/RulesEditor/components/Blocks/ConditionState.js","Components/RulesEditor/components/Blocks/ConditionTime.js","Components/RulesEditor/components/Blocks/ConditionAstrological.js","Components/RulesEditor/components/Blocks/ActionSetState.js","Components/RulesEditor/components/Blocks/ActionExec.js","Components/RulesEditor/components/Blocks/ActionHTTPCall.js","Components/RulesEditor/components/Blocks/ActionPrintText.js","Components/RulesEditor/components/Blocks/ActionPause.js","Components/RulesEditor/components/Blocks/ActionFunction.js","Components/RulesEditor/components/Blocks/ActionSetStateDelayed.js","Components/RulesEditor/components/StandardBlocks/index.js","Components/RulesEditor/components/ContextWrapper/index.js","Components/RulesEditor/components/CurrentItem/index.js","Components/RulesEditor/helpers/findElement.js","Components/RulesEditor/components/CustomDragLayer/index.js","Components/RulesEditor/hooks/useStateLocal.js","Components/RulesEditor/helpers/cardSort.js","Components/RulesEditor/components/DragWrapper/index.js","Components/RulesEditor/components/ContentBlockItems/DialogHelp.js","Components/RulesEditor/components/ContentBlockItems/DialogCondition.js","Components/RulesEditor/components/ContentBlockItems/index.js","Components/RulesEditor/components/CardMenu/CustomDragItem.js","Components/RulesEditor/components/HamburgerMenu/index.js","Components/RulesEditor/components/Menu/index.js","Components/RulesEditor/index.js","Components/Debugger/Editor.js","Components/Debugger/Console.js","Components/Debugger/Stack.js","Components/Debugger/index.js","Editor.js","assets/blockly2js.png","assets/rules2js.png","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","Components/RulesEditor/components/Menu/style.module.scss"],"names":["module","exports","DialogRename","React","Component","constructor","props","super","handleCancel","this","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","componentWillReceiveProps","nextProps","render","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","width","autoFocus","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","className","classes","buttonIcon","withStyles","theme","marginRight","spacing","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","type","openHtml","html","lang","getLanguage","window","focus","getJSCard","Card","card","CardActionArea","CardMedia","media","image","title","CardContent","complexity","text","CardActions","size","getTSCard","getBlocklyCard","getRulesCard","textAlign","display","height","fontStyle","marginBottom","DialogNew","onAdd","existingItems","indexOf","error","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","aria-describedby","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","DialogAdapterDebug","adapterToDebug","enabled","socket","getObject","then","obj","common","setObject","_id","onDebug","jsInstance","showAskForStop","localStorage","getItem","jsInstanceHost","componentDidMount","getAdapterInstances","filter","onlyWWW","adapter","host","icon","jsInstanceObj","startsWith","renderJavascriptList","js","Grid","List","component","ListItem","button","selected","ListItemIcon","src","alt","ListItemText","primary","renderInstances","onDoubleClick","container","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","images","ImgBlockly","ImgJS","def","ImgRules","ImgTypeScript","getObjectName","en","toString","prepareList","data","result","depth","index","ids","Object","keys","engineType","engine","modified","it","sort","a","b","idA","toLowerCase","idB","parentIndex","Droppable","onDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","ref","clsx","children","Draggable","useDrag","opacity","isDragging","drag","transform","SideDrawer","expanded","JSON","parse","inputRef","createRef","listItems","scripts","problems","reorder","themeName","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","showAdapterDebug","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","readProblems","cb","tasks","shift","match","that","substring","getState","err","subscribeState","componentWillUnmount","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","objects","newState","filteredPartly","found","source","lastIndexOf","filtered","filterList","filterListStatic","ensureSelectedIsVisibleStatic","nState","assign","getIsAllZeroInstancesStatic","selectId","setItem","saveExpanded","showError","onToggle","stopPropagation","renderItemButtonsOnEnd","IconButton","iconButtons","debugMode","iconButtonsDisabled","onEnableDisable","onEdit","Promise","resolve","getTextStyle","whiteSpace","padding","overflow","flex","onDblClick","isFilteredOut","renderListItem","childrenFiltered","depthPx","marginLeft","cursor","isExpanded","includes","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","script","scriptReorder","folderReorder","listItemIcon","ListItemSecondaryAction","onDragFinish","newId","renderOneItem","items","dragging","element","reactChildren","renderAllItems","dense","disablePadding","mainList","onAddNew","onCopy","onAddNewFolder","getUniqueName","copyId","word","m","getUniqueFolderName","onCloseMenu","menuAnchorFilterEl","getFilterBadge","filterIcon","getMainMenu","selectedItem","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","event","iconDropdownMenu","onExpertModeChange","onExport","onImport","onThemeChange","newThemeName","getToolbarButtons","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getFolders","folders","onCollapseAll","onExpandAll","getBottomButtons","footerButtons","Blockly","footerButtonsRight","getAdapterDebugDialog","onDebugInstance","renamingItem","copingItem","Drawer","variant","menu","paper","drawerPaper","anchor","toolbar","Divider","backend","HTML5Backend","innerMenu","footer","newName","newInstance","position","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","gText","Log","logHandler","message","allLines","lines","editing","generateLine","severity","date","Date","ts","ms","toLocaleString","goBottom","lastIndex","messagesEnd","trTime","trSeverity","substr","scrollToBottom","current","scrollIntoView","behavior","registerLogHandler","unregisterLogHandler","componentDidUpdate","hasOwnProperty","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","clearLog","renderLogList","logBoxInner","table","clear","logBox","toolbox","onLayoutChange","layoutIcon","verticalLayout","onHideLog","verticalAlign","info","warn","debug","silly","fontFamily","boxShadow","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","waitForMonaco","monacoCounter","loadTypings","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","glyphMargin","breakpoints","onDidChangeModelContent","getValue","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","location","showDecorators","options","selectOnLineNumbers","setEditorOptions","setValue","onToggleBreakpoint","onMouseDown","detail","glyphMarginLeft","lineNumber","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","currentScriptName","isGlobalScript","test","partialDeclarationsPath","wantedTypings","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","insertTextIntoEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","col","column","decorations","columnNumber","isWholeLine","bp","glyphMarginClassName","deltaDecorations","initNewScript","scrollToLineIfNeeded","ranges","getVisibleRanges","revealLineInCenter","UNSAFE_componentWillReceiveProps","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","themeType","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","left","tabIndex","aria-hidden","defaultProps","DialogImport","fullHeight","resize","toolboxXml","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","url","callback","scriptTag","onload","onreadystatechange","onerror","loadJS","loadScripts","adapters","toLoad","parseXml","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","searchBlocks","Xml","workspaceToDom","allBlocks","getAllBlocks","searchId","blocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","updateBackground","loadCode","fileLang","setAttribute","readyState","getElementsByTagName","fileCustom","svgResize","jsCode2Blockly","xml","l","decodeURIComponent","atob","block","unselect","blocklyRemoveOrphanedShadows","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","blocklyCode2JSCode","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","onImportBlocks","trim","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","domToWorkspace","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","_originalStyle","stroke","fill","removeEventListener","outerHTML","p1","MSG","CustomBlocks","Words","HUE","_b","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","DialogScriptEditor","isReturn","args","argsTitle","adapterName","ICON_CACHE","MaterialDynamicIcon","iconName","useState","setUrl","useEffect","Element","Icons","CardMenu","active","onTouchMove","cls","switchesItem","switchesItemActive","iconTheme","deepCopy","userRules","additionalParameter","newItemsSwitches","filterElement","CustomButton","square","CustomCheckbox","customValue","switchChecked","setSwitchChecked","Checkbox","checked","Boolean","native","styleComponentBlock","memo","CustomInput","multiline","rows","inputText","setInputText","InputProps","endAdornment","InputAdornment","SelectMod","borderBottomColor","CustomInstance","multiple","attr","onInstanceHide","setOptions","_options","unshift","renderValue","input","placeContent","title2","FormHelperText","CustomModal","titleButtonApply","titleButtonClose","onApply","textInput","defaultValue","modalDialog","modalWrapper","i18n","CustomSelect","doNotTranslate","doNotTranslate2","v","onlyItem","only","titleShort","sel","valueOnly","CustomSlider","min","max","step","unit","marks","Slider","valueLabelDisplay","mark","CustomSwitch","FormControlLabel","control","Switch","CustomTime","InputLabelProps","shrink","DAYS","CustomDate","month","days","padStart","getName","STEPS","steps","selector","GenericBlock","PureComponent","renderText","frontText","backText","nameBlock","doNotTranslateBack","displayFlex","blockMarginTop","renderSwitch","renderNameText","signature","displayItalic","renderNumber","settings","openCheckbox","visibility","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","buttonText","findIcon","getSelectIdIcon","catch","renderObjectID","showSelectId","checkReadOnly","lastObjectIdChange","write","Utils","getObjectNameFromObj","imagePrefix","dialogName","getThemeName","statesOnly","onOk","role","states","read","setOnUpdate","renderIconTag","iconTag","tagCard","tagCardArray","onChangeTag","openTagMenu","renderTime","renderSelect","renderInstance","hideAttributes","renderDialog","onShowDialog","iconDialog","renderModalInput","openModal","noTextEdit","renderDate","renderTags","aria-controls","isTourOpen","tourStep","setTourStep","keepMounted","tag","onTagChange","search","newTagCardArray","newSettings","newTagCard","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","_attr","getData","onValueChanged","inputs","helpDialog","notFound","iconThemCard","iconThemCardSelectable","blockName","nameCard","iconHelp","helpText","nameRender","controlMenuTop","renderSpecific","oid","instanceSelectionOptions","instanceSelectionDef","context","trigger","oidType","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","getStaticData","config","volume","getReplacesInText","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","user","_setUsers","users","userName","firstName","ActionPushover","sound","priority","ActionWhatsappcmb","phone","ActionPushsafer","device","vibration","TriggerScriptSave","DEFAULT_RULE","triggers","conditions","justCheck","actions","compileTriggers","json","jsonTriggers","prelines","hist","conds","cond","findBlock","_context","condition","compile","ors","_ors","compileConditions","compileActions","_else","else","line","action","Compile","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_ONCHANGE","STANDARD_FUNCTION_STATE","STANDARD_FUNCTION_STATE_ONCHANGE","TriggerScheduleBlock","coordinates","func","interval","cron","at","hours","minutes","dow","_dow","intervals","start","astro","offset","offsetValue","wizard","time","_setAstro","latitude","longitude","sunValue","SunCalc","getTimes","_time2String","order","astroTime","setMinutes","_setInterval","renderCron","textCron","alignItems","openDialog","convertCronToText","cronExpression","renderWizard","wizardText","valid","Schedule","now2string","state2text","default","TriggerState","HYSTERESIS","ConditionState","onShowHelp","showHysteresisHelp","isAllTriggersOnState","useTrigger","histComp","parseFloat","compare","_setInputs","oidUnit","oidStates","HysteresisImage","ConditionTime","withDate","ConditionAstrological","ActionSetState","toggle","oidMax","oidMin","oidRole","oidWrite","oidStep","isNaN","f","ignore","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","pause","_getOptions","ActionFunction","ActionSetStateDelayed","delay","clearRunning","StandardBlocks","TriggerSchedule","ADAPTERS","telegram","email","sayit","pushover","ContextWrapperCreate","createContext","ContextWrapper","setBlocks","adapterBlocksArray","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","ctrlKey","newItem","clientWidth","cardStyle","cardStyleActive","drag_mobile","controlMenu","closeBtn","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","isSnapToGrid","Math","round","snapToGrid","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","renderItem","useStateLocal","events","nameEvents","newHeadCells","funcSet","_","throttle","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","findCard","copyCard","clone","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","end","dropResult","getDropResult","idNumber","preview","useRef","canDrop","hover","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","isMobile","innerWidth","DialogHelp","letterSpacing","DialogCondition","AdditionallyContentBlockItems","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","targetId","contentBlockItem","addClassHeight","contentHeightOn","contentHeightOff","wrapperMargin","clientHeight","emptyBlockStyle","emptyBlock","emptyBlockNone","ContentBlockItems","nameAdditionally","border","additionallyClickItems","setAdditionallyClickItems","checkLocal","showHelp","setShowHelp","showConditionDialog","setShowConditionDialog","newArray","idx","setAnimation","mainBlockItemRules","addClassOverflow","nameBlockItems","selectOnChange","_userRules","selectOnChangeHelp","selectOnChangeHelpIcon","Array","booleanAdditionally","newAdditionally","blockCardAdd","cardAdd","CustomDragItem","onDoubl","HamburgerMenu","hamburgerMenu","animate","addClass","setAllBlocks","onChangeBlocks","hamburgerOnOff","setHamburgerOnOff","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","ClickAwayListener","mouseEvent","touchEvent","onClickAway","menuWrapper","addClassMenu","hamburgerWrapper","hamburgerOff","menuRules","addClassBackground","addClassPosition","menuOff","controlPanel","AppBar","controlPanelAppBar","Tabs","Tab","switchesRenderWrapper","nothingFound","resetSearch","menuTitle","marginAuto","inputWidth","RulesEditor","importExport","setImportExport","modal","setModal","835","1035","setAddClass","wrapperRules","rootWrapper","Editor","editorDidMount","editorDiv","scriptName","paused","borderRight","lineBreakpoint","lineCode","lineCurrentCode","lineCurrent","Console","onClearAllLogs","consoleLine","console_log","console_warn","console_error","console_debug","consoleSeverity","textTransform","consoleTime","consoleText","Stack","framesSize","editValue","callFrames","editRef","onExpressionNameUpdate","scopeValue","renderExpression","onBlur","onKeyUp","keyCode","scopeNameName","scopeNameEqual","scopeNameValue","formatValue","scopeType","scopeName","valueType","scopeButtonDel","onExpressionDelete","renderExpressions","expressions","renderOneFrameTitle","frame","mainScriptId","currentScriptId","scriptId","fileName","onChangeCurrentFrame","currentFrame","frameRoot","frameTextRoot","frameTextPrimary","secondary","frameTextSecondary","functionName","forEdit","description","valueFunc","valueUndefined","valueNull","valueString","valueBoolean","enableClipboard","collapsed","displayDataTypes","valueNone","onWriteScopeValue","variableName","scopeNumber","callFrameId","renderScope","scopeId","editable","scopeValueEditable","renderScopes","scopes","local","properties","closure","customClassName","splitter","primaryIndex","secondaryMinSize","primaryMinSize","vertical","secondaryInitialSize","onSecondaryPaneSizeChange","onDragEnd","listRoot","toolbarScopes","onExpressionAdd","scopesAfterToolbar","scopeType_local","scopeType_closure","scopeType_user","textOverflow","scopeButton","selectedFrame","valueNumber","valueObject","Debugger","fromInstance","cmd","debugInstance","tabs","random","starting","finished","started","getLocation","reinitBreakpoints","readCurrentScope","readExpressions","scope","sendToInstance","toolsTab","expression","locations","queryBreakpoints","alert","toolSize","running","stopOnException","scopeChain","global","getTextAtLocation","arrow","monospace","renderQueryBreakpoints","bpListItem","bpListPrimary","bpListSecondary","renderError","closeTab","renderTabs","indicatorColor","scrollButtons","tabText","closeButton","tabFile","onResume","onPause","onNext","onStepIn","onStepOut","onRestart","onToggleException","renderToolbar","Toolbar","buttonRestart","buttonRun","buttonPause","buttonNext","buttonStep","buttonOut","buttonException","getPossibleBreakpoints","toggleBreakpoint","renderCode","sourceId","renderFrames","renderConsole","renderTools","tabsRoot","tabRoot","LinearProgress","minHeight","buttonStop","borderTop","COLOR_DEBUG","COLOR_VERBOSE","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","visible","cmdToBlockly","cmdToRules","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","subscribeObject","unsubscribeObject","removeNonExistingScripts","_changed","verbose","oldSource","commonLocal","nextCommon","onSave","onSaveAll","onCancel","getSelect","onConvertBlockly2JS","showConfirmDialog","nowSelected","onTabChange","isScriptChanged","onTabClose","ok","question","confirmCallback","confirm","sendCommandToBlockly","sendCommandToRules","getTabs","textColor","tabIcon","tabChanged","tabChangedIcon","wrapped","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","getDebugMenu","menuDebugAnchorEl","menuIcon","getDebugBadge","getAskAboutDebug","askAboutDebug","onDebugModeChange","cancel","getToolbar","isInstanceRunning","isScriptRunning","changedAll","onLocate","notRunning","textButton","saveButton","textIcon","toolbarButtonsDisabled","Badge","badgeMargin","badgeContent","getScriptEditor","getBlocklyEditor","resizing","getRulesEditor","getConfirmDialog","getSelectIdDialog","selectedId","getCronDialog","getEditorDialog","getToast","Snackbar","anchorOrigin","horizontal","autoHideDuration","ContentProps","closeToast","getTour","isAnyRulesExists","isOpen","onRequestClose","goToStep","getDebug","hintText","DialogImportFile","imageStatus","file","reader","FileReader","onabort","readAsDataURL","handleDropFile","files","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","iconError","iconOk","borderWidth","borderStyle","borderColor","boxSizing","App","GenericApp","translations","require","bottomButtons","autoSubscribeLog","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","menuSize","importFile","onConnectionReady","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","getObjectView","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","onUpdateScript","onSelect","showMessage","isFolder","reg","RegExp","expert","newCommon","_obj","reject","getRawSocket","emit","_rev","getLiveHost","getFullYear","getMonth","getDate","link","click","remove","download","onImportConfirmed","toggleLogLayout","renderEditor","reduce","sum","extendObject","showLogButton","renderMain","menuOpenCloseButton","onDragStart","splitterDivs","menuDivWithoutMenu","mainDiv","SideMenu","update","setThemeName","getThemeType","flexGrow","menuDiv","splitterDivWithMenu","progress","hostname","version","Sentry","dsn","release","integrations","SentryIntegrations","build","ReactDOM","DndProvider","TouchBackend","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.d0c620b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__wUiIJ\",\"cardStyleActive\":\"style_cardStyleActive__HuLTt\",\"controlMenu\":\"style_controlMenu__2kTdC\",\"closeBtn\":\"style_closeBtn__2IOBL\",\"isDelete\":\"style_isDelete__2m5Dy\",\"drag_mobile\":\"style_drag_mobile__3HCTe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__3oB5P\",\"nameCard\":\"style_nameCard__3AbI6\",\"cardStyleActive\":\"style_cardStyleActive__3JFj0\",\"iconThemCard\":\"style_iconThemCard__1hLSl\",\"iconThemCardSelectable\":\"style_iconThemCardSelectable__3Cshz\",\"iconHelp\":\"style_iconHelp__1V5Ur\",\"inputCard\":\"style_inputCard__fblsw\",\"blockName\":\"style_blockName__3wlCq\",\"controlMenu\":\"style_controlMenu__23RNm\",\"closeBtn\":\"style_closeBtn__2_Jzl\",\"controlMenuTop\":\"style_controlMenuTop__FxQrX\",\"tagCard\":\"style_tagCard__29_vM\",\"displayFlex\":\"style_displayFlex__bZG43\",\"blockMarginTop\":\"style_blockMarginTop__2GRLr\",\"nameBlock\":\"style_nameBlock__bT0MG\",\"frontText\":\"style_frontText__2I83B\",\"backText\":\"style_backText__DMzK9\",\"iconTag\":\"style_iconTag__2iTbz\",\"displayItalic\":\"style_displayItalic__34n0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__306WM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperRules\":\"style_wrapperRules__3qQa2\",\"rootWrapper\":\"style_rootWrapper__3ABmF\",\"addClass\":\"style_addClass__3s5Zl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchesItem\":\"style_switchesItem__3w3gs\",\"switchesItemActive\":\"style_switchesItemActive__pO4XX\",\"iconTheme\":\"style_iconTheme__3rfLU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__P91Xu\",\"square\":\"style_square__37DWp\",\"icon\":\"style_icon__mEOBI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__MdArl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContentWrapper\":\"style_modalContentWrapper__29JXc\",\"modalButtonBlock\":\"style_modalButtonBlock__2D6v5\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__1fKXW\",\"modalWrapper\":\"style_modalWrapper__1hx16\",\"modalDialog\":\"style_modalDialog__2sBvq\",\"close\":\"style_close__2233y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__e-sNP\",\"mark\":\"style_mark__YZfbQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drag\":\"style_drag__rWTfz\",\"root\":\"style_root__1rBEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__10pvu\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__3pRZW\",\"animate\":\"hamburgerMenu_animate__yFa5f\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__1roMM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1m2nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2hOWt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2u68I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1fy5J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"style_border__2WYMW\",\"emptyBlockStyle\":\"style_emptyBlockStyle__3VvZJ\",\"emptyBlock\":\"style_emptyBlock__1FjYE\",\"marginTop\":\"style_marginTop__1rrb7\",\"selectOnChange\":\"style_selectOnChange__16h8Y\",\"selectOnChangeHelp\":\"style_selectOnChangeHelp__369Pi\",\"selectOnChangeHelpIcon\":\"style_selectOnChangeHelpIcon__1gBuK\",\"emptyBlockNone\":\"style_emptyBlockNone__3pZ7k\",\"mainBlockItemRules\":\"style_mainBlockItemRules__2zj9l\",\"nameBlockItems\":\"style_nameBlockItems__2COHm\",\"contentBlockItem\":\"style_contentBlockItem__1PN3u\",\"wrapperMargin\":\"style_wrapperMargin__15yUz\",\"contentHeightOn\":\"style_contentHeightOn__1nz_U\",\"heightBlock\":\"style_heightBlock__3_LFG\",\"contentHeightOff\":\"style_contentHeightOff__3A3AV\",\"cardAdd\":\"style_cardAdd__zadBd\",\"blockCardAdd\":\"style_blockCardAdd__13d3e\",\"addClassOverflow\":\"style_addClassOverflow__3TKBf\",\"addClassHeight\":\"style_addClassHeight__2bqrC\"};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAADPhJREFUaEPtV4lTU9caf/9bWxdwqZa2CpKVgEgAlbYKKHcJS0IIKNWwmH1jDWtAJYvs2UhAZRFI2KyiXdzIvQkB4vvODVTbzlv6Zl7z3ky++c2Zk5OzfL9zvu3+7f3/uSQJJFqSBBItSQKJliSBREuSQKIlSSDRkiSQaEkSSLQkCSRakgQSLX8kEIvt0rHo61j0VSz6C9Mi7EG7t70/5Y8S24vtvPt1MrPww9r/Dl6/j+3Ayb8hAKrvvBoPL1WFfWfD3tORqVNhbxo99SXl/+Kt78vIWvMutQa67s8+EFB99+eR0Gzh1nQaNZUW8n5BTZ0C0FOnaX8caQDK/yXtA6Qd4AsAhdrTAAow9QHxEdoHm5xi+mgy7QegDSPTp6gZ9s5WAA7/QGB3az6yIoU1b10nno58FXBkLNkzlq3nArZz0H828kXIfYJ+nB95atgLP4OVzKLY3tbj8MqNsC/jletkYDg9YD+3bANkLNvSUQs72DMWHRmL0NpYizb2ko0F2yLA/o6MZUcGbM5MS/8YAWYhs0n6kg12yFx8AMhYHD4bHP76zWQK7f96B27z1xfYowKRuaJ33qMLI+laXYmorvJaTXWptLpUIgGUSGXV9cRkb9a7iVTa/Tm9JNp5+3CXfhrd7I48zKY8x9ccaSZd0bVaaUl1TbFEViyWXRXXXIVWUntVEm8BUqZfw7Sy4mpZSXVtSbXsahwS2ZUD7I+gwbpiKZpWKq0tkdWUyKpLa6SSetHivQza83n03cL+C8T26PBa05b3eMCejt+U8kkVlzRwSSOHMHJxDRdTs3EtB1MXVDSZlCXPRtNp78mI/yvKf4b2nKZdR54MZd64RZwXNXNwLQvTsDAtq8zAwows3MjCDGxcz8UMXMzExbTcsjgM3DIjGsGNHAAGMHBw3UfQsjE9G9Yyf7HJVg5u4GMqNq5gidQXJQ0z9ziU90w0FATlEYG9rUX6UfbL8ZP18mtsAo40fgCpZRF6Fg6An3qOSC2+Wfn4HvfniWO/OFN+Gj852pN7rfom6MTGlVxcjYABW3QwWgVr48ANHFLHJgBaLg7QsdGIiU0a2WU6DqYHpTm45gBqhoaeW6bjYXpBhaa2sWK0N8/aIhTJyGs10vmhzPAj1i6yZIZA9IWF9qbO3D2bLWr4HQGuSCesNnFJXVybTAL0u1NUc6fydi1WV1Msu5FNKlmEitFSh54L4YAAo3omrhNUmc5XGdmEBrRHwNRZIr1Q0sYhEMkDAujiDwAcEAHocDG9+Htx0JG+5T1KeY78OHZirIP31PF5+BF3N7y5T2Bns5v2pPS35Ajg7fDfEMiRtHcN+y9L25hx2BEeVEeqh7SW4dwquE6gpMsktCwcMUR6IBgYAgD0k43rqgxWldmRU6njkFp4B1DrarOl2+ErqAQCwFbPJeImxGiPAR/oIAKwNotQdmgvvXWfCAVK6Y360DQv5D6y5fwsslAU23nzK4GusCfVbCjg40pY/zEBYW2Pe2GltK6Nh+n4ZTr2dfAHvax97N6op0CMjmShK1dzr6t4YNwHqoNx83ADr0zJK1PwcLW8d7Lf7j5fCYThETRsTIUbrN7Z5aIqHQtZlJ4L5gTqYhoOuNB1FbTM9RvOEUZBufJBdw7E0N23/tjO1s7bR1SAoBev7bya+JAHoptdlPtYt6GQB46CwV0y/sfgQm3vzPJ6r93jmVt/4FkS1Zt4ZSpZ+8jgsKegUs8hdKUNfQ7/gm9hvX3QWUAq4MW5RItEZx+eDk4trjs8C9/KjA19Tot9SlipF1Qq24Z98p7x8tYRz+zyN1VacetY25BPAATK9Lni1vGZleu3euFS0GsjJzadFyk9/Zm07+s9Crksypi7W5B54tqD7JtQyJ1qMVzMBksgjB8jX9YX/OWN3flYph4c8i4tBdYLiebaDsfg2FRhpemCrG969UXvsOtWp/Xh6mbHoENAKovvDHiXNloHR6Qqi7Jn8tKN7tt94712b1Fde//04sT0QqFYhxlGPfMrlyXa7xos3vmVK9IWdpm+rnM8uPZDYQWySeTrYAuYKbdcMTOQEZ4+s0evxDX+ncQJ9Gy5U3v0F/l/IFBY2/tw7VllU28G3iqQmVdfvJJrLXUdwwNjU/mVJlmfb3llraACPMEk656c33heKFYpBt29D5y55VouiYybTRrk/c7xqSfuJ6v2yemcCi2nTIUZxt3zK99JwZtbBp0LTa0DueI258LTTouVjSnB9ME4gQALNwmqFA8HWZHps7F/SaBLd5FH/IFATYd/abX0RjuLMHEqWh+vbZrMttp2IOApFOu19mnv9FwOODFhuq61rm6+LL5harX7W/sfZJHMLYr03HKdvN8TWHu5uv7shu4ul9RmEnrcMOydC34rgcirqm5xWEbcTV3Dc8srRdVq5CQoyIIHGzIhioiavAMZ9PTX//wFuoFAt66QS2hYENo+InC5pnN2Y1Os6IWwkF9jDm7+Ilf31O0TUNebJxaDTwslJhbZcqvXtby2XlilVQ54BkZ8eZUQtTQo9pfrb/W5h8ZmNAPOqSfr9QbEgTTYp2aD34jVHEJVdKvrgW92ceNZz/1RLqliE4gDUgOHbGjKIRXj3bxffQBqyuhLS/RF517kebycYZz4RTflARMqgqTLRCGUcSCuQwgvqutd+um1wzN3p8064l/2zq9eKlfWtY1aRqbzxfrC2h7f0nPL+CNV79jD4HNTn42HKUubLONza23Wqe+Ng6333Vdvdsp7XD12b77EWGOyzgQ2ZLp7pHHEPbv+TTUQ0GSJTV1j0xubL0h5OwdXxCMVEGATENBMWaR+sK2Adh/beWnZfe2j566Evaci/lP0UiUEpX0C2y9633mODbXx+VgzlAwcTAW5kEWoM3F1rqRDMTB6p2fM6l7oG/EV17XwytQl8v5anTWn3MDFTaW3+/tGZ+zeOaX5vrASgqwOTJ9UDXSPPxzxz/UNOy9XqcuaLNXqu3xSzyY1Yu1gY7vtatP9xs7R/Ao17MYS6VV3PbZJf365nkvCo0Gu0ILnsAkTWBGPMKjVV15PpoDetDuNdh595U555zkans1DFfX+C/xoe+M7veT48pJYmolDGIZMvk+ADcAUkDvBq6AiYpehHAnFAh8KGwAJRqzlXIdwoc6EOZCkSD2AS0AmgiVoK7QWbqQMsrU2AyVmDQRiZrkm67o2G5xHMWD3P6lXd2QTsBA20XCQUxkyCWMmZuRhmmtSqc/Cej1x/MeR49ODWSrl9QXb2e25Cx8I7IWfUwvfvnWmDrQKC8tvoeoN3QEcpod3BAdlHMPAIk1MUcSECBQlNDwSih9InMjqYDKL0Z5J2LBQx2OoxpkzKU+XAXWeyMAhIGfp2KSaI9KcFxvbR2eMdycvi3V8XA9hkEdoIZZAHQkvgEo90sDDlcWS2u8bK6TyikLy9rfVisf3zm3PCuCzZp8AZIfoz/awP/3NRKqj/XxFbYWw/KaAbOCTjXxSwSNUkKH5UPBAHYEqJZT20cWj0g1lfihmUBLFFVyRiifSZJFqgUiRRTbnkM0CvImP34F7hUE+AYWNkl+u4hGQnlV8AuYo+ETj+XIEAdmURSgEhCKbaMommrMJpYBQC+BoAkpjNezMJ+9wRHeycHVxze25++nbs9kfEQDZi+z8ZKenMt9MHF+znXUNCuw9eUNdFwC2bqG1K/+++aJcTuSKQBuID60csgWKonipA69cWi3uMFy81yUcMufbzAVW1Mmzm/NsZqGtK2/ILLR2Cq0dQuZn/lBn3lBnvq0zz96ZZ+u84DAL7V0XrF25sMTWmW835zLIg4U2OL0rz9ottHXnw0JbV6Gt89Joz/kXoye3Hws/mNC+xHajr12hJ5co7+ch9+GtycMhZyo1kUJNHqGcKW9dR16OnrC25V+punkOIjTZBs6XQeqh1Kmsq/DeZb12poZch2n3IdpzlHYdpZyHtlyfbLk/Dbk+DbsOh12H6MlDtBNwmJo8DP/S7s/CMBnGYbLrEOX6jEJ/HYL5W65PQ859UJOfUNDCv+7PYP+QMyXkPAKdyNzFWPSgmPtIYu9j0e03Hvqpkl6T08Hb2yuNkWBDGDBbFHEdo1xH54f4NfXibHhQUnlB1KhRFP8wfIZyH6f9Z8KB+vCKPLzSEAk2RYKNqL/aQAcb6OXGcKAxjEaaIgjN0NKB23RQjgYDTZHVRkAYAMcdAPoI8dMZwFZUELSS0yu36R864AseNP4dgX8s8D4/2aj5fPikfOpIu9cmMOoKPP38n10poZk0alnCfF7EP5T/Uvm3CSABzhuRjWZ65hzlOkK5jtPu1NDD7PCPlr2d0P6Uv1z+FAEkUM3uvHJGn5mjz83RzY6dd3Oxvcj+f4mQP00ASWz3/d72PhJhNh/Lf0Tgf0mSBBItSQKJliSBREuSQKIlSSDRkiSQaEkSSLQkCSRW3r//O89RIR0Kq6AfAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowODYwNDk3ZS1kM2NmLTQ4NjktOTJkMy1lZDdhMWJhZjRjNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphZGNhYzk5MC01NDk0LTMxNGEtOGUzOS0yMjM3MGIzYTc1NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZGJiZjliOC1lOThkLTQ1YmQtOWZlMS00Njk4NjZkODdiYmUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2RiYmY5YjgtZTk4ZC00NWJkLTlmZTEtNDY5ODY2ZDg3YmJlIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconOk from \"@material-ui/icons/Check\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default withStyles(styles)(DialogRename);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    complexity: {\n        fontWeight: 'bold',\n        fontStyle: 'italic',\n        marginBottom: theme.spacing(1),\n    }\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for programmers')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getTSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for professionals')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('normal')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n\n    getRulesCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('easy')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Rules description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n            <DialogContent style={{textAlign: 'center'}}>\n                {this.getRulesCard()}\n                {this.getBlocklyCard()}\n                {this.getJSCard()}\n                {this.getTSCard()}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphODQ2NTA5Ny0yN2UyLTQwMmMtYmU5Ni02NDI0MDliZDc0MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMmI0ZjY0Ni1kYjQ4LWY3NGUtYmJiMi0zZDY4ZTE1OTg1MWIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmY2ZmNmIzMi0xOThkLTRlOWUtODllYi04ODAwNTA1MTIzYjUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmNmZjZiMzItMTk4ZC00ZTllLTg5ZWItODgwMDUwNTEyM2I1IiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Grid from '@material-ui/core/Grid';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        width: 24,\n        height: 24,\n    }\n});\n\n\nclass DialogAdapterDebug extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            instances: [],\n            showAskForStop: false,\n            jsInstance: window.localStorage.getItem('javascript.debug.instance') || '',\n            jsInstanceHost: '',\n            adapterToDebug: window.localStorage.getItem('javascript.debug.adapter') || '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.socket.getAdapterInstances()\n            .then(instances => {\n                instances = instances.filter(i => i && !i.common?.onlyWWW).map(item =>  {\n                    const name = item._id.replace(/^system\\.adapter\\./, '');\n                    const [adapter] = name.split('.');\n                    return {\n                        id: name,\n                        enabled: item.common?.enabled,\n                        host: item.common?.host,\n                        icon: item.common?.icon ? `../../adapter/${adapter}/${item.common.icon}` : '',\n                    };\n                });\n                let jsInstance = this.state.jsInstance || '';\n                let jsInstanceObj = this.state.jsInstance && instances.find(item => item.id === this.state.jsInstance);\n                let jsInstanceHost;\n\n                // check if selected instance is in the list\n                if (!this.state.jsInstance || !jsInstanceObj) {\n                    jsInstance = instances.find(item => item.id.startsWith('javascript.')); // take the first one\n                    jsInstanceHost = jsInstance ? jsInstance.host : '';\n                    jsInstance = jsInstance ? jsInstance.id : '';\n                } else {\n                    jsInstanceHost = jsInstanceObj ? jsInstanceObj.host : '';\n                }\n\n                let adapterToDebug = this.state.adapterToDebug || '';\n                if (adapterToDebug && !instances.find(item => item.id === adapterToDebug)) {\n                    adapterToDebug = '';\n                }\n\n                this.setState({instances, jsInstance, adapterToDebug, jsInstanceHost});\n            });\n    }\n\n    handleOk = () => {\n        // TODO\n        if (this.state.instances.find(item => item.id === this.state.adapterToDebug).enabled) {\n            return this.props.socket.getObject('system.adapter.' + this.state.adapterToDebug)\n                .then(obj => {\n                    obj.common.enabled = false;\n                    this.props.socket.setObject(obj._id, obj)\n                        .then(() =>\n                            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug));\n                })\n        } else {\n            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug);\n        }\n    };\n\n    renderJavascriptList() {\n        const js = this.state.instances.filter(item => item.id.startsWith('javascript.'));\n        if (js.length < 2) {\n            return null;\n        } else {\n            return <Grid item>\n                <div>{I18n.t('Host')}</div>\n                <List component=\"nav\">\n                    {js.map(item => <ListItem\n                        button\n                        selected={this.state.jsInstance === item.id}\n                        onClick={this.setState({jsInstance: item.id, jsInstanceHost: item.host})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    renderInstances() {\n        if (!this.state.jsInstance) {\n            return <Grid item/>;\n        } else {\n            const instances = this.state.instances.filter(item => item.id !== this.state.jsInstance && item.host === this.state.jsInstanceHost);\n            return <Grid item>\n                <div>{I18n.t('Instances')}</div>\n                <List component=\"nav\">\n                    {instances.map(item => <ListItem\n                        button\n                        selected={this.state.adapterToDebug === item.id}\n                        onDoubleClick={() => this.setState({adapterToDebug: item.id}, () => this.handleOk())}\n                        onClick={() => this.setState({adapterToDebug: item.id})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    render() {\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"md\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Debug instance')}</DialogTitle>\n            <DialogContent>\n                <Grid container>\n                    {this.renderJavascriptList()}\n                    {this.renderInstances()}\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={this.handleOk} disabled={!this.state.jsInstance || !this.state.adapterToDebug} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Start')}</Button>\n                <Button onClick={() => this.props.onClose()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAdapterDebug.propTypes = {\n    socket: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onDebug: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DialogAdapterDebug);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\nimport DialogAdapterDebug from \"./Dialogs/AdapterDebug\";\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    iconButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        }\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'Rules':ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder'\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = (props) => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        item: {\n            name,\n            type: 'script'\n        },\n        collect: (monitor) => ({\n            opacity: monitor.isDragging() ? 0.3 : 1,\n        }),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n            showAdapterDebug: false,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring(ROOT_ID.length + 1);\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = ROOT_ID + '.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton\n                    className={clsx(this.props.classes.iconButtons, this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    onClick={e => {\n                        e.stopPropagation();\n                        this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                    }}\n                    title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                    disabled={this.props.debugMode}\n                    key=\"startStop\"\n                    style={{color}}>\n                    {item.enabled ? <IconPause/> : <IconPlay/>}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton> : null,\n                <IconButton\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    key=\"openInEdit\"\n                    title={I18n.t('Edit script or just double click')}\n                    onClick={e => this.onEdit(item, e)}\n                >\n                    <IconDoEdit/>\n                </IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    className={clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === GLOBAL_ID && !this.state.expertMode);\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>\n            ];\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !reorder ? SELECTED_STYLE : {});\n\n        if (!reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = clsx(this.props.classes.folderIcon, reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = clsx(this.props.classes.scriptIcon, reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                reorder && item.type === 'folder' && 'folder-reorder',\n                reorder && item.type !== 'folder' && 'script-reorder',\n                reorder && this.props.classes.reorder,\n                reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                classes={{root: this.props.classes.listItemIcon}}\n            >{\n                item.type === 'folder' ? (\n                        reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)}/> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)}/>\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def}/>\n            }</ListItemIcon>\n            <ListItemText\n                classes={{primary: item.id === this.state.selected && !reorder ? this.props.classes.selected : undefined}}\n                style={this.getTextStyle(item)} primary={(<span>{title}{childrenCount}</span>)}/>\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = target + '.' + source.split('.').pop();\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += '_' + I18n.t('copy');\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item, dragging) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={'droppable_' + item.id} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={'draggable_' + item.id} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={'draggable_' + item.id} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense={true}\n            disablePadding={true}\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\.\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"delete\"\n                disabled={this.props.debugMode || !this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem\n                key=\"expertMode\"\n                selected={this.state.expertMode}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                }}>\n                <IconExpert className={this.props.classes.iconDropdownMenu} style={{color: this.state.expertMode ? 'orange' : 'inherit'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={event =>\n                    this.onCloseMenu(() => {\n\n                        // TODO: use Utils.toggleTheme(themeName)\n                        // newThemeName = Utils.toggleTheme(themeName);\n                        const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                            this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                                this.state.themeName === 'light' ? 'dark' : 'colored';\n                        this.props.onThemeChange(newThemeName);\n                    })}>\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>}\n            {this.state.expertMode && <MenuItem\n                key=\"debugInstance\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.setState({showAdapterDebug: true}));\n                }}>\n                <IconDebug className={this.props.classes.iconDropdownMenu}/>{I18n.t('Debug instance')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        const reorder = this.state.reorder && !this.props.debugMode;\n        if (this.state.searchMode && !this.props.debugMode) {\n            result.push(<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>);\n        } else {\n            if (!reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                    }}\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                        <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{color: reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{color: reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={reorder || this.props.debugMode}\n                className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right', opacity: this.props.debugMode ? 0.5 : (reorder ? 0 : 1)}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                disabled={this.props.debugMode}\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                style={{color: reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder});\n                }}\n            ><IconReorder/></IconButton>);\n\n            if (!reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton\n                    className={clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    title={I18n.t('Rename')}\n                    key=\"rename\"\n                    onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>);\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: ROOT_ID, name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item =>\n            item.type === 'folder' && folders.push({id: item.id, name: item.title})\n        );\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder || this.props.debugMode) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterRules\"\n                className={this.props.classes.footerButtons}\n                alt=\"Rules\"\n                style={{opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['Rules'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <IconExpandAll key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>,\n            this.state.expanded.length ? <IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/> : null,\n        ];\n    }\n\n    getAdapterDebugDialog() {\n        if (this.state.showAdapterDebug) {\n            return <DialogAdapterDebug\n                socket={this.props.socket}\n                onClose={() => this.setState({showAdapterDebug: false})}\n                onDebug={(instance, adapter) => this.setState({showAdapterDebug: false}, () => this.props.onDebugInstance({instance, adapter}))}\n            />;\n        }\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={ this.getUniqueName() }\n                parents={ this.getFolders() }\n                folder={ false }\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type)}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={ this.getUniqueName(this.state.copingScript) }\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, true)}\n            /> : null,\n\n            this.state.errorText ? <DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null,\n\n            this.getAdapterDebugDialog(),\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    onDebugInstance: PropTypes.func,\n    width: PropTypes.number,\n    debugMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdVisibilityOff as IconHide} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        display: 'inline-block',\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return '00' + ms;\n    }\n    if (ms < 100) {\n        return '0' + ms;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n    }\n\n    generateLine(message) {\n        return <tr key={'tr_' + message.ts + '_' + message.message.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>;\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler = message => {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) {\n            return;\n        }\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandler);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandler);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            changed = true;\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (!editing.includes(id)) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    renderLogList(lines) {\n        if (this.state.selected && lines && lines.length) {\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n            </div>;\n        } else {\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>;\n        }\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton> : null}\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton> : null}\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onHideLog()} title={I18n.t('Hide logs')}><IconHide /></IconButton>\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n        let scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({alive: true, check: true, typingsLoaded: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                glyphMargin: !!this.props.breakpoints,\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => {\n                this.highlightText(this.state.searchText);\n                this.location = this.props.location;\n                this.breakpoints = this.props.breakpoints;\n                this.showDecorators();\n            });\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark,\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n        if (this.props.onToggleBreakpoint) {\n            this.editor.onMouseDown(e => {\n                if (e.target.detail && e.target.detail.glyphMarginLeft !== undefined) {\n                    this.props.onToggleBreakpoint(e.target.position.lineNumber - 1);\n                }\n            });\n        } else {\n            this.editor.onMouseDown(null);\n        }\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({readOnly: options.readOnly});\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts'\n                    : (language === 'coffee' ? 'coffee'\n                        : language));\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n        // BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco.languages.typescript.typescriptDefaults.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco.languages.typescript.typescriptDefaults.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    showDecorators() {\n        this.decorations = this.decorations || [];\n        const decorations = [];\n        if (this.location) {\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, this.location.columnNumber + 1, this.location.lineNumber + 1, 1000),\n                options: {\n                    isWholeLine: false,\n                    className: this.props.isDark ? 'monacoCurrentLineDark' : 'monacoCurrentLine',\n                }\n            });\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, 0, this.location.lineNumber + 1, 0),\n                options: {\n                    isWholeLine: true,\n                    className: this.props.isDark ? 'monacoCurrentFullLineDark' : 'monacoCurrentFullLine',\n                }\n            });\n        }\n\n        if (this.breakpoints) {\n            this.breakpoints.forEach(bp => {\n                decorations.push({\n                    range: new this.monaco.Range(bp.location.lineNumber + 1, 0, bp.location.lineNumber + 1, 100),\n                    options: {\n                        isWholeLine: true,\n                        glyphMarginClassName: this.props.isDark ? 'monacoBreakPointDark' : 'monacoBreakPoint',\n                    }\n                });\n            });\n        }\n        this.editor && (this.decorations =\n            this.editor.deltaDecorations(this.decorations, decorations));\n    }\n\n    initNewScript(name, code) {\n        this.setState({name});\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        this.showDecorators();\n        //this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    scrollToLineIfNeeded(lineNumber) {\n        if (this.editor) {\n            const ranges = this.editor.getVisibleRanges();\n            if (!ranges || !ranges[0] || ranges[0].startLineNumber > lineNumber || lineNumber > ranges[0].endLineNumber) {\n                this.editor.revealLineInCenter(lineNumber);\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance will be found and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n            this.showDecorators();\n            this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location) &&\n            JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.location = nextProps.location;\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            //this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        } else if (JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n        } else if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location)) {\n            this.location = nextProps.location;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            //this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log('Insert text' + this.insert);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                color=\"secondary\"><IconNoCheck/></Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport IconCopy from '@material-ui/icons/FileCopy';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    overflowY: {\n        overflowY: 'hidden'\n    }\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({ popper: I18n.t('Copied'), anchorEl: target });\n                setTimeout(() => this.setState({ popper: '', anchorEl: null }), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{ paper: classes.dialog }}\n                fullWidth={true}\n                open={this.props.open}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent\n                    classes={{ root: classes.overflowY }}>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.themeType === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event => this.onCopy(event)} color=\"secondary\"><IconCopy className={this.props.classes.buttonIcon} />{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\"><IconCancel className={this.props.classes.buttonIcon} />{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{ zIndex: 10000 }}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{ position: 'absolute', left: -9999 }} tabIndex={-1} aria-hidden={true} value={this.props.text} />\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.defaultProps = {\n    open: true\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{ paper: classes.dialog }}\n                fullWidth={true}\n                open={this.props.open}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        autoFocus\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event => this.handleOk()} color=\"primary\"><IconOk className={this.props.classes.buttonIcon} />{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon} />{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.defaultProps = {\n    open: true\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log('Detected custom blockly: ' + adapters[id].common.name);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.includes(b.id)).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({themeType: nextProps.themeType}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                let variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    let vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        let nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({error: I18n.t('Cannot extract Blockly code!')}));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n                for (const _b in this.Blockly[name].blocks) {\n                    if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({message: ''})}\n            /> :\n            null;\n    }\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({error: ''});\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport key=\"dialogImport\"  onClose={text => {\n            this.setState({importText: false});\n            this.onImportBlocks(text);\n        }}/> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    themeType: PropTypes.string\n};\n\nexport default BlocklyEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && !this.state.source.includes('return ')) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => this.handleOk()} color=\"primary\"><IconSave className={this.props.classes.buttonIcon}/>{I18n.t('Save')}</Button>\n                <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import { useState, useEffect } from 'react';\nimport * as Icons from '@material-ui/icons/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket, onClick }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img onClick={e => onClick && onClick(e)} src={url || ''} className={className} alt=\"\" />;\n    } else {\n        const Element = Icons[iconName || 'Help'];\n        return <Element\n            className={className}\n            onClick={e => onClick && onClick(e)}\n        />;\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst CardMenu = ({ name, id, active, icon, adapter, socket, onDoubleClick, title, onTouchMove }) => <div\n    onDoubleClick={onDoubleClick}\n    onTouchMove={onTouchMove}\n    key={id}\n    title={I18n.t(title)}\n    className={clsx(cls.switchesItem, active && cls.switchesItemActive, 'block-' + id)}\n>\n    <MaterialDynamicIcon iconName={icon} className={cls.iconTheme} adapter={adapter} socket={socket} />\n    <span>\n        {I18n.t(name)}\n    </span>\n</div>;\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    onDoubleClick: () => { }\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules,\n                [name]: {\n                    ...userRules[name],\n                    [additionalParameter]: [...userRules[name][additionalParameter]]\n                }\n            };\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules,\n                [name]: [...userRules[name]]\n            };\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","import { Button } from '@material-ui/core';\nimport React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\nimport CustomIcon from '@iobroker/adapter-react/Components/Icon';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value, square, icon }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={clsx(cls.root, className, square ? cls.square : '')}\n        margin=\"normal\"\n        size={size}\n    >{icon ? <CustomIcon className={cls.icon} src={icon} /> : value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    className: null,\n    variant: 'standard',\n    size: 'medium',\n    fullWidth: false,\n    square: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default CustomButton;","import { Checkbox } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);","import { TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CustomIcon from '@iobroker/adapter-react/Components/Icon';\n\nconst CustomInput = ({ autoFocus, fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, icon }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        autoFocus={autoFocus}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            !customValue && setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        InputProps={{\n            endAdornment: icon ?\n                <InputAdornment position=\"end\"><CustomIcon className={cls.icon} src={icon} /></InputAdornment>\n                : null\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    autoFocus: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;","import { FormControl, FormHelperText, Input, MenuItem, Select, withStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst SelectMod = withStyles({\n    root: {\n        margin: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n})(FormControl);\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                } else {\n                    _options.unshift({value: adapter, title: I18n.t('All')});\n                }\n                setOptions(_options);\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <SelectMod\n        className={className}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {options.map(item =>\n                <MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </SelectMod>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;","import React, {useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport { Dialog, DialogActions, DialogContent } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport i18n from '@iobroker/adapter-react/i18n';\nimport CustomInput from \"../CustomInput\";\n\nconst CustomModal = ({ open, onClose, children, titleButtonApply, titleButtonClose, onApply, className, textInput, defaultValue}) => {\n    let [value, setValue] = useState(defaultValue);\n\n    return <Dialog\n        open={open}\n        maxWidth=\"md\"\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{paper: cls.modalDialog, /*paper: classes.background*/}}\n        className={cls.modalWrapper}\n    >\n        <DialogContent>\n            {textInput && <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"medium\"\n                rows={10}\n                multiline\n                value={value}\n                onChange={setValue}\n                customValue\n            />}\n            {!textInput && children}\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => onApply(textInput ? value : null)}  variant=\"contained\" color=\"primary\">\n                {i18n.t(titleButtonApply)}\n            </Button>\n            <Button onClick={onClose} variant=\"contained\">\n                {i18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok'\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func\n};\n\nexport default CustomModal;","import { FormControl, FormHelperText, Input, MenuItem, Select } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport clsx from 'clsx';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className, doNotTranslate, doNotTranslate2 }) => {\n    const [inputText, setInputText] = useState(value === undefined ? options[0].value : value);\n\n    const v = customValue ? value : inputText;\n    const text = v === '' || v === null || v === undefined ? '_' : v;\n\n    return <FormControl\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={text}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    // sort\n                    selected.sort();\n                    let pos = selected.indexOf('0');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.push('0');\n                    }\n                    pos = selected.indexOf('_');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.unshift('_');\n                    }\n\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort ? (doNotTranslate ? onlyItem.titleShort : I18n.t(onlyItem.titleShort)) : (doNotTranslate ? onlyItem.title : I18n.t(onlyItem.title))\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? (item.titleShort ? (doNotTranslate ? item.titleShort : I18n.t(item.titleShort)) : (doNotTranslate ? item.title : I18n.t(item.title))) : (doNotTranslate ? item : I18n.t(item)));\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title ? (doNotTranslate ? item?.title : I18n.t(item?.title)) : selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly), attr);\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value), attr);\n                        }\n                    }\n                }\n                onChange(e.target.value, attr);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value === '' || item.value === null || item.value === undefined ? '_' : item.value}>{doNotTranslate ? item.title : I18n.t(item.title)}{item.title2 && <div>{doNotTranslate2 ? item.title2 : I18n.t(item.title2)}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{doNotTranslate ? item.title : I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;","import React, { useState } from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Slider } from '@material-ui/core';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, min, max, step, unit }) => {\n    const [inputText, setInputText] = useState(0);\n    min = min !== undefined ? min : 0;\n    max = max !== undefined ? max : 0;\n    step = step !== undefined ? step : (max - min) / 100;\n\n    const marks = [\n        {\n            value: min,\n            label: min + (unit || ''),\n        },\n        {\n            value: max,\n            label: max + (unit || ''),\n        },\n    ];\n\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        classes={{mark: cls.mark}}\n        marks={marks}\n        step={step}\n        min={min}\n        max={max}\n        error={error || ''}\n        //fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        //helperText={error || ''}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            !customValue && setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","import { FormControlLabel, Switch } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);","import { TextField } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomTime = ({ value, style, onChange, className }) => {\n    return <TextField\n        id=\"time\"\n        type=\"time\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","import { FormControl, MenuItem, Select } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nconst CustomDate = ({ value, onChange, className, title, style }) => {\n    let [month, date] = (value || '01.01').toString().split('.');\n    date = parseInt(date, 10) || 0;\n    month = parseInt(month, 10) || 0;\n    if (month > 12) {\n        month = 12;\n    } else if (month < 0) {\n        month = 0;\n    }\n\n    if (date > DAYS[month]) {\n        date = DAYS[month];\n    } else if (date < 0) {\n        date = 0;\n    }\n\n    let days = [];\n    for (let i = 0; i < DAYS[month]; i++) {\n        days.push(i + 1);\n    }\n\n    return <div>\n        <FormControl\n            className={clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                className={clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Month')}\n                onChange={e =>\n                    onChange(e.target.value.toString().padStart(2, '0') + '.' + date.toString().padStart(2, '0'))}\n                value={month}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={0} value={0}>{I18n.t('Any month')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={1} value={1}>{I18n.t('January')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={2} value={2}>{I18n.t('February')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={3} value={3}>{I18n.t('March')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={4} value={4}>{I18n.t('April')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={5} value={5}>{I18n.t('May')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={6} value={6}>{I18n.t('June')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={7} value={7}>{I18n.t('July')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={8} value={8}>{I18n.t('August')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={9} value={9}>{I18n.t('September')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={10} value={10}>{I18n.t('October')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={11} value={11}>{I18n.t('November')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={12} value={12}>{I18n.t('December')}</MenuItem>\n            </Select>\n        </FormControl>\n        <FormControl\n            className={clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                className={clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Date')}\n                onChange={e =>\n                    onChange(month.toString().padStart(2, '0') + '.' + e.target.value.toString().padStart(2, '0'))}\n                value={date}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={'A'} value={0}>{I18n.t('Any')}</MenuItem>\n                {days.map(i => <MenuItem style={{ placeContent: 'space-between' }} key={i} value={i}>{i}</MenuItem>)}\n            </Select>\n        </FormControl>\n    </div>;\n}\n\nCustomDate.defaultProps = {\n    value: '',\n    className: null,\n};\n\nCustomDate.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomDate;","import I18n from '@iobroker/adapter-react/i18n';\n\nlet lang;\nconst getName = obj => {\n    lang = lang || I18n.getLanguage();\n    if (typeof obj === 'object') {\n        return obj[lang] || obj.en;\n    } else {\n        return obj;\n    }\n};\n\nconst utils = {\n    getName\n};\n\nexport default utils;","const STEPS = {\r\n    selectTriggers: 0,\r\n    addScheduleByDoubleClick: 1,\r\n    openTagsMenu: 2,\r\n    selectIntervalTag: 3,\r\n    selectActions: 4,\r\n    addActionPrintText: 5,\r\n    showJavascript: 6,\r\n    switchBackToRules: 7,\r\n    saveTheScript: 8,\r\n};\r\n\r\nconst steps = [\r\n    {  // 0\r\n        selector: '.blocks-triggers',\r\n        content: 'Select triggers',\r\n    },\r\n    {  // 1\r\n        selector: '.block-TriggerScheduleBlock',\r\n        content: 'Double click to add the block',\r\n    },\r\n    {   // 2\r\n        selector: '.tag-card',\r\n        content: 'Open drop down menu',\r\n    },\r\n    {   // 3\r\n        selector: '.tag-card-interval',\r\n        content: 'Select interval',\r\n    },\r\n    {   // 4\r\n        selector: '.blocks-actions',\r\n        content: 'Select action blocks',\r\n    },\r\n    {  // 5\r\n        selector: '.block-ActionPrintText',\r\n        content: 'Double click to add the block',\r\n    },\r\n    {  // 6\r\n        selector: '.button-js-code',\r\n        content: 'Check the script',\r\n    },\r\n    {  // 7\r\n        selector: '.button-js-code',\r\n        content: 'Switch back to rules',\r\n    },\r\n    {   // 8\r\n        selector: '.button-save',\r\n        content: 'Save the script',\r\n    }\r\n];\r\n\r\nexport {STEPS};\r\n\r\nexport default steps;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport { Menu, MenuItem } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconHelp from '@material-ui/icons/HelpOutline';\n\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogError from '@iobroker/adapter-react/Dialogs/Error';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\nimport CustomDate from '../CustomDate';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport clsx from 'clsx';\nimport { STEPS } from \"../../helpers/Tour\";\nimport { getSelectIdIcon } from '@iobroker/adapter-react/Components/Icon';\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : ''\n        }\n\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n            helpDialog: item.helpDialog || props.helpDialog || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            showSelectId: false,\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n            error: '',\n            helpText: '',\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings,\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const settings = JSON.parse(JSON.stringify(nextProps.settings));\n        if (!settings.tagCard && this.state.tagCardArray && this.state.tagCardArray.length) {\n            settings.tagCard = typeof this.state.tagCardArray[0] !== 'string' ? this.state.tagCardArray[0].title : this.state.tagCardArray[0];\n        }\n\n        if (JSON.stringify(settings) !== JSON.stringify(this.state.settings)) {\n            this.setState({ settings });\n        }\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard, cb) {\n        // analyse inputs and fill the attributes with default values\n        let changed = false;\n        let settings = JSON.parse(JSON.stringify(this.state.settings));\n        this.state.inputs.forEach(input => {\n            if (input.attr && input.defaultValue !== undefined) {\n                if (settings[input.attr] === undefined) {\n                    changed = true;\n                    settings[input.attr] = input.defaultValue;\n                }\n            }\n        });\n        if (changed) {\n            this.setState({ settings }, () => cb && cb());\n            this.props.onChange(settings);\n        } else {\n            cb && cb();\n        }\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name, doNotTranslate, doNotTranslateBack } = input;\n        return <Fragment key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature, doNotTranslate, defaultValue }, value) => <div\n        className={clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {doNotTranslate ? defaultValue : I18n.t(defaultValue)}\n    </div>;\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox, doNotTranslate, doNotTranslateBack } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n        return visibility ? <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={clsx(className, input.className)}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomCheckbox\n                className={className}\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div onClick={() => onChange(typeof settings[attr] === 'boolean' ? !settings[attr] : !defaultValue)} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, min, max, step, unit, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex} style={{ marginRight: 20 }}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSlider\n                    customValue\n                    min={min}\n                    max={max}\n                    step={step}\n                    unit={unit}\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={val => {\n                        console.log(val);\n                        onChange(val)\n                    }}\n                />\n                {backText && <div style={{ marginLeft: 20 }} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, buttonText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomButton\n                label={buttonText}\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    findIcon = obj => {\n        if (!obj) {\n            return Promise.resolve(null);\n        } else\n            if (obj.common?.icon) {\n                return Promise.resolve(getSelectIdIcon(obj, '../..'));\n            } else if (obj.type === 'state' || obj.type === 'channel') {\n                const parts = obj._id.split('.');\n                parts.pop();\n                const newId = parts.join('.');\n                return this.props.socket.getObject(newId)\n                    .then(obj => this.findIcon(obj))\n                    .catch(() => null);\n            }\n    }\n\n    renderObjectID = (input, value, onChange) => {\n        const { showSelectId, settings } = this.state;\n        const { className, socket } = this.props;\n        const { attr, openCheckbox, checkReadOnly } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                socket.getObject(value)\n                    .then(obj => {\n                        this.findIcon(obj)\n                            .then(icon => this.setState({\n                                [settings[attr]]: obj,\n                                [settings[attr] + '___icon']: icon,\n                                error: checkReadOnly && this.lastObjectIdChange && Date.now() - this.lastObjectIdChange < 1000 && obj?.common?.write === false ? I18n.t('Read only ID selected: %s', settings[attr]) : ''\n                            }))\n                    });\n            }, 0);\n        }\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    icon={this.state[this.state.settings[input.attr] + '___icon']}\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ showSelectId: true })}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                key=\"tableSelect\"\n                imagePrefix=\"../..\"\n                dialogName={'javascript'}\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly={true}\n                selected={value}\n                onClose={() => this.setState({ showSelectId: false })}\n                onOk={(selected, name, common) =>\n                    this.setState({ showSelectId: false }, () =>\n                        // read type of object\n                        socket.getObject(selected)\n                            .then(obj => {\n                                this.lastObjectIdChange = Date.now();\n                                onChange({\n                                    [attr]: selected,\n                                    [attr + 'Role']: obj.common.role,\n                                    [attr + 'Type']: obj.common.type,\n                                    [attr + 'Unit']: obj.common.unit,\n                                    [attr + 'States']: obj.common.states,\n                                    [attr + 'Min']: obj.common.min,\n                                    [attr + 'Max']: obj.common.max,\n                                    [attr + 'Step']: obj.common.step,\n                                    [attr + 'Def']: obj.common.def,\n                                    [attr + 'Write']: obj.common.write,\n                                    [attr + 'Read']: obj.common.read,\n                                }, null, () =>\n                                    this.props.setOnUpdate && this.props.setOnUpdate(true))\n                            }))}\n            /> : null}\n        </div> : null;\n    }\n\n    renderIconTag = () => {\n        return <div\n            className={cls.iconTag}\n            onClick={e => {\n                if (this.state.settings.tagCard) {\n                    if (this.state.tagCardArray.length < 3) {\n                        this.onChangeTag();\n                    } else {\n                        this.setState({ openTagMenu: e.currentTarget })\n                    }\n                }\n            }}>\n            {this.state.settings.tagCard}\n        </div>;\n    }\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, multiple, doNotTranslate, doNotTranslate2, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{I18n.t(frontText)}</div>}\n            <CustomSelect\n                attr={attr}\n                doNotTranslate={doNotTranslate}\n                doNotTranslate2={doNotTranslate2}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className, socket } = this.props;\n        const { name, options, frontText, backText, attr, adapter, doNotTranslate, doNotTranslateBack } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInstance\n                attr={attr}\n                socket={socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({ hideAttributes: [...this.state.hideAttributes, attr] }, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderDialog = (input, value, onChange) => {\n        const { onShowDialog, frontText, backText, attr, icon, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <MaterialDynamicIcon\n                iconName={icon}\n                className={clsx(cls.iconDialog)}\n                onClick={e => onShowDialog && onShowDialog()}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText, noTextEdit, doNotTranslate, doNotTranslateBack} = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    disabled={!!noTextEdit}\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    // fullWidth\n                    style={{ marginLeft: 5 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {openModal ? <CustomModal\n                open={true}\n                onApply={val =>\n                    this.setState({ openModal: false }, () =>\n                        val !== null && val !== undefined && onChange(val))}\n                onClose={() => this.setState({ openModal: false })}\n                defaultValue={value}\n                textInput={true}\n            /> : null}\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    };\n\n    renderDate = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomDate\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    static getReplacesInText(context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.val).replace(/%id/g, obj.id).replace(/%name/g, obj.common && obj.common.name).replace(/%old/g, obj.oldState.val)';\n        }\n        return value;\n    }\n\n    /////////////////////////////\n    renderTags = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        let { tagCard } = this.state.settings;\n        let result = tagCard !== '=' && tagCard !== '<>' && tagCard !== '>=' && tagCard !== '()' && tagCard !== '.' && tagCard !== '<=' && tagCard !== '<' && tagCard !== '>' ? I18n.t(tagCard) : tagCard;\n        if (tagCardArray.length >= 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={e => {\n                        this.setState({ openTagMenu: e.currentTarget }, () => {\n                            this.props.isTourOpen &&\n                                this.props.tourStep === STEPS.openTagsMenu &&\n                                setTimeout(() => this.props.setTourStep(STEPS.selectIntervalTag), 300);\n                        });\n                    }}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return <MenuItem\n                            key={tag}\n                            selected={tag === tagCard}\n                            className={'tag-card-' + tag}\n                            style={{ placeContent: 'space-between' }}\n                            onClick={() => {\n                                const settings = { ...this.state.settings, tagCard: tag };\n                                this.setState({ openTagMenu: null, settings }, () => {\n                                    this.props.onChange(settings);\n                                    this.onTagChange(tag);\n                                });\n                                (this.props.isTourOpen &&\n                                    (this.props.tourStep === STEPS.openTagsMenu ||\n                                        this.props.tourStep === STEPS.selectIntervalTag) &&\n                                    tag === 'interval' &&\n                                    setTimeout(() => this.props.setTourStep(STEPS.selectActions), 500));\n\n                            }}>{tag.search(/>|<|<>|<=|>=|=/) !== -1 ? tag : I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{I18n.t(el.title2)}</div>}\n                        </MenuItem>\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    onChangeTag = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n\n        if (tagCard && newTagCardArray.length < 3) {\n            const newSettings = { ...settings };\n            const newTagCard = newTagCardArray[(newTagCardArray.indexOf(tagCard) + 1) % newTagCardArray.length]\n            newSettings.tagCard = newTagCard;\n            this.setState({ settings: newSettings }, () => {\n                this.props.onChange(newSettings);\n                this.onTagChange(newTagCard);\n            });\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n        // detect changes\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = attribute => {\n        return (value, attr, cb) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n\n            if (typeof value === 'object' && (!attr || typeof attr === 'function')) {\n                Object.keys(value).forEach(_attr => settings[_attr] = value[_attr]);\n            } else {\n                settings[attr || attribute] = value;\n            }\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n                cb && cb();\n            });\n        }\n    }\n\n    renderSpecific() {\n        return null; // it can be overloaded\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard }, helpDialog } = this.state;\n        const { socket, notFound } = this.props;\n\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon\n                    iconName={icon}\n                    className={clsx(cls.iconThemCard, tagCard && this.state.tagCardArray.length && cls.iconThemCardSelectable)}\n                    adapter={adapter}\n                    socket={socket}\n                    onClick={e => {\n                        if (tagCard) {\n                            if (this.state.tagCardArray.length < 3) {\n                                this.onChangeTag();\n                            } else {\n                                this.setState({ openTagMenu: e.currentTarget })\n                            }\n                        }\n                    }}\n                />}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {I18n.t(name)}\n                    {!!notFound ? I18n.t(`%s not found`, settings.id) : ''}\n                    {helpDialog ? <IconButton className={cls.iconHelp} size=\"small\" onClick={() => this.setState({ helpText: I18n.t(helpDialog) })}><IconHelp /></IconButton> : null}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            settings[attr] !== undefined ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={() => this.onChangeTag()} className={clsx(cls.tagCard, 'tag-card')}>{this.renderTags()}</div>\n            </div>}\n            {this.state.error ? <DialogError title={I18n.t('Warning')} text={this.state.error} onClose={() => this.setState({ error: '' })} /> : null}\n            {this.state.helpText ? <DialogMessage title={I18n.t('Instructions')} text={this.state.helpText} onClose={() => this.setState({ helpText: '' })} /> : null}\n            {this.renderSpecific()}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;","import GenericBlock from '../GenericBlock';\nimport i18n from '@iobroker/adapter-react/i18n';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    \"en\":       {name: \"Google - English\",         engine: \"google\",  params: []},\n    \"de\":       {name: \"Google - Deutsch\",         engine: \"google\",  params: []},\n    \"ru\":       {name: \"Google - Русский\",         engine: \"google\",  params: []},\n    \"it\":       {name: \"Google - Italiano\",        engine: \"google\",  params: []},\n    \"es\":       {name: \"Google - Espaniol\",        engine: \"google\",  params: []},\n    \"fr\":       {name: \"Google - Français\",        engine: \"google\",  params: []},\n    \"ru_YA\":    {name: \"Yandex - Русский\",         engine: \"yandex\",  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed']},\n    \"ru_YA_CLOUD\":   {name: \"Yandex Cloud - Русский\",   engine: \"yandexCloud\",  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil']},\n\n    \"en-US\":    {name: \"PicoTTS - Englisch US\",    engine: \"PicoTTS\", params: []},\n    \"en-GB\":    {name: \"PicoTTS - Englisch GB\",    engine: \"PicoTTS\", params: []},\n    \"de-DE\":    {name: \"PicoTTS - Deutsch\",        engine: \"PicoTTS\", params: []},\n    \"it-IT\":    {name: \"PicoTTS - Italiano\",       engine: \"PicoTTS\", params: []},\n    \"es-ES\":    {name: \"PicoTTS - Espaniol\",       engine: \"PicoTTS\", params: []},\n    \"fr-FR\":    {name: \"PicoTTS - Français\",       engine: \"PicoTTS\", params: []},\n\n    \"ru-RU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"Cloud - Русский - Татьяна\"},\n    \"ru-RU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"Cloud - Русский - Максим\"},\n    \"de-DE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"Cloud - Deutsch - Marlene\"},\n    \"de-DE_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"Cloud - Deutsch - Hans\"},\n    \"en-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"Cloud - en-US - Female - Salli\"},\n    \"en-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"Cloud - en-US - Male - Joey\"},\n    \"da-DK_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"Cloud - da-DK - Female - Naja\"},\n    \"da-DK_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"Cloud - da-DK - Male - Mads\"},\n    \"en-AU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"Cloud - en-AU - Female - Nicole\"},\n    \"en-AU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"Cloud - en-AU - Male - Russell\"},\n    \"en-GB_CLOUD_Female_Amy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"Cloud - en-GB - Female - Amy\"},\n    \"en-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"Cloud - en-GB - Male - Brian\"},\n    \"en-GB_CLOUD_Female_Emma\":  {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"Cloud - en-GB - Female - Emma\"},\n    \"en-GB-WLS_CLOUD_Female\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"Cloud - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_CLOUD_Male\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"Cloud - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"Cloud - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"Cloud - cy-GB - Male - Geraint\"},\n    \"en-IN_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"Cloud - en-IN - Female - Raveena\"},\n    \"en-US_CLOUD_Male_Chipmunk\":{gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"Cloud - en-US - Male - Chipmunk\"},\n    \"en-US_CLOUD_Male_Eric\":    {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"Cloud - en-US - Male - Eric\"},\n    \"en-US_CLOUD_Female_Ivy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"Cloud - en-US - Female - Ivy\"},\n    \"en-US_CLOUD_Female_Jennifer\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Jennifer\",   ssml: true, name: \"Cloud - en-US - Female - Jennifer\"},\n    \"en-US_CLOUD_Male_Justin\":  {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"Cloud - en-US - Male - Justin\"},\n    \"en-US_CLOUD_Female_Kendra\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",     ename: \"Kendra\",     ssml: true, name: \"Cloud - en-US - Female - Kendra\"},\n    \"en-US_CLOUD_Female_Kimberly\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Kimberly\",   ssml: true, name: \"Cloud - en-US - Female - Kimberly\"},\n    \"es-ES_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"Cloud - es-ES - Female - Conchita\"},\n    \"es-ES_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"Cloud - es-ES - Male - Enrique\"},\n    \"es-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"Cloud - es-US - Female - Penelope\"},\n    \"es-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"Cloud - es-US - Male - Miguel\"},\n    \"fr-CA_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"Cloud - fr-CA - Female - Chantal\"},\n    \"fr-FR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"Cloud - fr-FR - Female - Celine\"},\n    \"fr-FR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"Cloud - fr-FR - Male - Mathieu\"},\n    \"is-IS_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"Cloud - is-IS - Female - Dora\"},\n    \"is-IS_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"Cloud - is-IS - Male - Karl\"},\n    \"it-IT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"Cloud - it-IT - Female - Carla\"},\n    \"it-IT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"Cloud - it-IT - Male - Giorgio\"},\n    \"nb-NO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"Cloud - nb-NO - Female - Liv\"},\n    \"nl-NL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"Cloud - nl-NL - Female - Lotte\"},\n    \"nl-NL_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"Cloud - nl-NL - Male - Ruben\"},\n    \"pl-PL_CLOUD_Female_Agnieszka\":{gender: \"Female\", engine: \"cloud\",params: ['cloud'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"Cloud - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_CLOUD_Male_Jacek\":   {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"Cloud - pl-PL - Male - Jacek\"},\n    \"pl-PL_CLOUD_Female_Ewa\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"Cloud - pl-PL - Female - Ewa\"},\n    \"pl-PL_CLOUD_Male_Jan\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"Cloud - pl-PL - Male - Jan\"},\n    \"pl-PL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"Cloud - pl-PL - Female - Maja\"},\n    \"pt-BR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"Cloud - pt-BR - Female - Vitoria\"},\n    \"pt-BR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"Cloud - pt-BR - Male - Ricardo\"},\n    \"pt-PT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"Cloud - pt-PT - Male - Cristiano\"},\n    \"pt-PT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"Cloud - pt-PT - Female - Ines\"},\n    \"ro-RO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"Cloud - ro-RO - Female - Carmen\"},\n    \"sv-SE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"Cloud - sv-SE - Female - Astrid\"},\n    \"tr-TR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"Cloud - tr-TR - Female - Filiz\"},\n\n    \"ru-RU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"AWS Polly - Русский - Татьяна\"},\n    \"ru-RU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"AWS Polly - Русский - Максим\"},\n    \"de-DE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"AWS Polly - Deutsch - Marlene\"},\n    \"de-DE_AP_Female_Vicky\":    {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Vicky\",      ssml: true, name: \"AWS Polly - Deutsch - Vicky\"},\n    \"de-DE_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"AWS Polly - Deutsch - Hans\"},\n    \"en-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"AWS Polly - en-US - Female - Salli\"},\n    \"en-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"AWS Polly - en-US - Male - Joey\"},\n    \"da-DK_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"AWS Polly - da-DK - Female - Naja\"},\n    \"da-DK_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"AWS Polly - da-DK - Male - Mads\"},\n    \"en-AU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"AWS Polly - en-AU - Female - Nicole\"},\n    \"en-AU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"AWS Polly - en-AU - Male - Russell\"},\n    \"en-GB_AP_Female_Amy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"AWS Polly - en-GB - Female - Amy\"},\n    \"en-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"AWS Polly - en-GB - Male - Brian\"},\n    \"en-GB_AP_Female_Emma\":     {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"AWS Polly - en-GB - Female - Emma\"},\n    \"en-GB-WLS_AP_Female\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_AP_Male\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"AWS Polly - cy-GB - Male - Geraint\"},\n    \"en-IN_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"AWS Polly - en-IN - Female - Raveena\"},\n    \"en-US_AP_Male_Chipmunk\":   {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"AWS Polly - en-US - Male - Chipmunk\"},\n    \"en-US_AP_Male_Eric\":       {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"AWS Polly - en-US - Male - Eric\"},\n    \"en-US_AP_Female_Ivy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"AWS Polly - en-US - Female - Ivy\"},\n    \"en-US_AP_Female_Jennifer\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Jennifer\",   ssml: true, name: \"AWS Polly - en-US - Female - Jennifer\"},\n    \"en-US_AP_Male_Justin\":     {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"AWS Polly - en-US - Male - Justin\"},\n    \"en-US_AP_Female_Kendra\":   {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kendra\",     ssml: true, name: \"AWS Polly - en-US - Female - Kendra\"},\n    \"en-US_AP_Female_Kimberly\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kimberly\",   ssml: true, name: \"AWS Polly - en-US - Female - Kimberly\"},\n    \"es-ES_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"AWS Polly - es-ES - Female - Conchita\"},\n    \"es-ES_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"AWS Polly - es-ES - Male - Enrique\"},\n    \"es-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"AWS Polly - es-US - Female - Penelope\"},\n    \"es-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"AWS Polly - es-US - Male - Miguel\"},\n    \"fr-CA_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"AWS Polly - fr-CA - Female - Chantal\"},\n    \"fr-FR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"AWS Polly - fr-FR - Female - Celine\"},\n    \"fr-FR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"AWS Polly - fr-FR - Male - Mathieu\"},\n    \"is-IS_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"AWS Polly - is-IS - Female - Dora\"},\n    \"is-IS_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"AWS Polly - is-IS - Male - Karl\"},\n    \"it-IT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"AWS Polly - it-IT - Female - Carla\"},\n    \"it-IT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"AWS Polly - it-IT - Male - Giorgio\"},\n    \"nb-NO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"AWS Polly - nb-NO - Female - Liv\"},\n    \"nl-NL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"AWS Polly - nl-NL - Female - Lotte\"},\n    \"nl-NL_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"AWS Polly - nl-NL - Male - Ruben\"},\n    \"pl-PL_AP_Female_Agnieszka\":{gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"AWS Polly - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_AP_Male_Jacek\":      {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"AWS Polly - pl-PL - Male - Jacek\"},\n    \"pl-PL_AP_Female_Ewa\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"AWS Polly - pl-PL - Female - Ewa\"},\n    \"pl-PL_AP_Male_Jan\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"AWS Polly - pl-PL - Male - Jan\"},\n    \"pl-PL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"AWS Polly - pl-PL - Female - Maja\"},\n    \"pt-BR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"AWS Polly - pt-BR - Female - Vitoria\"},\n    \"pt-BR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"AWS Polly - pt-BR - Male - Ricardo\"},\n    \"pt-PT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"AWS Polly - pt-PT - Male - Cristiano\"},\n    \"pt-PT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"AWS Polly - pt-PT - Female - Ines\"},\n    \"ro-RO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"AWS Polly - ro-RO - Female - Carmen\"},\n    \"sv-SE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"AWS Polly - sv-SE - Female - Astrid\"},\n    \"tr-TR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"AWS Polly - tr-TR - Female - Filiz\"}\n};\n\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return '// no text defined'\n        } else {\n            return `await setStateAsync(\"${config.instance}.tts.text\", \"${config.language && config.language !== '_' ? config.language + ';' : ''}${config.volume ? config.volume + ';' : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)});`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        const lang = i18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({title: sayitEngines[lang].name, value: lang}));\n        options.unshift({title: 'Default', value: '_'});\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options,\n                    defaultValue: '_',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                    attr: 'textVol',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    min: 0,\n                    max: 100\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Say It',\n            id: 'ActionSayText',\n            adapter: 'sayit',\n            title: 'Say some text via sayit adapter',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.recipients) {\n            return '// no recipients defined'\n        } else {\n            return `sendTo(\"${config.instance || 'email.0'}\", {\n            to:      \"${config.recipients || ''}\",\n            subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n            text:    \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}\n        });`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Send email',\n            id: 'ActionSendEmail',\n            adapter: 'email',\n            title: 'Sends an email',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return '// no text defined'\n        } else {\n            return `sendTo(\"${config.instance}\", \"send\", ${config.user && config.user !== '_' ? `{user: \"${(config.user || '').replace(/\"/g, '\\\\\"')}\", text: \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}}` : `\"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`});`;\n        }\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(instance + '.communicate.users');\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            }, () => super.onTagChange());\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({title: 'all', value: ''});\n                } catch (e) {\n                    users = [{title: 'all', value: ''}];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        }\n                    ]\n                }, () => super.onTagChange());\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Telegram',\n            id: 'ActionTelegram',\n            adapter: 'telegram',\n            title: 'Sends message via telegram',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushover extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushover.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return '// no text defined'\n        } else {\n            return `sendTo(\"${config.instance}\", \"send\", {\n            message: \"${text}\"${GenericBlock.getReplacesInText(context)},\n            title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n            sound: \"${config.sound}\"\n            priority: ${config.priority}\n        });`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushover',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushover.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        {value: \"pushover\", title: \"pushover\"},\n                        {value: \"bike\", title: \"bike\"},\n                        {value: \"bugle\", title: \"bugle\"},\n                        {value: \"cashregister\", title: \"cashregister\"},\n                        {value: \"classical\", title: \"classical\"},\n                        {value: \"cosmic\", title: \"cosmic\"},\n                        {value: \"falling\", title: \"falling\"},\n                        {value: \"gamelan\", title: \"gamelan\"},\n                        {value: \"incoming\", title: \"incoming\"},\n                        {value: \"intermission\", title: \"intermission\"},\n                        {value: \"magic\", title: \"magic\"},\n                        {value: \"mechanical\", title: \"mechanical\"},\n                        {value: \"pianobar\", title: \"pianobar\"},\n                        {value: \"siren\", title: \"siren\"},\n                        {value: \"spacealarm\", title: \"spacealarm\"},\n                        {value: \"tugboat\", title: \"tugboat\"},\n                        {value: \"alien\", title: \"alien\"},\n                        {value: \"climb\", title: \"climb\"},\n                        {value: \"persistent\", title: \"persistent\"},\n                        {value: \"echo\", title: \"echo\"},\n                        {value: \"updown\", title: \"updown\"},\n                        {value: \"none\", title: \"none\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: -1,\n                    frontText: 'Priority:',\n                    options: [\n                        {value: -1, title: \"quiet\"},\n                        {value: 0, title: \"normal\"},\n                        {value: 1, title: \"high-priority\"},\n                        {value: 2, title: \"acknowledgment\"},\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushover',\n            id: 'ActionPushover',\n            adapter: 'pushover',\n            title: 'Sends message via pushover',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPushover.getStaticData();\n    }\n}\n\nexport default ActionPushover;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionWhatsappcmb extends GenericBlock {\n    constructor(props) {\n        super(props, ActionWhatsappcmb.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return '// no text defined'\n        } else {\n            return `sendTo(\"${config.instance}\", \"send\", {text: \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}${config.phone ? `, phone: \"${config.phone.replace(/\"/g, '\\\\\"')}\"` : ''}});`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'whatsapp-cmb',\n                    frontText: 'Instance:',\n                    defaultValue: 'whatsapp-cmb.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'phone',\n                    defaultValue: '',\n                    frontText: 'Phone:',\n                    backText: '(optional)'\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Whatsapp-cmb',\n            id: 'ActionWhatsappcmb',\n            adapter: 'whatsapp-cmb',\n            title: 'Sends message via whatsapp-cmb',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionWhatsappcmb.getStaticData();\n    }\n}\n\nexport default ActionWhatsappcmb;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushsafer extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushsafer.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return '// no text defined'\n        } else {\n            return `sendTo(\"${config.instance}\", \"send\", {\n            message: \"${text}\"${GenericBlock.getReplacesInText(context)},\n            title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n            ${config.device ? `device: \"${config.device}\",` : ''}\n            ${config.sound && config.sound !== '_' ? `sound: \"${config.sound}\",` : ''}\n            priority: ${config.priority},\n            ${config.vibration && config.vibration !== '_' ? `vibration: ${config.vibration},` : ''}\n        });`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushsafer',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushsafer.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        {value: \"_\", title: \"Device Default\"},\n                        {value: \"0 \", title: \"Silent\"},\n                        {value: \"1 \", title: \"Ahem (IM)\"},\n                        {value: \"2 \", title: \"Applause (Mail)\"},\n                        {value: \"3 \", title: \"Arrow (Reminder)\"},\n                        {value: \"4 \", title: \"Baby (SMS)\"},\n                        {value: \"5 \", title: \"Bell (Alarm)\"},\n                        {value: \"6 \", title: \"Bicycle (Alarm2)\"},\n                        {value: \"7 \", title: \"Boing (Alarm3)\"},\n                        {value: \"8 \", title: \"Buzzer (Alarm4)\"},\n                        {value: \"9 \", title: \"Camera (Alarm5)\"},\n                        {value: \"10\", title: \"Car Horn (Alarm6)\"},\n                        {value: \"11\", title: \"Cash Register (Alarm7)\"},\n                        {value: \"12\", title: \"Chime (Alarm8)\"},\n                        {value: \"13\", title: \"Creaky Door (Alarm9)\"},\n                        {value: \"14\", title: \"Cuckoo Clock (Alarm10)\"},\n                        {value: \"15\", title: \"Disconnect (Call)\"},\n                        {value: \"16\", title: \"Dog (Call2)\"},\n                        {value: \"17\", title: \"Doorbell (Call3)\"},\n                        {value: \"18\", title: \"Fanfare (Call4)\"},\n                        {value: \"19\", title: \"Gun Shot (Call5)\"},\n                        {value: \"20\", title: \"Honk (Call6)\"},\n                        {value: \"21\", title: \"Jaw Harp (Call7)\"},\n                        {value: \"22\", title: \"Morse (Call8)\"},\n                        {value: \"23\", title: \"Electricity (Call9)\"},\n                        {value: \"24\", title: \"Radio Tuner (Call10)\"},\n                        {value: \"25\", title: \"Sirens\"},\n                        {value: \"26\", title: \"Military Trumpets\"},\n                        {value: \"27\", title: \"Ufo\"},\n                        {value: \"28\", title: \"Whah Whah Whah\"},\n                        {value: \"29\", title: \"Man Saying Goodbye\"},\n                        {value: \"30\", title: \"Man Saying Hello\"},\n                        {value: \"31\", title: \"Man Saying No\"},\n                        {value: \"32\", title: \"Man Saying Ok\"},\n                        {value: \"33\", title: \"Man Saying Ooohhhweee\"},\n                        {value: \"34\", title: \"Man Saying Warning\"},\n                        {value: \"35\", title: \"Man Saying Welcome\"},\n                        {value: \"36\", title: \"Man Saying Yeah\"},\n                        {value: \"37\", title: \"Man Saying Yes\"},\n                        {value: \"38\", title: \"Beep short\"},\n                        {value: \"39\", title: \"Weeeee short\"},\n                        {value: \"40\", title: \"Cut in and out short\"},\n                        {value: \"41\", title: \"Finger flicking glas short\"},\n                        {value: \"42\", title: \"Wa Wa Waaaa short\"},\n                        {value: \"43\", title: \"Laser short\"},\n                        {value: \"44\", title: \"Wind Chime short\"},\n                        {value: \"45\", title: \"Echo short\"},\n                        {value: \"46\", title: \"Zipper short\"},\n                        {value: \"47\", title: \"HiHat short\"},\n                        {value: \"48\", title: \"Beep 2 short\"},\n                        {value: \"49\", title: \"Beep 3 short\"},\n                        {value: \"50\", title: \"Beep 4 short\"},\n                        {value: \"51\", title: \"The Alarm is armed\"},\n                        {value: \"52\", title: \"The Alarm is disarmed\"},\n                        {value: \"53\", title: \"The Backup is ready\"},\n                        {value: \"54\", title: \"The Door is closed\"},\n                        {value: \"55\", title: \"The Door is opend\"},\n                        {value: \"56\", title: \"The Window is closed\"},\n                        {value: \"57\", title: \"The Window is open\"},\n                        {value: \"58\", title: \"The Light is off\"},\n                        {value: \"59\", title: \"The Light is on\"},\n                        {value: \"60\", title: \"The Doorbell rings\"},\n                        {value: \"61\", title: \"Pager short\"},\n                        {value: \"62\", title: \"Pager long\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: 0,\n                    frontText: 'Priority:',\n                    options: [\n                        {value: -2, title: \"lowest priority\"},\n                        {value: -1, title: \"lower priority\"},\n                        {value: 0, title: \"normal priority\"},\n                        {value: 1, title: \"high priority\"},\n                        {value: 2, title: \"highest priority\"},\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'vibration',\n                    defaultValue: 0,\n                    frontText: 'Vibration:',\n                    options: [\n                        {value: '_', title: \"default\"},\n                        {value: 1, title: \"1\"},\n                        {value: 2, title: \"2\"},\n                        {value: 3, title: \"3\"},\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushsafer',\n            id: 'ActionPushsafer',\n            adapter: 'pushsafer',\n            title: 'Sends message via Pushsafer',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPushsafer.getStaticData();\n    }\n}\n\nexport default ActionPushsafer;\n","import GenericBlock from '../GenericBlock';\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `if (__%%CONDITION%%__) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'On script save or adapter start',\n                    attr: 'script'\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Start script',\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n            title: 'Triggers the on script saving or the javascript instance restart'\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    const _cond = __%%CONDITION%%__;\n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION_STATE_ONCHANGE = `async function (obj) {\n    const _cond = __%%CONDITION%%__;\n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION =\n`async function () {\n    const _cond = __%%CONDITION%%__;\n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst STANDARD_FUNCTION_ONCHANGE =\n`async function () {\n    const _cond = __%%CONDITION%%__;\n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    justCheck: false,\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n\n    const vars = [];\n    let prelines = [];\n    let hist = json.conditions.find(conds => conds.find(cond => cond.tagCard === '()'));\n\n    jsonTriggers.forEach((trigger, i) => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {trigger, condition: {}, justCheck: hist ? false : (json.justCheck || (!json.conditions.length || !json.conditions[0].length))};\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n            vars.push('cond' + i);\n\n            if (_context.prelines && _context.prelines.length) {\n                _context.prelines.forEach(line => prelines.push(line));\n            }\n\n            triggers.push(\n                text\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n                    .replace(/__%%STATE%%__/g, 'cond' + i)\n            );\n        }\n    });\n\n    let text = triggers.join('\\n\\n');\n\n    if (!json.justCheck || hist) {\n        text = vars.map(v => `let ${v} = false;`).join('\\n') + '\\n\\n' + text;\n    }\n    if (prelines) {\n        text = prelines.join('\\n') + '\\n\\n' + text;\n    }\n\n    return text;\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.getStaticData && block.getStaticData().id === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    let i = 0;\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length') && ors.length) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    context.condition.index = i++;\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push('(' + _ors.join(') &&\\n                  (') + ')');\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                context.condition.index = i++;\n                result.push(found.compile(ors, context));\n            }\n        }\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return '(' + result.join(') || (') + ')';\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*const demo = ${JSON.stringify(json, null, 2)};*/\\n`;\n\n    return code + '\\n//' + JSON.stringify(json);\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_ONCHANGE,\n    STANDARD_FUNCTION_STATE,\n    STANDARD_FUNCTION_STATE_ONCHANGE,\n};\n\nexport default Compile;","import React from 'react';\nimport SunCalc from 'suncalc2';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport CustomInput from '../CustomInput';\nimport CustomButton from '../CustomButton';\nimport CustomModal from '../CustomModal';\n\nimport ComplexCron from '@iobroker/adapter-react/Components/ComplexCron';\nimport Schedule from '@iobroker/adapter-react/Components/Schedule';\nimport convertCronToText from '@iobroker/adapter-react/Components/SimpleCron/cronText';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst DEFAULT_WIZARD = '{\"time\":{\"start\":\"00:00\",\"end\":\"24:00\",\"mode\":\"hours\",\"interval\":1},\"period\":{\"days\":1}}';\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        let text = '';\n        const func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${func}, ${config.interval || 1} * ${config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${func});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow?.length && !config.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${func});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${func});`;\n        } else if (config.tagCard === 'wizard') {\n            text = `schedule('${config.wizard}', ${func});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: sunValue ? TriggerScheduleBlock._time2String(sunValue[name]) : '??:??'\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`;// translate\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes', // translate\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at', // translate\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset', // translate\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    async _setInterval(interval) {\n        interval = parseInt(interval || this.state.settings.interval, 10) || 30;\n        let options;\n        if (interval === 1) {\n            options = [\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            options = [\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    prefix: {\n                        en: 'every'\n                    },\n                    attr: 'interval',\n                    frontText: 'every',\n                    defaultValue: 30,\n                    className: 'block-input-interval'\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 's',\n                    options\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        } else if (this.state.settings.tagCard === 'interval') {\n            if (attr === 'interval') {\n                this._setInterval(value);\n            }\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: 'text',\n                        defaultValue: value\n                    }, !!settings['text'] ? settings['text'] : value, onChange)}\n                </div>\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={async () => {\n                    await onChange(textCron, 'text');\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false });\n                }}\n                onClose={() => this.setState({ openDialog: false })}>\n                <ComplexCron\n                    cronExpression={!!settings[input.attr] ? '' : settings[attr]}\n                    onChange={el => {textCron = el}} />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: 'every hour at 0 minutes',\n                attr: 'addText',\n                signature: true\n            }, !!settings['addText'] ? settings['addText'] : 'every hour at 0 minutes', onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let wizardText = '';\n        let wizard = null;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={this.state.settings[attr + 'Text']}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={() =>\n                    this.setState({ openDialog: false }, () =>\n                        onChange({\n                            [attr + 'Text']: wizardText,\n                            [attr]: wizard,\n                        }))}\n                onClose={() => this.setState({ openDialog: false })}>\n                <Schedule onChange={(val, text) => {\n                    wizardText = text;\n                    wizard = typeof val === 'object' ? JSON.parse(JSON.stringify(val)) : JSON.parse(val);\n                    wizard.valid = wizard.valid || {};\n                    wizard.valid.from = wizard.valid.from || Schedule.now2string();\n                    wizard = JSON.stringify(wizard);\n                }} />\n            </CustomModal>\n        </div>;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this._setInterval();\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'wizard':\n                const wizard = JSON.parse(DEFAULT_WIZARD);\n                wizard.valid = wizard.valid || {};\n                wizard.valid.from = wizard.valid.from || Schedule.now2string();\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: JSON.stringify(wizard),\n                        }\n                    ]\n                }, () => super.onTagChange(null, () => {\n                    const wizardText = Schedule.state2text(this.state.settings.wizard || wizard);\n                    if (this.state.settings.wizardText !== wizardText) {\n                        const settings = JSON.parse(JSON.stringify(this.state.settings));\n                        settings.wizardText = wizardText;\n                        this.setState({settings});\n                        this.props.onChange(settings);\n                    }\n                }));\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: '07:30',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_', '1', '2', '3', '4', '5', '6', '0'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Schedule',\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n            title: 'Triggers the rule periodically or on some specific time'\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n    }\n\n    static compile(config, context) {\n        const func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        return `on({id: \"${config.oid || ''}\", change: \"${config.tagCard === 'on update' ? 'any' : 'ne'}\"}, ${func});`\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: ''\n                }\n            ]\n        }, () => {\n            super.onTagChange();\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'State',\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update'],\n            title: 'Triggers the rule on update or change of some state' // translate\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\n\nexport default TriggerState;\n","export default __webpack_public_path__ + \"static/media/hysteresis.04ebd02c.png\";","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport GenericBlock from '../GenericBlock';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport HysteresisImage from '../../../assets/hysteresis.png';\n\nconst HYSTERESIS = `function __hysteresis(val, limit, state, hist, comp) {\n    let cond1, cond2;\n    if (comp === '>') {\n        cond1 = val > limit + hist;\n        cond2 = val <= limit - hist;\n    } else if (comp === '<') {\n        cond1 = val < limit - hist;\n        cond2 = val >= limit + hist;\n    } else if (comp === '>=') {\n        cond1 = val >= limit + hist;\n        cond2 = val < limit - hist;\n    } else if (comp === '<=') {\n        cond1 = val <= limit - hist;\n        cond2 = val > limit + hist;\n    } else if (comp === '=') {\n        cond1 = val <= limit + hist && val > limit - hist;\n        cond2 = val > limit + hist || val <= limit - hist;\n    } else if (comp === '<>') {\n        cond1 = val > limit + hist || val <= limit - hist;\n        cond2 = val <= limit + hist && val > limit - hist;\n    }\n     \n    if (!state && cond1) {\n        return true;\n    } else if (state && cond2) {\n        return false;\n    } else {\n        return state;\n    }\n}`;\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === null || value === undefined) {\n            value = false;\n        }\n\n        let result;\n        if (config.tagCard === '()') {\n            context.prelines =  context.prelines || [];\n            !context.prelines.find(item => item !== HYSTERESIS) && context.prelines.push(HYSTERESIS);\n            if (config.useTrigger) {\n                if (value === '') {\n                    value = 0;\n                }\n                result = `__hysteresis(obj.state.val, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            } else {\n                if (value === '') {\n                    value = 0;\n                }\n                if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                    value = `\"${value}\"`;\n                }\n\n                result = `__hysteresis((await getStateAsync(\"${config.oid}\")).val, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            }\n        } else\n        if (config.tagCard !== 'includes') {\n            const compare = config.tagCard === '=' ? '==' : (config.tagCard === '<>' ? '!=' : config.tagCard);\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `obj.state.val ${compare} ${value}`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `(await getStateAsync(\"${config.oid}\")).val ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `(await getStateAsync(\"${config.oid}\")).val ${compare} ${value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `(await getStateAsync(\"${config.oid}\").val).includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    onShowHelp = () => this.setState({showHysteresisHelp: true});\n\n    _setInputs(useTrigger, tagCard, oidType, oidUnit, oidStates) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        tagCard   = tagCard   || this.state.settings.tagCard;\n        oidType   = oidType   || this.state.settings.oidType;\n        oidUnit   = oidUnit   || this.state.settings.oidUnit;\n        oidStates = oidStates || this.state.settings.oidStates;\n\n        if (isAllTriggersOnState && useTrigger && this.props.userRules?.triggers?.length === 1) {\n            oidType   = this.props.userRules.triggers[0].oidType;\n            oidUnit   = this.props.userRules.triggers[0].oidUnit;\n            oidStates = this.props.userRules.triggers[0].oidStates;\n        }\n\n        const _tagCardArray = ConditionState.getStaticData().tagCardArray;\n        const tag = _tagCardArray.find(item => item.title === tagCard);\n        let tagCardArray;\n        let options = null;\n\n        if (oidType === 'number') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis'\n                }\n            ];\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        } else if (oidType === 'boolean') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ];\n            options = [\n                {title: 'false', value: false},\n                {title: 'true', value: true},\n            ];\n        } else {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        }\n\n        let settings = null;\n        if (!tagCardArray.find(item => item.title === tagCard)) {\n            tagCard = tagCardArray[0].title;\n            settings = settings || {...this.state.settings};\n            settings.tagCard = tagCard;\n        }\n\n        let inputs;\n        let renderText = {\n            nameRender: 'renderText',\n            defaultValue: '',\n            attr: 'value',\n            frontText: tagCard === '()' ? 'Limit' : (tag?.text || 'compare with'),\n            doNotTranslateBack: true,\n            backText: oidUnit\n        };\n\n        if (options) {\n            renderText = {\n                nameRender: 'renderSelect',\n                defaultValue: options[0].value,\n                options,\n                attr: 'value',\n                frontText: tag?.text || 'compare with',\n                doNotTranslateBack: true,\n                backText: oidUnit\n            };\n            if (!options.find(item => item.value === this.state.settings.value)) {\n                settings = settings || {...this.state.settings};\n                settings.value = options[0].value;\n            }\n            if (options.length <= 2) {\n                tagCardArray = [\n                    {\n                        title: '=',\n                        title2: '[equal]',\n                        text: 'equal to'\n                    },\n                    {\n                        title: '<>',\n                        title2: '[not equal]',\n                        text: 'not equal to'\n                    }\n                ];\n            }\n        }\n\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n                renderText,\n            ];\n        } else if (isAllTriggersOnState) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                },\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        }\n\n        if (tagCard === '()') {\n            inputs.splice(1, 0, {\n                nameRender: 'renderDialog',\n                icon: 'HelpOutline',\n                frontText: 'Explanation',\n                onShowDialog: this.onShowHelp,\n            });\n            inputs.splice(2, 0, {\n                nameRender: 'renderSelect',\n                attr: 'histComp',\n                defaultValue: '>',\n                frontText: 'Condition',\n                doNotTranslate: true,\n                options: [\n                    {title: '>',  value: '>'},\n                    {title: '>=', value: '>='},\n                    {title: '<',  value: '<'},\n                    {title: '<=', value: '<='},\n                    {title: '=',  value: '='},\n                    {title: '<>', value: '<>'},\n                ]\n            });\n            inputs.push({\n                frontText: 'Δ',\n                doNotTranslate: true,\n                nameRender: 'renderNumber',\n                noHelperText: true,\n                attr: 'hist',\n                defaultValue: 1,\n                doNotTranslateBack: true,\n                backText: oidUnit\n            });\n        }\n\n        const state = {\n            iconTag: true,\n            tagCardArray,\n            inputs\n        };\n\n        this.setState(state,() =>\n            super.onTagChange(null, () => {\n                if (settings) {\n                    this.setState({settings});\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        if (typeof value === 'object') {\n            this._setInputs(value.useTrigger, value.tagCard, value.oidType, value.states);\n        } else {\n            if (attr === 'useTrigger') {\n                this._setInputs(value);\n            } else if (attr === 'oidType') {\n                this._setInputs(value, undefined, value);\n            } else if (attr === 'oidUnit') {\n                this._setInputs(value, undefined, undefined, value);\n            } else if (attr === 'oidStates') {\n                this._setInputs(value, undefined, undefined, undefined, value);\n            }\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger, tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'State condition',\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis'\n                }\n            ],\n            title: 'Compares the state value with user defined value'\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n\n    renderSpecific() {\n        if (this.state.showHysteresisHelp) {\n            return <Dialog\n                open={true}\n                maxWidth=\"md\"\n                onClose={() => this.setState({showHysteresisHelp: false})}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <img src={HysteresisImage} alt=\"Hysteresis\"/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.setState({showHysteresisHelp: false})} color=\"primary\" autoFocus>\n                        {I18n.t('OK')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        if (config.withDate) {\n            let [month, date] = (config.date || '01.01').toString().split('.');\n            date = parseInt(date, 10) || 0;\n            month = parseInt(month, 10) || 0;\n            if (month > 12) {\n                month = 12;\n            } else if (month < 0) {\n                month = 0;\n            }\n\n            if (date > DAYS[month]) {\n                date = DAYS[month];\n            } else if (date < 0) {\n                date = 0;\n            }\n            if (date && month) {\n                return `formatDate(Date.now(), 'MM.DD-hh:mm') ${compare} \"${config.date}-${config.time}\"`;\n            } else if (date === 0 && month) {\n                return `formatDate(Date.now(), 'MM-hh:mm') ${compare} \"${month.toString().padStart(2, '0')}-${config.time}\"`;\n            } else if (month === 0 && date) {\n                return `formatDate(Date.now(), 'DD-hh:mm') ${compare} \"${date.toString().padStart(2, '0')}-${config.time}\"`;\n            } else {\n                return `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n            }\n        } else {\n            return `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n        }\n    }\n\n    _setInputs(tagCard, withDate, ) {\n        withDate = withDate === undefined ? this.state.settings.withDate : withDate;\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        const inputs = [\n            {\n                nameRender: 'renderNameText',\n                attr: 'interval',\n                defaultValue: 'Actual time of day',\n            },\n            {\n                frontText: tag?.text || tagCard,\n                nameRender: 'renderTime',\n                attr: 'time',\n                defaultValue: '12:00',\n            },\n            {\n                frontText: 'with date',\n                nameRender: 'renderCheckbox',\n                attr: 'withDate',\n                defaultValue: false,\n            }\n        ];\n        if (withDate) {\n            inputs.push({\n                nameRender: 'renderDate',\n                attr: 'date',\n                defaultValue: '01.01',\n            });\n        }\n        this.setState({\n            inputs,\n            iconTag:true\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'withDate') {\n            this._setInputs(undefined, value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Time condition',\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with the user specific time'\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import GenericBlock from '../GenericBlock';\nimport SunCalc from 'suncalc2';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass ConditionAstrological extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstrological.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let offset;\n        if (config.offset) {\n            offset = parseInt(config.offsetValue, 10) || 0;\n        }\n        return `formatDate(Date.now(), 'hh:mm') ${compare} formatDate(getAstroDate(\"${config.astro}\"${offset ? `, undefined, ${offset}` : ''}), 'hh:mm')`;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstrological._time2String(sunValue[name])}]`,\n            order: ConditionAstrological._time2String(sunValue[name])\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstrological.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${I18n.t(tag.text)} ${ConditionAstrological._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text'\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text'\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Astrological',\n            id: 'ConditionAstrological',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with astrological event'\n        }\n    }\n\n    getData() {\n        return ConditionAstrological.getStaticData();\n    }\n}\n\nexport default ConditionAstrological;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n\n        if (config.toggle && !config.useTrigger) {\n            return `await setStateAsync(\"${config.oid}\", !(await getStateAsync(\"${config.oid}\")).val, ${config.tagCard === 'update'});`;\n        } else {\n            return `await setStateAsync(\"${config.oid}\", ${value}, ${config.tagCard === 'update'});`;\n        }\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle     = toggle     === undefined ? this.state.settings.toggle     : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n                type = 'select';\n            }\n        }\n\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = {value: oidMax === undefined ? 0 : oidMax};\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = {value: oidMax};\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = {value: options[0].value};\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = {value: false};\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = {value: true};\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = {value: '#FFFFFF'};\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        return {inputs, newSettings: settings};\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            if (newSettings) {\n                const settings = JSON.parse(JSON.stringify(this.state.settings));\n                Object.assign(settings, newSettings);\n                this.setState(settings);\n                this.props.onChange(settings);\n            }\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set state action',\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default ActionSetState;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `exec(\"${(config.exec || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)});`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Exec',\n            id: 'ActionExec',\n            icon: 'Apps',\n            title: 'Executes some shell command',\n            helpDialog: 'You can use %s in the command to use current trigger value or %id to use the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `request(\"${(config.url || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)});`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'HTTP Call',\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n            title: 'Make a HTTP get request',\n            helpDialog: 'You can use %s in the URL to use current trigger value or %id to use the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `console.log(\"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)});`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Log text',\n            id: 'ActionPrintText',\n            icon: 'Subject',\n            title: 'Print some text in log',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `await wait(${config.pause} * ${config.unit === 'ms' ? 1 : \n            (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))});`;\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause)\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pause',\n            id: 'ActionPause',\n            icon: 'Pause',\n            title: 'Make a pause between actions'\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionFunction extends GenericBlock {\n    constructor(props) {\n        super(props, ActionFunction.getStaticData());\n    }\n\n    static compile(config, context) {\n        const lines = (config.func || '').split('\\n').map((line, i) => i ? '        ' + line : line);\n\n        return lines.join('\\n');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'func',\n                    noTextEdit: true,\n                    defaultValue: 'console.log(\"Test\")',\n                    nameBlock: 'Function'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'User function',\n            id: 'ActionFunction',\n            icon: 'Functions',\n            title: 'Write your own code',\n            helpDialog: 'This is advances option. You can write your own code here and it will be executed on trigger'\n        }\n    }\n\n    getData() {\n        return ActionFunction.getStaticData();\n    }\n}\n\nexport default ActionFunction;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSetStateDelayed extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetStateDelayed.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n\n        if (config.toggle && !config.useTrigger) {\n            return `setStateDelayed(\"${config.oid}\", !(await getStateAsync(\"${config.oid}\")).val, ${config.tagCard === 'update'}, ${parseInt(config.delay, 10)}, ${config.clearRunning ? 'true' : 'false'});`;\n        } else {\n            return `setStateDelayed(\"${config.oid}\", ${value}, ${config.tagCard === 'update'}, ${parseInt(config.delay, 10)}, ${config.clearRunning ? 'true' : 'false'});`;\n        }\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle = toggle === undefined ? this.state.settings.toggle : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n                type = 'select';\n            }\n        }\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = {value: oidMax === undefined ? 0 : oidMax};\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = {value: oidMax};\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = {value: options[0].value};\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = {value: false};\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = {value: true};\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = {value: '#FFFFFF'};\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        inputs.push({\n            backText: 'ms',\n            frontText: 'Delay',\n            nameRender: 'renderNumber',\n            defaultValue: '1000',\n            noHelperText: true,\n            attr: 'delay'\n        });\n        inputs.push({\n            backText: 'clear running',\n            nameRender: 'renderCheckbox',\n            defaultValue: true,\n            attr: 'clearRunning'\n        })\n\n        return {inputs, newSettings: settings};\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            if (newSettings) {\n                const settings = JSON.parse(JSON.stringify(this.state.settings));\n                Object.assign(settings, newSettings);\n                this.setState(settings);\n                this.props.onChange(settings);\n            }\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set with delay',\n            id: 'ActionSetStateDelayed',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state with delay',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID'\n        }\n    }\n\n    getData() {\n        return ActionSetStateDelayed.getStaticData();\n    }\n}\n\nexport default ActionSetStateDelayed;\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstrological from '../Blocks/ConditionAstrological';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\nimport ActionFunction from '../Blocks/ActionFunction';\nimport ActionSetStateDelayed from '../Blocks/ActionSetStateDelayed';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstrological,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n    ActionFunction,\n    ActionSetStateDelayed,\n];\n\nexport default StandardBlocks;","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport ActionPushover from '../Blocks/ActionPushover';\nimport ActionWhatsappcmb from '../Blocks/ActionWhatsappcmb';\nimport ActionPushsafer from '../Blocks/ActionPushsafer';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n    pushover: ActionPushover,\n    'whatsapp-cmb': ActionWhatsappcmb,\n    'pushsafer': ActionPushsafer,\n}\n\nexport const ContextWrapperCreate = createContext();\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [blocks, setBlocks] = useState(null);\n    const [onUpdate, setOnUpdate] = useState(false);\n\n    useEffect(() => {\n        onUpdate && setOnUpdate(false);\n    }, [onUpdate]);\n\n    useEffect(() => {\n        socket.getAdapterInstances()\n            .then(instances => {\n                const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                    instances.find(obj => obj?.common?.name === adapter));\n                const adapterBlocksArray = adapters.map(adapter => ADAPTERS[adapter]);\n\n                setBlocks([...StandardBlocks, ...adapterBlocksArray]);\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{ blocks, socket, onUpdate, setOnUpdate }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, { memo, useCallback, useContext, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy, isTourOpen, setTourStep, tourStep } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { blocks, socket, onUpdate, setOnUpdate } = useContext(ContextWrapperCreate);\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id) || GenericBlock;\n        return <CustomBlock\n            isTourOpen={isTourOpen}\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            notFound={!findElementBlocks(id)}\n            {...props}\n            onUpdate={onUpdate}\n            setOnUpdate={setOnUpdate}\n            onChange={onChange}\n            className={null}\n            socket={socket}\n        />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        onMouseDown={el => {\n            if (el.ctrlKey) {\n                let newItem;\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                if (blockValue !== \"triggers\") {\n                    newItem = newUserRules[acceptedBy][blockValue].find(el => el._id === _id);\n                } else {\n                    newItem = newUserRules[acceptedBy].find(el => el._id === _id);\n                }\n                if (blockValue !== \"triggers\") {\n                    newUserRules[acceptedBy][blockValue].splice(newUserRules[acceptedBy][blockValue].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                } else {\n                    newUserRules[acceptedBy].splice(newUserRules[acceptedBy].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                }\n                setUserRules(newUserRules);\n            }\n        }}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        <div className={cls.drag_mobile} />\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setOnUpdate(true);\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","import React, { useContext, useEffect, useRef } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport cls from './style.module.scss';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { setOnUpdate } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        item: { ...allProperties, type: 'box', id, isActive, _id },\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setOnUpdate(true);\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY\n                            );\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n    const isMobile = window.innerWidth < 600;\n    return <div ref={isMobile && _id ? null : ref} className={cls.root} style={{ opacity }}><div className={_id ? cls.drag : null} ref={_id && isMobile ? ref : null} />{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst DialogHelp = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <div style={{\n            fontSize: '1rem',\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n            fontWeight: 400,\n            lineHeight: 1.5,\n            letterSpacing: '0.00938em'\n        }} >\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </div>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog >;\n\nDialogHelp.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogHelp.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogHelp;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst DialogCondition = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog>;\n\nDialogCondition.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogCondition.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogCondition;","\nimport React, { Fragment, useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { useDrop } from 'react-dnd';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconHelp from '@material-ui/icons/HelpOutline';\nimport { deepCopy } from '../../helpers/deepCopy';\n\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport DialogHelp from './DialogHelp';\nimport DialogCondition from './DialogCondition';\nimport clsx from 'clsx';\n\nconst AdditionallyContentBlockItems = ({ size, itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation, setTourStep, tourStep, isTourOpen }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div ref={drop} style={{ backgroundColor }} className={`${clsx(cls.contentBlockItem,size && cls.addClassHeight)} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}>\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    isTourOpen={isTourOpen}\n                    setTourStep={setTourStep}\n                    tourStep={tourStep}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height') ? document.getElementById('height').clientHeight : 200 } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ size, typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket, setTourStep, tourStep, isTourOpen }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n    const [showHelp, setShowHelp] = useState(false);\n    const [showConditionDialog, setShowConditionDialog] = useState(false);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${clsx(cls.mainBlockItemRules, size && cls.addClassOverflow)} ${border && !size ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon iconName={iconName} className={cls.iconThemCard} adapter={adapter} socket={socket} />{name}\n        </span>\n        {typeBlock === 'conditions' ?\n            <div style={{ width: '100%' }}>\n                <Select\n                    className={cls.selectOnChange}\n                    value={userRules.justCheck || false}\n                    onChange={e => {\n                        const _userRules = deepCopy('conditions', userRules);\n                        _userRules.justCheck = e.target.value;\n                        setUserRules(_userRules);\n                    }}\n                >\n                    <MenuItem value={false}>{I18n.t('on condition change')}</MenuItem>\n                    <MenuItem value={true}>{I18n.t('just check')}</MenuItem>\n                </Select>\n                <IconButton size=\"small\" title={I18n.t('Explanation')} className={cls.selectOnChangeHelp} onClick={() => setShowHelp(true)}>\n                    <IconHelp className={cls.selectOnChangeHelpIcon} />\n                </IconButton>\n            </div>\n            : null}\n        <AdditionallyContentBlockItems\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            isTourOpen={isTourOpen}\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            size={size}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}>\n                <div\n                    onClick={() => {\n                        if (typeBlock === 'actions') {\n                            setAdditionallyClickItems(!additionallyClickItems);\n                            return null;\n                        }\n                        let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                        if (userRules['conditions'][index + 1].length) {\n                            newAdditionally[index].open = !newAdditionally[index].open\n                            setAdditionallyClickItems(newAdditionally);\n                            return null;\n                        }\n                        newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                        setAdditionallyClickItems(newAdditionally);\n                        setAnimation(typeBlock === 'actions' ? true : index);\n                        setTimeout(() => {\n                            setAnimation(false);\n                            setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                        }, 250);\n\n                    }}\n                    key={index} className={cls.blockCardAdd}>\n                    {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                        {nameAdditionally}\n                    </div>\n                </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                    size={size}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n        <DialogHelp open={showHelp} onClose={() => setShowHelp(false)} />\n        <DialogCondition open={showConditionDialog} onClose={() => setShowConditionDialog(false)} />\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: ''\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;","import React from 'react';\nimport CardMenu from '.';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport DragWrapper from '../DragWrapper';\nimport { STEPS } from '../../helpers/Tour';\n\nconst CustomDragItem = props => {\n    const { allProperties, allProperties: { acceptedBy, id }, setUserRules, userRules, setTourStep, tourStep, isTourOpen, onTouchMove } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu\n            onTouchMove={onTouchMove}\n            onDoubleClick={() => {\n                (isTourOpen &&\n                    tourStep === STEPS.addScheduleByDoubleClick &&\n                    id === 'TriggerScheduleBlock' &&\n                    setTourStep(STEPS.openTagsMenu)\n                );\n                (isTourOpen &&\n                    tourStep === STEPS.addActionPrintText &&\n                    id === 'ActionPrintText' &&\n                    setTourStep(STEPS.showJavascript)\n                );\n                let _id = Date.now();\n                let blockValue;\n                switch (acceptedBy) {\n                    case 'actions':\n                        blockValue = 'then';\n                        break;\n\n                    case 'conditions':\n                        blockValue = userRules[acceptedBy].length - 1;\n                        break;\n\n                    default:\n                        break;\n                }\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                const newItem = { id, _id, acceptedBy };\n                if (blockValue !== undefined) {\n                    newUserRules[acceptedBy][blockValue].push({ ...newItem });\n                } else {\n                    newUserRules[acceptedBy].push({ ...newItem });\n                }\n                setUserRules(newUserRules);\n            }} onDoubl {...props} {...allProperties} />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;","import React from 'react';\nimport cls from './hamburgerMenu.module.scss';\nimport PropTypes from 'prop-types';\n\nconst HamburgerMenu = ({boolean}) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;","import React, { Fragment, useContext, useEffect } from 'react';\nimport cls from './style.module.scss';\nimport { AppBar, ClickAwayListener, Tab, Tabs } from '@material-ui/core';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomInput from '../CustomInput';\nimport CustomDragItem from '../CardMenu/CustomDragItem';\nimport HamburgerMenu from '../HamburgerMenu';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { STEPS } from '../../helpers/Tour';\n\nconst Menu = ({ addClass, setAllBlocks, allBlocks, userRules, onChangeBlocks, setTourStep, tourStep, isTourOpen }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket } = useContext(ContextWrapperCreate);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    const handleChange = (event, newValue) => {\n        isTourOpen && (newValue === 0 && tourStep === STEPS.selectTriggers) && setTourStep(STEPS.addScheduleByDoubleClick);\n        isTourOpen && (newValue === 2 && tourStep === STEPS.selectActions) && setTourStep(STEPS.addActionPrintText);\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && I18n.t(name).toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    useEffect(() => {\n        setBlocksFunc();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n    return <ClickAwayListener\n        mouseEvent={false}\n        touchEvent=\"onTouchStart\"\n        onClickAway={() => setHamburgerOnOff(true)}\n    >\n        <div className={clsx(cls.menuWrapper, addClass[1035] && cls.addClassMenu)}>\n            <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n                onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} />\n            </div>\n            <div className={`${clsx(cls.menuRules, addClass[1035] && cls.addClassBackground, addClass[835] && cls.addClassPosition)} ${hamburgerOnOff ? cls.menuOff : null}`}>\n                <div className={cls.controlPanel}>\n                    <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                        <Tabs\n                            value={filter.index}\n                            onChange={handleChange}\n                        >\n                            <Tab className=\"blocks-triggers\"\n                                title={I18n.t('Triggers')}\n                                icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                                {...a11yProps(0)} />\n                            <Tab title={I18n.t('Conditions')} className=\"blocks-conditions\" icon={<MaterialDynamicIcon iconName='Help' />}\n                                {...a11yProps(1)} />\n                            <Tab title={I18n.t('Actions')} className=\"blocks-actions\" icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                                {...a11yProps(2)} />\n                        </Tabs>\n                    </AppBar>\n                </div>\n                <div className={cls.switchesRenderWrapper}>\n                    <span>\n                        {allBlocks.map(el => {\n                            const { name, id, icon, adapter } = el.getStaticData();\n                            return <Fragment key={id}>\n                                <CustomDragItem\n                                    onTouchMove={() => setHamburgerOnOff(true)}\n                                    setTourStep={setTourStep}\n                                    tourStep={tourStep}\n                                    isTourOpen={isTourOpen}\n                                    allProperties={el.getStaticData()}\n                                    name={name}\n                                    icon={icon}\n                                    adapter={adapter}\n                                    socket={socket}\n                                    userRules={userRules}\n                                    setUserRules={onChangeBlocks}\n                                    isActive={false}\n                                    id={id}\n                                />\n                            </Fragment>;\n                        })}\n                        {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                            {I18n.t('Nothing found')}...\n                            <div className={cls.resetSearch} onClick={() => {\n                                setFilter({\n                                    ...filter,\n                                    text: ''\n                                });\n                                setBlocksFunc('');\n                            }}>{I18n.t('reset search')}</div>\n                        </div>}\n                    </span>\n                </div>\n                <div className={clsx(cls.menuTitle, cls.marginAuto)} />\n                <CustomInput\n                    className={cls.inputWidth}\n                    fullWidth\n                    customValue\n                    value={filter.text}\n                    size=\"small\"\n                    autoComplete=\"off\"\n                    label={I18n.t('search')}\n                    variant=\"outlined\"\n                    onChange={(value) => {\n                        setFilter({ ...filter, text: value });\n                        setBlocksFunc(value);\n                    }}\n                />\n            </div>\n        </div>\n    </ClickAwayListener>;\n}\n\nMenu.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default Menu;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport cls from './style.module.scss';\n\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './helpers/Compile';\nimport PropTypes from 'prop-types';\nimport Menu from './components/Menu';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport './helpers/stylesVariables.scss';\n\nimport DialogExport from '../../Dialogs/Export';\nimport DialogImport from '../../Dialogs/Import';\nimport clsx from 'clsx';\n\nconst RulesEditor = ({ code, onChange, themeName, setTourStep, tourStep, isTourOpen, command }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket, setOnUpdate } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [userRules, setUserRules] = useState(Compile.code2json(code));\n    const [importExport, setImportExport] = useState('');\n    const [modal, setModal] = useState(false);\n\n    useEffect(() => {\n        if (!!command) {\n            setImportExport(command);\n            if (!modal) {\n                setModal(true);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [command]);\n\n    useEffect(() => {\n        const newUserRules = Compile.code2json(code);\n        if (JSON.stringify(newUserRules) !== JSON.stringify(userRules)) {\n            setUserRules(newUserRules);\n            setOnUpdate(true);\n        }\n        // eslint-disable-next-line\n    }, [code]);\n\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = themeName || 'blue';\n    }, [themeName]);\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\n    const ref = useRef({ clientWidth: 0 });\n    const [addClass, setAddClass] = useState({ 835: false, 1035: false });\n    useEffect(() => {\n        if (ref.current) {\n            if (ref.current.clientWidth <= 1035) {\n                setAddClass({ 835: false, 1035: true });\n            }\n            if (ref.current.clientWidth <= 835) {\n                setAddClass({ 1035: true, 835: true });\n            }\n            if (ref.current.clientWidth > 1035) {\n                setAddClass({ 835: false, 1035: false });\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ref.current.clientWidth])\n\n    if (!blocks) {\n        return null;\n    }\n    return <div key=\"rulesEditor\" className={cls.wrapperRules} ref={ref}>\n        {<CustomDragLayer allBlocks={allBlocks} socket={socket} />}\n        {importExport === \"export\" ?\n            <DialogExport\n                key=\"dialogExport\"\n                onClose={() => setModal(false)}\n                open={modal}\n                text={JSON.stringify(userRules, null, 2)} /> :\n            <DialogImport\n                open={modal}\n                key=\"dialogImport\"\n                onClose={text => {\n                    setModal(false);\n                    if (text) {\n                        onChangeBlocks(JSON.parse(text));\n                    }\n                }} />}\n        {<div className={clsx(cls.rootWrapper, addClass[835] && cls.addClass)}>\n            <Menu\n                setAllBlocks={setAllBlocks}\n                allBlocks={allBlocks}\n                userRules={userRules}\n                onChangeBlocks={onChangeBlocks}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                addClass={addClass}\n                isTourOpen={isTourOpen}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                userRules={userRules}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                name={`${I18n.t('when')}...`}\n                typeBlock=\"triggers\"\n                iconName=\"FlashOn\"\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('and')}...`}\n                typeBlock=\"conditions\"\n                iconName=\"Help\"\n                nameAdditionally={I18n.t('or')}\n                additionally\n                border\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('then')}`}\n                typeBlock=\"actions\"\n                iconName=\"PlayForWork\"\n                nameAdditionally={I18n.t('else')}\n                additionally\n                size={addClass[835]}\n            />\n        </div>}\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default RulesEditor;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport ScriptEditorComponent from '../ScriptEditorVanilaMonaco';\r\n\r\nconst styles = theme => ({\r\n    editorDiv: {\r\n        height: '100%',\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    editor: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'auto',\r\n    },\r\n    line: {\r\n        width: '100%',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    lineNumber: {\r\n        width: 40,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        display: 'inline-block',\r\n        fontFamily: 'Lucida Console, Courier, monospace',\r\n        textAlign: 'right',\r\n        fontSize: 14,\r\n        marginRight: 1,\r\n        borderRight: '1px solid #555',\r\n        cursor: 'pointer'\r\n    },\r\n    lineBreakpoint: {\r\n        background: '#330000',\r\n        color: 'white',\r\n    },\r\n    lineCode: {\r\n        //whiteSpace: 'nowrap',\r\n        display: 'inline-block',\r\n        fontFamily: 'Lucida Console, Courier, monospace',\r\n        fontSize: 14,\r\n        margin: 0,\r\n        whiteSpace: 'pre',\r\n    },\r\n    lineCurrentCode: {\r\n        background: 'red',\r\n        color: 'white',\r\n    },\r\n    lineCurrent: {\r\n        background: '#880000',\r\n        color: 'white',\r\n    },\r\n});\r\n\r\nclass Editor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            lines: (this.props.script || '').split(/\\r\\n|\\n/)\r\n        };\r\n    }\r\n\r\n    editorDidMount(editor, monaco) {\r\n        this.monaco = monaco;\r\n        this.editor = editor;\r\n        editor.focus();\r\n    }\r\n\r\n    render() {\r\n        return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv2\">\r\n            <ScriptEditorComponent\r\n                key=\"scriptEditor2\"\r\n                name={this.props.scriptName}\r\n                adapterName={this.props.adapterName}\r\n                readOnly={true}\r\n                code={this.props.script || ''}\r\n                isDark={this.props.themeType === 'dark'}\r\n                socket={this.props.socket}\r\n                runningInstances={this.props.runningInstances}\r\n                language={'javascript'}\r\n\r\n                breakpoints={this.props.breakpoints}\r\n                location={this.props.paused ? this.props.location : null}\r\n                onToggleBreakpoint={i => this.props.onToggleBreakpoint(i)}\r\n            />\r\n        </div>;\r\n    }\r\n}\r\n\r\nEditor.propTypes = {\r\n    runningInstances: PropTypes.object,\r\n    socket: PropTypes.object,\r\n    sourceId: PropTypes.string,\r\n    script: PropTypes.string,\r\n    scriptName: PropTypes.string,\r\n    adapterName: PropTypes.string,\r\n    paused: PropTypes.bool,\r\n    breakpoints: PropTypes.array,\r\n    location: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    onToggleBreakpoint: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(Editor);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {\r\n    MdContentCopy as IconCopy,\r\n    MdDeleteForever as IconDelete,\r\n    MdVerticalAlignBottom as IconBottom,\r\n} from 'react-icons/md';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\n\r\nconst TOOLBOX_WIDTH = 34;\r\n\r\nconst styles = theme => ({\r\n    consoleLine: {\r\n        fontSize: 14,\r\n        color: theme.palette.type === 'dark' ? '#EEE' : '#222'\r\n    },\r\n    console_log: {\r\n\r\n    },\r\n    console_warn: {\r\n        backgroundColor: theme.palette.type === 'dark' ? '#885900' : '#ffa500',\r\n    },\r\n    console_error: {\r\n        backgroundColor: theme.palette.type === 'dark' ? '#7a0000' : '#FF0000',\r\n    },\r\n    console_debug: {\r\n        opacity: 0.6,\r\n    },\r\n    consoleSeverity: {\r\n        verticalAlign: 'top',\r\n        width: 50,\r\n        textTransform: 'uppercase',\r\n    },\r\n    consoleTime: {\r\n        whiteSpace: 'nowrap',\r\n        verticalAlign: 'top',\r\n        width: 170,\r\n\r\n    },\r\n    consoleText: {\r\n        fontFamily: 'Lucida Console, Courier, monospace',\r\n        paddingTop: 4,\r\n        '&>pre': {\r\n            margin: 0\r\n        }\r\n    },\r\n\r\n\r\n\r\n    logBox: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n    },\r\n    logBoxInner: {\r\n        display: 'inline-block',\r\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\r\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\r\n        height: '100%',\r\n        //marginLeft: TOOLBOX_WIDTH,\r\n        overflow: 'auto',\r\n        position: 'relative',\r\n        verticalAlign: 'top',\r\n    },\r\n    info: {\r\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\r\n    },\r\n    error: {\r\n        background: '#FF0000',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    warn: {\r\n        background: '#FF8000',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    debug: {\r\n        background: 'gray',\r\n        opacity: 0.8,\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    silly: {\r\n        background: 'gray',\r\n        opacity: 0.6,\r\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\r\n    },\r\n    table: {\r\n        fontFamily: 'monospace',\r\n        width: '100%',\r\n    },\r\n    toolbox: {\r\n        //position: 'absolute',\r\n        //top: 0,\r\n        //left: 0,\r\n        //marginLeft: 2,\r\n        width: TOOLBOX_WIDTH,\r\n        height: '100%',\r\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        overflow: 'hidden',\r\n    },\r\n    trTime: {\r\n        width: 90\r\n    },\r\n    trSeverity: {\r\n        width: 40,\r\n        fontWeight: 'bold'\r\n    },\r\n    iconButtons: {\r\n        width: 32,\r\n        height: 32,\r\n        padding: 4\r\n    },\r\n});\r\n\r\nfunction copyToClipboard(str) {\r\n    const el = window.document.createElement('textarea');\r\n    el.value = str;\r\n    window.document.body.appendChild(el);\r\n    el.select();\r\n    window.document.execCommand('copy');\r\n    window.document.body.removeChild(el);\r\n}\r\n\r\nfunction getTimeString(d) {\r\n    let text;\r\n    let i = d.getHours();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text = i + ':';\r\n\r\n    i = d.getMinutes();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + ':';\r\n    i = d.getSeconds();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + '.';\r\n    i = d.getMilliseconds();\r\n    if (i < 10) {\r\n        i = '00' + i.toString();\r\n    } else if (i < 100) {\r\n        i = '0' + i.toString();\r\n    }\r\n    text += i;\r\n    return text;\r\n}\r\n\r\nclass Console extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lines: {},\r\n            goBottom: true,\r\n        };\r\n        this.messagesEnd = React.createRef();\r\n    }\r\n    generateLine(message) {\r\n        return <tr key={'tr_' + message.ts + '_' + message.text.substr(-10)} className={this.props.classes[message.severity]}>\r\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\r\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\r\n            <td key=\"tdMessage\">{message.text}</td>\r\n        </tr>;\r\n    }\r\n    renderLogList(lines) {\r\n        if (lines && lines.length) {\r\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\r\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>\r\n                {lines.map((line, i) => this.generateLine(line))}</tbody></table>\r\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\r\n            </div>;\r\n        } else {\r\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>;\r\n        }\r\n    }\r\n\r\n    onCopy() {\r\n        copyToClipboard((this.props.console).join('\\n'));\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.state.goBottom && this.scrollToBottom();\r\n    }\r\n\r\n    render() {\r\n        const lines = this.props.console;\r\n        return <div className={this.props.classes.logBox}>\r\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\r\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\r\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onClearAllLogs()}><IconDelete/></IconButton> : null}\r\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\r\n            </div>\r\n            {this.renderLogList(lines)}\r\n        </div>;\r\n    }\r\n}\r\n\r\nConsole.propTypes = {\r\n    theme: PropTypes.object,\r\n    onClearAllLogs: PropTypes.func,\r\n    console: PropTypes.array,\r\n};\r\n\r\nexport default withStyles(styles)(Console);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport ReactJson  from 'react-json-view';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\n\r\nimport {MdCheck as CheckIcon} from 'react-icons/md';\r\nimport {MdAdd as IconAdd} from 'react-icons/md';\r\nimport {MdDelete as IconDelete} from 'react-icons/md';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\n\r\nconst styles = theme => ({\r\n    frameRoot: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n    },\r\n    frameTextRoot: {\r\n        margin: 0,\r\n    },\r\n    frameTextPrimary: {\r\n        color: theme.palette.type === 'dark' ? '#CCC' : '#333',\r\n    },\r\n    frameTextSecondary: {\r\n        fontStyle: 'italic',\r\n        fontSize: 12,\r\n        opacity: 0.6,\r\n        paddingLeft: theme.spacing(1),\r\n    },\r\n\r\n    listRoot: {\r\n        padding: 0,\r\n    },\r\n\r\n    scopeType: {\r\n        verticalAlign: 'top',\r\n        textTransform: 'uppercase',\r\n        width: 50,\r\n    },\r\n    scopeType_local: {\r\n        color: '#53a944'\r\n    },\r\n    scopeType_closure: {\r\n        color: '#365b80'\r\n    },\r\n    scopeType_user: {\r\n        color: '#a48a15'\r\n    },\r\n    scopeName: {\r\n        color: '#bc5b5b',\r\n        width: 'calc(100% - 82px)',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    scopeButton: {\r\n        width: 32\r\n    },\r\n    scopeValueEditable: {\r\n        cursor: 'pointer'\r\n    },\r\n    selectedFrame: {\r\n        backgroundColor: '#777',\r\n        color: 'white'\r\n    },\r\n    splitter: {\r\n        width: '100%',\r\n        height: 'calc(100% - 36px)',\r\n        overflow: 'hidden',\r\n        fontSize: 12\r\n    },\r\n\r\n    toolbarScopes: {\r\n        width: 24,\r\n        display: 'inline-block',\r\n        height: '100%',\r\n        background: theme.palette.type === 'dark' ? '#222' : '#EEE',\r\n        verticalAlign: 'top',\r\n    },\r\n    scopesAfterToolbar: {\r\n        width: 'calc(100% - 24px)',\r\n        display: 'inline-block',\r\n        height: '100%',\r\n        verticalAlign: 'top',\r\n    },\r\n\r\n    scopeNameName: {\r\n        fontWeight: 'bold',\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n    },\r\n    scopeNameEqual: {\r\n        display: 'inline-block',\r\n        color: theme.palette.type === 'dark' ? '#EEE' : '#222',\r\n        verticalAlign: 'top',\r\n    },\r\n    scopeNameValue: {\r\n        verticalAlign: 'top',\r\n        display: 'inline-block',\r\n        color: '#3b709f',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    scopeButtonDel: {\r\n        padding: 0,\r\n        float: 'right',\r\n    },\r\n\r\n    valueNull: {\r\n        color: '#a44a24'\r\n    },\r\n    valueUndefined: {\r\n        color: '#a44a24'\r\n    },\r\n    valueString: {\r\n        color: '#1e8816'\r\n    },\r\n    valueNumber: {\r\n        color: '#163c88'\r\n    },\r\n    valueBoolean: {\r\n        color: '#a44a24'\r\n    },\r\n    valueObject: {\r\n        color: '#721b70'\r\n    },\r\n    valueNone: {\r\n        color: '#8a8a8a'\r\n    },\r\n    valueFunc: {\r\n        color: '#ac4343'\r\n    }\r\n});\r\n\r\nclass Stack extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.framesSize = parseFloat(window.localStorage.getItem('App.framesSize')) || 300;\r\n\r\n        this.state = {\r\n            editValue: null,\r\n            callFrames: this.props.callFrames,\r\n        };\r\n\r\n        this.editRef = React.createRef();\r\n    }\r\n\r\n    onExpressionNameUpdate() {\r\n        this.props.onExpressionNameUpdate(this.state.editValue.index, this.scopeValue, () => {\r\n            this.setState({editValue: null});\r\n            this.scopeValue = null;\r\n        });\r\n    }\r\n\r\n    renderExpression(item, i) {\r\n        const name = this.state.editValue && this.state.editValue.type === 'expression' && this.state.editValue.index === i ?\r\n            <Input\r\n                inputRef={this.editRef}\r\n                fullWidth\r\n                margin=\"dense\"\r\n                onBlur={() => this.state.editValue && this.setState({editValue: null})}\r\n                defaultValue={item.name}\r\n                onKeyUp={e => {\r\n                    if (e.keyCode === 13) {\r\n                        this.onExpressionNameUpdate();\r\n                    } else if (e.keyCode === 27) {\r\n                        this.setState({editValue: null});\r\n                    }\r\n                }}\r\n\r\n                onChange={e =>\r\n                    this.scopeValue = e.target.value}\r\n\r\n                endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                        <IconButton onClick={() => this.onExpressionNameUpdate()}>\r\n                            <CheckIcon/>\r\n                        </IconButton>\r\n                    </InputAdornment>\r\n                }\r\n            />\r\n            :\r\n            [\r\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to edit expression')}>{item.name}</div>,\r\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\r\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)}</div>\r\n            ];\r\n\r\n        return <tr key={`user_${i}${item.name}`}>\r\n            <td className={clsx(this.props.classes.scopeType, this.props.classes['scopeType_user'])}>user</td>\r\n            <td className={this.props.classes.scopeName}\r\n                onDoubleClick={() => {\r\n                    this.scopeValue = item.name || '';\r\n                    this.setState({\r\n                        editValue: {\r\n                            type: 'expression',\r\n                            valueType: 'string',\r\n                            index: i,\r\n                            name: item.name,\r\n                            value: item.name || ''\r\n                        }\r\n                    });\r\n                }}\r\n            >{name}</td>\r\n            <IconButton\r\n                className={this.props.classes.scopeButtonDel}\r\n                size=\"small\"\r\n                disabled={!!this.state.editValue}\r\n                onClick={() => this.props.onExpressionDelete(i)}\r\n            >\r\n                <IconDelete/>\r\n            </IconButton>\r\n        </tr>\r\n    }\r\n\r\n    renderExpressions() {\r\n        return this.props.expressions.map((item, i) => this.renderExpression(item, i));\r\n    }\r\n\r\n    renderOneFrameTitle(frame, i) {\r\n        if (this.props.mainScriptId === this.props.currentScriptId && frame.location.scriptId !== this.props.mainScriptId) {\r\n            return null;\r\n        }\r\n        const fileName = frame.url.split('/').pop().replace(/^script\\.js\\./, '');\r\n        return <ListItem\r\n            key={frame.id}\r\n            button\r\n            onClick={() => this.props.onChangeCurrentFrame(i)}\r\n            dense={true}\r\n            selected={this.props.currentFrame === i}\r\n            classes={{root: this.props.classes.frameRoot}}\r\n        >\r\n            <ListItemText\r\n                classes={{root: this.props.classes.frameTextRoot, primary: this.props.classes.frameTextPrimary, secondary: this.props.classes.frameTextSecondary}}\r\n                title={frame.url}\r\n                primary={frame.functionName || 'anonymous'}\r\n                secondary={`${fileName} (${frame.location.lineNumber}:${frame.location.columnNumber})`}\r\n            />\r\n        </ListItem>;\r\n    }\r\n\r\n    formatValue(value, forEdit) {\r\n        if (!value) {\r\n            if (forEdit) {\r\n                return 'none';\r\n            } else {\r\n                return <span className={this.props.classes.valueNone}>none</span>;\r\n            }\r\n        } else if (value.type === 'function') {\r\n            const text = value.description ? (value.description.length > 100 ? value.description.substring(0, 100) + '...' : value.description) : 'function';\r\n            if (forEdit) {\r\n                return text;\r\n            } else {\r\n                return <span className={this.props.classes.valueFunc} title={value.description}>{text}</span>;\r\n            }\r\n        } else if (value.value === undefined) {\r\n            if (forEdit) {\r\n                return 'undefined';\r\n            } else {\r\n                return <span className={this.props.classes.valueUndefined}>undefined</span>;\r\n            }\r\n        } else if (value.value === null) {\r\n            if (forEdit) {\r\n                return 'null';\r\n            } else {\r\n                return <span className={this.props.classes.valueNull}>null</span>;\r\n            }\r\n        } else if (value.type === 'string') {\r\n            if (forEdit) {\r\n                return value.value;\r\n            } else {\r\n                const text = value.value ? (value.value.length > 100 ? value.value.substring(0, 100) + '...' : value.value) : '';\r\n                return <span className={this.props.classes.valueString} title={text}>\"{text}\"</span>;\r\n            }\r\n        } else if (value.type === 'boolean') {\r\n            if (forEdit) {\r\n                return value.value.toString();\r\n            } else {\r\n                return <span className={this.props.classes.valueBoolean}>{value.value.toString()}</span>;\r\n            }\r\n        } else if (value.type === 'object') {\r\n            if (forEdit) {\r\n                return JSON.stringify(value.value);\r\n            } else {\r\n                return <ReactJson\r\n                    enableClipboard={false}\r\n                    style={{backgroundColor: 'inherit', marginTop: 3}}\r\n                    src={value.value}\r\n                    collapsed={true}\r\n                    theme={this.props.themeType === 'dark' ? 'brewer' : 'rjv-default'}\r\n                    displayDataTypes={false}\r\n                />;\r\n            }\r\n        } else {\r\n            return value.value.toString();\r\n        }\r\n    }\r\n\r\n    onWriteScopeValue() {\r\n        if (this.scopeValue === 'true') {\r\n            this.scopeValue = true;\r\n        } else if (this.scopeValue === 'false') {\r\n            this.scopeValue = false;\r\n        } else if (this.scopeValue === 'null') {\r\n            this.scopeValue = null;\r\n        } else if (this.scopeValue === 'undefined') {\r\n            this.scopeValue = undefined;\r\n        } else\r\n        if (parseFloat(this.scopeValue).toString() === this.scopeValue) {\r\n            this.scopeValue = parseFloat(this.scopeValue);\r\n        }\r\n\r\n        this.props.onWriteScopeValue({\r\n            variableName: this.state.editValue.name,\r\n            scopeNumber: 0,\r\n            newValue: {\r\n                value: this.scopeValue,\r\n                valueType: typeof this.scopeValue,\r\n            },\r\n            callFrameId: this.props.callFrames[this.props.currentFrame].callFrameId\r\n        });\r\n\r\n        this.setState({editValue: null});\r\n        this.scopeValue = null;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        //this.editRef.current?.select();\r\n        this.editRef.current?.focus();\r\n    }\r\n\r\n    renderScope(scopeId, item, type) {\r\n        const editable = !this.props.currentFrame && item.value && (item.value.type === 'undefined' || item.value.type === 'string' || item.value.type === 'number' || item.value.type === 'boolean' || item.value?.value === null || item.value?.value === undefined);\r\n\r\n        const el = this.state.editValue && this.state.editValue.type === type && this.state.editValue.name === item.name ?\r\n            [\r\n                <div key=\"name\" className={this.props.classes.scopeNameName}>{item.name}</div>,\r\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\r\n                <Input\r\n                    inputRef={this.editRef}\r\n                    margin=\"dense\"\r\n                    onBlur={() => this.state.editValue && this.setState({editValue: null})}\r\n                    defaultValue={this.formatValue(item.value, true)}\r\n                    onKeyUp={e => {\r\n                        if (e.keyCode === 13) {\r\n                            this.onWriteScopeValue()\r\n                        } else if (e.keyCode === 27) {\r\n                            this.setState({editValue: null})\r\n                        }\r\n                    }}\r\n                    onChange={e =>\r\n                        this.scopeValue = e.target.value}\r\n                    endAdornment={\r\n                        <InputAdornment position=\"end\">\r\n                            <IconButton onClick={() => this.onWriteScopeValue()}>\r\n                                <CheckIcon/>\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                    }\r\n                />\r\n            ]\r\n            :\r\n            [\r\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to write value')}>{item.name}</div>,\r\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\r\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)} ({item.value.type})</div>\r\n            ];\r\n\r\n\r\n        return <tr key={`${type}_${scopeId}_${item.name}`}>\r\n            <td className={clsx(this.props.classes.scopeType, this.props.classes['scopeType_' + type])}>{type}</td>\r\n            <td\r\n                className={clsx(this.props.classes.scopeName, !this.props.currentFrame && editable && this.props.classes.scopeValueEditable)}\r\n                onDoubleClick={() => {\r\n                    if (editable) {\r\n                        this.scopeValue = item.value.value;\r\n                        this.setState({\r\n                            editValue: {\r\n                                scopeId,\r\n                                type,\r\n                                valueType: item.value.type,\r\n                                name: item.name,\r\n                                value: item.value.value\r\n                            }\r\n                        });\r\n                    }\r\n                }}\r\n            >{el}</td>\r\n        </tr>;\r\n    }\r\n\r\n    renderScopes(frame) {\r\n        if (!frame) {\r\n            return null;\r\n        } else {\r\n            // first local\r\n            let result = this.renderExpressions();\r\n\r\n            let items = this.props.scopes?.local?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'local'));\r\n            items && items.forEach(item => result.push(item));\r\n\r\n            items = this.props.scopes?.closure?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'local'));\r\n            items && items.forEach(item => result.push(item));\r\n\r\n            return <table style={{width: '100%'}}>\r\n                <tbody>\r\n                    {result}\r\n                </tbody>\r\n            </table>;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <SplitterLayout\r\n            customClassName={this.props.classes.splitter}\r\n            primaryIndex={1}\r\n            secondaryMinSize={200}\r\n            primaryMinSize={200}\r\n            vertical={false}\r\n            secondaryInitialSize={this.framesSize}\r\n            onSecondaryPaneSizeChange={size => this.framesSize = parseFloat(size)}\r\n            onDragEnd={() => window.localStorage.setItem('App.framesSize', this.framesSize.toString())}\r\n        >\r\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\r\n                <List classes={{root: this.props.classes.listRoot}}>\r\n                    {this.props.callFrames ? this.props.callFrames.map((frame, i) =>\r\n                        this.renderOneFrameTitle(frame, i)) : null}\r\n                </List>\r\n            </div>\r\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\r\n                <div className={this.props.classes.toolbarScopes}>\r\n                    <IconButton size=\"small\" onClick={() => this.props.onExpressionAdd((i, item) => {\r\n                        this.scopeValue = item.name || '';\r\n                        this.setState({\r\n                            editValue: {\r\n                                type: 'expression',\r\n                                valueType: 'string',\r\n                                index: i,\r\n                                name: item.name,\r\n                                value: item.name || ''\r\n                            }\r\n                        });\r\n                    })}><IconAdd/></IconButton>\r\n                </div>\r\n                <div className={this.props.classes.scopesAfterToolbar}>\r\n                    {this.props.callFrames && this.props.callFrames.length && this.renderScopes(this.props.callFrames[this.props.currentFrame])}\r\n                </div>\r\n            </div>\r\n        </SplitterLayout>;\r\n    }\r\n}\r\n\r\nStack.propTypes = {\r\n    currentScriptId: PropTypes.string,\r\n    mainScriptId: PropTypes.string,\r\n    scopes: PropTypes.object,\r\n    expressions: PropTypes.array,\r\n    callFrames: PropTypes.array,\r\n    currentFrame: PropTypes.number,\r\n    onChangeCurrentFrame: PropTypes.func,\r\n    onWriteScopeValue: PropTypes.func,\r\n    onExpressionDelete: PropTypes.func,\r\n    onExpressionAdd: PropTypes.func,\r\n    onExpressionNameUpdate: PropTypes.func,\r\n    themeType: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(Stack);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport SplitterLayout from 'react-splitter-layout';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport {MdClose as IconClose, MdPlayArrow as IconRun} from 'react-icons/md';\r\nimport { MdPause as IconPause } from 'react-icons/md';\r\nimport { MdArrowForward as IconNext } from 'react-icons/md';\r\nimport { MdArrowDownward as IconStep } from 'react-icons/md';\r\nimport { MdArrowUpward as IconOut } from 'react-icons/md';\r\nimport { MdRefresh as IconRestart } from 'react-icons/md';\r\nimport { MdWarning as IconException } from 'react-icons/md';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport DialogError from '../../Dialogs/Error';\r\nimport Editor from './Editor';\r\nimport Console from './Console';\r\nimport Stack from './Stack';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    toolbar: {\r\n        minHeight: 38,//Theme.toolbar.height,\r\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    buttonRun: {\r\n        color: 'green'\r\n    },\r\n    buttonPause: {\r\n        color: 'orange'\r\n    },\r\n    buttonRestart: {\r\n        color: 'darkgreen'\r\n    },\r\n    buttonStop: {\r\n        color: 'red'\r\n    },\r\n    buttonNext: {\r\n        color: 'blue'\r\n    },\r\n    buttonStep: {\r\n        color: 'blue'\r\n    },\r\n    buttonOut: {\r\n        color: 'blue'\r\n    },\r\n    buttonException: {\r\n\r\n    },\r\n\r\n    tabFile: {\r\n        textTransform: 'inherit',\r\n        color: theme.palette.type === 'dark' ? '#DDD' : 'inherit'\r\n    },\r\n    tabText: {\r\n        maxWidth: 130,\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        display: 'inline-block',\r\n        verticalAlign: 'middle',\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        top: 8,\r\n        right: 0,\r\n        zIndex: 10,\r\n        padding: 8,\r\n        cursor: 'pointer'\r\n    },\r\n\r\n    tabsRoot: {\r\n        minHeight: 24,\r\n        background: theme.palette.type === 'dark' ? '#333' : '#e6e6e6',\r\n        color: theme.palette.type === 'dark' ? 'white' : 'inherit'\r\n    },\r\n    tabRoot: {\r\n        minHeight: 24,\r\n    },\r\n\r\n    bpListItem: {\r\n        borderTop: '1px dashed #bfbfbf44',\r\n    },\r\n    monospace: {\r\n        fontFamily: 'Courier New, monospace',\r\n        whiteSpace: 'pre',\r\n        fontSize: 12,\r\n    },\r\n    arrow: {\r\n        color: '#fffa4f',\r\n    },\r\n    splitter: {\r\n        height: 'calc(100% - 52px)',\r\n        '& .layout-pane': {\r\n            overflow: 'hidden',\r\n            height: '100%'\r\n        }\r\n    }\r\n});\r\n\r\nclass Debugger extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let breakpoints = window.localStorage.getItem('javascript.tools.bp.' + this.props.src);\r\n        try {\r\n            breakpoints = breakpoints ? JSON.parse(breakpoints) : [];\r\n        } catch (e) {\r\n            breakpoints = [];\r\n        }\r\n\r\n        let expressions = window.localStorage.getItem('javascript.tools.exps.' + this.props.src);\r\n        try {\r\n            expressions = expressions ? JSON.parse(expressions) : [];\r\n            expressions = expressions.map(name => ({name}));\r\n        } catch (e) {\r\n            expressions = [];\r\n        }\r\n\r\n        this.toolSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.toolSize')) || 150 : 150;\r\n\r\n        this.state = {\r\n            starting: true,\r\n            selected: null,\r\n            tabs: {},\r\n            script: '',\r\n            breakpoints,\r\n            expressions,\r\n            running: false,\r\n            error: '',\r\n            started: false,\r\n            paused: true,\r\n            location: null,\r\n            toolsTab: window.localStorage.getItem('javascript.tools.tab') || 'console',\r\n            stopOnException: window.localStorage.getItem('javascript.tools.stopOnException') === 'true',\r\n            console: [],\r\n            finished: false,\r\n            currentFrame: 0,\r\n            scopes: {},\r\n            queryBreakpoints: null,\r\n        };\r\n\r\n        this.scripts = {};\r\n        this.mainScriptId = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        new Promise(resolve => {\r\n            if (this.props.debugInstance) {\r\n                resolve(this.props.debugInstance.instance);\r\n            } else {\r\n                this.props.socket.getObject(this.props.src)\r\n                    .then(obj => obj?.common?.engine?.replace('system.adapter.', ''));\r\n            }\r\n        })\r\n            .then(instance =>\r\n                this.setState({instance: instance}, () => {\r\n                    if (this.state.instance) {\r\n                        this.props.socket.setState(this.state.instance + '.debug.from', '{\"cmd\": \"subscribed\"}', true);\r\n                        //.then(() => );\r\n                        setTimeout(() =>\r\n                            this.props.socket.subscribeState(this.state.instance + '.debug.from', this.fromInstance), 200);\r\n                    } else {\r\n                        this.setState({error: 'Unknown instance'});\r\n                    }\r\n                }));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.instance) {\r\n            this.props.socket.unsubscribeState(this.state.instance + '.debug.from', this.fromInstance);\r\n            this.props.socket.sendTo(this.state.instance, 'debugStop');\r\n        }\r\n    }\r\n\r\n    sendToInstance(cmd) {\r\n        this.props.socket.setState(this.state.instance + '.debug.to', JSON.stringify(cmd));\r\n    }\r\n\r\n    reinitBreakpoints(cb) {\r\n        if (this.state.breakpoints.length) {\r\n            let breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\r\n            breakpoints = breakpoints.map(item => item.location);\r\n            this.setState({breakpoints: []}, () => {\r\n                this.sendToInstance({breakpoints, cmd: 'sb'});\r\n                if (this.state.stopOnException) {\r\n                    this.sendToInstance({cmd: 'stopOnException', state: true});\r\n                }\r\n\r\n                cb && cb();\r\n            });\r\n        } else if (this.state.stopOnException) {\r\n            this.sendToInstance({cmd: 'stopOnException', state: true});\r\n            cb && cb();\r\n        } else {\r\n            cb && cb();\r\n        }\r\n    }\r\n\r\n    getLocation(context) {\r\n        if (context.callFrames) {\r\n            const frame = context.callFrames[0];\r\n            return frame.location;\r\n        }\r\n    }\r\n\r\n    readCurrentScope() {\r\n        const frame = this.state.context.callFrames[this.state.currentFrame];\r\n        if (frame) {\r\n            const scopes = frame.scopeChain.filter(scope => scope.type !== 'global');\r\n            if (scopes.length) {\r\n                this.sendToInstance({cmd: 'scope', scopes});\r\n            } else if (this.state.scopes.global || this.state.scopes.local || this.state.scopes.closure) {\r\n                this.setState({scopes: {}});\r\n            }\r\n        }\r\n    }\r\n\r\n    readExpressions(i) {\r\n        if (this.state.expressions.length && this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame]) {\r\n            if (i !== undefined) {\r\n                this.sendToInstance({\r\n                    cmd: 'expressions',\r\n                    expressions: [this.state.expressions[i]],\r\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\r\n                });\r\n            } else {\r\n                this.sendToInstance({\r\n                    cmd: 'expressions',\r\n                    expressions: this.state.expressions,\r\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    fromInstance = (id, state) => {\r\n        try {\r\n            const data = JSON.parse(state.val);\r\n            if (data.cmd === 'subscribed') {\r\n                this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src});\r\n            } else\r\n            if (data.cmd === 'readyToDebug') {\r\n                this.mainScriptId = data.scriptId;\r\n                this.scripts[data.scriptId] = data.script;\r\n                if (data.script.startsWith('(async () => {debugger;\\n')) {\r\n                    this.scripts[data.scriptId] = '(async () => {\\n' + data.script.substring('(async () => {debugger;\\n'.length);\r\n                } else if (data.script.startsWith('debugger;')) {\r\n                    this.scripts[data.scriptId] = data.script.substring('debugger;'.length);\r\n                }\r\n\r\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\r\n                tabs[data.scriptId] = this.props.debugInstance ? data.url: this.props.src.replace('script.js.', '');\r\n\r\n                const ts = Date.now() + '.' + Math.random() * 10000;\r\n                data.context.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\r\n\r\n                this.setState({\r\n                    starting: false,\r\n                    finished: false,\r\n                    selected: this.mainScriptId,\r\n                    script: this.scripts[data.scriptId],\r\n                    tabs,\r\n                    currentFrame: 0,\r\n                    started: true,\r\n                    paused: true,\r\n                    location: this.getLocation(data.context),\r\n                    context: data.context,\r\n                }, () =>\r\n                    this.reinitBreakpoints(() => {\r\n                        this.readCurrentScope();\r\n                        this.readExpressions();\r\n                    }));\r\n            } else if (data.cmd === 'paused') {\r\n                const ts = Date.now() + '.' + Math.random() * 10000;\r\n                data.context.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\r\n                const location = this.getLocation(data.context);\r\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\r\n                const parts = data.context.callFrames[0].url.split('iobroker.javascript');\r\n                tabs[location.scriptId] = (parts[1] || parts[0]).replace('script.js.', '');\r\n\r\n                const newState = {\r\n                    tabs,\r\n                    paused: true,\r\n                    location,\r\n                    currentFrame: 0,\r\n                    context: data.context,\r\n                    scope: {id: (data.context && data.context.callFrames && data.context.callFrames[0] && data.context.callFrames[0].id) || 0}\r\n                };\r\n\r\n                newState.script = this.scripts[location.scriptId] === undefined ? I18n.t('loading...') : this.scripts[location.scriptId];\r\n                newState.selected = location.scriptId;\r\n\r\n                this.setState(newState, () => {\r\n                    this.readCurrentScope();\r\n                    this.readExpressions();\r\n                    if (!this.scripts[location.scriptId]) {\r\n                        this.sendToInstance({cmd: 'source', scriptId: location.scriptId});\r\n                    }\r\n                });\r\n            } else if (data.cmd === 'script') {\r\n                this.scripts[data.scriptId] = data.text;\r\n                if (this.state.selected === data.scriptId) {\r\n                    this.setState({script: this.scripts[data.scriptId]});\r\n                }\r\n            } else if (data.cmd === 'resumed') {\r\n                this.setState({paused: false});\r\n            } else if (data.cmd === 'log') {\r\n                if (this.state.toolsTab === 'console') {\r\n                    this.console = null;\r\n                    const console = [...this.state.console];\r\n                    console.push({text: data.text, severity: data.severity, ts: data.ts});\r\n                    this.setState({console});\r\n                } else {\r\n                    this.console = this.console || [...this.state.console];\r\n                    this.console.push({text: data.text, severity: data.severity, ts: data.ts});\r\n                }\r\n            } else if (data.cmd === 'error') {\r\n                this.setState({error: data.error});\r\n            } else if (data.cmd === 'finished' || data.cmd === 'debugStopped') {\r\n                this.setState({\r\n                    finished: true,\r\n                    starting: false,\r\n                    started: true,\r\n                });\r\n            } else if (data.cmd === 'sb') {\r\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\r\n                let changed = false;\r\n                data.breakpoints.filter(bp => bp).forEach(bp => {\r\n                    const found = breakpoints.find(item =>\r\n                        item.location.scriptId === bp.location.scriptId && item.location.lineNumber === bp.location.lineNumber);\r\n                    if (!found) {\r\n                        changed = true;\r\n                        breakpoints.push(bp);\r\n                    }\r\n                });\r\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\r\n                changed && this.setState({breakpoints});\r\n            } else if (data.cmd === 'cb') {\r\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\r\n                let changed = false;\r\n\r\n                data.breakpoints.filter(id => id !== undefined && id !== null).forEach(id => {\r\n                    const found = breakpoints.find(item => item.id === id);\r\n                    if (found) {\r\n                        const pos = breakpoints.indexOf(found);\r\n                        breakpoints.splice(pos, 1);\r\n                        changed = true;\r\n                    }\r\n                });\r\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\r\n                changed && this.setState({breakpoints});\r\n            } else if (data.cmd === 'scope') {\r\n                //const global = data.scopes.find(scope => scope.type === 'global') || null;\r\n                const local = data.scopes.find(scope => scope.type === 'local') || null;\r\n                const closure = data.scopes.find(scope => scope.type === 'closure') || null;\r\n\r\n                console.log(JSON.stringify(closure));\r\n\r\n                this.setState({scopes: {local, closure, id: this.state.scope.id + '_' + this.state.currentFrame}});\r\n            } else if (data.cmd === 'setValue') {\r\n                const scopes = JSON.parse(JSON.stringify(this.state.scopes));\r\n                let item;\r\n                if (data.scopeNumber === 0) {\r\n                    item = scopes.local && scopes.local.properties && scopes.local.properties.result && scopes.local.properties.result.find(item => item.name === data.variableName);\r\n                } else {\r\n                    item = scopes.closure && scopes.closure.properties && scopes.closure.properties.result && scopes.closure.properties.result && scopes.closure.properties.result.find(item => item.name === data.variableName);\r\n                }\r\n                if (item) {\r\n                    item.value.value = data.newValue.value;\r\n                    this.setState({scopes});\r\n                }\r\n            } else if (data.cmd === 'expressions') {\r\n                // update values\r\n                let expressions = JSON.parse(JSON.stringify(this.state.expressions));\r\n                let changed = false;\r\n                data.expressions.forEach(item => {\r\n                    const expression = expressions.find(it => it.name === item.name);\r\n                    if (expression) {\r\n                        changed = true;\r\n                        expression.value = item.result;\r\n                    }\r\n                });\r\n                changed && this.setState({expressions});\r\n\r\n                console.log('expressions: ' + JSON.stringify(data));\r\n            } else if (data.cmd === 'getPossibleBreakpoints') {\r\n                if (data.breakpoints?.locations?.length === 1) {\r\n                    this.sendToInstance({breakpoints: data.breakpoints.locations, cmd: 'sb'});\r\n                } else if (!data.breakpoints?.locations?.length) {\r\n                    window.alert('cannot set');\r\n                } else {\r\n                    this.setState({queryBreakpoints: data.breakpoints.locations});\r\n                }\r\n            } else {\r\n                console.error(`Unknown command: ${JSON.stringify(data)}`);\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    getTextAtLocation(location) {\r\n        let line = this.state.script.split(/\\r\\n|\\n/)[location.lineNumber];\r\n        let arrow = '';\r\n        if (location.columnNumber >= 10) {\r\n            line = line.substring(location.columnNumber - 10, location.columnNumber + 20);\r\n            arrow = ''.padStart(10, ' ') + '↑';\r\n        } else {\r\n            line = line.substring(0, 30 - location.columnNumber);\r\n            arrow = ''.padStart(location.columnNumber, ' ') + '↑';\r\n        }\r\n        return [\r\n            <div className={this.props.classes.monospace}>{line}</div>,\r\n            <div className={clsx(this.props.classes.monospace, this.props.classes.arrow)}>{arrow}</div>\r\n        ];\r\n    }\r\n\r\n    renderQueryBreakpoints() {\r\n        if (this.state.queryBreakpoints) {\r\n            return <Dialog onClose={() => this.setState({queryBreakpoints: null})} aria-labelledby=\"bp-dialog-title\" open={true}>\r\n                <DialogTitle id=\"bp-dialog-title\">{I18n.t('Select breakpoint')}</DialogTitle>\r\n                <List>\r\n                    {this.state.queryBreakpoints.map((bp, i) => (\r\n                        <ListItem\r\n                            classes={{root: this.props.classes.bpListItem}}\r\n                            dense={true}\r\n                            button\r\n                            onClick={() => {\r\n                                this.sendToInstance({breakpoints: [bp], cmd: 'sb'});\r\n                                this.setState({queryBreakpoints: null})\r\n                            }}\r\n                            key={i}>\r\n                            <ListItemText\r\n                                classes={{primary: this.props.classes.bpListPrimary, secondary: this.props.classes.bpListSecondary}}\r\n                                primary={this.getTextAtLocation(bp)}\r\n                            />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </Dialog>;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    renderError() {\r\n        if (this.state.error) {\r\n            return <DialogError key=\"dialogError\" onClose={() => this.setState({ error: '' })} text={this.state.error} />;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    closeTab(id, e) {\r\n        e && e.stopPropagation();\r\n        const tabs = JSON.parse(JSON.stringify(this.state.tabs));\r\n        delete tabs[id];\r\n        const newState = {tabs, script: this.scripts[this.mainScriptId], selected: this.mainScriptId};\r\n        if (this.state.location && this.state.location.scriptId !== this.mainScriptId) {\r\n            newState.location = null;\r\n        }\r\n        this.setState(newState);\r\n    }\r\n\r\n    renderTabs() {\r\n        const disabled = !this.state.tabs || !this.state.started;\r\n        return <Tabs\r\n            component={'div'}\r\n            indicatorColor=\"primary\"\r\n            style={{ position: 'relative', width: 'calc(100% - 300px)', display: 'inline-block' }}\r\n            value={this.state.selected}\r\n            onChange={(event, value) => {\r\n                if (this.scripts[value]) {\r\n                    this.setState({selected: value, script: this.scripts[value]});\r\n                } else {\r\n                    this.setState({selected: value, script: 'loading...'}, () =>\r\n                        this.sendToInstance({cmd: 'source', scriptId: value}));\r\n                }\r\n            }}\r\n            scrollButtons=\"auto\"\r\n        >\r\n            {Object.keys(this.state.tabs || [])\r\n                .map(id => {\r\n                    let label = id;\r\n                    let title = this.state.tabs[id] || '';\r\n                    if (this.state.tabs[id]) {\r\n                        label = this.state.tabs[id].split('/').pop();\r\n                    }\r\n                    label = [\r\n                        <div key=\"text\" className={clsx(this.props.classes.tabText)}>{label}</div>,\r\n                        id !== this.mainScriptId && <span key=\"icon\" className={this.props.classes.closeButton}>\r\n                            <IconClose key=\"close\" onClick={e => this.closeTab(id, e)} fontSize=\"small\" /></span>];\r\n\r\n                    return <Tab disabled={disabled} classes={{root: this.props.classes.tabFile}} label={label} title={title} key={id} value={id}/>;\r\n                })}\r\n        </Tabs>;\r\n    }\r\n\r\n    onResume() {\r\n        this.sendToInstance({cmd: 'cont'});\r\n    }\r\n\r\n    onPause() {\r\n        this.sendToInstance({cmd: 'pause'});\r\n    }\r\n\r\n    onNext() {\r\n        this.sendToInstance({cmd: 'next'});\r\n    }\r\n\r\n    onStepIn() {\r\n        this.sendToInstance({cmd: 'step'});\r\n    }\r\n\r\n    onStepOut() {\r\n        this.sendToInstance({cmd: 'out'});\r\n    }\r\n\r\n    onRestart() {\r\n        this.setState({started: false, starting: true}, () =>\r\n            this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src}));\r\n    }\r\n\r\n    onToggleException() {\r\n        const stopOnException = !this.state.stopOnException;\r\n        window.localStorage.setItem('javascript.tools.stopOnException', stopOnException ? 'true' : 'false');\r\n        this.setState({stopOnException}, () =>\r\n            this.sendToInstance({cmd: 'stopOnException', state: stopOnException}));\r\n    }\r\n\r\n    renderToolbar() {\r\n        const disabled = !this.state.started;\r\n        return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\r\n            <IconButton className={this.props.classes.buttonRestart} disabled={disabled} onClick={() => this.onRestart()}  title={I18n.t('Restart')}><IconRestart/></IconButton>\r\n            {\r\n                !this.state.finished && this.state.paused ?\r\n                    <IconButton className={this.props.classes.buttonRun} disabled={disabled} onClick={() => this.onResume()}\r\n                                title={I18n.t('Resume execution')}><IconRun/></IconButton>\r\n                    :\r\n                    !this.state.finished && <IconButton disabled={disabled} className={this.props.classes.buttonPause} onClick={() => this.onPause()}\r\n                                title={I18n.t('Pause execution')}><IconPause/></IconButton>\r\n            }\r\n            {!this.state.finished && <IconButton className={this.props.classes.buttonNext} disabled={disabled || !this.state.paused} onClick={() => this.onNext()}  title={I18n.t('Go to next line')}><IconNext/></IconButton>}\r\n            {!this.state.finished && <IconButton className={this.props.classes.buttonStep} disabled={disabled || !this.state.paused} onClick={() => this.onStepIn()}  title={I18n.t('Step into function')}><IconStep/></IconButton>}\r\n            {!this.state.finished && <IconButton className={this.props.classes.buttonOut} disabled={disabled || !this.state.paused} onClick={() => this.onStepOut()}  title={I18n.t('Step out from function')}><IconOut/></IconButton>}\r\n            {!this.state.finished && <IconButton className={this.props.classes.buttonException} color={this.state.stopOnException ? 'primary' : 'default'} disabled={disabled || !this.state.paused} onClick={() => this.onToggleException()} title={I18n.t('Stop on exception')}><IconException/></IconButton>}\r\n            {this.renderTabs()}\r\n        </Toolbar>;\r\n    }\r\n\r\n    getPossibleBreakpoints(bp) {\r\n        const end = {...bp, columnNumber: 1000};\r\n        this.sendToInstance({cmd: 'getPossibleBreakpoints', start: bp, end});\r\n    }\r\n\r\n    toggleBreakpoint(lineNumber) {\r\n        let bp = this.state.breakpoints.find(item => item.location.scriptId === this.state.selected && item.location.lineNumber === lineNumber);\r\n        if (bp) {\r\n            const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\r\n            this.setState({breakpoints}, () =>\r\n                this.sendToInstance({breakpoints: [bp.id], cmd: 'cb'}));\r\n        } else {\r\n            bp = {scriptId: this.state.selected, lineNumber, columnNumber: 0};\r\n            this.getPossibleBreakpoints(bp);\r\n        }\r\n    }\r\n\r\n    renderCode() {\r\n        if (this.state.script && this.state.started) {\r\n            const breakpoints = this.state.breakpoints.filter(bp => bp.location.scriptId === this.state.selected);\r\n\r\n            return <Editor\r\n                runningInstances={this.props.runningInstances}\r\n                socket={this.props.socket}\r\n                adapterName={this.props.adapterName}\r\n                scriptName={this.state.tabs[this.state.selected]}\r\n                sourceId={this.state.selected}\r\n                script={this.state.script}\r\n                paused={this.state.paused}\r\n                breakpoints={breakpoints}\r\n                location={this.state.location}\r\n                themeType={this.props.themeType}\r\n                themeName={this.props.themeName}\r\n                onToggleBreakpoint={i => this.toggleBreakpoint(i)}\r\n            />\r\n        }\r\n    }\r\n\r\n    renderFrames() {\r\n        if (!this.state.paused) {\r\n            return null;\r\n        }\r\n\r\n        return <Stack\r\n            currentScriptId={this.state.selected}\r\n            scopes={this.state.scopes}\r\n            expressions={this.state.expressions}\r\n            themeType={this.props.themeType}\r\n            callFrames={this.state.context?.callFrames}\r\n            currentFrame={this.state.currentFrame}\r\n            onChangeCurrentFrame={i => {\r\n                this.setState({currentFrame: i, scopes: {}}, () => {\r\n                    this.readCurrentScope();\r\n                    this.readExpressions();\r\n                })\r\n            }}\r\n            onWriteScopeValue={obj => {\r\n                this.sendToInstance({\r\n                    cmd: 'setValue',\r\n                    variableName: obj.variableName,\r\n                    scopeNumber: obj.scopeNumber,\r\n                    newValue: obj.newValue,\r\n                    callFrameId: obj.callFrameId\r\n                });\r\n            }}\r\n            onExpressionDelete={i => {\r\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\r\n                expressions.splice(i, 1);\r\n                this.setState({expressions});\r\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\r\n            }}\r\n            onExpressionAdd={cb => {\r\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\r\n                expressions.push({name: '', value: {value: ''}});\r\n                this.setState({expressions}, () => cb && cb(expressions.length - 1, this.state.expressions[expressions.length - 1]));\r\n            }}\r\n            onExpressionNameUpdate={(i, name, cb) => {\r\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\r\n                if (!name) {\r\n                    expressions.splice(i, 1);\r\n                } else if (expressions.find(item => item.name === name)) {\r\n                    return cb && cb(false);\r\n                } else {\r\n                    expressions[i].name = name;\r\n                }\r\n\r\n                this.setState({expressions}, () => {\r\n                    name && this.readExpressions(i);\r\n                    cb && cb();\r\n                });\r\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\r\n            }}\r\n        />;\r\n    }\r\n\r\n    renderConsole() {\r\n        return <Console\r\n            theme={this.props.theme}\r\n            console={this.state.console}\r\n            onClearAllLogs={() => this.setState({console: []})}\r\n        />;\r\n    }\r\n\r\n    renderTools() {\r\n        const disabled = !this.state.tabs || !this.state.started;\r\n        return <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\r\n            <Tabs\r\n                classes={{root: this.props.classes.tabsRoot}}\r\n                component={'div'}\r\n                indicatorColor=\"primary\"\r\n                style={{ position: 'relative', width: '100%' }}\r\n                value={this.state.toolsTab}\r\n                onChange={(event, value) => {\r\n                    const newState = {toolsTab: value};\r\n\r\n                    // load logs from buffer\r\n                    if (this.console) {\r\n                        newState.console = this.console;\r\n                        this.console = null;\r\n                    }\r\n\r\n                    window.localStorage.setItem('javascript.tools.tab', value);\r\n\r\n                    this.setState(newState);\r\n                }}\r\n                scrollButtons=\"auto\"\r\n            >\r\n                <Tab classes={{root: this.props.classes.tabRoot}} disabled={disabled} label={I18n.t('Stack')} value=\"stack\"/>\r\n                <Tab classes={{root: this.props.classes.tabRoot}} disabled={disabled} label={I18n.t('Console')} value=\"console\"/>\r\n            </Tabs>\r\n            <div style={{width: '100%', height: 'calc(100% - 36px)', overflow: 'hidden'}}>\r\n                {this.state.toolsTab === 'stack' && !disabled ? this.renderFrames() : null}\r\n                {this.state.toolsTab === 'console' && !disabled ? this.renderConsole() : null}\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    render() {\r\n        return <div key=\"debugger\" style={this.props.style} className={clsx(this.props.classes.root, this.props.className)}>\r\n            {this.state.starting ? <LinearProgress/> : null}\r\n            {this.renderToolbar()}\r\n            <SplitterLayout\r\n                customClassName={this.props.classes.splitter}\r\n                primaryMinSize={100}\r\n                vertical={true}\r\n                secondaryInitialSize={this.toolSize}\r\n                onSecondaryPaneSizeChange={size => this.toolSize = parseFloat(size)}\r\n                onDragEnd={() => window.localStorage.setItem('App.toolSize', this.toolSize.toString())}\r\n                //style={{width: '100%', height: 'calc(100% - 73px)', overflow: 'hidden'}}\r\n            >\r\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\r\n                    {this.renderCode()}\r\n                    {this.renderQueryBreakpoints()}\r\n                </div>\r\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\r\n                    {this.renderTools()}\r\n                </div>\r\n            </SplitterLayout>\r\n            {this.renderError()}\r\n        </div>;\r\n    }\r\n}\r\n\r\nDebugger.propTypes = {\r\n    runningInstances: PropTypes.object,\r\n    adapterName: PropTypes.string,\r\n    src: PropTypes.string,\r\n    socket: PropTypes.object.isRequired,\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    themeName: PropTypes.string,\r\n    debugInstance: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(Debugger);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Tour from 'reactour';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport { MdSave as IconSave } from 'react-icons/md';\nimport { MdCancel as IconCancel } from 'react-icons/md';\nimport { MdClose as IconClose } from 'react-icons/md';\nimport { MdRefresh as IconRestart } from 'react-icons/md';\nimport { MdInput as IconDoEdit } from 'react-icons/md';\nimport { FaClock as IconCron } from 'react-icons/fa';\nimport { FaClipboardList as IconSelectId } from 'react-icons/fa';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport { FaFileImport as IconImport } from 'react-icons/fa';\nimport { FaFlagCheckered as IconCheck } from 'react-icons/fa';\nimport { MdGpsFixed as IconLocate } from 'react-icons/md';\nimport { MdClearAll as IconCloseAll } from 'react-icons/md';\nimport { MdBuild as IconDebugMenu } from 'react-icons/md';\nimport { MdBugReport as IconDebug } from 'react-icons/md';\nimport { MdPlaylistAddCheck as IconVerbose } from 'react-icons/md';\nimport { MdBugReport as IconDebugMode } from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png';\nimport ImgRules2Js from './assets/rules2js.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogCron from '@iobroker/adapter-react/Dialogs/Cron';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\n\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\nimport Debugger from './Components/Debugger';\nimport steps, { STEPS } from './Components/RulesEditor/helpers/Tour';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    toolbarButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    saveButton: {\n        background: '#ff9900'\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1)\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            cmdToRules: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n            isTourOpen: window.localStorage.getItem('tour') !== 'true',\n            tourStep: STEPS.selectTriggers,\n            showAdapterDebug: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({ showSelectId: true });\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({ showCron: true });\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({ showScript: true });\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({ instancesLoaded: true });\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n            if (obj && obj.type === 'instance') {\n                // update instances\n                if (!window.main.instances.includes(id)) {\n                    window.main.instances.push(id);\n                    window.main.instances.sort();\n                }\n                window.main.objects[id] = obj;\n            }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({ toast: I18n.t('Script %s was modified on disk.', id.split('.').pop()) });\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.isTourOpen && this.state.tourStep === STEPS.saveTheScript) {\n            this.setState({ isTourOpen: false });\n            window.localStorage.setItem('tour', 'true');\n        }\n\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({ changed }, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({ changed }, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({ changed, blockly: false, selected: '' }, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({ selected: nowSelected }), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({ changed }, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        if (this.props.debugMode) {\n            return;\n        }\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = { editing };\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () => {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({ confirm: question });\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({ cmdToBlockly: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToBlockly: '' }), 200));\n    }\n\n    sendCommandToRules(cmd) {\n        this.setState({ cmdToRules: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToRules: '' }), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                component={'div'}\n                key=\"tabs1\"\n                value={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                onChange={(event, value) => this.onTabChange(event, value)}\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block' }}\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n            >\n                {this.state.editing.map(id => {\n                    if (!this.props.objects[id]) {\n                        const label = [\n                            <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{id.split('.').pop()}</div>,\n                            <span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\" /></span>];\n                        return <Tab\n                            wrapped\n                            component={'div'}\n                            href={'#' + id}\n                            key={id}\n                            label={label}\n                            value={id}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    } else {\n                        let text = this.props.objects[id].common.name;\n                        let title = '';\n                        if (text.length > 18) {\n                            title = text;\n                            text = text.substring(0, 15) + '...';\n                        }\n                        const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                        const label = [\n                            <img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon} />,\n                            <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                            changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span> : null,\n                            (!this.props.debugInstance && (!this.props.debugMode || this.state.selected !== id)) && <span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\" /></span>,\n                        ];\n\n                        return <Tab\n                            disabled={this.props.debugInstance || (this.state.selected !== id && this.props.debugMode)}\n                            wrapped\n                            component={'div'}\n                            href={'#' + id}\n                            key={id}\n                            label={label}\n                            className={this.props.classes.tabButton}\n                            value={id}\n                            title={title}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    }\n                })}\n                {this.props.debugInstance ? <Tab\n                    disabled={false}\n                    wrapped\n                    component={'div'}\n                    href={'#' + this.props.debugInstance.adapter}\n                    key={this.props.debugInstance.adapter}\n                    label={this.props.debugInstance.adapter}\n                    className={this.props.classes.tabButton}\n                    value={this.props.debugInstance.adapter}\n                    title={this.props.debugInstance.adapter}\n                    classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                /> : ''}\n            </Tabs>,\n            this.state.editing.length > 1 ? <IconButton\n                key=\"menuButton\"\n                href=\"#\"\n                aria-label=\"Close all but current\"\n                className={this.props.classes.tabMenuButton}\n                title={I18n.t('Close all but current')}\n                aria-haspopup=\"false\"\n                onClick={_event => {\n                    const editing = [this.state.selected];\n                    // Do not close not saved tabs\n                    Object.keys(this.scripts).forEach(id =>\n                        id !== this.state.selected &&\n                        JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                        editing.push(id)\n                    );\n\n                    window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                    this.setState({ menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing });\n                }}\n            >\n                <IconCloseAll />\n            </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon} />\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) {\n            return null;\n        }\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({ showDebugMenu: false, menuDebugAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                title={I18n.t('debug_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled }, () => this.onChange({ debug: this.state.debugEnabled }));\n                }}>\n                <Checkbox checked={this.state.debugEnabled} />\n                <IconDebug className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                title={I18n.t('verbose_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled }, () => this.onChange({ verbose: this.state.verboseEnabled }));\n                }}>\n                <Checkbox checked={this.state.verboseEnabled} />\n                <IconVerbose className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />),\n        ]\n    }\n\n    getAskAboutDebug() {\n        if (this.state.askAboutDebug) {\n            return <DialogConfirm\n                onClose={result => {\n                    this.setState({askAboutDebug: false}, () =>\n                        this.props.onDebugModeChange(true));\n                }}\n                ok={I18n.t('Yes')}\n                cancel={I18n.t('Cancel')}\n                text={I18n.t('The script will be stopped and must be activated manually after debugging. Continue?')}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                {this.state.menuOpened && this.props.onLocate && <IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate /></IconButton>}\n                {!changed && isInstanceRunning && <IconButton key=\"restart\" disabled={this.props.debugMode} variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>}\n                {!changed && !isScriptRunning && <span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>}\n                {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                {changed && <Button key=\"save\" variant=\"contained\" className={clsx(this.props.classes.textButton, this.props.classes.saveButton, 'button-save')} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                {(changedAll > 1 || (changedAll === 1 && !changed)) && <Button key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                {changed && <Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={this.props.classes.textIcon} /></Button>}\n                <div style={{ flex: 2 }} />\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                        title={I18n.t('Export blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>}\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                        title={I18n.t('Import blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('import')}>\n                        <IconImport /></IconButton>}\n\n                {this.state.blockly && !this.state.showCompiledCode &&\n                    <IconButton key=\"check\" aria-label=\"Check code\"\n                        title={I18n.t('Check blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToBlockly('check')}>\n                        <IconCheck /></IconButton>}\n\n                {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                    title={I18n.t('Create or edit CRON or time wizard')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={() => this.setState({ showCron: true })}><IconCron /></IconButton>}\n\n                {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-id\" aria-label=\"select ID\"\n                    title={I18n.t('Insert object ID')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={() => this.setState({ showSelectId: true })}><IconSelectId /></IconButton>}\n\n                {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                    title={I18n.t('Convert blockly to javascript for ever.')}\n                    onClick={() => this.onConvertBlockly2JS()}\n                >Blockly=>JS</Button>}\n                {this.state.rules && !this.state.showCompiledCode &&\n                    <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                        title={I18n.t('Export blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToRules('export')}>\n                        <IconExport /></IconButton>}\n                {this.state.rules && !this.state.showCompiledCode &&\n                    <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                        title={I18n.t('Import blocks')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.sendCommandToRules('import')}>\n                        <IconImport /></IconButton>}\n\n                {this.props.expertMode && !changed && (this.props.debugMode || (!this.state.blockly && !this.state.rules) || ((this.state.blockly || this.state.rules) && this.state.showCompiledCode)) && <IconButton\n                    className={this.props.classes.toolbarButtons}\n                    color={this.props.debugMode ? 'primary' : 'default'}\n                    disabled={!this.props.debugMode && !isInstanceRunning}\n                    onClick={() => {\n                        if (!this.props.debugMode && isScriptRunning) {\n                            this.setState({askAboutDebug: true})\n                        } else {\n                            this.props.onDebugModeChange(!this.props.debugMode);\n                        }\n                    }}\n                >\n                    <IconDebugMode style={{fontSize: 32}}/>\n                </IconButton>}\n\n                {(this.state.blockly || this.state.rules) && <Button\n                    key=\"blockly-code\"\n                    aria-label=\"blockly\"\n                    title={I18n.t('Show javascript code')}\n                    className={clsx(this.props.classes.toolbarButtons, 'button-js-code', this.props.debugMode && this.props.classes.toolbarButtonsDisabled)}\n                    color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                    disabled={this.props.debugMode}\n                    style={{ padding: '0 5px' }}\n                    onClick={() => {\n                        if (this.props.debugMode) {\n                            return;\n                        }\n                        this.setState({ showCompiledCode: !this.state.showCompiledCode });\n                        this.state.isTourOpen && this.state.tourStep === STEPS.showJavascript && this.setState({ tourStep: STEPS.switchBackToRules });\n                        this.state.isTourOpen && this.state.tourStep === STEPS.switchBackToRules && this.setState({ tourStep: STEPS.saveTheScript });\n                    }}>\n                    <img alt={this.state.blockly ? \"blockly2js\" : \"rules2js\"} src={this.state.blockly ? ImgBlockly2Js : ImgRules2Js} /></Button>}\n                <IconButton\n                    key=\"debug\"\n                    disabled={this.props.debugMode}\n                    aria-label=\"Debug menu\"\n                    title={I18n.t('Debug options')}\n                    className={this.props.classes.toolbarButtons}\n                    onClick={e => this.setState({ showDebugMenu: true, menuDebugAnchorEl: e.currentTarget })}\n                >\n                    <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                        <IconDebugMenu />\n                    </Badge>\n                </IconButton>\n            </Toolbar>;\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (!this.props.debugMode &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({ insert: '' })}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={clsx(this.props.classes.editorDiv)} key=\"flowEditorDiv\">\n                <RulesEditor\n                    setTourStep={this.setTourStep}\n                    tourStep={this.state.tourStep}\n                    isTourOpen={this.state.isTourOpen}\n\n                    command={this.state.cmdToRules}\n                    key=\"flowEditor\"\n                    themeType={this.state.themeType}\n                    themeName={this.props.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return <DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({ confirm: '' });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                statesOnly={true}\n                onClose={() => {\n                    this.setState({ showSelectId: false });\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({ insert: `'${selected}'/*${name}*/` })\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return <DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({ showCron: false })}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({ insert: `'${cron}'` });\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({ showScript: false });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({ toast: '' })}\n            ContentProps={{ 'aria-describedby': 'message-id', }}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({ toast: '' })}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    setTourStep = tourStep => this.setState({ tourStep });\n\n    getTour() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.isAnyRulesExists === 1 &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            this.state.visible) {\n            return <Tour\n                key=\"tour\"\n                steps={steps}\n                isOpen={this.state.isTourOpen}\n                onRequestClose={() => {\n                    this.setState({ isTourOpen: false });\n                    window.localStorage.setItem('tour', 'true');\n                    this.props.socket.setState('javascript.0.variables.rulesTour', true, true);\n                }}\n                //getCurrentStep={tourStep => this.setTourStep(tourStep)}\n                goToStep={this.state.tourStep}\n            />;\n        }\n    }\n\n    getDebug() {\n        if (this.props.debugMode) {\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            if (isInstanceRunning) {\n                return <Debugger\n                    key=\"debugger\"\n                    runningInstances={this.state.runningInstances}\n                    adapterName={this.props.adapterName}\n                    socket={this.props.socket}\n                    theme={this.props.theme}\n                    themeName={this.props.themeName}\n                    themeType={this.props.themeType}\n                    src={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                    debugInstance={this.props.debugInstance}\n                />;\n            } else {\n                setTimeout(() => this.props.onDebugModeChange(false));\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getAskAboutDebug(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getDebug(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n            this.getTour(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onDebugModeChange: PropTypes.func,\n    debugMode: PropTypes.bool,\n    debugInstance: PropTypes.object,\n    expertMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(Editor);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAYAAADXRcu0AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0zMFQwOTo0Njo0MCswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTUwYTA2OS0wNjQ3LTQxM2ItOWI5MC02MjYxMjBjNDg1MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYTliOGE0YS01MzMzLTc1NDgtYjUxZi01YTI2NWU4NDU3ZjUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQxMjExMGQ0YzAiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMjg5NDQwYi1hMjJlLWMxNGEtOGRhMy1jMmI4NTA1YjJhMjA8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQx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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/zip,application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport { MdMenu as IconMenuClosed } from 'react-icons/md';\nimport { MdArrowBack as IconMenuOpened } from 'react-icons/md';\nimport { MdVisibility as IconShowLog } from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    },\n    showLogButton: {\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        paddingTop: 3,\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 8,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            translations: {\n                'en': require('./i18n/en'),\n                'de': require('./i18n/de'),\n                'es': require('./i18n/es'),\n                'fr': require('./i18n/fr'),\n                'it': require('./i18n/it'),\n                'nl': require('./i18n/nl'),\n                'pl': require('./i18n/pl'),\n                'pt': require('./i18n/pt'),\n                'ru': require('./i18n/ru'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n        });\n\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith('system.adapter.' + this.adapterName + '.')) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(obj._id + '.alive', this.onInstanceAliveChange());\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(id + '.alive', this.onInstanceAliveChange());\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n\n\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n            debugMode: false,\n            debugInstance: null,\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances['system.adapter.' + this.adapterName + '.' + id] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(id + '.'));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => {\n                            console.log(e);\n                        });\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop()\n                        },\n                        native: {}\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    } else {\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    }\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive')\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        const isAnyRulesExists = Object.keys(this.scripts).reduce((sum, id) =>\n            sum + (this.scripts[id].common.engineType === 'Rules' ? 1 : 0), 0);\n\n        return <Editor\n            key=\"editor\"\n            debugMode={this.state.debugMode}\n            onDebugModeChange={value => {\n                if (!value) {\n                    this.setState({debugMode: false, debugInstance: null});\n                } else {\n                    this.setState({debugMode: true});\n                }\n            }}\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            theme={this.state.theme}\n            expertMode={this.state.expertMode}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            isAnyRulesExists={isAnyRulesExists}\n            debugInstance={this.state.debugInstance}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <div\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            className={this.props.classes.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </div>;\n    }\n\n    renderErrorDialog() {\n        return this.state.errorText ?\n            <DialogError\n                key=\"dialogError\"\n                onClose={() => this.setState({ errorText: '' })}\n                text={this.state.errorText}\n            /> :\n            null;\n    }\n\n    renderMain() {\n        const { classes } = this.props;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            this.renderErrorDialog(),\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                    setTimeout(() => this.setState({ resizing: false }), 300);\n                }}>\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.state.hideLog ? 0 : this.logSize}\n                    //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.state.hideLog ? 0 : this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <>\n                        {this.renderEditor()}\n                        {!this.state.debugMode && this.state.hideLog && this.showLogButton()}\n                    </>\n                    {!this.state.debugMode && !this.state.hideLog && <Log\n                        key=\"log\"\n                        verticalLayout={!this.state.logHorzLayout}\n                        onLayoutChange={() => this.toggleLogLayout()}\n                        editing={this.state.editing}\n                        socket={this.socket}\n                        selected={this.state.selected}\n                        onHideLog={() => {\n                            window.localStorage.setItem('App.hideLog', 'true');\n                            this.setState({ hideLog: true, resizing: true });\n                            setTimeout(() => this.setState({ resizing: false }), 300);\n                        }}\n                    />}\n                </SplitterLayout>\n            </div>,\n        ];\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType} />;\n        }\n\n        return <div className={classes.root}>\n            <ContextWrapper socket={this.socket}>\n                <SplitterLayout\n                    key=\"menuSplitter\"\n                    vertical={false}\n                    primaryMinSize={300}\n                    primaryIndex={1}\n                    secondaryMinSize={300}\n                    secondaryInitialSize={this.menuSize}\n                    customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                    }}\n                >\n                    <div className={classes.mainDiv} key=\"menu\">\n                        <SideMenu\n                            debugMode={this.state.debugMode}\n                            onDebugInstance={data => {\n\n                                this.setState({debugInstance: data, debugMode: !!data});\n                            }}\n                            key=\"sidemenu\"\n                            scripts={this.scripts}\n                            scriptsHash={this.state.scriptsHash}\n                            instances={this.state.instances}\n                            update={this.state.updateScripts}\n                            onRename={this.onRename.bind(this)}\n                            onSelect={this.onSelect.bind(this)}\n                            socket={this.socket}\n                            selectId={this.state.menuSelectId}\n                            onEdit={this.onEdit.bind(this)}\n                            expertMode={this.state.expertMode}\n                            themeType={this.state.themeType}\n                            themeName={this.state.themeName}\n                            onThemeChange={themeName => {\n                                Utils.setThemeName(themeName);\n                                const themeType = Utils.getThemeType(themeName);\n                                this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName))\n                            }}\n                            runningInstances={this.state.runningInstances}\n                            onExpertModeChange={this.onExpertModeChange.bind(this)}\n                            onDelete={this.onDelete.bind(this)}\n                            onAddNew={this.onAddNew.bind(this)}\n                            onEnableDisable={this.onEnableDisable.bind(this)}\n                            onExport={this.onExport.bind(this)}\n                            width={this.menuSize}\n                            onImport={() => this.setState({ importFile: true })}\n                            onSearch={searchText => this.setState({ searchText })}\n                        />\n                    </div>\n                    {this.renderMain()}\n                </SplitterLayout>\n            </ContextWrapper>\n        </div>;\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { version } from '../package.json';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nwindow.adapterName = 'javascript';\nlet themeName = Utils.getThemeName();\n\nconsole.log('iobroker.' + window.adapterName + '@' + version + ' using theme \"' + themeName + '\"');\n\nfunction build() {\n    const isMobile = window.innerWidth < 600;\n    return ReactDOM.render(<MuiThemeProvider theme={theme(themeName)}>\n        <DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n            <App onThemeChange={_theme => {\n                themeName = _theme;\n                build();\n            }} />\n        </DndProvider>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\n// if not local development\nif (window.location.host !== 'localhost:3000') {\n    Sentry.init({\n        dsn: 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56',\n        release: 'iobroker.' + window.adapterName + '@' + version,\n        integrations: [\n            new SentryIntegrations.Dedupe()\n        ]\n    });\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuRules\":\"style_menuRules__1vYhO\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__2-uVQ\",\"menuOff\":\"style_menuOff__3inVd\",\"menuTitle\":\"style_menuTitle__2X6rz\",\"marginAuto\":\"style_marginAuto__31phr\",\"inputWidth\":\"style_inputWidth__1hJRF\",\"menuWrapper\":\"style_menuWrapper__3a1MQ\",\"hamburgerWrapper\":\"style_hamburgerWrapper__qZY_4\",\"hamburgerOff\":\"style_hamburgerOff__2z8dt\",\"nothingFound\":\"style_nothingFound__3K8cx\",\"resetSearch\":\"style_resetSearch__2wba0\",\"controlPanel\":\"style_controlPanel__3xSQi\",\"controlPanelAppBar\":\"style_controlPanelAppBar__1ROi9\",\"addClassMenu\":\"style_addClassMenu__2089s\",\"addClassBackground\":\"style_addClassBackground__2RFoc\",\"addClassPosition\":\"style_addClassPosition__1DXHF\"};"],"sourceRoot":""}