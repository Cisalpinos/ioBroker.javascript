/*! For license information please see 715.49d809ff.chunk.js.LICENSE.txt */
(self.webpackChunkjs=self.webpackChunkjs||[]).push([[715],{22772:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(38416)),s=n(o(56690)),r=n(o(89728)),i=n(o(94993)),l=n(o(73808)),c=n(o(61655)),u=n(o(18698)),d=n(o(88564)),p=n(o(15854)),m=o(35025),h=o(18967),f=n(o(18181)),g=n(o(96404));function y(e,t,o){return t=(0,l.default)(t),(0,i.default)(e,v()?Reflect.construct(t,o||[],(0,l.default)(e).constructor):t.apply(e,o))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function k(e,t){var o=[];if("*"===e){if(24===t||60===t||7===t)for(var n=0;n<t;n++)o.push(n);else for(var a=1;a<=t;a++)o.push(a);return o}for(var s=(e||"").toString().split(","),r=0;r<s.length;r++)if(s[r].trim().length){var i=s[r].trim().split("-");if(i.length>1)for(var l=parseInt(i[1],10),c=parseInt(i[0],10);c<=l;c++)o.push(c);else o.push(parseInt(s[r],10))}(o=o.map((function(e){return parseInt(e,10)}))).sort();for(var u=o.length-1;u>=0;u--)o[u]===o[u+1]&&o.splice(u+1,1);return o}function E(e,t){if("object"!==(0,u.default)(e)&&(e=[e]),e.length===t)return"*";var o=[];if(!e.length)return"-";(e=e.map((function(e){return parseInt(e,10)}))).sort((function(e,t){return e-t}));for(var n=e[0],a=e[0],s=1;s<e.length;s++)e[s]-1!==parseInt(e[s-1],10)?(n===a?o.push(n):a-1===n?o.push("".concat(n,",").concat(a)):o.push("".concat(n,"-").concat(a)),n=e[s],a=e[s]):a=e[s];return n===a?o.push(n):a-1===n?o.push("".concat(n,",").concat(a)):o.push("".concat(n,"-").concat(a)),o.join(",")}var S=function(e){function t(e){var o;(0,s.default)(this,t);var n="string"===typeof(o=y(this,t,[e])).props.cronExpression?o.props.cronExpression.replace(/^["']/,"").replace(/["']\n?$/,""):"";"{"===n[0]&&(n="");var a=t.cron2state(n||"* * * * *");return o.state={extended:!1,tab:!1!==a.seconds?1:0,cron:t.state2cron(a),modes:{seconds:null,minutes:null,hours:null,dates:null,months:null,dows:null}},Object.assign(o.state,a),o.state.cron!==o.props.cronExpression&&setTimeout((function(){return o.props.onChange&&o.props.onChange(o.state.cron)}),100),o}return(0,c.default)(t,e),(0,r.default)(t,[{key:"recalcCron",value:function(){var e=this,o=t.state2cron(this.state);o!==this.state.cron&&this.setState({cron:o},(function(){return e.props.onChange&&e.props.onChange(e.state.cron)}))}},{key:"onChange",value:function(e){e!==this.state.cron&&(this.setState({cron:e}),this.props.onChange&&this.props.onChange(e))}},{key:"onToggle",value:function(e,t,o){var n=this;if(!0===e)this.setState((0,a.default)({},t,"*"),(function(){return n.recalcCron()}));else if(!1===e)60===o||24===o?this.setState((0,a.default)({},t,"0"),(function(){return n.recalcCron()})):this.setState((0,a.default)({},t,"1"),(function(){return n.recalcCron()}));else{var s=k(this.state[t],o),r=s.indexOf(e);-1!==r?s.splice(r,1):(s.push(e),s.sort()),this.setState((0,a.default)({},t,E(s,o)),(function(){return n.recalcCron()}))}}},{key:"getDigitsSelector",value:function(e,t){var o=this,n=[];if(7===t)n=[1,2,3,4,5,6,0];else if(60===t||24===t)for(var a=0;a<t;a++)n.push(a);else for(var s=1;s<=t;s++)n.push(s);var r=k(this.state[e],t);return[d.default.createElement(h.Button,{key:"removeall",variant:"outlined",className:this.props.classes.numberButton,color:"primary",onClick:function(){return o.onToggle(!1,e,t)}},f.default.t("ra_Deselect all")),d.default.createElement(h.Button,{key:"addall",variant:"contained",className:this.props.classes.numberButton,color:"secondary",onClick:function(){return o.onToggle(!0,e,t)}},f.default.t("ra_Select all")),d.default.createElement("div",{key:"all"},n.map((function(n){return[7===t&&4===n||12===t&&7===n||31===t&&!((n-1)%10)||60===t&&n&&!(n%10)||24===t&&n&&!(n%6)?d.default.createElement("div",{key:"allInner".concat(n),style:{width:"100%"}}):null,d.default.createElement(h.Button,{key:"_".concat(n),variant:-1!==r.indexOf(n)?"contained":"outlined",className:o.props.classes.numberButton,color:-1!==r.indexOf(n)?"secondary":"primary",onClick:function(){return o.onToggle(n,e,t)}},7===t?f.default.t(b[n]):12===t?w[n-1]:n)]})))]}},{key:"getPeriodsTab",value:function(e,t){var o,n=this,s=this.state[e],r="*"===s,i=s.toString().includes("/");if(null===this.state.modes[e]){o=r?"every":i?"everyN":"specific";var l=JSON.parse(JSON.stringify(this.state.modes));return l[e]=o,setTimeout((function(){return n.setState({modes:l},(function(){return n.recalcCron()}))}),100)}return r="every"===this.state.modes[e],i="everyN"===this.state.modes[e],o=this.state.modes[e],i&&(s=parseInt(s.replace("*/",""),10)||1),d.default.createElement("div",null,d.default.createElement(h.Select,{variant:"standard",className:this.props.classes.periodSelect,style:{verticalAlign:"bottom"},value:o,onChange:function(o){var s=JSON.parse(JSON.stringify(n.state.modes));if(s[e]=o.target.value,"every"===o.target.value)n.setState((0,a.default)((0,a.default)({},e,"*"),"modes",s),(function(){return n.recalcCron()}));else if("everyN"===o.target.value){var r=parseInt(n.state[e].toString().replace("*/",""),10)||1;n.setState((0,a.default)((0,a.default)({},e,"*/".concat(r)),"modes",s),(function(){return n.recalcCron()}))}else if("specific"===o.target.value){var i=parseInt(n.state[e].split(",")[0],10)||0;console.log(i),i||"months"!==e&&"dates"!==e||(i=1),n.setState((0,a.default)((0,a.default)({},e,E(i,t)),"modes",s),(function(){return n.recalcCron()}))}}},d.default.createElement(h.MenuItem,{key:"every",value:"every"},f.default.t("sc_every_".concat(e))),d.default.createElement(h.MenuItem,{key:"everyN",value:"everyN"},f.default.t("sc_everyN_".concat(e))),d.default.createElement(h.MenuItem,{key:"specific",value:"specific"},f.default.t("sc_specific_".concat(e)))),i&&!1,i&&d.default.createElement(h.TextField,{variant:"standard",key:"interval",label:f.default.t("sc_".concat(e)),value:s,min:1,max:t,onChange:function(t){n.setState((0,a.default)({},e,"*/".concat(t.target.value)),(function(){return n.recalcCron()}))},InputLabelProps:{shrink:!0},type:"number",margin:"normal"}),!r&&!i&&this.getDigitsSelector(e,t))}},{key:"render",value:function(){var e=this,o=!1!==this.state.seconds?this.state.tab:this.state.tab+1;return d.default.createElement("div",{className:this.props.classes.mainDiv},d.default.createElement("div",{style:{paddingLeft:8,width:"100%"}},d.default.createElement(h.TextField,{variant:"standard",style:{width:"100%"},value:this.state.cron,disabled:!0})),d.default.createElement("div",{style:{paddingLeft:8,width:"100%",height:60}},t.convertCronToText(this.state.cron,this.props.language||"en")),d.default.createElement(h.FormControlLabel,{control:d.default.createElement(h.Checkbox,{checked:this.state.seconds,onChange:function(t){return e.setState({seconds:!!t.target.checked&&"*"},(function(){return e.recalcCron()}))}}),label:f.default.t("ra_use seconds")}),d.default.createElement(h.AppBar,{position:"static",classes:{root:this.props.classes.appBar},color:"secondary"},d.default.createElement(h.Tabs,{value:this.state.tab,className:this.props.classes.appBar,color:"secondary",onChange:function(t,o){return e.setState({tab:o})}},!1!==this.state.seconds&&d.default.createElement(h.Tab,{id:"sc_seconds",label:f.default.t("sc_seconds")}),d.default.createElement(h.Tab,{id:"minutes",label:f.default.t("sc_minutes")}),d.default.createElement(h.Tab,{id:"hours",label:f.default.t("sc_hours")}),d.default.createElement(h.Tab,{id:"dates",label:f.default.t("sc_dates")}),d.default.createElement(h.Tab,{id:"months",label:f.default.t("sc_months")}),d.default.createElement(h.Tab,{id:"dows",label:f.default.t("sc_dows")}))),0===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("seconds",60)),1===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("minutes",60)),2===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("hours",24)),3===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dates",31)),4===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("months",12)),5===o&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dows",7)))}}],[{key:"cron2state",value:function(e){var t=(e=e.replace(/['"]/g,"").trim()).split(" ").map((function(e){return e.trim()})),o={};return 6===t.length?(o.seconds=t[0]||"*",o.minutes=t[1]||"*",o.hours=t[2]||"*",o.dates=t[3]||"*",o.months=t[4]||"*",o.dows=t[5]||"*"):(o.seconds=!1,o.minutes=t[0]||"*",o.hours=t[1]||"*",o.dates=t[2]||"*",o.months=t[3]||"*",o.dows=t[4]||"*"),o}},{key:"state2cron",value:function(e){var t="".concat(e.minutes," ").concat(e.hours," ").concat(e.dates," ").concat(e.months," ").concat(e.dows);return!1!==e.seconds&&(t="".concat(e.seconds," ").concat(t)),t}},{key:"convertCronToText",value:function(e,t){return e.split(" ").includes("-")?f.default.t("ra_Invalid CRON"):(0,g.default)(e,t)}}])}(d.default.Component);S.propTypes={cronExpression:p.default.string,onChange:p.default.func.isRequired,language:p.default.string};t.default=(0,m.withStyles)((function(){return{mainDiv:{width:"100%",height:"100%"},periodSelect:{display:"block",width:200},slider:{marginTop:20,display:"block",width:"100%"},tabContent:{padding:20,height:"calc(100% - 240px)",overflow:"auto"},numberButton:{padding:4,minWidth:40,margin:5},numberButtonBreak:{display:"block"},appBar:{color:"white"}}}))(S)},55586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={"text/plain":"Text","text/html":"Url",default:"Text"};t.default=function(e,t){let n,a,s,r,i=!1;const l=(t=t||{}).debug||!1;try{n=function(){const e=document.getSelection();if(!(null===e||void 0===e?void 0:e.rangeCount))return()=>{};let t=document.activeElement;const o=[];for(let n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(null===t||void 0===t?void 0:t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),()=>{"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach((t=>e.addRange(t))),t&&t.focus()}}(),a=document.createRange(),s=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.ariaHidden="true",r.style.all="unset",r.style.position="fixed",r.style.top="0px",r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",(n=>{var a,s,r,i;if(n.stopPropagation(),null===t||void 0===t?void 0:t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),null===(a=window.clipboardData)||void 0===a||a.clearData();const n=o[t.format]||o.default;null===(s=window.clipboardData)||void 0===s||s.setData(n,e)}else null===(r=n.clipboardData)||void 0===r||r.clearData(),null===(i=n.clipboardData)||void 0===i||i.setData(t.format,e)})),document.body.appendChild(r),a.selectNodeContents(r),null===s||void 0===s||s.addRange(a);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");i=!0}catch(c){l&&console.error("unable to copy using execCommand: ",c),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),i=!0}catch(u){l&&console.error("unable to copy using clipboardData: ",u),l&&console.error("falling back to prompt");const o=function(e){const t="".concat(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl","+C");return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message||"":"Copy to clipboard: #{key}, Enter");window.prompt(o,e)}}finally{s&&(a&&"function"===typeof s.removeRange?s.removeRange(a):s.removeAllRanges()),r&&document.body.removeChild(r),n&&n()}return i}},70810:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectIdIcon=t.getSystemIcon=void 0;const a=n(o(88564)),s=n(o(87721)),r=o(59665),i=n(o(98996)),l=n(o(58844));t.getSystemIcon=function(e){let t;const o=null===e||void 0===e?void 0:e._id;return o?(o.startsWith("_design/")||"system"===o?t=a.default.createElement(r.SettingsApplications,{className:"iconOwn"}):"0_userdata"===o||"0_userdata.0"===o?t=a.default.createElement(r.Photo,{className:"iconOwn"}):"alias"===o||"alias.0"===o?t=a.default.createElement(i.default,{className:"iconOwn"}):"system.adapter"===o?t=a.default.createElement(r.SettingsApplications,{className:"iconOwn"}):"system.group"===o?t=a.default.createElement(r.SupervisedUserCircle,{className:"iconOwn"}):"system.user"===o?t=a.default.createElement(r.PersonOutlined,{className:"iconOwn"}):"system.host"===o?t=a.default.createElement(r.Router,{className:"iconOwn"}):o.endsWith(".connection")||o.endsWith(".connected")?t=a.default.createElement(r.Wifi,{className:"iconOwn"}):o.endsWith(".info")?t=a.default.createElement(r.Info,{className:"iconOwn"}):"meta"===(null===e||void 0===e?void 0:e.type)&&(t=a.default.createElement(r.Description,{className:"iconOwn"})),t||null):null},t.getSelectIdIcon=function(e,t){t=t||".";let o="";const n=null===e||void 0===e?void 0:e.common;if(n){const a=n.icon;if(a)if(a.startsWith("data:image/"))o=a;else{if(!a.includes("."))return null;{let s;"instance"===e.type||"adapter"===e.type?o="".concat(t,"/adapter/").concat(n.name,"/").concat(a):e._id&&e._id.startsWith("system.adapter.")?(s=e._id.split(".",3),"/"===a[0]?s[2]+=a:s[2]+="/".concat(a),o="".concat(t,"/adapter/").concat(s[2])):(s=e._id.split(".",2),"/"===a[0]?s[0]+=a:s[0]+="/".concat(a),o="".concat(t,"/adapter/").concat(s[0]))}}}return o||null};const c=window.location.hostname.includes("iobroker.in"),u=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1);t.default=e=>{var t,o,n;if(e.src){if("string"===typeof e.src){if(e.src.length<3)return a.default.createElement("span",{title:e.title||void 0,style:Object.assign({height:27,marginTop:-8},e.styleUTF8||e.style),className:l.default.clsx(e.className,"iconOwn")},e.src);if(e.src.startsWith("data:image/svg"))return a.default.createElement(s.default,{title:e.title||void 0,src:e.src,className:l.default.clsx(e.className,"iconOwn"),width:(null===(t=e.style)||void 0===t?void 0:t.width)||28,height:(null===(o=e.style)||void 0===o?void 0:o.height)||(null===(n=e.style)||void 0===n?void 0:n.width)||28,style:e.style||{}});if(c&&!e.src.startsWith("http://")&&!e.src.startsWith("https://")){let t=e.src;return t.startsWith("./")?t=u+t.substring(2):t.startsWith("/")||(t=u+t),a.default.createElement("img",{title:e.title||void 0,style:e.style||{},className:l.default.clsx(e.className,"iconOwn"),src:"https://remote-files.iobroker.in".concat(t),alt:e.alt||void 0,ref:e.ref,onError:t=>{e.onError&&e.onError(t)}})}return a.default.createElement("img",{title:e.title||void 0,style:e.style||{},className:l.default.clsx(e.className,"iconOwn"),src:e.src,alt:e.alt||void 0,ref:e.ref,onError:e.onError})}return e.src}return null}},32126:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(88564));t.default=function(e){(0,r.useEffect)((()=>{if(!window.document.getElementById("loader-iobroker-component")){const e=window.document.createElement("style");e.setAttribute("id","loader-iobroker-component"),e.innerHTML="\n/**\n * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n\n.logo-background-light, .logo-background-colored {\n    background: white;\n}\n.logo-background-dark, .logo-background-blue {\n    background: black;\n}\n.logo-div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    overflow: hidden;\n    border-radius: 50%;\n    z-index: 2;\n}\n.logo-border {\n    /*border-color: #164477;*/\n    border-top-color: #3399CC;\n    border-left-color: #164477;\n    border-bottom-color: #164477;\n    border-right-color: #164477;\n    border-radius: 50%;\n    border-style: solid;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.logo-top {\n    position: absolute;\n    width: 4.5%;\n    height: 16%;\n    top: 0;\n    z-index: 2;\n}\n.logo-i {\n    position: absolute;\n    width: 14.5%;\n    height: 60%;\n    top: 20%;\n    left: 42%;\n    background: #3399CC;\n}\n.logo-i-top {\n    position: absolute;\n    width: 14.5%;\n    height: 4%;\n    left: 42%;\n    background: #3399CC;\n    border-radius: 100%;\n}\n.logo-back {\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n    overflow: hidden;\n}\n@keyframes logo-grow {\n    0% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(1);\n        opacity: 1\n    }\n    99% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(10);\n        opacity: 0;\n    }\n    100% {\n        width: 0;\n        height: 0;\n        opacity: 0;\n    }\n}\n@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }\n@keyframes logo-color-inside-light {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-dark {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-colored {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-blue {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n\n@keyframes logo-color-outside-light {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-dark  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-colored {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-blue  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n\n.logo-animate-wait {\n    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;\n}\n\n.logo-animate-grow-light {\n    background: #DDD;\n}\n.logo-animate-grow-dark {\n    background: #1d1d1d;\n}\n.logo-animate-grow-colored {\n    background: #DDD;\n}\n.logo-animate-grow-blue {\n    background: #1d1d1d;\n}\n\n.logo-animate-grow {\n    display: inline-block;\n    text-align: center;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    width: 245px;\n    height: 245px;\n    border-radius: 50%;\n    position: absolute;\n    animation: logo-grow 1s 1 ease forwards;\n}\n\n.logo-animate-color-inside-light {\n    animation: logo-color-inside-light 2.5s;\n}\n.logo-animate-color-inside-dark {\n    animation: logo-color-inside-dark 2.5s;\n}\n.logo-animate-color-inside-colored {\n    animation: logo-color-inside-colored 2.5s;\n}\n.logo-animate-color-inside-blue {\n    animation: logo-color-inside-blue 2.5s;\n}\n\n.logo-animate-color-outside-light {\n    animation: logo-color-outside-light 1.5s;\n}\n.logo-animate-color-outside-dark {\n    animation: logo-color-outside-dark 1.5s;\n}\n.logo-animate-color-outside-colored {\n    animation: logo-color-outside-colored 1.5s;\n}\n.logo-animate-color-outside-blue {\n    animation: logo-color-outside-blue 1.5s;\n}\n",window.document.head.appendChild(e)}}),[]);const t=e.size||234,o=e.themeName||e.theme||e.themeType||"light";return r.default.createElement("div",{className:"logo-back logo-background-".concat(o),style:{backgroundImage:e.backgroundImage&&"@@loginBackgroundImage@@"!==e.backgroundImage?e.backgroundImage:window.loadingBackgroundImage&&"@@loginBackgroundImage@@"!==window.loadingBackgroundImage?"url(".concat(window.loadingBackgroundImage,")"):void 0,backgroundColor:e.backgroundColor&&"@@loginBackgroundColor@@"!==e.backgroundColor?e.backgroundColor:window.loadingBackgroundColor&&"@@loginBackgroundColor@@"!==window.loadingBackgroundColor?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},"true"===window.loadingHideLogo?null:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"logo-div",style:{width:t,height:t}},r.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"37%"}}),r.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"57%"}}),r.default.createElement("div",{className:"logo-border logo-background-".concat(o," logo-animate-wait"),style:{borderWidth:.132*t}}),r.default.createElement("div",{className:"logo-i logo-animate-color-inside-".concat(o)}),r.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{top:"18%"}}),r.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{bottom:"18%"}})),r.default.createElement("div",{className:"logo-animate-grow logo-animate-grow-".concat(o),style:{width:t+11,height:t+11}})))}},62512:(e,t,o)=>{"use strict";var n=o(64836),a=o(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(o(64687)),r=n(o(861)),i=n(o(17156)),l=n(o(56690)),c=n(o(89728)),u=n(o(94993)),d=n(o(73808)),p=n(o(61655)),m=n(o(38416)),h=n(o(18698)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var o=W(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=s?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,o&&o.set(e,n),n}(o(88564)),g=n(o(15854)),y=o(35025),v=n(o(87721)),b=o(18967),w=o(59665),k=n(o(73933)),E=n(o(69525)),S=n(o(98996)),C=n(o(11571)),x=n(o(15645)),O=n(o(77102)),_=n(o(3739)),N=n(o(11679)),j=n(o(46953)),D=n(o(99418)),T=n(o(61723)),I=n(o(97104)),A=n(o(91232)),M=n(o(48153)),F=n(o(70810)),R=n(o(77054)),P=n(o(58844)),L=n(o(14751)),B=n(o(89109)),V=n(o(89169));function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(W=function(e){return e?o:t})(e)}function z(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function J(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?z(Object(o),!0).forEach((function(t){(0,m.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function H(e,t,o){return t=(0,d.default)(t),(0,u.default)(e,q()?Reflect.construct(t,o||[],(0,d.default)(e).constructor):t.apply(e,o))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function U(e,t,o){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,o)}function G(e,t){return e.get(function(e,t,o){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:o;throw new TypeError("Private element is not present on this object")}(e,t))}function K(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){i=!0,s=e},f:function(){try{r||null==o.return||o.return()}finally{if(i)throw s}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var $=24,X=32,Z=20,Q="#ff413c",ee="#86211f",te="#57ff45",oe="#098c04",ne="#f3ad11",ae="#6c5008";function se(e,t,o){return function(e,t){if(Array.isArray(e)){for(var o=[],n=0;n<e.length;n++)t(o,e[n],n);return o}var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t(a,e[s],s);return a}(e,(function(e,n,a){if(void 0!==n&&null!==n&&("string"!==typeof a||!t.includes(a))){var s="object"===(0,h.default)(n);o&&s&&"string"===typeof n.en&&"string"===typeof n.de?e[a]=n.en:e[a]=s?se(n,t,o):n}}))}function re(e,t,o){var n=document.createElement("a"),a=[];o.excludeSystemRepositories&&a.push("system.repositories");var s=a.length>0||o.excludeTranslations?se(t,a,o.excludeTranslations):t,r=o.beautify?JSON.stringify(s,null,2):JSON.stringify(s);n.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(r))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function ie(e,t,o,n){if(o=o||0,void 0===n&&!(n=e.length-1))return e[0]===t;var a=Math.floor((o+n)/2);return t===e[a]?e[a]:n-1===o?e[o]===t||e[n]===t:t>e[a]?ie(e,t,a,n):t<e[a]&&ie(e,t,o,a)}function le(e,t){return e&&"object"===(0,h.default)(e)?(e[t]||e.en||"").toString():(e||"").toString()}function ce(e,t,o){o=o||".";var n="",a="system.adapter.".concat(t),s=t&&e[a]&&e[a].common&&e[a].common.icon;if(s)if(s.startsWith("data:image/"))n=s.startsWith("data:image/svg")?f.default.createElement(v.default,{className:"iconOwn",src:s,width:28,height:28}):s;else{if(!s.includes("."))return s&&s.length<3?s:null;n="".concat(o,"/adapter/").concat(e[a].common.name,"/").concat(s)}else{var r=e[t]&&e[t].common;if(r){var i=r.icon;if(i)if(i.startsWith("data:image/"))n=i.startsWith("data:image/svg")?f.default.createElement(v.default,{className:"iconOwn",src:i,width:28,height:28}):i;else{if(!i.includes("."))return s&&s.length<3?s:null;var l;"instance"===e[t].type||"adapter"===e[t].type?n="".concat(o,"/adapter/").concat(r.name,"/").concat(i):t&&t.startsWith("system.adapter.")?(l=t.split(".",3),"/"===i[0]?l[2]+=i:l[2]+="/".concat(i),n="".concat(o,"/adapter/").concat(l[2])):(l=t.split(".",2),"/"===i[0]?l[0]+=i:l[0]+="/".concat(i),n="".concat(o,"/adapter/").concat(l[0]))}}}return n||null}function ue(e,t,o,n,a,s,r,i,l){l=l||0;var c=!1;a||(a={},t.id&&(a.id=t.id.toLowerCase()),t.name&&(a.name=t.name.toLowerCase()),t.type&&(a.type=t.type.toLowerCase()),t.custom&&(a.custom=t.custom.toLowerCase()),t.role&&(a.role=t.role.toLowerCase()),t.room&&(a.room=n[t.room]&&n[t.room].common&&n[t.room].common.members||[]),t.func&&(a.func=n[t.func]&&n[t.func].common&&n[t.func].common.members||[]));var u=e.data;if(u&&u.id){var d,p,m,h,f,g,y=null===(d=u.obj)||void 0===d?void 0:d.common;if(r)r.type&&("string"===typeof r.type?u.obj&&r.type===u.obj.type||(c=!0):Array.isArray(r.type)&&(u.obj&&r.type.includes(u.obj.type)||(c=!0))),!c&&null!==(p=r.common)&&void 0!==p&&p.type&&(null!==y&&void 0!==y&&y.type?"string"===typeof r.common.type?r.common.type!==y.type&&(c=!0):Array.isArray(r.common.type)&&(r.type.includes(y.type)||(c=!0)):c=!0),!c&&null!==(m=r.common)&&void 0!==m&&m.role&&(null!==y&&void 0!==y&&y.role?"string"===typeof r.common.role?y.role.startsWith(r.common.role)&&(c=!0):Array.isArray(r.common.role)&&(r.common.role.find((function(e){return r.role.includes(e)}))||(c=!0)):c=!0),!c&&"_"===(null===(h=r.common)||void 0===h?void 0:h.custom)&&null!==y&&void 0!==y&&y.custom&&(c=!0),!c&&null!==(f=r.common)&&void 0!==f&&f.custom&&"_"!==(null===(g=r.common)||void 0===g?void 0:g.custom)&&(null!==y&&void 0!==y&&y.custom?"_dataSources"===r.common.custom?Object.keys(y.custom).find((function(e){return e.startsWith("history.")||e.startsWith("sql.")||e.startsWith("influxdb.")}))||(c=!0):!0===r.common.custom||Object.keys(y.custom).find((function(e){return e.startsWith(r.common.custom)}))||(c=!0):c=!0);c||t.expertMode||(c="system"===u.id||"enum"===u.id||u.id.startsWith("system.")||u.id.startsWith("enum.")||u.id.startsWith("_design/")||u.id.endsWith(".admin")||y&&y.expert),!c&&a.id&&(void 0===u.fID&&(u.fID=u.id.toLowerCase()),c=!u.fID.includes(a.id)),!c&&a.name&&(y?(void 0===u.fName&&(u.fName=y&&le(y.name,o)||"",u.fName=u.fName.toLowerCase()),c=!u.fName.includes(a.name)):c=!0),!c&&t.role&&y&&(c=!y||!(y.role&&y.role.startsWith(a.role))),!c&&a.room&&(c=!a.room.find((function(e){return e===u.id||u.id.startsWith("".concat(e,"."))}))),!c&&a.func&&(c=!a.func.find((function(e){return e===u.id||u.id.startsWith("".concat(e,"."))}))),!c&&a.type&&(c=!(u.obj&&u.obj.type&&u.obj.type===a.type)),!c&&i&&(c=!(u.obj&&u.obj.type&&i.includes(u.obj.type))),!c&&a.custom&&(c=!y||("_"===a.custom?!!y.custom:!y.custom||!y.custom[a.custom]))}return u.visible=!c,u.hasVisibleChildren=!1,e.children&&l<20&&e.children.forEach((function(e){ue(e,t,o,n,a,s,r,i,l+1)&&(u.hasVisibleChildren=!0)})),u.sumVisibility=u.visible||u.hasVisibleChildren,s&&u.sumVisibility&&s.count++,u.id&&u.sumVisibility&&e.children&&e.children.forEach((function(e){return e.data.hasVisibleParent=!0})),u.visible||u.hasVisibleChildren}function de(e,t,o,n){n=n||[];var a,s=e.data;s.sumVisibility&&(s.id&&o[s.id]&&(!t||o[s.id].type===t)&&n.push(s.id),null===(a=e.children)||void 0===a||a.forEach((function(e){return de(e,t,o,n)})));return n}function pe(e,t,o,n){var a;return t.startsWith("_design/")||"system"===t?a=f.default.createElement(w.SettingsApplications,{className:"iconOwn"}):"0_userdata"===t||"0_userdata.0"===t?a=f.default.createElement(w.Photo,{className:"iconOwn"}):"alias"===t||"alias.0"===t?a=f.default.createElement(S.default,{className:"iconOwn"}):"system.adapter"===t?a=f.default.createElement(w.SettingsApplications,{className:"iconOwn"}):"system.group"===t?a=f.default.createElement(w.SupervisedUserCircle,{className:"iconOwn"}):"system.user"===t?a=f.default.createElement(w.PersonOutlined,{className:"iconOwn"}):"system.host"===t?a=f.default.createElement(w.Router,{className:"iconOwn"}):t.endsWith(".connection")||t.endsWith(".connected")?a=f.default.createElement(w.Wifi,{className:"iconOwn"}):t.endsWith(".info")?a=f.default.createElement(w.Info,{className:"iconOwn"}):e[t]&&"meta"===e[t].type?a=f.default.createElement(w.Description,{className:"iconOwn"}):o<2&&e["system.adapter.".concat(t)]&&(a=ce(e,"system.adapter.".concat(t),n)),a||null}function me(e,t){var o;if(!e)return null;if(null!==(o=e.obj)&&void 0!==o&&null!==(o=o.common)&&void 0!==o&&o.desc){var n="";return(n="object"===(0,h.default)(e.obj.common.desc)?e.obj.common.desc[t]||e.obj.common.desc.en:e.obj.common.desc)?n.toString():null}return null}function he(e,t,o){var n=me(e,o);return null!==n&&void 0!==n&&n.startsWith("http")?f.default.createElement("a",{className:P.default.clsx(t.cellIdTooltipLink),href:n,target:"_blank",rel:"noreferrer"},n):f.default.createElement("span",{className:P.default.clsx(t.cellIdTooltip)},n||e.id||"")}function fe(e,t){var o=(t=t||{}).imagePrefix||".",n=Object.keys(e);n.sort((function(e,t){return e===t?0:(e=e.replace(/\./g,"!!!"))>(t=t.replace(/\./g,"!!!"))?1:-1})),t.root&&(n=n.filter((function(e){return e===t.root||e.startsWith("".concat(t.root,"."))})));for(var a=[],s="",r=0,i={data:{name:"",id:""},children:[]},l={funcEnums:[],roomEnums:[],roles:[],ids:[],types:[],objects:e,customs:["_"],enums:[],hasSomeCustoms:!1},c=i,u=function(){var u=n[d];if(!u)return 1;var p,m=e[u],h=u.split(".");if(m.type&&!l.types.includes(m.type)&&l.types.push(m.type),m){var f,g=m.common,y=g&&g.role;y&&!l.roles.includes(y)?l.roles.push(y):u.startsWith("enum.rooms.")?(l.roomEnums.push(u),l.enums.push(u)):u.startsWith("enum.functions.")?(l.funcEnums.push(u),l.enums.push(u)):"enum"===m.type?l.enums.push(u):"instance"===m.type&&g&&(g.supportCustoms||null!==(f=g.adminUI)&&void 0!==f&&f.custom)&&(l.hasSomeCustoms=!0,l.customs.push(u.substring(15)))}l.ids.push(u);do{if(p=!1,!s||u.startsWith("".concat(s,"."))){var v,b,w,k;if(h.length-r>1)for(var E=s,S=function(t){if(E+=(E?".":"")+h[t],ie(l.ids,E))c=c.children.find((function(e){return e.data.name===h[t]}));else{var n={data:{name:h[t],parent:c,id:E,obj:e[E],level:t,icon:pe(e,E,t,o),generated:!0}};c.children=c.children||[],c.children.push(n),c=n,l.ids.push(E)}},C=r;C<h.length-1;C++)S(C);var x={data:{name:h[h.length-1],title:le(null===m||void 0===m||null===(v=m.common)||void 0===v?void 0:v.name,t.lang),obj:m,parent:c,icon:ce(e,u,o)||pe(e,u,0,o),id:u,hasCustoms:(null===(b=m.common)||void 0===b?void 0:b.custom)&&Object.keys(m.common.custom).length,level:h.length-1,generated:!1,button:"state"===m.type&&(null===(w=m.common)||void 0===w?void 0:w.role)&&"string"===typeof m.common.role&&m.common.role.startsWith("button")&&!1!==(null===(k=m.common)||void 0===k?void 0:k.write)}};c.children=c.children||[],c.children.push(x),c=x,r=h.length,a=h,s=u}else{for(var O=0;a[O]===h[O];)O++;if(O>0){var _=a.length;for(a=a.splice(0,O),r=O,s=a.join(".");_>O;)c=c.data.parent,_--}else c=i,a=[],s="",r=0;p=!0}}while(p)},d=0;d<n.length;d++)u();return l.roomEnums.sort((function(t,o){var n,a,s=le((null===(n=e[t])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.name)||t.split(".").pop()),r=le((null===(a=e[o])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.name)||o.split(".").pop());return s>r?1:s<r?-1:0})),l.funcEnums.sort((function(t,o){var n,a,s=le((null===(n=e[t])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.name)||t.split(".").pop()),r=le((null===(a=e[o])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.name)||o.split(".").pop());return s>r?1:s<r?-1:0})),l.roles.sort(),l.types.sort(),{info:l,root:i}}function ge(e,t,o,n,a){if(e.data.id===t)return e;if(o||(n=(o=t.split("."))[a=0]),!e.children&&e.data.id!==t)return null;for(var s,r=0;r<e.children.length;r++){var i=e.children[r].data.id;if(i===n){s=e.children[r];break}if(i>n)break}return s?ge(s,t,o,"".concat(n,".").concat(o[a+1]),a+1):null}function ye(e,t,o,n,a){if(!t)return{rooms:[],per:!1};a=a||[];var s,r,i=K(e.roomEnums);try{for(i.s();!(s=i.n()).done;){var l,c,u=s.value,d=null===(l=e.objects[u])||void 0===l?void 0:l.common;if(d){var p=le(d.name,o);null!==(c=d.members)&&void 0!==c&&c.includes(t)&&!a.includes(p)&&(n?a.push({name:p,origin:t}):a.push(p))}}}catch(h){i.e(h)}finally{i.f()}var m=t.split(".");return m.pop(),t=m.join("."),e.objects[t]&&(r=a.length,ye(e,t,o,n,a)),{rooms:a,per:!r}}function ve(e,t,o,n){if(!t)return[];n=n||[];for(var a=0;a<e[o].length;a++){var s,r,i=null===(s=e.objects[e[o][a]])||void 0===s?void 0:s.common;null!==i&&void 0!==i&&null!==(r=i.members)&&void 0!==r&&r.includes(t)&&!n.includes(e[o][a])&&n.push(e[o][a])}return n.sort(),n}function be(e,t,o,n,a){if(!t)return{funcs:[],pef:!1};a=a||[];for(var s=0;s<e.funcEnums.length;s++){var r,i,l=null===(r=e.objects[e.funcEnums[s]])||void 0===r?void 0:r.common;if(l){var c=le(l.name,o);null!==(i=l.members)&&void 0!==i&&i.includes(t)&&!a.includes(c)&&(n?a.push({name:c,origin:t}):a.push(c))}}var u,d=t.split(".");return d.pop(),t=d.join("."),e.objects[t]&&(u=a.length,be(e,t,o,n,a)),{funcs:a,pef:!u}}function we(e,t){for(var o=t,n=1,a=[];n<e.length&&o<t+9e7;){for(;e[n-1].ts<o&&o<=e[n].ts&&n<e.length;)n++;if(1===n&&e[n-1].ts>=o)a.push(0);else if(n<e.length)if("boolean"===typeof e[n].val||"boolean"===typeof e[n-1].val)a.push(e[n].val?1:0);else{e[n-1].val=e[n-1].val||0,e[n].val=e[n].val||0;var s=e[n-1].val+(e[n].val-e[n-1].val)*(o-e[n-1].ts)/(e[n].ts-e[n-1].ts);a.push(s)}o+=36e5}return a}var ke={id:"",name:"",room:"",func:"",role:"",type:"",custom:"",expertMode:!1},Ee={state:f.default.createElement(D.default,{className:"itemIcon"}),channel:f.default.createElement(C.default,{className:"itemIcon"}),device:f.default.createElement(O.default,{className:"itemIcon"}),adapter:f.default.createElement(E.default,{className:"itemIcon"}),meta:f.default.createElement(w.Description,{className:"itemIcon"}),instance:f.default.createElement(j.default,{className:"itemIcon",style:{color:"#7da7ff"}}),enum:f.default.createElement(w.ListAlt,{className:"itemIcon"}),chart:f.default.createElement(w.ShowChart,{className:"itemIcon"}),config:f.default.createElement(w.Settings,{className:"itemIcon"}),group:f.default.createElement(w.SupervisedUserCircle,{className:"itemIcon"}),user:f.default.createElement(w.PersonOutlined,{className:"itemIcon"}),host:f.default.createElement(w.Router,{className:"itemIcon"}),schedule:f.default.createElement(w.CalendarToday,{className:"itemIcon"}),script:f.default.createElement(w.Code,{className:"itemIcon"}),folder:f.default.createElement(T.default,{className:"itemIcon itemIconFolder"})},Se=(0,y.withStyles)((function(e){return{badge:{right:3,top:3,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(b.Badge),Ce={xs:{idWidth:"100%",fields:[],widths:{}},sm:{idWidth:300,fields:["room","val"],widths:{room:100,val:200}},md:{idWidth:300,fields:["room","func","val","buttons"],widths:{name:200,room:150,func:150,val:120,buttons:120}},lg:{idWidth:300,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:300,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:165,lastChange:165}},xl:{idWidth:550,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:400,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:170,lastChange:170}}},xe=!1,Oe=new WeakMap,_e=function(e){function t(e){var o;(0,l.default)(this,t),U(o=H(this,t,[e]),Oe,["0_userdata.0.","alias.0."]),(0,m.default)(o,"onContextMenu",(function(e){o.contextMenu&&Date.now()-o.contextMenu.ts<2e3?(e.preventDefault(),o.setState({showContextMenu:{item:o.contextMenu.item}})):o.state.showContextMenu&&(e.preventDefault(),o.setState({showContextMenu:null})),o.contextMenu=null})),(0,m.default)(o,"onStateChange",(function(e,t){if(console.log("> stateChange ".concat(e)),o.states[e]){var n=o.findItem(e);n&&n.data.state&&(n.data.state=null)}o.states[e]=t,o.pausedSubscribes?o.statesUpdateTimer&&(clearTimeout(o.statesUpdateTimer),o.statesUpdateTimer=null):o.statesUpdateTimer||(o.statesUpdateTimer=setTimeout((function(){o.statesUpdateTimer=null,o.forceUpdate()}),300))})),(0,m.default)(o,"onObjectChange",(function(e,t){var n;if(Array.isArray(e))e.forEach((function(e){var t=o.processOnObjectChangeElement(e.id,e.obj),a=t.newInnerState;t.filtered||a&&(n=a)}));else{var a=o.processOnObjectChangeElement(e,t),s=a.newInnerState;if(a.filtered)return;n=s}n&&o.setState(n),!o.objectsUpdateTimer&&o.objects&&(o.objectsUpdateTimer=setTimeout((function(){o.objectsUpdateTimer=null;var e=fe(o.objects,o.props),t=e.info,n=e.root;o.root=n,o.info=t,o.lastAppliedFilter=null,o.pausedSubscribes||o.forceUpdate()}),500))})),(0,m.default)(o,"getEnumsForId",(function(e){var t=[];return o.info.enums.forEach((function(n){var a;if(null!==(a=o.objects[n])&&void 0!==a&&null!==(a=a.common)&&void 0!==a&&null!==(a=a.members)&&void 0!==a&&a.includes(e)){var s={_id:o.objects[n]._id,common:JSON.parse(JSON.stringify(o.objects[n].common)),native:o.objects[n].native,type:"enum"};s.common&&(delete s.common.members,delete s.common.custom,delete s.common.mobile),t.push(s)}})),t.length?t:void 0})),(0,m.default)(o,"_createAllEnums",function(){var e=(0,i.default)(s.default.mark((function e(t,n){var a,r,i,l,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=26;break}if(i=t[a],l=void 0,"object"===(0,h.default)(i)&&(l=i,i=i._id),c=o.objects[i]){e.next=15;break}return(c=l||{_id:i,common:{name:i.split(".").pop(),members:[]},native:{},type:"enum"}).common=c.common||{},c.common.members=[n],c.type="enum",e.next=13,o.props.socket.setObject(i,c);case 13:e.next=23;break;case 15:if(null!==(r=c.common)&&void 0!==r&&null!==(r=r.members)&&void 0!==r&&r.includes(n)){e.next=23;break}return c.common=c.common||{},c.type="enum",c.common.members=c.common.members||[],c.common.members.push(n),c.common.members.sort(),e.next=23,o.props.socket.setObject(i,c);case 23:a++,e.next=1;break;case 26:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()),(0,m.default)(o,"loadObjects",function(){var e=(0,i.default)(s.default.mark((function e(t){var n,a,r,i,l,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=57;break}e.t0=s.default.keys(t);case 2:if((e.t1=e.t0()).done){e.next=57;break}if(n=e.t1.value,Object.hasOwn(t,n)&&t[n]){e.next=6;break}return e.abrupt("continue",2);case 6:return a=t[n],r=null,i=void 0,l=void 0,a&&a.common&&a.common.enums?(r=a.common.enums,delete a.common.enums):r=null,a.val&&(i=a.val,delete a.val),void 0!==a.ack&&(l=a.ack,delete a.ack),e.prev=13,e.next=16,o.props.socket.setObject(n,a);case 16:if(e.t2=r,!e.t2){e.next=20;break}return e.next=20,o._createAllEnums(r,a._id);case 20:if("state"!==a.type){e.next=50;break}if(void 0===i||null===i){e.next=32;break}return e.prev=22,e.next=25,o.props.socket.setState(a._id,i,void 0===l||l);case 25:e.next=30;break;case 27:e.prev=27,e.t3=e.catch(22),window.alert('Cannot set state "'.concat(a._id," with ").concat(i,'": ').concat(e.t3));case 30:e.next=50;break;case 32:return e.prev=32,e.next=35,o.props.socket.getState(a._id);case 35:if((c=e.sent)&&null!==c.val){e.next=45;break}return e.prev=37,e.next=40,o.props.socket.setState(a._id,a.common&&void 0!==a.common.def?a.common.def:null,!0);case 40:e.next=45;break;case 42:e.prev=42,e.t4=e.catch(37),window.alert('Cannot set state "'.concat(a._id,'": ').concat(e.t4));case 45:e.next=50;break;case 47:e.prev=47,e.t5=e.catch(32),window.alert('Cannot read state "'.concat(a._id,'": ').concat(e.t5));case 50:e.next=55;break;case 52:e.prev=52,e.t6=e.catch(13),window.alert(e.t6);case 55:e.next=2;break;case 57:case"end":return e.stop()}}),e,null,[[13,52],[22,27],[32,47],[37,42]])})));return function(t){return e.apply(this,arguments)}}()),(0,m.default)(o,"handleJsonUpload",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){var e=(0,i.default)(s.default.mark((function e(t){var n,a,r,i,l,c,u,d;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.result,e.prev=1,a=JSON.parse(n),r=Object.keys(a).length,void 0!==(i=a._id)||!r){e.next=11;break}return e.next=8,o.loadObjects(a);case 8:window.alert(o.props.t("ra_%s object(s) processed",r)),e.next=40;break;case 11:if(i){e.next=13;break}return e.abrupt("return",window.alert(o.props.t("ra_Invalid structure")));case 13:return e.prev=13,a.common.enums&&(l=a.common.enums,delete a.common.enums),a.val&&(c=a.val,delete a.val),void 0!==a.ack&&(u=a.ack,delete a.ack),e.next=19,o.props.socket.setObject(a._id,a);case 19:if("state"!==a.type){e.next=31;break}if(void 0===c||null===c){e.next=25;break}return e.next=23,o.props.socket.setState(a._id,c,void 0===u||u);case 23:e.next=31;break;case 25:return e.next=27,o.props.socket.getState(a._id);case 27:if((d=e.sent)&&null!==d.val&&void 0!==d.val){e.next=31;break}return e.next=31,o.props.socket.setState(a._id,void 0===a.common.def?null:a.common.def,!0);case 31:if(!l){e.next=34;break}return e.next=34,o._createAllEnums(l,a._id);case 34:window.alert(o.props.t("ra_%s was imported",a._id)),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(13),window.alert(e.t0);case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(1),window.alert(e.t1);case 45:return e.abrupt("return",null);case 46:case"end":return e.stop()}}),e,null,[[1,42],[13,37]])})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t)}else window.alert(o.props.t("ra_Failed to open JSON File"))})),(0,m.default)(o,"toolTipObjectCreating",(function(){var e=o.props.t,t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:6},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];if(o.state.selected.length||o.state.selectedNonObject){var n,a=o.state.selected[0]||o.state.selectedNonObject;if(a.split(".").length<2||o.objects[a]&&"state"===(null===(n=o.objects[a])||void 0===n?void 0:n.type));else if(o.state.filter.expertMode){var s;switch(null===(s=o.objects[a])||void 0===s?void 0:s.type){case"device":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"folder":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"channel":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:1},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))]}}else(a.startsWith("alias.0")||a.startsWith("0_userdata"))&&(t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:6},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:7},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:8},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))])}return t.length?t:e("ra_Add new child object to selected parent")})),(0,m.default)(o,"renderTooltipAccessControl",(function(e){if(!e)return null;var t=[{value:"0x400",valueNum:1024,title:"read",group:"Owner"},{value:"0x200",valueNum:512,title:"write",group:"Owner"},{value:"0x40",valueNum:64,title:"read",group:"Group"},{value:"0x20",valueNum:32,title:"write",group:"Group"},{value:"0x4",valueNum:4,title:"read",group:"Everyone"},{value:"0x2",valueNum:2,title:"write",group:"Everyone"}],n=[],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object",s=e[a];t.forEach((function(e,t){s&e.valueNum&&n.push(f.default.createElement("span",{key:a+t},o.texts["acl".concat(e.group,"_").concat(e.title,"_").concat(a)],",",f.default.createElement("span",{className:"object"===a?o.props.classes.rightsObject:o.props.classes.rightsState},e.value)))}))};return n.push(f.default.createElement("span",{key:"group"},"".concat(o.texts.ownerGroup,": ").concat((e.ownerGroup||"").replace("system.group.","")))),n.push(f.default.createElement("span",{key:"owner"},"".concat(o.texts.ownerUser,": ").concat((e.owner||"").replace("system.user.","")))),a(),e.state&&a("state"),n.length?f.default.createElement("span",{className:o.props.classes.tooltipAccessControl},n.map((function(e){return e}))):""})),(0,m.default)(o,"resizerMouseMove",(function(e){var t,n;o.resizerActiveDiv&&(o.resizeLeft?(t=o.resizerOldWidth-e.clientX+o.resizerPosition,n=o.resizerOldWidthNext+e.clientX-o.resizerPosition):(t=o.resizerOldWidth+e.clientX-o.resizerPosition,n=o.resizerOldWidthNext-e.clientX+o.resizerPosition),(!o.resizerMin||t>o.resizerMin)&&(!o.resizerNextMin||n>o.resizerNextMin)&&(o.resizerCurrentWidths[o.resizerActiveName]=t,o.resizerCurrentWidths[o.resizerNextName]=n,o.resizerActiveDiv.style.width="".concat(t,"px"),o.resizerNextDiv.style.width="".concat(n,"px"),o.columnsVisibility[o.resizerActiveName]=t,o.columnsVisibility[o.resizerNextName]=n,"nameHeader"===o.resizerNextName?(o.columnsVisibility.name=n-o.state.scrollBarWidth,o.resizerCurrentWidths.name=n-o.state.scrollBarWidth):"nameHeader"===o.resizerActiveName&&(o.columnsVisibility.name=t-o.state.scrollBarWidth,o.resizerCurrentWidths.name=t-o.state.scrollBarWidth),o.customWidth=!0,o.resizeTimeout&&clearTimeout(o.resizeTimeout),o.resizeTimeout=setTimeout((function(){o.resizeTimeout=null,o.forceUpdate()}),200)))})),(0,m.default)(o,"resizerMouseUp",(function(){(window._localStorage||window.localStorage).setItem("".concat(o.props.dialogName||"App",".table"),JSON.stringify(o.resizerCurrentWidths)),o.resizerActiveName=null,o.resizerNextName=null,o.resizerActiveDiv=null,o.resizerNextDiv=null,window.removeEventListener("mousemove",o.resizerMouseMove),window.removeEventListener("mouseup",o.resizerMouseUp)})),(0,m.default)(o,"resizerMouseDown",(function(e){if(null===o.resizerActiveIndex||void 0===o.resizerActiveIndex){o.storedWidths||(o.storedWidths=JSON.parse(JSON.stringify(Ce[o.props.width]))),o.resizerCurrentWidths=o.resizerCurrentWidths||{},o.resizerActiveDiv=e.target.parentNode,o.resizerActiveName=o.resizerActiveDiv.dataset.name;var t=0;if("true"===e.target.dataset.left){o.resizeLeft=!0,o.resizerNextDiv=o.resizerActiveDiv.previousElementSibling;for(var n=o.resizerNextDiv.querySelector(".".concat(o.props.classes.resizeHandle));o.resizerNextDiv&&!n&&t<10;)o.resizerNextDiv=o.resizerNextDiv.previousElementSibling,n=o.resizerNextDiv.querySelector(".".concat(o.props.classes.resizeHandle)),t++;n&&"true"!==n.dataset.left&&(o.resizerNextDiv=o.resizerNextDiv.nextElementSibling)}else o.resizeLeft=!1,o.resizerNextDiv=o.resizerActiveDiv.nextElementSibling;o.resizerNextName=o.resizerNextDiv.dataset.name,o.resizerMin=parseInt(o.resizerActiveDiv.dataset.min,10)||0,o.resizerNextMin=parseInt(o.resizerNextDiv.dataset.min,10)||0,o.resizerPosition=e.clientX,o.resizerCurrentWidths[o.resizerActiveName]=o.resizerActiveDiv.offsetWidth,o.resizerCurrentWidths[o.resizerNextName]=o.resizerNextDiv.offsetWidth,o.resizerOldWidth=o.resizerCurrentWidths[o.resizerActiveName],o.resizerOldWidthNext=o.resizerCurrentWidths[o.resizerNextName],window.addEventListener("mousemove",o.resizerMouseMove),window.addEventListener("mouseup",o.resizerMouseUp)}})),(0,m.default)(o,"resizerReset",(function(){o.customWidth=!1,Ce[o.props.width]=JSON.parse(JSON.stringify(o.storedWidths)),o.calculateColumnsVisibility(),(window._localStorage||window.localStorage).removeItem("".concat(o.props.dialogName||"App",".table")),o.forceUpdate()})),o.lastSelectedItems=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectSelected"))||"[]";try{o.lastSelectedItems=JSON.parse(o.lastSelectedItems),"object"!==(0,h.default)(o.lastSelectedItems)&&(o.lastSelectedItems=[o.lastSelectedItems]),o.lastSelectedItems=o.lastSelectedItems.filter((function(e){return e}))}catch(w){}var n=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectExpanded"))||"[]";try{n=JSON.parse(n)}catch(w){n=[]}var a=e.defaultFilters||(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectFilter"))||J({},ke);if("string"===typeof a)try{a=JSON.parse(a)}catch(w){a=J({},ke)}if(a.expertMode=void 0!==e.expertMode?e.expertMode:"true"===(window._sessionStorage||window.sessionStorage).getItem("App.expertMode"),o.tableRef=(0,f.createRef)(),o.filterRefs={},Object.keys(ke).forEach((function(e){return o.filterRefs[e]=(0,f.createRef)()})),o.lastAppliedFilter=null,o.pausedSubscribes=!1,o.selectedFound=!1,o.root=null,o.states={},o.subscribes=[],o.statesUpdateTimer=null,o.objectsUpdateTimer=null,o.visibleCols=e.columns||Ce[e.width].fields,e.types&&1===e.types.length){var r=o.visibleCols.indexOf("type");-1!==r&&o.visibleCols.splice(r,1)}o.possibleCols=Ce.xl.fields;var c=null;if(e.router){var u=e.router.getLocation();u.id&&"customs"===u.dialog&&(c=[u.id],o.pauseSubscribe(!0))}var d=e.selected||"";"object"!==(0,h.default)(d)&&(d=[d]),d=d.map((function(e){return e.replace(/["']/g,"")})).filter((function(e){return e}));var p=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".columns"));try{p=p?JSON.parse(p):null}catch(w){p=null}var g=null;try{g=g?JSON.parse(g):{}}catch(w){g={}}o.imagePrefix=e.imagePrefix||".";var y=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".foldersFirst"));y="false"!==y&&("true"===y||(void 0===e.foldersFirst||e.foldersFirst));var v=!1;try{v=o.props.objectStatesView&&JSON.parse((window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectStatesView")))||!1}catch(k){}o.state={loaded:!1,foldersFirst:y,selected:d,selectedNonObject:(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".selectedNonObject"))||"",filter:a,filterKey:0,depth:0,expandAllVisible:!1,expanded:n,toast:"",scrollBarWidth:16,customDialog:c,editObjectDialog:"",editObjectAlias:!1,viewFileDialog:"",showAliasEditor:"",enumDialog:null,roleDialog:null,statesView:v,columns:p,columnsForAdmin:null,columnsSelectorShow:!1,columnsAuto:"false"!==(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".columnsAuto")),columnsWidths:g,columnsDialogTransparent:100,columnsEditCustomDialog:null,customColumnDialogValueChanged:!1,showExportDialog:!1,showAllExportOptions:!1,linesEnabled:"true"===(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".lines")),showDescription:"false"!==(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".desc")),showContextMenu:null,noStatesByExportImport:!1,beautifyJsonExport:!0,excludeSystemRepositoriesFromExport:!0,excludeTranslations:!1},o.edit={},o.texts={value:e.t("ra_tooltip_value"),ack:e.t("ra_tooltip_ack"),ts:e.t("ra_tooltip_ts"),lc:e.t("ra_tooltip_lc"),from:e.t("ra_tooltip_from"),user:e.t("ra_tooltip_user"),c:e.t("ra_tooltip_comment"),quality:e.t("ra_tooltip_quality"),editObject:e.t("ra_tooltip_editObject"),deleteObject:e.t("ra_tooltip_deleteObject"),customConfig:e.t("ra_tooltip_customConfig"),copyState:e.t("ra_tooltip_copyState"),editState:e.t("ra_tooltip_editState"),close:e.t("ra_Close"),filter_id:e.t("ra_filter_id"),filter_name:e.t("ra_filter_name"),filter_type:e.t("ra_filter_type"),filter_role:e.t("ra_filter_role"),filter_room:e.t("ra_filter_room"),filter_func:e.t("ra_filter_func"),filter_custom:e.t("ra_filter_customs"),filterCustomsWithout:e.t("ra_filter_customs_without"),objectChangedByUser:e.t("ra_object_changed_by_user"),objectChangedBy:e.t("ra_object_changed_by"),objectChangedFrom:e.t("ra_state_changed_from"),stateChangedBy:e.t("ra_state_changed_by"),stateChangedFrom:e.t("ra_state_changed_from"),ownerGroup:e.t("ra_Owner group"),ownerUser:e.t("ra_Owner user"),deviceError:e.t("ra_Error"),deviceDisconnected:e.t("ra_Disconnected"),deviceConnected:e.t("ra_Connected"),aclOwner_read_object:e.t("ra_aclOwner_read_object"),aclOwner_read_state:e.t("ra_aclOwner_read_state"),aclOwner_write_object:e.t("ra_aclOwner_write_object"),aclOwner_write_state:e.t("ra_aclOwner_write_state"),aclGroup_read_object:e.t("ra_aclGroup_read_object"),aclGroup_read_state:e.t("ra_aclGroup_read_state"),aclGroup_write_object:e.t("ra_aclGroup_write_object"),aclGroup_write_state:e.t("ra_aclGroup_write_state"),aclEveryone_read_object:e.t("ra_aclEveryone_read_object"),aclEveryone_read_state:e.t("ra_aclEveryone_read_state"),aclEveryone_write_object:e.t("ra_aclEveryone_write_object"),aclEveryone_write_state:e.t("ra_aclEveryone_write_state"),create:e.t("ra_Create"),createBooleanState:e.t("ra_create_boolean_state"),createNumberState:e.t("ra_create_number_state"),createStringState:e.t("ra_create_string_state"),createState:e.t("ra_create_state"),createChannel:e.t("ra_create_channel"),createDevice:e.t("ra_create_device"),createFolder:e.t("ra_Create folder")},o.levelPadding=e.levelPadding||16;var b=(window._localStorage||window.localStorage).getItem("".concat(o.props.dialogName||"App",".table"));if(b)try{b=JSON.parse(b),o.storedWidths=JSON.parse(JSON.stringify(Ce[o.props.width])),Object.keys(b).forEach((function(e){"id"===e?Ce[o.props.width].idWidth=b.id:"nameHeader"===e?Ce[o.props.width].widths.name=b[e]:void 0!==Ce[o.props.width].widths[e]&&(Ce[o.props.width].widths[e]=b[e])})),o.customWidth=!0}catch(w){}return o.calculateColumnsVisibility(),o}return(0,p.default)(t,e),(0,c.default)(t,[{key:"loadAllObjects",value:function(){var e=(0,i.default)(s.default.mark((function e(t){var o,n,a,r,i,l,c,u,d,p=this;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.props,e.prev=1,e.next=4,new Promise((function(e){p.setState({updating:!0},(function(){return e()}))}));case 4:if(!this.props.objectsWorker){e.next=10;break}return e.next=7,this.props.objectsWorker.getObjects(t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,o.socket.getObjects(t,!0);case 12:e.t0=e.sent;case 13:if(n=e.t0,!o.types||!M.default.isWeb()){e.next=26;break}a=0;case 16:if(!(a<o.types.length)){e.next=26;break}if("state"!==o.types[a]&&"channel"!==o.types[a]&&"device"!==o.types[a]&&"enum"!==o.types[a]){e.next=19;break}return e.abrupt("continue",23);case 19:return e.next=21,o.socket.getObjectViewSystem(o.types[a],null,null);case 21:r=e.sent,Object.assign(n,r);case 23:a++,e.next=16;break;case 26:if(e.t1=this.systemConfig||n["system.config"],e.t1){e.next=31;break}return e.next=30,o.socket.getObject("system.config");case 30:e.t1=e.sent;case 31:return this.systemConfig=e.t1,this.systemConfig.common=this.systemConfig.common||{},this.systemConfig.common.defaultNewAcl=this.systemConfig.common.defaultNewAcl||{},this.systemConfig.common.defaultNewAcl.owner=this.systemConfig.common.defaultNewAcl.owner||"system.user.admin",this.systemConfig.common.defaultNewAcl.ownerGroup=this.systemConfig.common.defaultNewAcl.ownerGroup||"system.group.administrator","number"!==typeof this.systemConfig.common.defaultNewAcl.state&&(this.systemConfig.common.defaultNewAcl.state=1636),"number"!==typeof this.systemConfig.common.defaultNewAcl.object&&(this.systemConfig.common.defaultNewAcl.state=1636),"function"===typeof o.filterFunc?(this.objects={},Object.keys(n).forEach((function(e){try{o.filterFunc(n[e])&&(p.objects[e]=n[e])}catch(t){console.log('Error by filtering of "'.concat(e,'": ').concat(t))}}))):o.types?(this.objects={},Object.keys(n).forEach((function(e){var t=n[e]&&n[e].type;t&&("channel"===t||"device"===t||"enum"===t||"folder"===t||"adapter"===t||"instance"===t||o.types.includes(t))&&(p.objects[e]=n[e])}))):this.objects=n,this.defaultHistory=this.systemConfig.common.defaultHistory,this.defaultHistory&&o.socket.getState("system.adapter.".concat(this.defaultHistory,".alive")).then((function(e){e&&e.val||(p.defaultHistory="")})).catch((function(e){return window.alert("Cannot get state: ".concat(e))})),e.next=43,this.getAdditionalColumns();case 43:i=e.sent,this.calculateColumnsVisibility(null,null,i),l=fe(this.objects,this.props),c=l.info,u=l.root,this.root=u,this.info=c,d=this.state.selected&&this.state.selected.length&&ge(this.root,this.state.selected[0]),this.lastAppliedFilter=null,d&&!ue(d,this.state.filter,this.props.lang,this.objects,null,null,o.customFilter,o.types)?this.setState({filter:J({},ke),columnsForAdmin:i},(function(){p.setState({loaded:!0,updating:!1},(function(){return p.expandAllSelected((function(){return p.onAfterSelect()}))}))})):this.setState({loaded:!0,updating:!1,columnsForAdmin:i},(function(){return p.expandAllSelected((function(){return p.onAfterSelect()}))})),e.next=56;break;case 53:e.prev=53,e.t2=e.catch(1),this.showError(e.t2);case 56:case"end":return e.stop()}}),e,this,[[1,53]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isNonExpertId",value:function(e){return!!G(Oe,this).find((function(t){return e.startsWith(t)}))}},{key:"expandAllSelected",value:function(e){var t=(0,r.default)(this.state.expanded),o=!1;this.state.selected.forEach((function(e){for(var n=e.split("."),a=[],s=0;s<n.length-1;s++)a.push(n[s]),t.includes(a.join("."))||(t.push(a.join(".")),o=!0)})),o?(t.sort(),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t},e)):e&&e()}},{key:"onAfterSelect",value:function(e){var t=this;if(this.lastSelectedItems=(0,r.default)(this.state.selected),this.state.selected&&this.state.selected.length){(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),JSON.stringify(this.lastSelectedItems));var o=1===this.lastSelectedItems.length?P.default.getObjectName(this.objects,this.lastSelectedItems[0],null,{language:this.props.lang}):"";this.props.onSelect&&this.props.onSelect(this.lastSelectedItems,o,e)}else(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),""),this.state.selected.length?this.setState({selected:[]},(function(){return t.props.onSelect&&t.props.onSelect([],"")})):this.props.onSelect&&this.props.onSelect([],"")}},{key:"componentDidMount",value:function(){var e=(0,i.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAllObjects(!xe);case 2:this.props.objectsWorker?this.props.objectsWorker.registerHandler(this.onObjectChange):this.props.socket.subscribeObject("*",this.onObjectChange),xe=!0,window.addEventListener("contextmenu",this.onContextMenu,!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=null,window.removeEventListener("contextmenu",this.onContextMenu,!0),this.props.objectsWorker?this.props.objectsWorker.unregisterHandler(this.onObjectChange,!0):this.props.socket.unsubscribeObject("*",this.onObjectChange),this.subscribes.forEach((function(t){console.log("- unsubscribe ".concat(t)),e.props.socket.unsubscribeState(t,e.onStateChange)})),this.subscribes=[],this.objects={}}},{key:"showDeleteDialog",value:function(e){var t,o,n=e.id,a=e.obj,s=e.item,r=Object.keys(this.objects);r.sort();for(var i=0,l="".concat(n,"."),c=0;c<r.length;c++)if(r[c].startsWith(l))i++;else if(r[c]>l)break;this.props.onObjectDelete(n,!(null===(t=s.children)||void 0===t||!t.length),!(null!==(o=a.common)&&void 0!==o&&o.dontDelete),i+1)}},{key:"refreshComponent",value:function(){var e=this;this.subscribes.forEach((function(t){console.log("- unsubscribe ".concat(t)),e.props.socket.unsubscribeState(t,e.onStateChange)})),this.subscribes=[],this.loadAllObjects(!0).then((function(){return console.log("updated!")}))}},{key:"renderErrorDialog",value:function(){var e=this;return this.state.error?f.default.createElement(b.Dialog,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.setState({error:""})},"aria-labelledby":"error-dialog-title","aria-describedby":"error-dialog-description"},f.default.createElement(b.DialogTitle,{id:"alert-dialog-title"},this.props.title||this.props.t("ra_Error")),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,{id:"alert-dialog-description"},this.state.error)),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.setState({error:""})},color:"primary",autoFocus:!0,startIcon:f.default.createElement(w.Check,null)},this.props.t("ra_Ok")))):null}},{key:"showError",value:function(e){this.setState({error:"object"===(0,h.default)(e)?e&&"function"===typeof e.toString?e.toString():JSON.stringify(e):e})}},{key:"onSelect",value:function(e,t,o){var n=this;if(this.props.multiSelect){if(this.objects[e]&&(!this.props.types||this.props.types.includes(this.objects[e].type))){(window._localStorage||window.localStorage).removeItem("".concat(this.props.dialogName||"App",".selectedNonObject"));var a=(0,r.default)(this.state.selected),s=a.indexOf(e);-1===s?(a.push(e),a.sort()):t||a.splice(s,1),this.setState({selected:a,selectedNonObject:""},(function(){n.onAfterSelect(t),o&&o()}))}}else!this.objects[e]||this.props.types&&!this.props.types.includes(this.objects[e].type)?((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".selectedNonObject"),e),this.setState({selected:[],selectedNonObject:e},(function(){n.onAfterSelect(),o&&o()}))):((window._localStorage||window.localStorage).removeItem("".concat(this.props.dialogName||"App",".selectedNonObject")),this.state.selected[0]!==e?this.setState({selected:[e],selectedNonObject:""},(function(){n.onAfterSelect(t),o&&o()})):t&&this.props.onSelect&&this.onAfterSelect(t))}},{key:"_renderDefinedList",value:function(e){var t=this,o=(0,r.default)(this.possibleCols);if(o.unshift("id"),this.props.columns&&!this.props.columns.includes("buttons")){var n=o.indexOf("buttons");-1!==n&&o.splice(n,1)}return o.filter((function(t){return e&&("val"===t||"buttons"===t)||!e&&"val"!==t&&"buttons"!==t})).map((function(e){return f.default.createElement(b.ListItemButton,{onClick:function(){if(!t.state.columnsAuto&&"id"!==e){var o=(0,r.default)(t.state.columns||[]),n=o.indexOf(e);-1===n?(o.push(e),o.sort()):o.splice(n,1),(window._localStorage||window.localStorage).setItem("".concat(t.props.dialogName||"App",".columns"),JSON.stringify(o)),t.calculateColumnsVisibility(null,o),t.setState({columns:o})}},key:e},f.default.createElement(b.Checkbox,{edge:"start",disabled:"id"===e||t.state.columnsAuto,checked:"id"===e||(t.state.columnsAuto?t.visibleCols.includes(e):t.state.columns&&t.state.columns.includes(e)),disableRipple:!0}),f.default.createElement(b.ListItemText,{primary:t.texts["filter_".concat(e)]||t.props.t("ra_".concat(e))}))}))}},{key:"renderColumnsSelectorDialog",value:function(){var e=this;return this.state.columnsSelectorShow?f.default.createElement(b.Dialog,{onClose:function(){return e.setState({columnsSelectorShow:!1})},open:!0,classes:{root:P.default.clsx(this.props.classes.dialogColumns,this.props.classes["transparent_".concat(this.state.columnsDialogTransparent)])}},f.default.createElement(b.DialogTitle,{className:this.props.classes.fontSizeTitle},this.props.t("ra_Configure")),f.default.createElement(b.DialogContent,{className:this.props.classes.fontSizeTitle},f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.foldersFirst,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".foldersFirst"),e.state.foldersFirst?"false":"true"),e.setState({foldersFirst:!e.state.foldersFirst})}}),label:this.props.t("ra_Folders always first")}),f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.linesEnabled,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".lines"),e.state.linesEnabled?"false":"true"),e.setState({linesEnabled:!e.state.linesEnabled})}}),label:this.props.t("ra_Show lines between rows")}),f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.columnsAuto,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".columnsAuto"),e.state.columnsAuto?"false":"true"),e.state.columnsAuto?e.state.columns?(e.calculateColumnsVisibility(!1),e.setState({columnsAuto:!1})):(e.calculateColumnsVisibility(!1,(0,r.default)(e.visibleCols)),e.setState({columnsAuto:!1,columns:(0,r.default)(e.visibleCols)})):(e.calculateColumnsVisibility(!0),e.setState({columnsAuto:!0}))}}),label:this.props.t("ra_Auto (no custom columns)")}),f.default.createElement(b.List,null,this._renderDefinedList(!1),this.state.columnsForAdmin&&Object.keys(this.state.columnsForAdmin).sort().map((function(t){return e.state.columnsForAdmin[t].map((function(o){return f.default.createElement(b.ListItemButton,{onClick:function(){if(!e.state.columnsAuto){var n=(0,r.default)(e.state.columns||[]),a="_".concat(t,"_").concat(o.path),s=n.indexOf(a);-1===s?(n.push(a),n.sort()):n.splice(s,1),e.calculateColumnsVisibility(null,n),(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".columns"),JSON.stringify(n)),e.setState({columns:n})}},key:"".concat(t,"_").concat(o.name)},f.default.createElement(b.ListItemIcon,null,f.default.createElement(b.Checkbox,{disabled:e.state.columnsAuto,edge:"start",checked:!e.state.columnsAuto&&e.state.columns&&e.state.columns.includes("_".concat(t,"_").concat(o.path)),disableRipple:!0})),f.default.createElement(b.ListItemText,{primary:"".concat(o.name," (").concat(t,")")}))}))})),this._renderDefinedList(!0))),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.setState({columnsSelectorShow:!1})},color:"primary",startIcon:f.default.createElement(w.Close,null)},this.texts.close))):null}},{key:"getAdditionalColumns",value:function(){var e=this;return this.props.socket.getAdapters().then((function(t){var o=null;return t.forEach((function(t){return o=e.parseObjectForAdmins(o,t)})),o})).catch((function(){}))}},{key:"checkUnsubscribes",value:function(){for(var e=this.subscribes.length-1;e>=0;e--)!this.recordStates.includes(this.subscribes[e])&&this.unsubscribe(this.subscribes[e]);this.recordStates=[]}},{key:"findItem",value:function(e,t,o,n){if(t=t||e.split("."),!(o=o||this.root)||!t.length)return null;if(n=(n?"".concat(n,"."):"")+t.shift(),o.children){var a=o.children.find((function(e){return e.data.id===n}));if(!a)return null;if(a.data.id===e)return a;if(t.length)return this.findItem(e,t,a,n)}return null}},{key:"parseObjectForAdmins",value:function(e,t){var o=this;if(t.common&&t.common.adminColumns&&t.common.name){var n=t.common.adminColumns;"object"!==(0,h.default)(n)&&(n=[n]),(n=n.map((function(e){return"object"!==(0,h.default)(e)?{path:e,name:e.split(".").pop()}:(e.objTypes&&"object"!==(0,h.default)(e.objTypes)?e.objTypes=[e.objTypes]:e.objTypes||(e.objTypes=null),!e.name&&e.path?{path:e.path,name:e.path.split(".").pop(),width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:"object"!==(0,h.default)(e.name)&&e.path?{path:e.path,name:e.name,width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:e.path?{path:e.path,name:e.name[o.props.lang]||e.name.en,width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:(console.warn("Admin columns for ".concat(t._id," ignored, because path not found")),null))})).filter((function(e){return e})))&&n.length&&((e=e||{})[t.common.name]=n.sort((function(e,t){return e.path>t.path?-1:e.path<t.path?1:0})))}else t.common&&t.common.name&&e&&e[t.common.name]&&delete e[t.common.name];return e}},{key:"processOnObjectChangeElement",value:function(e,t){console.log("> objectChange ".concat(e));var o=null;if(t&&"function"===typeof this.props.filterFunc&&!this.props.filterFunc(t))return{newState:o,filtered:!0};if(e.startsWith("system.adapter.")&&t&&"adapter"===t.type){var n=JSON.parse(JSON.stringify(this.state.columnsForAdmin));this.parseObjectForAdmins(n,t),JSON.stringify(this.state.columnsForAdmin)!==JSON.stringify(n)&&(o={columnsForAdmin:n})}return this.objects=this.objects||[],t?this.objects[e]=t:this.objects[e]&&delete this.objects[e],{newState:o,filtered:!1}}},{key:"subscribe",value:function(e){this.subscribes.includes(e)||(this.subscribes.push(e),console.log("+ subscribe ".concat(e)),!this.pausedSubscribes&&this.props.socket.subscribeState(e,this.onStateChange))}},{key:"unsubscribe",value:function(e){var t=this.subscribes.indexOf(e);-1!==t&&(this.subscribes.splice(t,1),this.states[e]&&delete this.states[e],console.log("- unsubscribe ".concat(e)),this.props.socket.unsubscribeState(e,this.onStateChange),this.pausedSubscribes&&console.warn("Unsubscribe during pause?"))}},{key:"pauseSubscribe",value:function(e){var t=this;!this.pausedSubscribes&&e?(this.pausedSubscribes=!0,this.subscribes.forEach((function(e){return t.props.socket.unsubscribeState(e,t.onStateChange)}))):this.pausedSubscribes&&!e&&(this.pausedSubscribes=!1,this.subscribes.forEach((function(e){return t.props.socket.subscribeState(e,t.onStateChange)})))}},{key:"onFilter",value:function(e,t){var o=this;this.filterTimer=null;var n=J({},this.state.filter);Object.keys(this.filterRefs).forEach((function(e){if(o.filterRefs[e]&&o.filterRefs[e].current)for(var t=0;t<o.filterRefs[e].current.children.length;t++)if("INPUT"===o.filterRefs[e].current.children[t].tagName){n[e]=o.filterRefs[e].current.children[t].value;break}})),e&&(n[e]=t,"expertMode"===e&&(window._sessionStorage||window.sessionStorage).setItem("App.expertMode",t?"true":"false")),JSON.stringify(this.state.filter)!==JSON.stringify(n)&&((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectFilter"),JSON.stringify(n)),this.setState({filter:n},(function(){return o.props.onFilterChanged&&o.props.onFilterChanged(n)})))}},{key:"clearFilter",value:function(){var e=this,t=J({},this.state.filter);Object.keys(this.filterRefs).forEach((function(o){if(e.filterRefs[o]&&e.filterRefs[o].current)for(var n=0;n<e.filterRefs[o].current.childNodes.length;n++){var a=e.filterRefs[o].current.childNodes[n];if("INPUT"===a.tagName){t[o]="",a.value="";break}}})),JSON.stringify(this.state.filter)!==JSON.stringify(t)&&((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectFilter"),JSON.stringify(t)),this.setState({filter:t,filterKey:this.state.filterKey+1},(function(){return e.props.onFilterChanged&&e.props.onFilterChanged(t)})))}},{key:"isFilterEmpty",value:function(){var e=this;return!Object.keys(this.state.filter).find((function(t){return"expertMode"!==t&&e.state.filter[t]}))}},{key:"getFilterInput",value:function(e){var t,o=this;return f.default.createElement(b.FormControl,{className:P.default.clsx(this.props.classes.headerCellInput,this.props.classes.filterInput),key:"".concat(e,"_").concat(this.state.filterKey),margin:"dense"},f.default.createElement(b.Input,{ref:this.filterRefs[e],classes:{underline:"no-underline"},id:e,placeholder:this.texts["filter_".concat(e)],defaultValue:this.state.filter[e],onChange:function(){o.filterTimer&&clearTimeout(o.filterTimer),o.filterTimer=setTimeout((function(){return o.onFilter()}),400)},autoComplete:"off"}),null!==(t=this.filterRefs[e])&&void 0!==t&&null!==(t=t.current)&&void 0!==t&&t.firstChild.value?f.default.createElement("div",{style:{position:"absolute",right:0}},f.default.createElement(b.IconButton,{size:"small",onClick:function(){o.filterRefs[e].current.firstChild.value="",o.onFilter(e,"")}},f.default.createElement(w.Close,null))):null)}},{key:"getFilterSelect",value:function(e,t){var o,n=this,a=!!t.find((function(e){return e.icon}));return f.default.createElement("div",{style:{position:"relative"}},f.default.createElement(b.Select,{variant:"standard",key:"".concat(e,"_").concat(this.state.filterKey),ref:this.filterRefs[e],className:"".concat(this.props.classes.headerCellInput," no-underline"),onChange:function(){n.filterTimer&&clearTimeout(n.filterTimer),n.filterTimer=setTimeout((function(){return n.onFilter()}),400)},defaultValue:this.state.filter[e]||"",inputProps:{name:e,id:e},displayEmpty:!0},f.default.createElement(b.MenuItem,{key:"empty",value:""},f.default.createElement("span",{className:this.props.classes.selectNone},this.texts["filter_".concat(e)])),t.map((function(e){var t,o,s;return"object"===(0,h.default)(e)?(t=e.value,o=e.name,s=e.icon):(t=e,o=e),f.default.createElement(b.MenuItem,{className:n.props.classes.headerCellSelectItem,key:t,value:t},s||(a?f.default.createElement("div",{className:"itemIcon"}):null),o)}))),null!==(o=this.filterRefs[e])&&void 0!==o&&null!==(o=o.current)&&void 0!==o&&null!==(o=o.childNodes[1])&&void 0!==o&&o.value?f.default.createElement("div",{className:P.default.clsx(this.props.classes.selectClearButton)},f.default.createElement(b.IconButton,{size:"small",onClick:function(){var t=J({},n.state.filter);t[e]="",n.filterRefs[e].current.childNodes[1].value="",(window._localStorage||window.localStorage).setItem("".concat(n.props.dialogName||"App",".objectFilter"),JSON.stringify(t)),n.setState({filter:t,filterKey:n.state.filterKey+1},(function(){return n.props.onFilterChanged&&n.props.onFilterChanged(t)}))}},f.default.createElement(w.Close,null))):null)}},{key:"getFilterSelectRole",value:function(){return this.getFilterSelect("role",this.info.roles)}},{key:"getFilterSelectRoom",value:function(){var e=this,t=this.info.roomEnums.map((function(t){var o,n;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop()),value:t,icon:f.default.createElement(F.default,{src:(null===(n=e.objects[t])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.icon)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("room",t)}},{key:"getFilterSelectFunction",value:function(){var e=this,t=this.info.funcEnums.map((function(t){var o,n;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop()),value:t,icon:f.default.createElement(F.default,{src:(null===(n=e.objects[t])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.icon)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("func",t)}},{key:"getFilterSelectType",value:function(){var e=this.info.types.map((function(e){return{name:e,value:e,icon:Ee[e]}}));return this.getFilterSelect("type",e)}},{key:"getFilterSelectCustoms",value:function(){var e=this;if(this.info.customs.length>1){var t=this.info.customs.map((function(t){return{name:"_"===t?e.texts.filterCustomsWithout:t,value:t,icon:"_"===t?null:f.default.createElement(F.default,{src:ce(e.objects,t,e.imagePrefix)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("custom",t)}return null}},{key:"onExpandAll",value:function(e,t){var o=this;e=e||this.root,t=t||[],e.children&&e.children.forEach((function(e){e.data.sumVisibility&&(t.push(e.data.id),o.onExpandAll(e,t))})),e===this.root&&(t.sort(),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t}))}},{key:"onCollapseAll",value:function(){var e=this;(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify([])),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),"[]"),this.setState({expanded:[],depth:0,selected:[]},(function(){return e.onAfterSelect()}))}},{key:"expandDepth",value:function(e,t,o){var n=this;e=e||this.root,t>0&&e.children&&e.children.forEach((function(e){e.data.sumVisibility&&(ie(o,e.data.id)||(o.push(e.data.id),o.sort()),t-1>0&&n.expandDepth(e,t-1,o))}))}},{key:"onExpandVisible",value:function(){if(this.state.depth<9){var e=this.state.depth+1,t=(0,r.default)(this.state.expanded);this.expandDepth(this.root,e,t),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({depth:e,expanded:t})}}},{key:"onStatesViewVisible",value:function(){var e=!this.state.statesView;(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectStatesView"),JSON.stringify(e)),this.setState({statesView:e})}},{key:"onCollapseVisible",value:function(){if(this.state.depth>0){var e=this.state.depth-1,o=t.collapseDepth(e,this.state.expanded);(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(o)),this.setState({depth:e,expanded:o})}}},{key:"_getSelectedIdsForExport",value:function(){if(this.state.selected.length||this.state.selectedNonObject){var e=[],t=Object.keys(this.objects);t.sort();for(var o=this.state.selected[0]||this.state.selectedNonObject,n="".concat(o,"."),a=n.length,s=0;s<t.length;s++){var r=t[s];if((o===r||r.startsWith(n))&&e.push(r),r.substring(0,a)>n)break}return e}return[]}},{key:"_exportObjects",value:function(){var e=(0,i.default)(s.default.mark((function e(t){var o,n,a,r,i,l,c,u,d;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isAll){e.next=3;break}return re("allObjects.json",this.objects,t),e.abrupt("return");case 3:if(this.state.selected.length||this.state.selectedNonObject){e.next=6;break}return window.alert(this.props.t("ra_Save of objects-tree is not possible")),e.abrupt("return");case 6:o={},n=this.state.selected[0]||this.state.selectedNonObject,a=this._getSelectedIdsForExport(),r=K(a),e.prev=10,r.s();case 12:if((i=r.n()).done){e.next=23;break}if(c=i.value,o[c]=JSON.parse(JSON.stringify(this.objects[c])),"state"!==(null===(l=o[c])||void 0===l?void 0:l.type)||t.noStatesByExportImport){e.next=20;break}return e.next=18,this.props.socket.getState(c);case 18:(u=e.sent)&&(o[c].val=u.val,o[c].ack=u.ack);case 20:o[c].common&&(d=this.getEnumsForId(c))&&(o[c].common.enums=d);case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),r.e(e.t0);case 28:return e.prev=28,r.f(),e.finish(28);case 31:re("".concat(n,".json"),o,t);case 32:case"end":return e.stop()}}),e,this,[[10,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderExportDialog",value:function(){var e=this;return!1===this.state.showExportDialog?null:f.default.createElement(b.Dialog,{open:!0},f.default.createElement(b.DialogTitle,null,this.props.t("ra_Select type of export")),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,null,this.state.filter.expertMode||this.state.showAllExportOptions?f.default.createElement(f.default.Fragment,null,this.props.t("ra_You can export all objects or just the selected branch."),f.default.createElement("br",null),this.props.t("ra_Selected %s object(s)",this.state.showExportDialog),f.default.createElement("br",null),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.noStatesByExportImport,onChange:function(t){return e.setState({noStatesByExportImport:t.target.checked})}}),label:this.props.t("ra_Do not export values of states")}),f.default.createElement("br",null),this.props.t("These options can reduce the size of the export file:"),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.beautifyJsonExport,onChange:function(t){return e.setState({beautifyJsonExport:t.target.checked})}}),label:this.props.t("Beautify JSON output")}),f.default.createElement("br",null),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.excludeSystemRepositoriesFromExport,onChange:function(t){return e.setState({excludeSystemRepositoriesFromExport:t.target.checked})}}),label:this.props.t("Exclude system repositories from export JSON")}),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.excludeTranslations,onChange:function(t){return e.setState({excludeTranslations:t.target.checked})}}),label:this.props.t("Exclude translations (except english) from export JSON")})):null)),f.default.createElement(b.DialogActions,null,this.state.filter.expertMode||this.state.showAllExportOptions?f.default.createElement(b.Button,{color:"grey",variant:"outlined",onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1},(function(){return e._exportObjects({isAll:!0,noStatesByExportImport:e.state.noStatesByExportImport,beautify:e.state.beautifyJsonExport,excludeSystemRepositories:e.state.excludeSystemRepositoriesFromExport,excludeTranslations:e.state.excludeTranslations})}))}},this.props.t("ra_All objects")," ","(",Object.keys(this.objects).length,")"):f.default.createElement(b.Button,{color:"grey",variant:"outlined",startIcon:f.default.createElement(k.default,null),onClick:function(){return e.setState({showAllExportOptions:!0})}},this.props.t("ra_Advanced options")),f.default.createElement(b.Button,{color:"primary",variant:"contained",autoFocus:!0,onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1},(function(){return e._exportObjects({isAll:!1,noStatesByExportImport:e.state.noStatesByExportImport,beautify:e.state.beautifyJsonExport,excludeSystemRepositories:e.state.excludeSystemRepositoriesFromExport,excludeTranslations:e.state.excludeTranslations})}))}},this.props.t("ra_Only selected")," ","(",this.state.showExportDialog,")"),f.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1})},startIcon:f.default.createElement(w.Close,null)},this.props.t("ra_Cancel"))))}},{key:"getToolbar",value:function(){var e=this,t=!1;if(this.state.selected.length||this.state.selectedNonObject){var o=this.state.selected[0]||this.state.selectedNonObject;o.split(".").length<2||this.objects[o]&&"state"===this.objects[o].type?t=!1:(this.state.filter.expertMode||o.startsWith("alias.0")||o.startsWith("0_userdata"))&&(t=!0)}return f.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},f.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},f.default.createElement(b.Tooltip,{title:this.props.t("ra_Refresh tree"),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,f.default.createElement(b.IconButton,{onClick:function(){return e.refreshComponent()},disabled:this.state.updating,size:"large"},f.default.createElement(w.Refresh,null)))),this.props.showExpertButton&&!this.props.expertMode&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_expertMode"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expertMode",color:this.state.filter.expertMode?"secondary":"default",onClick:function(){return e.onFilter("expertMode",!e.state.filter.expertMode)},size:"large"},f.default.createElement(k.default,null))),!this.props.disableColumnSelector&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Configure"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"columnSelector",color:this.state.columnsAuto?"primary":"default",onClick:function(){return e.setState({columnsSelectorShow:!0})},size:"large"},f.default.createElement(w.ViewColumn,null))),this.state.expandAllVisible&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Expand all nodes"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expandAll",onClick:function(){return e.onExpandAll()},size:"large"},f.default.createElement(I.default,null))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Collapse all nodes"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"collapseAll",onClick:function(){return e.onCollapseAll()},size:"large"},f.default.createElement(T.default,null))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Expand one step node"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expandVisible",color:"primary",onClick:function(){return e.onExpandVisible()},size:"large"},f.default.createElement(Se,{badgeContent:this.state.depth,color:"secondary"},f.default.createElement(I.default,null)))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Collapse one step node"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"collapseVisible",color:"primary",onClick:function(){return e.onCollapseVisible()},size:"large"},f.default.createElement(Se,{badgeContent:this.state.depth,color:"secondary"},f.default.createElement(T.default,null)))),this.props.objectStatesView&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Toggle the states view"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){return e.onStatesViewVisible()},size:"large"},f.default.createElement(w.LooksOne,{color:this.state.statesView?"primary":"inherit"}))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Show/Hide object descriptions"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".desc"),e.state.showDescription?"false":"true"),e.setState({showDescription:!e.state.showDescription})},size:"large"},f.default.createElement(w.TextFields,{color:this.state.showDescription?"primary":"inherit"}))),this.props.objectAddBoolean?f.default.createElement(b.Tooltip,{title:this.toolTipObjectCreating(),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,f.default.createElement(b.IconButton,{disabled:!t,onClick:function(){return e.setState({modalNewObj:{id:e.state.selected[0]||e.state.selectedNonObject}})},size:"large"},f.default.createElement(w.Add,null)))):null,this.props.objectImportExport&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Add objects tree from JSON file"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","files"),t.setAttribute("opacity",0),t.addEventListener("change",(function(t){return e.handleJsonUpload(t)}),!1),t.click()},size:"large"},f.default.createElement(w.Publish,null))),this.props.objectImportExport&&(!!this.state.selected.length||this.state.selectedNonObject)&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Save objects tree as JSON file"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){return e.setState({showExportDialog:e._getSelectedIdsForExport().length})},size:"large"},f.default.createElement(w.Publish,{style:{transform:"rotate(180deg)"}})))),!!this.props.objectBrowserEditObject&&f.default.createElement("div",{style:{display:"flex",whiteSpace:"nowrap"}},"".concat(this.props.t("ra_Objects"),": ").concat(Object.keys(this.info.objects).length,", ").concat(this.props.t("ra_States"),": ").concat(Object.keys(this.info.objects).filter((function(t){return"state"===e.info.objects[t].type})).length)),this.props.objectEditBoolean&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Edit custom config"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){var t=de(e.root,"state",e.objects);t.length?(e.pauseSubscribe(!0),1===t.length&&((window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".objectSelected"),e.state.selected[0]),e.props.router&&e.props.router.doNavigate(null,"custom",e.state.selected[0])),e.setState({customDialog:t})):e.setState({toast:e.props.t("ra_please select object")})},size:"large"},f.default.createElement(w.Build,null))))}},{key:"toggleExpanded",value:function(e){var t=JSON.parse(JSON.stringify(this.state.expanded)),o=t.indexOf(e);-1===o?(t.push(e),t.sort()):t.splice(o,1),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t})}},{key:"onCopy",value:function(e,t){e.stopPropagation(),e.preventDefault(),P.default.copyToClipboard(t,null),t.length<50?this.setState({toast:this.props.t("ra_Copied %s",t)}):this.setState({toast:this.props.t("ra_Copied")})}},{key:"renderColumnButtons",value:function(e,t,o){var n,a,s,r=this;if(!t.data.obj)return this.props.onObjectDelete||this.props.objectEditOfAccessControl?f.default.createElement("div",{className:o.buttonDiv},this.state.filter.expertMode&&this.props.objectEditOfAccessControl?f.default.createElement(b.IconButton,{className:P.default.clsx(o.cellButtonsButton,o.cellButtonsEmptyButton,o.cellButtonMinWidth),onClick:function(){return r.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:t.data})},size:"large"},"---"):null,this.props.onObjectDelete&&t.children&&t.children.length?f.default.createElement(b.IconButton,{className:P.default.clsx(o.cellButtonsButton,o.cellButtonsButtonAlone),size:"small","aria-label":"delete",title:this.texts.deleteObject,onClick:function(){var o,n=Object.keys(r.objects);n.sort();for(var a=0,s="".concat(e,"."),i=0;i<n.length;i++)if(n[i].startsWith(s))a++;else if(n[i]>s)break;r.props.onObjectDelete(e,!(null===(o=t.children)||void 0===o||!o.length),!1,a+1)}},f.default.createElement(w.Delete,{className:o.cellButtonsButtonIcon})):null):null;t.data.aclTooltip=t.data.aclTooltip||this.renderTooltipAccessControl(t.data.obj.acl);var i=t.data.obj.acl?"state"===t.data.obj.type?t.data.obj.acl.state:t.data.obj.acl.object:0,l=t.data.obj.acl&&("state"===t.data.obj.type?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object),c=this.state.filter.expertMode||this.isNonExpertId(t.data.id);return[this.state.filter.expertMode&&this.props.objectEditOfAccessControl?f.default.createElement(b.Tooltip,{key:"acl",title:t.data.aclTooltip,classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{className:o.cellButtonMinWidth,onClick:function(){return r.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:t.data})},size:"large"},f.default.createElement("div",{className:o.aclText},Number.isNaN(Number(i))?Number(l).toString(16):Number(i).toString(16)))):f.default.createElement("div",{key:"aclEmpty",className:o.cellButtonMinWidth}),c?f.default.createElement(b.IconButton,{key:"edit",className:o.cellButtonsButton,size:"small","aria-label":"edit",title:this.texts.editObject,onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(r.props.dialogName||"App",".objectSelected"),e),r.setState({editObjectDialog:e,editObjectAlias:!1})}},f.default.createElement(w.Edit,{className:o.cellButtonsButtonIcon})):f.default.createElement("div",{key:"editDisabled",className:o.cellButtonsButton}),this.props.onObjectDelete&&(null!==(n=t.children)&&void 0!==n&&n.length||null===(a=t.data.obj.common)||void 0===a||!a.dontDelete)?f.default.createElement(b.IconButton,{key:"delete",className:o.cellButtonsButton,size:"small","aria-label":"delete",onClick:function(){var o,n,a=Object.keys(r.objects);a.sort();for(var s=0,i="".concat(e,"."),l=0;l<a.length;l++)if(a[l].startsWith(i))s++;else if(a[l]>i)break;r.props.onObjectDelete(e,!(null===(o=t.children)||void 0===o||!o.length),!(null!==(n=t.data.obj.common)&&void 0!==n&&n.dontDelete),s)},title:this.texts.deleteObject},f.default.createElement(w.Delete,{className:o.cellButtonsButtonIcon})):null,this.props.objectCustomDialog&&this.info.hasSomeCustoms&&"state"===t.data.obj.type&&"file"!==(null===(s=t.data.obj.common)||void 0===s?void 0:s.type)?f.default.createElement(b.IconButton,{className:P.default.clsx(o.cellButtonsButton,t.data.hasCustoms?o.cellButtonsButtonWithCustoms:o.cellButtonsButtonWithoutCustoms),key:"custom",size:"small","aria-label":"config",title:this.texts.customConfig,onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(r.props.dialogName||"App",".objectSelected"),e),r.pauseSubscribe(!0),r.props.router&&r.props.router.doNavigate(null,"customs",e),r.setState({customDialog:[e]})}},f.default.createElement(w.Settings,{className:o.cellButtonsButtonIcon})):null]}},{key:"readHistory",value:function(e){if(window.sparkline&&this.defaultHistory&&this.objects[e]&&this.objects[e].common&&this.objects[e].common.custom&&this.objects[e].common.custom[this.defaultHistory]){var t=new Date;t.setHours(t.getHours()-24),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var o=t.getTime();this.props.socket.getHistory(e,{instance:this.defaultHistory,start:o,end:Date.now(),step:36e5,from:!1,ack:!1,q:!1,addID:!1,aggregate:"minmax"}).then((function(t){for(var n=window.document.getElementsByClassName("sparkline"),a=0;a<n.length;a++)if(n[a].dataset.id===e){var s=we(t,o);window.sparkline.sparkline(n[a],s);break}})).catch((function(e){return console.warn("Cannot read history: ".concat(e))}))}}},{key:"renderColumnValue",value:function(e,t,o){var n,a=this,s=t.data.obj;if(!s||!this.states)return null;if("file"===(null===(n=s.common)||void 0===n?void 0:n.type))return f.default.createElement("div",{className:P.default.clsx(o.cellValueText,o.cellValueFile)},"[file]");if(!this.states[e])return"state"===s.type&&(!this.recordStates.includes(e)&&this.recordStates.push(e),this.states[e]={val:null},this.subscribe(e)),null;!this.recordStates.includes(e)&&this.recordStates.push(e);var r=this.states[e],i=t.data.state;if(!i){t.data.state=function(e){var t=e.dateFormat,o=e.obj,n=e.state,a=e.isFloatComma,s=e.texts,r=P.default.getStates(o),i=o.common,l={},c=i&&"file"===i.type?"[file]":n&&null!==n.val?void 0===n.val?"[undef]":n.val:"(null)",u=(0,h.default)(c);if(null!==i&&void 0!==i&&i.role&&"string"===typeof i.role&&i.role.match(/^value\.time|^date/))if(c&&"string"===typeof c)if(P.default.isStringInteger(c))c=new Date(parseInt(c,10)).toString();else try{var d=new Date(c);P.default.isValidDate(d)&&(c=d.toString())}catch(g){}else c>946681200&&c<9466812e5&&(c*=1e3),c=c?new Date(c).toString():c;else"number"===u?(c=Math.round(1e8*c)/1e8,a&&(c=c.toString().replace(".",","))):"object"===u?c=JSON.stringify(c):"string"!==u&&(c=c.toString()),"string"!==typeof c&&(c=c.toString());r&&void 0!==r[c]&&c!==r[c]&&(l.s=c,c=r[c]),null!==i&&void 0!==i&&i.unit&&(l.u=i.unit);var p=[{t:s.value,v:c}];if(n){if(void 0!==n.ack&&null!==n.ack&&p.push({t:s.ack,v:n.ack.toString()}),n.ts&&p.push({t:s.ts,v:n.ts?P.default.formatDate(new Date(n.ts),t):""}),n.lc&&p.push({t:s.lc,v:n.lc?P.default.formatDate(new Date(n.lc),t):""}),n.from){var m=n.from.toString();m.startsWith("system.adapter.")&&(m=m.substring(15)),p.push({t:s.from,v:m})}if(n.user){var f=n.user.toString();f.startsWith("system.user.")&&(f=f.substring(12)),p.push({t:s.user,v:f})}n.c&&p.push({t:s.c,v:n.c}),p.push({t:s.quality,v:P.default.quality2text(n.q||0).join(", "),nbr:!0})}return l.v=c,{valText:l,valFull:p}}({state:r,obj:s,texts:this.texts,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma}),(i=t.data.state).valFull=i.valFull.map((function(e){return e.t===a.texts.quality&&r.q?[f.default.createElement("div",{className:o.cellValueTooltipBoth,key:e.t},e.t,":\xa0",e.v),e.nbr?null:f.default.createElement("br",{key:"".concat(e.t,"_br")})]:[f.default.createElement("div",{className:o.cellValueTooltipTitle,key:e.t},e.t,":\xa0"),f.default.createElement("div",{className:o.cellValueTooltipValue,key:"".concat(e.t,"_v")},e.v),e.nbr?null:f.default.createElement("br",{key:"".concat(e.t,"_br")})]})),this.defaultHistory&&this.objects[e]&&this.objects[e].common&&this.objects[e].common.custom&&this.objects[e].common.custom[this.defaultHistory]&&i.valFull.push(f.default.createElement("svg",{key:"sparkline",className:"sparkline","data-id":e,style:{fill:"#3d85de"},width:"200",height:"30",strokeWidth:"3"}));var l=i.valText.v||"";i.val=l,i.valText=[f.default.createElement("span",{className:o.newValue,key:"".concat(i.valText.v.toString(),"valText")},i.valText.v.toString()),i.valText.u?f.default.createElement("span",{className:P.default.clsx(o.cellValueTextUnit,o.newValue),key:"".concat(i.valText.v.toString(),"unit")},i.valText.u):null,void 0!==i.valText.s?f.default.createElement("span",{className:P.default.clsx(o.cellValueTextState,o.newValue),key:"".concat(i.valText.v.toString(),"states")},"(",i.valText.s,")"):null,f.default.createElement(x.default,{className:P.default.clsx(o.cellButtonsValueButton,"copyButton",o.cellButtonsValueButtonCopy),onClick:function(e){return a.onCopy(e,l)},key:"cc"})]}i.style=function(e){var t=e.state,o=e.isExpertMode,n=e.isButton,a=null!==t&&void 0!==t&&t.ack?t.q?"#ffa500":"":"#ff2222c9";return!o&&n&&(a=""),{color:a}}({state:r,isExpertMode:this.state.filter.expertMode,isButton:t.data.button});var c=i.valText;return!this.state.filter.expertMode&&t.data.button&&(c=f.default.createElement(w.RoomService,{className:this.props.classes.cellValueButton})),f.default.createElement(b.Tooltip,{key:"value",title:i.valFull,classes:{tooltip:this.props.classes.cellValueTooltip,popper:this.props.classes.cellValueTooltipBox},onOpen:function(){return a.readHistory(e)}},f.default.createElement("div",{style:i.style,className:o.cellValueText},c))}},{key:"_syncEnum",value:function(e,t,o,n){var a,s=this;if(t&&t.length){var r=t.pop(),i=[];if(null!==(a=this.info.objects[r])&&void 0!==a&&a.common){var l,c;if(null!==(l=this.info.objects[r].common.members)&&void 0!==l&&l.length){var u=this.info.objects[r].common.members.indexOf(e);if(-1!==u&&!o.includes(r)){var d=JSON.parse(JSON.stringify(this.info.objects[r]));d.common.members.splice(u,1),i.push(this.props.socket.setObject(r,d).then((function(){return s.info.objects[r]=d})).catch((function(e){return s.showError(e)})))}}if(o.includes(r)&&(null===(c=this.info.objects[r].common.members)||void 0===c||!c.includes(e))){var p=JSON.parse(JSON.stringify(this.info.objects[r]));p.common.members=p.common.members||[],p.common.members.push(e),p.common.members.sort(),i.push(this.props.socket.setObject(r,p).then((function(){return s.info.objects[r]=p})).catch((function(e){return s.showError(e)})))}}Promise.all(i).then((function(){return setTimeout((function(){return s._syncEnum(e,t,o,n)}),0)}))}else n&&n()}},{key:"syncEnum",value:function(e,t,o){var n=this,a=(0,r.default)(this.info["func"===t?"funcEnums":"roomEnums"]);return new Promise((function(t){n._syncEnum(e,a,o,(function(e){e&&n.showError(e),t()}))}))}},{key:"renderEnumDialog",value:function(){var e=this;if(this.state.enumDialog){var t=this.state.enumDialog.type,o=this.state.enumDialog.item,n=this.state.enumDialogEnums,a=this.state.enumDialog.enumsOriginal,s=("room"===t?this.info.roomEnums:this.info.funcEnums).map((function(t){var o;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop(),e.props.lang),value:t,icon:ce(e.objects,t,e.imagePrefix)}})).sort((function(e,t){return e.name>t.name?1:-1}));return s.forEach((function(t){t.icon&&"string"===typeof t.icon&&(t.icon=f.default.createElement("div",{className:e.props.classes.enumIconDiv},f.default.createElement("img",{src:t.icon,className:e.props.classes.enumIcon,alt:t.name})))})),f.default.createElement(b.Dialog,{className:this.props.classes.enumDialog,onClose:function(){return e.setState({enumDialog:null})},"aria-labelledby":"enum-dialog-title",open:!0},f.default.createElement(b.DialogTitle,{id:"enum-dialog-title"},"func"===t?this.props.t("ra_Define functions"):this.props.t("ra_Define rooms"),f.default.createElement(b.Fab,{className:this.props.classes.enumButton,color:"primary",disabled:JSON.stringify(a)===JSON.stringify(n),size:"small",onClick:function(){return e.syncEnum(o.data.id,t,n).then((function(){return e.setState({enumDialog:null,enumDialogEnums:null})}))}},f.default.createElement(w.Check,null))),f.default.createElement(b.List,{classes:{root:this.props.classes.enumList}},s.map((function(t){var o,a,s;"object"===(0,h.default)(t)?(o=t.value,a=t.name,s=t.icon):(o=t,a=t);var r="checkbox-list-label-".concat(o);return f.default.createElement(b.ListItem,{className:e.props.classes.headerCellSelectItem,key:o,onClick:function(){var t=n.indexOf(o),a=JSON.parse(JSON.stringify(e.state.enumDialogEnums));-1===t?(a.push(o),a.sort()):a.splice(t,1),e.setState({enumDialogEnums:a})}},f.default.createElement(b.ListItemIcon,{classes:{root:e.props.classes.enumCheckbox}},f.default.createElement(b.Checkbox,{edge:"start",checked:n.includes(o),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":r}})),f.default.createElement(b.ListItemText,{id:r},a),s?f.default.createElement(b.ListItemSecondaryAction,null,s):null)}))))}return null}},{key:"renderEditRoleDialog",value:function(){var e=this;if(this.state.roleDialog&&this.props.objectBrowserEditRole){var t=this.props.objectBrowserEditRole;return f.default.createElement(t,{key:"objectBrowserEditRole",id:this.state.roleDialog,socket:this.props.socket,t:this.props.t,roles:this.info.roles,onClose:function(t){t&&(e.info.objects[e.state.roleDialog]=t),e.setState({roleDialog:!1})}})}return null}},{key:"onColumnsEditCustomDialogClose",value:function(e){var o=this;if(e){var n=this.customColumnDialog.value;"boolean"===this.customColumnDialog.type?n="true"===n||!0===n:"number"===this.customColumnDialog.type&&(n=parseFloat(n)),this.customColumnDialog=null,this.props.socket.getObject(this.state.columnsEditCustomDialog.obj._id).then((function(e){if(t.setCustomValue(e,o.state.columnsEditCustomDialog.it,n))return o.props.socket.setObject(e._id,e);throw new Error(o.props.t("ra_Cannot update attribute, because not found in the object"))})).then((function(){return o.setState({columnsEditCustomDialog:null})})).catch((function(e){return o.showError(e)}))}else this.customColumnDialog=null,this.setState({columnsEditCustomDialog:null})}},{key:"renderColumnsEditCustomDialog",value:function(){var e=this;if(this.state.columnsEditCustomDialog){if(!this.customColumnDialog){var o=t.getCustomValue(this.state.columnsEditCustomDialog.obj,this.state.columnsEditCustomDialog.it);this.customColumnDialog={type:this.state.columnsEditCustomDialog.it.type||(0,h.default)(o),initValue:(null===o||void 0===o?"":o).toString(),value:(null===o||void 0===o?"":o).toString()}}return f.default.createElement(b.Dialog,{onClose:function(){return e.setState({columnsEditCustomDialog:null})},maxWidth:"md","aria-labelledby":"custom-dialog-title",open:!0},f.default.createElement(b.DialogTitle,{id:"custom-dialog-title"},"".concat(this.props.t("ra_Edit object field"),": ").concat(this.state.columnsEditCustomDialog.obj._id)),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,{id:"alert-dialog-description"},"boolean"===this.customColumnDialog.type?f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{onKeyUp:function(t){return 13===t.keyCode&&e.onColumnsEditCustomDialogClose(!0)},defaultChecked:"true"===this.customColumnDialog.value,onChange:function(t){e.customColumnDialog.value=t.target.checked.toString();var o=e.customColumnDialog.value!==e.customColumnDialog.initValue;o===!e.state.customColumnDialogValueChanged&&e.setState({customColumnDialogValueChanged:o})}}),label:"".concat(this.state.columnsEditCustomDialog.it.name," (").concat(this.state.columnsEditCustomDialog.it.pathText,")")}):f.default.createElement(b.TextField,{variant:"standard",defaultValue:this.customColumnDialog.value,fullWidth:!0,onKeyUp:function(t){return 13===t.keyCode&&e.onColumnsEditCustomDialogClose(!0)},label:"".concat(this.state.columnsEditCustomDialog.it.name," (").concat(this.state.columnsEditCustomDialog.it.pathText,")"),onChange:function(t){e.customColumnDialog.value=t.target.value;var o=e.customColumnDialog.value!==e.customColumnDialog.initValue;o===!e.state.customColumnDialogValueChanged&&e.setState({customColumnDialogValueChanged:o})},autoFocus:!0}))),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.onColumnsEditCustomDialogClose(!0)},disabled:!this.state.customColumnDialogValueChanged,color:"primary",startIcon:f.default.createElement(w.Check,null)},this.props.t("ra_Update")),f.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:function(){return e.onColumnsEditCustomDialogClose()},startIcon:f.default.createElement(w.Close,null)},this.props.t("ra_Cancel"))))}return null}},{key:"renderCustomValue",value:function(e,o,n){var a=this,s=t.getCustomValue(e,o);return null!==s&&void 0!==s?!o.edit||this.props.notEditable||o.objTypes&&!o.objTypes.includes(e.type)?f.default.createElement("div",{className:P.default.clsx(this.props.classes.columnCustom,this.props.classes["columnCustom_".concat(o.align)])},s):f.default.createElement("div",{className:P.default.clsx(this.props.classes.columnCustom,this.props.classes.columnCustomEditable,this.props.classes["columnCustom_".concat(o.align)]),onClick:function(){return a.setState({columnsEditCustomDialog:{item:n,it:o,obj:e},customColumnDialogValueChanged:!1})}},s):null}},{key:"renderLeaf",value:function(e,t,o,n){var a,s,r,i,l,c,u,d,p,m=this,g=e.data.id;n.count++,t=void 0===t?this.state.expanded.includes(g):t;var y=e.data.obj,v=null===y||void 0===y?void 0:y.type;p=e.children||"folder"===v||"device"===v||"channel"===v||"meta"===v?t?f.default.createElement(I.default,{className:o.cellIdIconFolder,onClick:function(){return m.toggleExpanded(g)}}):f.default.createElement(T.default,{className:o.cellIdIconFolder,onClick:function(){return m.toggleExpanded(g)}}):y.common&&!1===y.common.write&&"state"===y.type?f.default.createElement(N.default,{className:o.cellIdIconDocument}):f.default.createElement(_.default,{className:o.cellIdIconDocument});var k=null;e.data.icon&&(k="string"===typeof e.data.icon?e.data.icon.length<3?f.default.createElement("span",{className:P.default.clsx(o.cellIdIconOwn,"iconOwn")},e.data.icon):f.default.createElement("img",{className:P.default.clsx(o.cellIdIconOwn,"iconOwn"),src:e.data.icon,alt:""}):e.data.icon);var E=null===y||void 0===y?void 0:y.common,S=y&&y.type&&Ee[y.type]||f.default.createElement("div",{className:"itemIcon"}),C=this.levelPadding*e.data.level;if(e.data.lang!==this.props.lang){var O=ye(this.info,g,this.props.lang),j=O.rooms,D=O.per;e.data.rooms=j.join(", "),e.data.per=D;var A=be(this.info,g,this.props.lang),M=A.funcs,F=A.pef;e.data.funcs=M.join(", "),e.data.pef=F,e.data.lang=this.props.lang}var R=this.props.multiSelect&&this.objects[g]&&(!this.props.types||this.props.types.includes(this.objects[g].type))?f.default.createElement(b.Checkbox,{className:o.checkBox,checked:this.state.selected.includes(g)}):null,L=!this.props.notEditable&&"state"===v&&(this.state.filter.expertMode||!1!==(null===E||void 0===E?void 0:E.write));this.props.objectBrowserViewFile&&"file"===(null===E||void 0===E?void 0:E.type)&&(L=!0);var B,V=!this.props.notEditable&&this.objects[g]&&(this.state.filter.expertMode||"state"===v||"channel"===v||"device"===v),W=this.state.statesView&&("state"===v||"channel"===v||"device"===v),z="",J=[];if(W&&(void 0===(z=null===(B=this.states[g])||void 0===B?void 0:B.from)?z="&nbsp;":(z=z?z.replace(/^system\.adapter\.|^system\./,""):"",J.push("".concat(this.texts.stateChangedFrom," ").concat(z))),y.user)){var H=y.user.replace("system.user.","");z+="/".concat(H),J.push("".concat(this.texts.stateChangedBy," ").concat(H))}y&&(y.from&&J.push("".concat(this.texts.objectChangedFrom," ").concat(y.from.replace(/^system\.adapter\.|^system\./,""))),y.user&&J.push("".concat(this.texts.objectChangedBy," ").concat(y.user.replace(/^system\.user\./,""))),y.ts&&J.push("".concat(this.texts.objectChangedByUser," ").concat(P.default.formatDate(new Date(y.ts),this.props.dateFormat))));var q,U="object"===(0,h.default)(null===E||void 0===E||null===(a=E.alias)||void 0===a?void 0:a.id),G=g.startsWith("alias.")&&null!==E&&void 0!==E&&null!==(s=E.alias)&&void 0!==s&&s.id?U?f.default.createElement("div",{className:o.cellIdAliasReadWriteDiv},E.alias.id.read?f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id.read),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id.read)}))}),100)},className:P.default.clsx(o.cellIdAlias,o.cellIdAliasReadWrite)},"\u2190",E.alias.id.read):null,E.alias.id.write?f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id.write),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id.write)}))}),100)},className:P.default.clsx(o.cellIdAlias,o.cellIdAliasReadWrite)},"\u2192",E.alias.id.write):null):f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id)}))}),100)},className:P.default.clsx(o.cellIdAlias,o.cellIdAliasAlone)},"\u2192",E.alias.id):null,K=null===E||void 0===E?void 0:E.color;if(K&&!this.state.selected.includes(g)){var Y="dark"===this.props.themeName?"#1f1f1f":"blue"===this.props.themeName?"#222a2e":"#FFFFFF";P.default.colorDistance(K,Y)<1e3&&(q="dark"===this.props.themeType?"#9a9a9a":"#565656")}"system"===g?K="#ff6d69":"system.adapter"===g?K="#5773ff":K&&!this.state.selected.includes(g)||(K="inherit");var $=[];if(null!==E&&void 0!==E&&E.statusStates){var X={};Object.keys(E.statusStates).forEach((function(e){var t,o=E.statusStates[e];(o.split(".").length<3&&(o="".concat(g,".").concat(o)),X[e]=o,m.states[o])?!m.recordStates.includes(o)&&m.recordStates.push(o):"state"===(null===(t=m.objects[o])||void 0===t?void 0:t.type)&&(!m.recordStates.includes(o)&&m.recordStates.push(o),m.states[o]={val:null},m.subscribe(o))}));var Z=!1;E.statusStates.errorId&&this.states[X.errorId]&&this.states[X.errorId].val&&(K="dark"===this.props.themeType?Q:ee,Z=!0,$.push(f.default.createElement(w.Error,{key:"error",title:this.texts.deviceError,className:this.props.classes.iconDeviceError}))),X.onlineId&&this.states[X.onlineId]?Z?this.states[X.onlineId].val?$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected})):$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected})):this.states[X.onlineId].val?(K="dark"===this.props.themeType?te:oe,$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected}))):(K="dark"===this.props.themeType?ne:ae,$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected}))):X.offlineId&&this.states[X.offlineId]&&(Z?this.states[X.offlineId].val?$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected})):$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected})):this.states[X.offlineId].val?(K="dark"===this.props.themeType?ne:ae,$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected}))):(K="dark"===this.props.themeType?te:oe,$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected}))))}var se,re=W?P.default.quality2text((null===(r=this.states[g])||void 0===r?void 0:r.q)||0).join(", "):null,ie=(null===(i=e.data)||void 0===i?void 0:i.title)||"";return this.state.showDescription&&(se=me(e.data,this.props.lang))&&(ie=[f.default.createElement("div",{key:"name",className:o.cellNameDivDiv},ie),f.default.createElement("div",{key:"desc",className:o.cellDescription},se)],se=!!se),f.default.createElement(b.Grid,{container:!0,direction:"row",wrap:"nowrap",className:P.default.clsx(o.tableRow,this.state.linesEnabled&&o.tableRowLines,!this.props.dragEnabled&&o.tableRowNoDragging,G&&o.tableRowAlias,U&&o.tableRowAliasReadWrite,!e.data.visible&&o.filteredOut,e.data.hasVisibleParent&&!e.data.visible&&!e.data.hasVisibleChildren&&o.filteredParentOut,this.state.selected.includes(g)&&o.itemSelected,this.state.selectedNonObject===g&&o.itemSelected),key:g,id:g,onMouseDown:function(t){var o;m.onSelect(g),"which"in t?o=3===t.which:"button"in t&&(o=2===t.button),m.contextMenu=o?{item:e,ts:Date.now()}:null},onDoubleClick:function(){e.children?m.toggleExpanded(g):m.onSelect(g,!0)}},f.default.createElement(b.Grid,{container:!0,wrap:"nowrap",direction:"row",className:o.cellId,style:{width:this.columnsVisibility.id,paddingLeft:C}},f.default.createElement(b.Grid,{item:!0,container:!0,alignItems:"center"},R,p),f.default.createElement(b.Grid,{item:!0,style:{color:K},className:P.default.clsx(o.cellIdSpan,q&&o.invertedBackground)},f.default.createElement(b.Tooltip,{title:he(e.data,this.props.classes,this.props.lang),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,e.data.name)),G,$),f.default.createElement("div",{className:P.default.clsx(o.grow,q&&o.invertedBackgroundFlex)}),f.default.createElement(b.Grid,{item:!0,container:!0,alignItems:"center"},k),f.default.createElement("div",null,f.default.createElement(x.default,{className:P.default.clsx(o.cellCopyButton,"copyButton"),onClick:function(e){return m.onCopy(e,g)}}))),this.columnsVisibility.name?f.default.createElement("div",{className:P.default.clsx(o.cellName,se&&o.cellNameWithDesc),style:{width:this.columnsVisibility.name}},ie,null!==(l=e.data)&&void 0!==l&&l.title?f.default.createElement("div",{style:{color:K}},f.default.createElement(x.default,{className:P.default.clsx(o.cellCopyButton,"copyButton"),onClick:function(t){return m.onCopy(t,e.data.title)}})):null):null,this.state.statesView?f.default.createElement(f.default.Fragment,null,this.columnsVisibility.changedFrom?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.changedFrom},title:J.join("\n")},W&&null!==(c=this.states[g])&&void 0!==c&&c.from?z:null):null,this.columnsVisibility.qualityCode?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.qualityCode},title:re||""},re):null,this.columnsVisibility.timestamp?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.timestamp}},W&&null!==(u=this.states[g])&&void 0!==u&&u.ts?P.default.formatDate(new Date(this.states[g].ts),this.props.dateFormat):null):null,this.columnsVisibility.lastChange?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.lastChange}},W&&null!==(d=this.states[g])&&void 0!==d&&d.lc?P.default.formatDate(new Date(this.states[g].lc),this.props.dateFormat):null):null):f.default.createElement(f.default.Fragment,null,this.columnsVisibility.type?f.default.createElement("div",{className:o.cellType,style:{width:this.columnsVisibility.type}},S,"\xa0",y&&y.type):null,this.columnsVisibility.role?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.role,cursor:this.state.filter.expertMode&&V&&this.props.objectBrowserEditRole?"text":"default"},onClick:this.state.filter.expertMode&&V&&this.props.objectBrowserEditRole?function(){return m.setState({roleDialog:e.data.id})}:void 0},null===E||void 0===E?void 0:E.role):null,this.columnsVisibility.room?f.default.createElement("div",{className:"".concat(o.cellRoom," ").concat(e.data.per?o.cellEnumParent:""),style:{width:this.columnsVisibility.room,cursor:V?"text":"default"},onClick:V?function(){var t=ve(m.info,e.data.id,"roomEnums");m.setState({enumDialogEnums:t,enumDialog:{item:e,type:"room",enumsOriginal:JSON.parse(JSON.stringify(t))}})}:void 0},e.data.rooms):null,this.columnsVisibility.func?f.default.createElement("div",{className:"".concat(o.cellFunc," ").concat(e.data.pef?o.cellEnumParent:""),style:{width:this.columnsVisibility.func,cursor:V?"text":"default"},onClick:V?function(){var t=ve(m.info,e.data.id,"funcEnums");m.setState({enumDialogEnums:t,enumDialog:{item:e,type:"func",enumsOriginal:JSON.parse(JSON.stringify(t))}})}:void 0},e.data.funcs):null),this.adapterColumns.map((function(t){return f.default.createElement("div",{className:o.cellAdapter,style:{width:m.columnsVisibility[t.id]},key:t.id,title:"".concat(t.adapter," => ").concat(t.pathText)},m.renderCustomValue(y,t,e))})),this.columnsVisibility.val?f.default.createElement("div",{className:o.cellValue,style:{width:this.columnsVisibility.val,cursor:L?"file"===(null===E||void 0===E?void 0:E.type)?"zoom-in":e.data.button?"grab":"text":"default"},onClick:L?function(){y&&m.states&&("file"===(null===E||void 0===E?void 0:E.type)?m.setState({viewFileDialog:g}):!m.state.filter.expertMode&&e.data.button?m.props.socket.setState(g,!0).catch((function(e){return window.alert('Cannot write state "'.concat(g,'": ').concat(e))})):(m.edit={val:m.states[g]?m.states[g].val:"",q:m.states[g]&&m.states[g].q||0,ack:!1,id:g},m.setState({updateOpened:!0})))}:void 0},this.renderColumnValue(g,e,o)):null,this.columnsVisibility.buttons?f.default.createElement("div",{className:o.cellButtons,style:{width:this.columnsVisibility.buttons}},this.renderColumnButtons(g,e,o)):null)}},{key:"renderItem",value:function(e,t,o,n){var a=this,s=[];n=n||{count:0};var r=this.renderLeaf(e,t,o,n),i=this.props.DragWrapper;return this.props.dragEnabled&&(r=e.data.sumVisibility?f.default.createElement(i,{key:e.data.id,item:e,className:o.draggable},r):f.default.createElement("div",{key:e.data.id,className:o.nonDraggable},r)),e.data.id&&s.push(r),t=void 0===t?ie(this.state.expanded,e.data.id):t,e.data.id&&!t||(this.state.foldersFirst?(e.children&&s.push(e.children.map((function(e){return e.children&&(!a.state.columnsSelectorShow||n.count<15)&&e.data.sumVisibility?a.renderItem(e,void 0,o,n):null}))),e.children&&s.push(e.children.map((function(e){return!e.children&&(!a.state.columnsSelectorShow||n.count<15)&&e.data.sumVisibility?a.renderItem(e,void 0,o,n):null})))):e.children&&s.push(e.children.map((function(e){return(!a.state.columnsSelectorShow||n.count<15)&&e.data.sumVisibility?a.renderItem(e,void 0,o,n):null})))),s}},{key:"calculateColumnsVisibility",value:function(e,t,o,n){var a=this;n=n||this.state.columnsWidths,o=o||this.state.columnsForAdmin,t=t||this.state.columns||[],e="boolean"!==typeof e?this.state.columnsAuto:e,n=JSON.parse(JSON.stringify(n)),Object.keys(n).forEach((function(e){n[e]&&(n[e]=parseInt(n[e],10)||0)})),this.adapterColumns=[];var s=Ce[this.props.width].widths;if(e){if(this.columnsVisibility={id:Ce[this.props.width].idWidth,name:this.visibleCols.includes("name")&&s.name||0,nameHeader:this.visibleCols.includes("name")&&s.name||0,type:this.visibleCols.includes("type")&&s.type||0,role:this.visibleCols.includes("role")&&s.role||0,room:this.visibleCols.includes("room")&&s.room||0,func:this.visibleCols.includes("func")&&s.func||0,changedFrom:this.visibleCols.includes("changedFrom")&&s.changedFrom||0,qualityCode:this.visibleCols.includes("qualityCode")&&s.qualityCode||0,timestamp:this.visibleCols.includes("timestamp")&&s.timestamp||0,lastChange:this.visibleCols.includes("lastChange")&&s.lastChange||0,val:this.visibleCols.includes("val")&&s.val||0,buttons:this.visibleCols.includes("buttons")&&s.buttons||0},this.columnsVisibility.name&&!this.customWidth){var r=this.columnsVisibility.id;this.state.statesView?(r+=this.columnsVisibility.changedFrom,r+=this.columnsVisibility.qualityCode,r+=this.columnsVisibility.timestamp,r+=this.columnsVisibility.lastChange):(r+=this.columnsVisibility.type,r+=this.columnsVisibility.role,r+=this.columnsVisibility.room,r+=this.columnsVisibility.func),r+=this.columnsVisibility.val,r+=this.columnsVisibility.buttons,this.columnsVisibility.name="calc(100% - ".concat(r+5,"px)"),this.columnsVisibility.nameHeader="calc(100% - ".concat(r+5+this.state.scrollBarWidth,"px)")}else if(!this.customWidth){var i=0;this.state.statesView?(i+=this.columnsVisibility.changedFrom,i+=this.columnsVisibility.qualityCode,i+=this.columnsVisibility.timestamp,i+=this.columnsVisibility.lastChange):(i+=this.columnsVisibility.type,i+=this.columnsVisibility.role,i+=this.columnsVisibility.room,i+=this.columnsVisibility.func),i+=this.columnsVisibility.val,i+=this.columnsVisibility.buttons,this.columnsVisibility.id="calc(100% - ".concat(i+5,"px)")}}else{this.columnsVisibility={id:n.id||Ce[this.props.width].idWidth,name:t.includes("name")&&(n.name||s.name||Ce[this.props.width].widths.name)||0,type:t.includes("type")&&(n.type||s.type||Ce[this.props.width].widths.type)||0,role:t.includes("role")&&(n.role||s.role||Ce[this.props.width].widths.role)||0,room:t.includes("room")&&(n.room||s.room||Ce[this.props.width].widths.room)||0,func:t.includes("func")&&(n.func||s.func||Ce[this.props.width].widths.func)||0};var l=this.columnsVisibility.id;if(this.columnsVisibility.name&&(l+=this.columnsVisibility.type,l+=this.columnsVisibility.role,l+=this.columnsVisibility.room,l+=this.columnsVisibility.func),o&&t&&Object.keys(o).sort().forEach((function(e){return o[e].forEach((function(o){var s="_".concat(e,"_").concat(o.path);if(a.columnsVisibility[s]=t.includes(s),t.includes(s)){var r={adapter:e,id:"_".concat(e,"_").concat(o.path),name:o.name,path:o.path.split("."),pathText:o.path};o.edit&&(r.edit=!0,o.type&&(r.type=o.type),o.objTypes&&(r.objTypes=o.objTypes)),a.adapterColumns.push(r),a.columnsVisibility[s]=n[r.id]||o.width||Ce[a.props.width].widths.func||Ce.xl.widths.func,l+=a.columnsVisibility[s]}else a.columnsVisibility[s]=0}))})),this.adapterColumns.sort((function(e,t){return e.id>t.id?-1:e.id<t.id?1:0})),this.columnsVisibility.val=t.includes("val")?n.val||s.val||Ce.xl.widths.val:0,this.props.columns&&!this.props.columns.includes("buttons")||(this.columnsVisibility.buttons=t.includes("buttons")?n.buttons||s.buttons||Ce.xl.widths.buttons:0,l+=this.columnsVisibility.buttons),this.columnsVisibility.name&&!n.name)l+=this.columnsVisibility.val,this.columnsVisibility.name="calc(100% - ".concat(l,"px)"),this.columnsVisibility.nameHeader="calc(100% - ".concat(l+5+this.state.scrollBarWidth,"px)");else{var c=Object.keys(this.columnsVisibility).reduce((function(e,t){return"id"!==t&&"string"!==typeof a.columnsVisibility[t]&&a.columnsVisibility[t]?e+a.columnsVisibility[t]:e}),0);this.columnsVisibility.id="calc(100% - ".concat(c,"px)")}}}},{key:"navigateKeyPress",value:function(e){var t=this.state.selectedNonObject||this.state.selected[0];if(t){if("ArrowUp"===e.code||"ArrowDown"===e.code){e.preventDefault();var o=[];this.tableRef.current.childNodes.forEach((function(e){return o.push(e.id)}));var n=o.indexOf(t),a="ArrowDown"===e.code?n+1:n-1,s=o[a]||t;this.onSelect(s),this.scrollToItem(s)}if("ArrowRight"!==e.code&&"ArrowLeft"!==e.code||this.toggleExpanded(t),"Delete"===e.code){var r,i=this.getItemFromRoot(this.root,t),l=i.data.obj;!l||null!==(r=l.common)&&void 0!==r&&r.dontDelete||this.showDeleteDialog({id:t,obj:l,item:i})}}}},{key:"getItemFromRoot",value:function(e,t){var o,n=t.split("."),a="",s=K(n);try{for(s.s();!(o=s.n()).done;){var r=o.value;a=a?"".concat(a,".").concat(r):r,e=e.children.find((function(e){return e.data.id===a}))}}catch(i){s.e(i)}finally{s.f()}return e}},{key:"renderHandleRight",value:function(){return f.default.createElement("div",{className:"".concat(this.props.classes.resizeHandle," ").concat(this.props.classes.resizeHandleRight),onMouseDown:this.resizerMouseDown,onDoubleClick:this.resizerReset,title:this.props.t("ra_Double click to reset table layout")})}},{key:"renderHeader",value:function(){var e=this,t=this.props.classes,o=null;return this.columnsVisibility.buttons||this.isFilterEmpty()||(o=f.default.createElement(b.IconButton,{onClick:function(){return e.clearFilter()},className:t.buttonClearFilter,title:this.props.t("ra_Clear filter"),size:"large"},f.default.createElement(A.default,null),f.default.createElement(w.Close,{className:t.buttonClearFilterIcon}))),f.default.createElement("div",{className:t.headerRow},f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.id,position:"relative"},"data-min":240,"data-name":"id"},this.getFilterInput("id"),this.renderHandleRight()),this.columnsVisibility.name?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.nameHeader,position:"relative"},"data-min":100,"data-name":"nameHeader"},this.getFilterInput("name"),this.renderHandleRight()):null,!this.state.statesView&&f.default.createElement(f.default.Fragment,null,this.columnsVisibility.type?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.type,position:"relative"},"data-min":100,"data-name":"type"},this.getFilterSelectType(),this.renderHandleRight()):null,this.columnsVisibility.role?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.role,position:"relative"},"data-min":100,"data-name":"role"},this.getFilterSelectRole(),this.renderHandleRight()):null,this.columnsVisibility.room?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.room,position:"relative"},"data-min":100,"data-name":"room"},this.getFilterSelectRoom(),this.renderHandleRight()):null,this.columnsVisibility.func?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.func,position:"relative"},"data-min":100,"data-name":"func"},this.getFilterSelectFunction(),this.renderHandleRight()):null),this.state.statesView&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.changedFrom,position:"relative"},"data-min":100,"data-name":"changedFrom"},this.props.t("ra_Changed from"),this.renderHandleRight()),f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.qualityCode,position:"relative"},"data-min":100,"data-name":"qualityCode"},this.props.t("ra_Quality code"),this.renderHandleRight()),f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.timestamp,position:"relative"},"data-min":100,"data-name":"timestamp"},this.props.t("ra_Timestamp"),this.renderHandleRight()),f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.lastChange,position:"relative"},"data-min":100,"data-name":"lastChange"},this.props.t("ra_Last change"),this.renderHandleRight())),this.adapterColumns.map((function(o){return f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:e.columnsVisibility[o.id]},title:o.adapter,key:o.id,"data-min":100,"data-name":o.id},o.name)})),this.columnsVisibility.val?f.default.createElement("div",{className:P.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.val,position:"relative"},"data-min":120,"data-name":"val"},f.default.createElement("div",{className:"".concat(this.props.classes.resizeHandle," ").concat(this.props.classes.resizeHandleLeft),"data-left":"true",onMouseDown:this.resizerMouseDown,onDoubleClick:this.resizerReset,title:this.props.t("ra_Double click to reset table layout")}),this.props.t("ra_Value"),o):null,this.columnsVisibility.buttons?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.buttons}}," ",this.getFilterSelectCustoms()):null)}},{key:"renderToast",value:function(){var e=this;return f.default.createElement(b.Snackbar,{open:!!this.state.toast,autoHideDuration:3e3,onClick:function(){return e.setState({toast:""})},onClose:function(){return e.setState({toast:""})},message:this.state.toast,action:f.default.createElement(b.IconButton,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return e.setState({toast:""})}},f.default.createElement(w.Close,{fontSize:"small"}))})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.tableRef.current){var t=this.tableRef.current.offsetWidth-this.tableRef.current.clientWidth;this.state.scrollBarWidth!==t?setTimeout((function(){return e.setState({scrollBarWidth:t})}),100):!this.selectedFound&&(this.state.selected&&this.state.selected[0]||this.lastSelectedItems)&&this.scrollToItem(this.state.selected&&this.state.selected[0]||this.lastSelectedItems)}}},{key:"scrollToItem",value:function(e){var t=window.document.getElementById(e);t&&t.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.selectedFound=!0}},{key:"renderCustomDialog",value:function(){var e=this;if(this.state.customDialog&&this.props.objectCustomDialog){var t=this.props.objectCustomDialog;return f.default.createElement(t,{reportChangedIds:function(t){return e.changedIds=(0,r.default)(t)},objectIDs:this.state.customDialog,expertMode:this.state.filter.expertMode,isFloatComma:this.props.isFloatComma,t:this.props.t,lang:this.props.lang,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,theme:this.props.theme,objects:this.objects,customsInstances:this.info.customs,onClose:function(){e.pauseSubscribe(!1),e.setState({customDialog:null}),e.changedIds&&(e.changedIds=null,e.forceUpdate()),e.props.router&&e.props.router.doNavigate("tab-objects")}})}return null}},{key:"onUpdate",value:function(e){var t=this;this.props.socket.setState(this.edit.id,{val:e.val,ack:e.ack,q:e.q||0,expire:e.expire||void 0}).catch((function(e){return t.showError("Cannot write value: ".concat(e))}))}},{key:"renderEditObjectDialog",value:function(){var e=this;if(!this.state.editObjectDialog||!this.props.objectBrowserEditObject)return null;var t=this.props.objectBrowserEditObject;return f.default.createElement(t,{key:this.state.editObjectDialog,obj:this.objects[this.state.editObjectDialog],roleArray:this.info.roles,objects:this.objects,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,aliasTab:this.state.editObjectAlias,t:this.props.t,expertMode:this.state.filter.expertMode,onNewObject:function(t){return e.props.socket.setObject(t._id,t).then((function(){return e.setState({editObjectDialog:t._id,editObjectAlias:!1},(function(){return e.onSelect(t._id)}))})).catch((function(t){return e.showError("Cannot write object: ".concat(t))}))},onClose:function(t){if(t){var o,n,a;if(e.state.editObjectDialog.startsWith("alias."))JSON.stringify(null===(n=e.objects[e.state.editObjectDialog].common)||void 0===n?void 0:n.alias)!==JSON.stringify(null===(a=t.common)||void 0===a?void 0:a.alias)&&(o=e.state.editObjectDialog);e.props.socket.setObject(t._id,t).then((function(){o&&e.subscribes.includes(o)&&(e.unsubscribe(o),setTimeout((function(){return e.subscribe(o)}),100))})).catch((function(t){return e.showError("Cannot write object: ".concat(t))}))}e.setState({editObjectDialog:"",editObjectAlias:!1})}})}},{key:"renderViewObjectFileDialog",value:function(){var e=this;if(!this.state.viewFileDialog||!this.props.objectBrowserViewFile)return null;var t=this.props.objectBrowserViewFile;return f.default.createElement(t,{key:"viewFile",obj:this.objects[this.state.viewFileDialog],themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:function(){return e.setState({viewFileDialog:""})}})}},{key:"renderAliasEditorDialog",value:function(){var e=this;if(!this.props.objectBrowserAliasEditor||!this.state.showAliasEditor)return null;var t=this.props.objectBrowserAliasEditor;return f.default.createElement(t,{key:"editAlias",obj:this.objects[this.state.showAliasEditor],objects:this.objects,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:function(){return e.setState({showAliasEditor:""})},onRedirect:function(t,o){return setTimeout((function(){return e.onSelect(t,!1,(function(){return e.expandAllSelected((function(){e.scrollToItem(t),setTimeout((function(){return e.setState({editObjectDialog:t,showAliasEditor:!1,editObjectAlias:!0})}),300)}))}))}),o||0)}})}},{key:"showAddDataPointDialog",value:function(e,t,o){this.setState({showContextMenu:null,modalNewObj:{id:e,initialType:t,initialStateType:o}})}},{key:"renderContextMenu",value:function(){var e,t,o,n,a,s,r,i=this;if(!this.state.showContextMenu)return null;var l=this.state.showContextMenu.item,c=l.data.id,u=[],d=l.data.obj,p="";if(this.props.objectEditOfAccessControl&&this.state.filter.expertMode)if(d){var m=d.acl?"state"===d.type?d.acl.state:d.acl.object:0,h=d.acl&&("state"===d.type?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object);p=Number.isNaN(Number(m))?Number(h).toString(16):Number(m).toString(16)}else p="---";var g=!this.props.notEditable&&d&&(this.state.filter.expertMode||"state"===d.type||"channel"===d.type||"device"===d.type),y=!l.data.obj||"folder"===l.data.obj.type||"channel"===l.data.obj.type||"device"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,v=!l.data.obj||"folder"===l.data.obj.type||"device"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,k=!l.data.obj||"folder"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,E=!l.data.obj||"folder"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,S={EDIT:{key:"0",visibility:this.props.objectBrowserEditObject&&d&&(this.state.filter.expertMode||this.isNonExpertId(c)),icon:f.default.createElement(w.Edit,{fontSize:"small",className:this.props.classes.contextMenuEdit}),label:this.texts.editObject,onClick:function(){return i.setState({editObjectDialog:l.data.id,showContextMenu:null,editObjectAlias:!1})}},EDIT_VALUE:{key:"1",visibility:this.states&&!this.props.notEditable&&d&&"state"===d.type&&"file"!==(null===(e=d.common)||void 0===e?void 0:e.type)&&(this.state.filter.expertMode||!1!==d.common.write),icon:f.default.createElement(w.FormatItalic,{fontSize:"small",className:this.props.classes.contextMenuEditValue}),label:this.props.t("ra_Edit value"),onClick:function(){i.edit={val:i.states[c]?i.states[c].val:"",q:i.states[c]&&i.states[c].q||0,ack:!1,id:c},i.setState({updateOpened:!0,showContextMenu:null})}},VIEW:{visibility:this.props.objectBrowserViewFile&&d&&"state"===d.type&&"file"===(null===(t=d.common)||void 0===t?void 0:t.type),icon:f.default.createElement(w.FindInPage,{fontSize:"small",className:this.props.classes.contextMenuView}),className:"",label:this.props.t("ra_View file"),onClick:function(){return i.setState({viewFileDialog:d._id,showContextMenu:null})}},CUSTOM:{key:"2",visibility:this.props.objectCustomDialog&&this.info.hasSomeCustoms&&d&&"state"===d.type&&"file"!==(null===(o=d.common)||void 0===o?void 0:o.type),icon:f.default.createElement(w.Settings,{fontSize:"small",className:l.data.hasCustoms?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:this.props.classes.contextMenuCustom,label:this.texts.customConfig,onClick:function(){i.pauseSubscribe(!0),i.props.router&&i.props.router.doNavigate(null,"customs",c),i.setState({customDialog:[c],showContextMenu:null})}},ACL:{key:"3",visibility:!!p,icon:p,iconStyle:{fontSize:"smaller"},listItemIconClass:this.props.classes.contextMenuACL,className:this.props.classes.contextMenuACL,label:this.props.t("ra_Edit ACL"),onClick:function(){return i.setState({showContextMenu:null,modalEditOfAccess:!0,modalEditOfAccessObjData:l.data})}},ROLE:{key:"4",visibility:this.state.filter.expertMode&&g&&this.props.objectBrowserEditRole,icon:f.default.createElement(w.BorderColor,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit role"),onClick:function(){return i.setState({roleDialog:l.data.id,showContextMenu:null})}},FUNCTION:{key:"5",visibility:g,icon:f.default.createElement(w.BedroomParent,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit function"),onClick:function(){var e=ve(i.info,l.data.id,"funcEnums");i.setState({enumDialogEnums:e,enumDialog:{item:l,type:"func",enumsOriginal:JSON.parse(JSON.stringify(e))},showContextMenu:null})}},ROOM:{key:"6",visibility:g,icon:f.default.createElement(w.Construction,{fontSize:"small",className:this.props.classes.contextMenuRoom}),className:"",label:this.props.t("ra_Edit room"),onClick:function(){var e=ve(i.info,l.data.id,"roomEnums");i.setState({enumDialogEnums:e,enumDialog:{item:l,type:"room",enumsOriginal:JSON.parse(JSON.stringify(e))},showContextMenu:null})}},ALIAS:{key:"7",visibility:!this.props.notEditable&&this.props.objectBrowserAliasEditor&&this.props.objectBrowserEditObject&&this.state.filter.expertMode&&d&&"state"===d.type&&"file"!==(null===(n=d.common)||void 0===n?void 0:n.type),icon:f.default.createElement(w.Link,{className:null!==d&&void 0!==d&&null!==(a=d.common)&&void 0!==a&&a.alias?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:"",label:this.props.t("ra_Edit alias"),onClick:function(){var e;null!==(e=d.common)&&void 0!==e&&e.alias?i.setState({editObjectDialog:l.data.id,showContextMenu:null,editObjectAlias:!0}):i.setState({showContextMenu:null,showAliasEditor:l.data.id})}},CREATE:{key:"+",visibility:(l.data.id.startsWith("0_userdata.0")||l.data.id.startsWith("javascript."))&&(y||v||k||E),icon:f.default.createElement(w.Add,{fontSize:"small",className:this.props.classes.cellButtonsButtonWithCustoms}),className:this.props.classes.contextMenuWithSubMenu,label:this.texts.create,subMenu:[{label:this.texts.createBooleanState,visibility:y,icon:f.default.createElement(D.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"state","boolean")}},{label:this.texts.createNumberState,visibility:y,icon:f.default.createElement(D.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"state","number")}},{label:this.texts.createStringState,visibility:y,icon:f.default.createElement(D.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"state","string")}},{label:this.texts.createState,visibility:y,icon:f.default.createElement(D.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"state")}},{label:this.texts.createChannel,visibility:v,icon:f.default.createElement(C.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"channel")}},{label:this.texts.createDevice,visibility:k,icon:f.default.createElement(O.default,{fontSize:"small"}),onClick:function(){return i.showAddDataPointDialog(l.data.id,"device")}},{label:this.texts.createFolder,icon:f.default.createElement(w.CreateNewFolder,{fontSize:"small"}),visibility:E,onClick:function(){return i.showAddDataPointDialog(l.data.id,"folder")}}]},DELETE:{key:"Delete",visibility:this.props.onObjectDelete&&((null===(s=l.children)||void 0===s?void 0:s.length)||d&&!(null!==(r=d.common)&&void 0!==r&&r.dontDelete)),icon:f.default.createElement(w.Delete,{fontSize:"small",className:this.props.classes.contextMenuDelete}),className:this.props.classes.contextMenuDelete,label:this.texts.deleteObject,onClick:function(){return i.setState({showContextMenu:null},(function(){return i.showDeleteDialog({id:c,obj:d||{},item:l})}))}}};if(Object.keys(S).forEach((function(e){S[e].visibility&&(S[e].subMenu?(u.push(f.default.createElement(b.MenuItem,{key:e,onClick:function(t){return i.setState({showContextMenu:{item:i.state.showContextMenu.item,subItem:e,subAnchor:t.target}})},className:S[e].className},f.default.createElement(b.ListItemIcon,{style:S[e].iconStyle,className:S[e].listItemIconClass},S[e].icon),f.default.createElement(b.ListItemText,null,S[e].label,"..."),f.default.createElement(b.ListItemSecondaryAction,null,f.default.createElement(w.ArrowRight,null)))),i.state.showContextMenu.subItem===e&&u.push(f.default.createElement(b.Menu,{key:"subContextMenu",open:!0,anchorEl:i.state.showContextMenu.subAnchor,onClose:function(){i.setState({showContextMenu:{item:i.state.showContextMenu.item}}),i.contextMenu=null}},S[e].subMenu.map((function(e){return e.visibility?f.default.createElement(b.MenuItem,{key:e.label,onClick:e.onClick,className:e.className},f.default.createElement(b.ListItemIcon,{style:e.iconStyle,className:e.listItemIconClass},e.icon),f.default.createElement(b.ListItemText,null,e.label)):null}))))):u.push(f.default.createElement(b.MenuItem,{key:e,onClick:S[e].onClick,className:S[e].className},f.default.createElement(b.ListItemIcon,{style:S[e].iconStyle,className:S[e].listItemIconClass},S[e].icon),f.default.createElement(b.ListItemText,null,S[e].label),S[e].key?f.default.createElement("div",{className:i.props.classes.contextMenuKeys},"Alt+".concat("Delete"===S[e].key?i.props.t("ra_Del"):S[e].key)):null)))})),!u.length)return setTimeout((function(){return i.setState({showContextMenu:null})}),100),null;var x=document.getElementById(c);return f.default.createElement(b.Menu,{key:"contextMenu",open:!0,onKeyUp:function(e){e.preventDefault(),e.altKey&&Object.keys(S).forEach((function(t){e.key===S[t].key&&S[t].onClick()}))},anchorEl:x,onClose:function(){i.setState({showContextMenu:null}),i.contextMenu=null}},u)}},{key:"renderEditValueDialog",value:function(){var e,t=this;if(!this.state.updateOpened||!this.props.objectBrowserValue)return null;if(!this.edit.id)return console.error("Invalid ID for edit: ".concat(JSON.stringify(this.edit))),null;if(!this.objects[this.edit.id])return console.error("Something went wrong. Possibly the object ".concat(this.edit.id," was deleted.")),null;var o=null!==(e=this.objects[this.edit.id].common)&&void 0!==e&&e.type?this.objects[this.edit.id].common.type:(0,h.default)(this.edit.val),n=this.objects[this.edit.id].common.role,a=this.props.objectBrowserValue;return f.default.createElement(a,{t:this.props.t,lang:this.props.lang,type:o,role:n,states:P.default.getStates(this.objects[this.edit.id]),themeType:this.props.themeType,expertMode:this.state.filter.expertMode,value:this.edit.val,socket:this.props.socket,object:this.objects[this.edit.id],defaultHistory:this.defaultHistory,dateFormat:this.props.dateFormat,onClose:function(e){t.setState({updateOpened:!1}),e&&t.onUpdate(e)}})}},{key:"render",value:function(){var e=this;this.recordStates=[],this.unsubscribeTimer&&clearTimeout(this.unsubscribeTimer);var t=JSON.stringify(this.state.filter);if(this.lastAppliedFilter!==t&&this.objects&&this.root){var o={count:0};ue(this.root,this.state.filter,this.props.lang,this.objects,null,o,this.props.customFilter,this.props.types),o.count<500&&!this.state.expandAllVisible?setTimeout((function(){return e.setState({expandAllVisible:!0})})):o.count>=500&&this.state.expandAllVisible&&setTimeout((function(){return e.setState({expandAllVisible:!1})})),this.lastAppliedFilter=t}if(this.unsubscribeTimer=setTimeout((function(){e.unsubscribeTimer=null,e.checkUnsubscribes()}),200),!this.state.loaded)return f.default.createElement(b.CircularProgress,{key:"".concat(this.props.dialogName,"_c")});var n=this.props.classes,a=this.renderItem(this.root,void 0,n);return f.default.createElement(L.default,{key:this.props.dialogName},f.default.createElement(V.default,null,this.getToolbar()),f.default.createElement(B.default,null,this.renderHeader(),f.default.createElement("div",{className:this.props.classes.tableDiv,ref:this.tableRef,onKeyDown:function(t){return e.navigateKeyPress(t)},tabIndex:0},a)),this.renderContextMenu(),this.renderToast(),this.renderColumnsEditCustomDialog(),this.renderColumnsSelectorDialog(),this.renderCustomDialog(),this.renderEditValueDialog(),this.renderEditObjectDialog(),this.renderViewObjectFileDialog(),this.renderAliasEditorDialog(),this.renderEditRoleDialog(),this.renderEnumDialog(),this.renderErrorDialog(),this.renderExportDialog(),this.state.modalNewObj&&this.props.modalNewObject&&this.props.modalNewObject(this),this.state.modalEditOfAccess&&this.props.modalEditOfAccessControl&&this.props.modalEditOfAccessControl(this,this.state.modalEditOfAccessObjData))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o={},n=!1;return void 0!==e.expertMode&&e.expertMode!==t.filter.expertMode&&(n=!0,o.filter=J({},t.filter),o.filter.expertMode=e.expertMode),n?o:null}},{key:"collapseDepth",value:function(e,t){return t.filter((function(t){return t.split(".").length<=e}))}},{key:"getCustomValue",value:function(e,t){if(e&&e._id&&e._id.startsWith("".concat(t.adapter,"."))&&t.path.length>1){var o,n=t.path;if(e[n[0]]&&"object"===(0,h.default)(e[n[0]]))return 2===n.length?o=e[n[0]][n[1]]:3===n.length?o=e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])?e[n[0]][n[1]][n[2]]:null:4===n.length?o=e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]?e[n[0]][n[1]][n[2]][n[3]]:null:5===n.length?o=e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]&&e[n[0]][n[1]][n[2]][n[3]]?e[n[0]][n[1]][n[2]][n[3]][n[4]]:null:6===n.length&&(o=e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]&&e[n[0]][n[1]][n[2]][n[3]]&&e[n[0]][n[1]][n[2]][n[3]][n[4]]?e[n[0]][n[1]][n[2]][n[3]][n[4]][n[5]]:null),void 0===o||null===o?null:o}return null}},{key:"setCustomValue",value:function(e,t,o){if(e&&e._id&&e._id.startsWith("".concat(t.adapter,"."))&&t.path.length>1){var n=t.path;if(e[n[0]]&&"object"===(0,h.default)(e[n[0]])){if(2===n.length)return e[n[0]][n[1]]=o,!0;if(3===n.length){if(e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]]))return e[n[0]][n[1]][n[2]]=o,!0}else if(4===n.length){if(e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]]))return e[n[0]][n[1]][n[2]][n[3]]=o,!0}else if(5===n.length){if(e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]])&&e[n[0]][n[1]][n[2]][n[3]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]][n[3]]))return e[n[0]][n[1]][n[2]][n[3]][n[4]]=o,!0}else if(6===n.length&&e[n[0]][n[1]]&&"object"===(0,h.default)(e[n[0]][n[1]])&&e[n[0]][n[1]][n[2]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]])&&e[n[0]][n[1]][n[2]][n[3]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]][n[3]])&&e[n[0]][n[1]][n[2]][n[3]][n[4]]&&"object"===(0,h.default)(e[n[0]][n[1]][n[2]][n[3]][n[4]]))return e[n[0]][n[1]][n[2]][n[3]][n[4]][n[5]]=o,!0}}return!1}}])}(f.Component);_e.defaultProps={objectAddBoolean:!1,objectEditBoolean:!1,objectStatesView:!1,objectImportExport:!1,objectEditOfAccessControl:!1,modalNewObject:function(){},modalEditOfAccessControl:function(){}},_e.propTypes={dialogName:g.default.string,classes:g.default.object,defaultFilters:g.default.object,selected:g.default.oneOfType([g.default.string,g.default.array]),onSelect:g.default.func,onFilterChanged:g.default.func,socket:g.default.object,showExpertButton:g.default.bool,expertMode:g.default.bool,imagePrefix:g.default.string,themeName:g.default.string,themeType:g.default.string,theme:g.default.object,t:g.default.func,lang:g.default.string.isRequired,multiSelect:g.default.bool,notEditable:g.default.bool,foldersFirst:g.default.bool,disableColumnSelector:g.default.bool,isFloatComma:g.default.bool,dateFormat:g.default.string,levelPadding:g.default.number,objectCustomDialog:g.default.oneOfType([g.default.object,g.default.func]),objectAddBoolean:g.default.bool,objectEditBoolean:g.default.bool,objectStatesView:g.default.bool,objectImportExport:g.default.bool,objectEditOfAccessControl:g.default.bool,modalNewObject:g.default.func,modalEditOfAccessControl:g.default.func,onObjectDelete:g.default.func,customFilter:g.default.object,objectBrowserValue:g.default.object,objectBrowserEditObject:g.default.object,objectBrowserAliasEditor:g.default.func,objectBrowserEditRole:g.default.object,objectBrowserViewFile:g.default.func,router:g.default.oneOfType([g.default.object,g.default.func]),types:g.default.array,columns:g.default.array,root:g.default.string,objectsWorker:g.default.object,filterFunc:g.default.func,DragWrapper:g.default.func,dragEnabled:g.default.bool};var Ne=(0,R.default)()((0,y.withStyles)((function(e){return{toolbar:{minHeight:38},toolbarButtons:{padding:4,marginLeft:4},switchColumnAuto:{marginLeft:e.spacing(2)},dialogColumns:{transition:"opacity 1s"},dialogColumnsLabel:{fontSize:12,paddingTop:e.spacing(1)},columnCustom:{width:"100%",display:"inline-block"},columnCustomEditable:{cursor:"text"},columnCustomCenter:{textAlign:"center"},columnCustomLeft:{textAlign:"left"},columnCustomRight:{textAlign:"right"},width100:{width:"100%"},transparent_10:{opacity:.1},transparent_20:{opacity:.2},transparent_30:{opacity:.3},transparent_40:{opacity:.4},transparent_50:{opacity:.5},transparent_60:{opacity:.6},transparent_70:{opacity:.7},transparent_80:{opacity:.8},transparent_90:{opacity:.9},transparent_100:{opacity:1},columnsDialogInputWidth:{width:80},headerRow:{paddingLeft:e.spacing(1),height:38,whiteSpace:"nowrap",userSelect:"none"},buttonClearFilter:{position:"relative",float:"right",padding:0},buttonClearFilterIcon:{zIndex:2,position:"absolute",top:0,left:0,color:"#FF0000",opacity:.7},tableDiv:{paddingTop:0,paddingLeft:0,width:"calc(100% - ".concat(e.spacing(1),")"),height:"calc(100% - 38px)",overflow:"auto"},tableRow:{paddingLeft:e.spacing(1),height:X,lineHeight:"".concat(X,"px"),verticalAlign:"top",userSelect:"none",width:"100%","&:hover":{background:"".concat("dark"===e.palette.mode?e.palette.primary.dark:e.palette.primary.light," !important"),color:P.default.invertColor(e.palette.primary.main,!0)},whiteSpace:"nowrap",flexWrap:"nowrap"},tableRowLines:{borderBottom:"1px solid ".concat((e.palette.mode,"#8888882e")),"& > div":{borderRight:"1px solid ".concat((e.palette.mode,"#8888882e"))}},tableRowNoDragging:{cursor:"pointer"},tableRowAlias:{height:42},tableRowAliasReadWrite:{height:54},checkBox:{padding:0},cellId:{position:"relative",fontSize:"1rem",overflow:"hidden",textOverflow:"ellipsis","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"},"& .iconOwn":{display:"block",width:28,height:28,marginTop:2,float:"right"},"&:hover .iconOwn":{display:"none"},"& *":{width:"initial"}},cellIdSpan:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},cellIdIconFolder:{marginRight:e.spacing(1),width:28,height:28,cursor:"pointer",color:e.palette.secondary.main||"#fbff7d",verticalAlign:"top"},cellIdIconDocument:{verticalAlign:"middle",marginLeft:6,marginRight:e.spacing(1),width:Z,height:Z},cellIdIconOwn:{},cellIdTooltip:{fontSize:14},cellIdTooltipLink:{color:"#7ec2fd","&:hover":{color:"#7ec2fd"},"&:visited":{color:"#7ec2fd"}},cellCopyButton:{width:Z,height:Z,top:6,opacity:.8,"&:hover":{opacity:1},position:"absolute",right:3},cellEditButton:{width:Z,height:Z,color:"white",position:"absolute",top:6,right:23,opacity:.7,"&:hover":{opacity:1}},cellName:{display:"inline-block",verticalAlign:"top",fontSize:14,marginLeft:5,overflow:"hidden",textOverflow:"ellipsis",position:"relative","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellNameWithDesc:{lineHeight:"normal"},cellNameDivDiv:{},cellDescription:{fontSize:10,opacity:.5,fontStyle:"italic"},cellIdAlias:{fontStyle:"italic",fontSize:12,opacity:.7,"&:hover":{color:"dark"===e.palette.mode?"#009900":"#007700"}},cellIdAliasReadWriteDiv:{height:24,marginTop:-5},cellIdAliasAlone:{lineHeight:0},cellIdAliasReadWrite:{lineHeight:"12px"},cellType:{display:"inline-block",verticalAlign:"top","& .itemIcon":{verticalAlign:"middle",width:$,height:$,display:"inline-block"},"& .itemIconFolder":{marginLeft:3}},cellRole:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellRoom:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellEnumParent:{opacity:.4},cellFunc:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValue:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValueButton:{marginTop:5,"&:active":{transform:"scale(0.8)"}},cellValueButtonFalse:{opacity:.3},cellAdapter:{display:"inline-block",verticalAlign:"top"},cellValueTooltip:{fontSize:12},cellValueText:{width:"100%",height:X,fontSize:16,display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",position:"relative",verticalAlign:"top","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellValueFile:{color:"#2837b9"},cellValueTooltipTitle:{fontStyle:"italic",width:100,display:"inline-block"},cellValueTooltipValue:{width:120,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis"},cellValueTooltipBoth:{width:220,display:"inline-block",whiteSpace:"nowrap"},cellValueTooltipBox:{width:250,overflow:"hidden",pointerEvents:"none"},tooltip:{pointerEvents:"none"},cellValueTextUnit:{marginLeft:e.spacing(.5),opacity:.8},newValue:{animation:"$newValueAnimation 2s ease-in-out"},"@keyframes newValueAnimation":{"0%":{color:"#00f900"},"80%":{color:"#008000"},"100%":{color:"dark"===e.palette.mode?"#fff":"#000"}},cellValueTextState:{opacity:.7},cellValueTooltipCopy:{position:"absolute",bottom:3,right:3},cellValueTooltipEdit:{position:"absolute",bottom:3,right:15},cellButtons:{display:"inline-block",verticalAlign:"top"},cellButtonsButton:{display:"inline-block",opacity:.7,width:24,height:24,"&:hover":{opacity:1},paddingTop:0,paddingLeft:0,marginTop:-2},cellButtonsEmptyButton:{fontSize:12},cellButtonMinWidth:{minWidth:47},cellButtonsButtonAlone:{marginLeft:24,paddingTop:0,marginTop:-2},cellButtonsButtonWithCustoms:{color:"dark"===e.palette.mode?e.palette.primary.main:e.palette.secondary.main},cellButtonsButtonWithoutCustoms:{opacity:.2},cellButtonsValueButton:{position:"absolute",display:"inline-block",top:8,opacity:.7,width:18,height:18,color:e.palette.action.active,"&:hover":{opacity:1}},cellButtonsValueButtonCopy:{right:e.spacing(1),cursor:"pointer"},cellButtonsValueButtonEdit:{right:10+parseInt(e.spacing(2),10)},filteredOut:{opacity:.5},filteredParentOut:{opacity:.3},filterInput:{marginTop:0,marginBottom:0},selectIcon:{width:24,height:24,marginRight:4},selectNone:{opacity:.5},itemSelected:{background:"".concat(e.palette.primary.main," !important"),color:"".concat(P.default.invertColor(e.palette.primary.main,!0)," !important")},header:{width:"100%"},headerCell:{display:"inline-block",verticalAlign:"top"},headerCellValue:{paddingTop:4,fontSize:16},headerCellInput:{width:"calc(100% - 5px)",height:X,paddingTop:3,"& .itemIcon":{verticalAlign:"middle",width:$,height:$,display:"inline-block"}},headerCellSelectItem:{"& .itemIcon":{width:$,height:$,marginRight:5,display:"inline-block"}},visibleButtons:{color:"#2196f3",opacity:.7},grow:{flexGrow:1},enumIconDiv:{marginRight:e.spacing(1),width:32,height:32,borderRadius:8,background:"#FFFFFF"},enumIcon:{marginTop:4,marginLeft:4,width:24,height:24},enumDialog:{overflow:"hidden"},enumList:{minWidth:250,height:"calc(100% - 50px)",overflow:"auto"},enumButton:{float:"right"},enumCheckbox:{minWidth:0},buttonDiv:{display:"flex",height:"100%",alignItems:"center"},aclText:{fontSize:13},rightsObject:{color:"#55ff55",paddingLeft:3},rightsState:{color:"#86b6ff",paddingLeft:3},textCenter:{padding:12,textAlign:"center"},tooltipAccessControl:{display:"flex",flexDirection:"column"},"@media screen and (max-width: 465px)":{columnsDialogInputWidth:{width:50},fontSizeTitle:{"& *":{fontSize:12}}},"@media screen and (max-width: 700px)":{},"@media screen and (max-width: 430px)":{},draggable:{cursor:"copy"},nonDraggable:{cursor:"no-drop"},selectClearButton:{position:"absolute",top:0,right:0,borderRadius:20,backgroundColor:e.palette.background.default},iconDeviceConnected:{color:"dark"===e.palette.mode?te:oe,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceDisconnected:{color:"dark"===e.palette.mode?ne:ae,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceError:{color:"dark"===e.palette.mode?Q:ee,opacity:.8,position:"absolute",top:4,right:50,width:20},resizeHandle:{display:"block",position:"absolute",cursor:"col-resize",width:7,top:2,bottom:2,zIndex:1},resizeHandleRight:{right:3,borderRight:"2px dotted #888","&:hover":{borderColor:"#ccc",borderRightStyle:"solid"},"&.active":{borderColor:"#517ea5",borderRightStyle:"solid"}},resizeHandleLeft:{left:-4,borderLeft:"2px dotted #888","&:hover":{borderColor:"#ccc",borderLeftStyle:"solid"},"&.active":{borderColor:"#517ea5",borderLeftStyle:"solid"}},invertedBackground:{backgroundColor:"dark"===e.palette.mode?"#9a9a9a":"#565656",padding:"0 3px",borderRadius:"2px 0 0 2px"},invertedBackgroundFlex:{backgroundColor:"dark"===e.palette.mode?"#9a9a9a":"#565656",borderRadius:"0 2px 2px 0"},contextMenuEdit:{color:"dark"===e.palette.mode?"#ffee48":"#cbb801"},contextMenuEditValue:{color:"dark"===e.palette.mode?"#5dff45":"#1cd301"},contextMenuView:{color:"dark"===e.palette.mode?"#FFF":"#000"},contextMenuCustom:{color:"dark"===e.palette.mode?"#42eaff":"#01bbc2"},contextMenuACL:{color:"dark"===e.palette.mode?"#e079ff":"#500070"},contextMenuRoom:{color:"dark"===e.palette.mode?"#ff9a33":"#642a00"},contextMenuRole:{color:"dark"===e.palette.mode?"#ffdb43":"#562d00"},contextMenuAlias:{color:"dark"===e.palette.mode?"#5cabfb":"#011ed0"},contextMenuDelete:{color:"dark"===e.palette.mode?"#ff4f4f":"#cf0000"},contextMenuKeys:{marginLeft:e.spacing(1),opacity:.7,fontSize:"smaller"},contextMenuWithSubMenu:{display:"flex"}}}))(_e));t.default=Ne},42924:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564));class s extends a.default.Component{constructor(e){super(e),this.onHashChangedBound=this.onHashChanged.bind(this)}componentDidMount(){window.addEventListener("hashchange",this.onHashChangedBound)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChangedBound)}onHashChanged(){}static getLocation(){let e=window.location.hash;e=e.replace(/^#/,"");const t=e.split("/").map((e=>{try{return e?decodeURIComponent(e):""}catch(t){return console.error("Router: Cannot decode ".concat(e)),e||""}}));return{tab:t[0]||"",dialog:t[1]||"",id:t[2]||"",arg:t[3]||""}}static doNavigate(e,t,o,n){let a="";const r=s.getLocation();void 0===n||o||(o=r.id),o&&!t&&(t=r.dialog),(t&&!e||null===e)&&(e=r.tab),e&&(a="#".concat(e),t&&(a+="/".concat(t),o&&(a+="/".concat(o),void 0!==n&&(a+="/".concat(n))))),window.location.hash!==a&&(window.location.hash=a)}}t.default=s},97581:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564)),s=o(35025),r=o(18967),i=o(59665),l=n(o(18181));class c extends a.default.Component{constructor(e){super(e);const t=void 0===e.newReact||e.newReact;try{this.isIFrame=!t&&window.self!==window.top}catch(o){this.isIFrame=!t}}render(){const e=this.props.noTextOnButtons,t={borderRadius:this.props.theme.saveToolbar.button.borderRadius||3,height:this.props.theme.saveToolbar.button.height||32},o={bottom:this.isIFrame?38:0,left:this.props.paddingLeft||0,right:0,position:"absolute",background:this.props.theme.saveToolbar.background};return this.props.dense&&(o.minHeight=48),this.props.error&&(t.border="1px solid red"),a.default.createElement(r.Toolbar,{style:o},a.default.createElement(r.Fab,{variant:"extended","aria-label":"Save",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!1),style:t},a.default.createElement(i.Save,{className:e?"":this.props.classes.buttonIcon}),!e&&l.default.t("ra_Save")),a.default.createElement(r.Fab,{variant:"extended","aria-label":"Save and close",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!0),style:Object.assign(Object.assign({},t),{marginLeft:10})},a.default.createElement(i.Save,{className:e?"":this.props.classes.buttonIcon}),e?"+":l.default.t("ra_Save and close"),e&&a.default.createElement(i.Close,null)),a.default.createElement("div",{style:{flexGrow:1}}),a.default.createElement(r.Fab,{variant:"extended","aria-label":"Close",onClick:()=>this.props.onClose(),style:t},a.default.createElement(i.Close,{className:e?"":this.props.classes.buttonIcon}),!e&&l.default.t("ra_Close")))}}const u=(0,s.withStyles)((()=>({buttonIcon:{marginRight:8}})))(c);t.default=u},64101:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(35025),c=o(18967),u=r(o(18181)),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],m="minutes",h="hours",f=["sunrise","sunriseEnd","goldenHourEnd","solarNoon","goldenHour","sunsetStart","sunset","dusk","nauticalDusk","night","nightEnd","nauticalDawn","dawn","nadir"];function g(e){return e<10?"0".concat(e):"".concat(e)}const y={time:{exactTime:!1,start:"00:00",end:"23:59",mode:"hours",interval:1},period:{once:"",days:1,dows:"",dates:"",weeks:0,months:"",years:0,yearMonth:0,yearDate:0},valid:{from:"",to:""}};function v(e){const t=e.split(".");return 3===t.length?"".concat(t[2],"-").concat(t[1],"-").concat(t[0]):""}class b extends i.Component{constructor(e){let t;if(super(e),this.timerOnce=null,this.timerFrom=null,this.timerTo=null,this.props.schedule&&"string"===typeof this.props.schedule&&"{"===this.props.schedule[0])try{t=JSON.parse(this.props.schedule)}catch(o){}else"object"===typeof this.props.schedule&&(t=this.props.schedule);t&&Object.keys(t).length||(setTimeout((()=>this.onChange(this.state.schedule,!0)),200),t=y),t=Object.assign(Object.assign({},y),t),t.valid.from=t.valid.from||b.now2string(),this.refFrom=i.default.createRef(),this.refTo=i.default.createRef(),this.refOnce=i.default.createRef(),this.state={schedule:t,desc:b.state2text(t)},JSON.stringify(t)!==this.props.schedule&&setTimeout((()=>this.props.onChange&&this.props.onChange(JSON.stringify(t))),100)}onChange(e,t){const o=JSON.stringify(e)!==JSON.stringify(this.state.schedule);if(t||o){o&&this.setState({schedule:e,desc:b.state2text(e)});const t=JSON.parse(JSON.stringify(e));if(t.period.once){const e=t.period.once;delete t.period,t.period={once:e},delete t.valid}else if(t.period.days){const e=t.period.days,o=t.period.dows;delete t.period,t.period={days:e},o&&"[]"!==o&&(t.period.dows=o)}else if(t.period.weeks){const e=t.period.weeks,o=t.period.dows;delete t.period,t.period={weeks:e},o&&"[]"!==o&&(t.period.dows=o)}else if(t.period.months){const e=t.period.months,o=t.period.dates;delete t.period,t.period={months:e},o&&"[]"!==o&&(t.period.dates=o)}else if(t.period.years){const e=t.period.years,o=t.period.yearMonth,n=t.period.yearDate;delete t.period,t.period={years:e,yearDate:n},o&&(t.period.yearMonth=o)}if(t.time.exactTime?(delete t.time.end,delete t.time.mode,delete t.time.interval):delete t.time.exactTime,t.valid){if(t.valid.to||delete t.valid.to,1===t.period.days||1===t.period.weeks||1===t.period.months||1===t.period.years){const e=b.string2date(t.valid.from),o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),e<=o&&delete t.valid.from}t.valid.from||t.valid.to||delete t.valid}this.props.onChange&&this.props.onChange(JSON.stringify(t),b.state2text(e))}}static state2text(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(n){return""}const t=[],o=b.string2date(e.valid.from);if(e.period.once){const o=b.string2date(e.period.once),n=new Date;if(n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),o<n)return u.default.t("sch_desc_onceInPast");t.push(u.default.t("sch_desc_once_on",e.period.once))}else if(e.period.days)if(1===e.period.days)if(e.period.dows){const o=JSON.parse(e.period.dows);if(2===o.length&&0===o[0]&&6===o[1])t.push(u.default.t("sch_desc_onWeekends"));else if(5===o.length&&1===o[0]&&2===o[1]&&3===o[2]&&4===o[3]&&5===o[4])t.push(u.default.t("sch_desc_onWorkdays"));else{const e=o.map((e=>u.default.t(d[e])));if(1===e.length)t.push(u.default.t("sch_desc_onWeekday",e[0]));else if(7===e.length)t.push(u.default.t("sch_desc_everyDay"));else{const o=e.pop();t.push(u.default.t("sch_desc_onWeekdays",e.join(", "),o))}}}else t.push(u.default.t("sch_desc_everyDay"));else t.push(u.default.t("sch_desc_everyNDay",e.period.days.toString()));else if(e.period.weeks){if(1===e.period.weeks?t.push(u.default.t("sch_desc_everyWeek")):t.push(u.default.t("sch_desc_everyNWeeks",e.period.weeks.toString())),!e.period.dows)return u.default.t("sch_desc_never");{const o=JSON.parse(e.period.dows);if(2===o.length&&0===o[0]&&6===o[1])t.push(u.default.t("sch_desc_onWeekends"));else if(5===o.length&&1===o[0]&&2===o[1]&&3===o[2]&&4===o[3]&&5===o[4])t.push(u.default.t("sch_desc_onWorkdays"));else{const e=o.map((e=>u.default.t(d[e])));if(1===e.length)t.push(u.default.t("sch_desc_onWeekday",e[0]));else if(7===e.length)t.push(u.default.t("sch_desc_everyDay"));else{const o=e.pop();t.push(u.default.t("sch_desc_onWeekdays",e.join(", "),o))}}}}else if(e.period.months){if(e.period.dates){const o=JSON.parse(e.period.dates);if(1===o.length)t.push(u.default.t("sch_desc_onDate",o[0]));else if(31===o.length)t.push(u.default.t("sch_desc_onEveryDate"));else{if(!o.length)return u.default.t("sch_desc_never");{const e=o.pop();t.push(u.default.t("sch_desc_onDates",o.join(", "),e))}}}else t.push(u.default.t("sch_desc_onEveryDate"));if(1===e.period.months)t.push(u.default.t("sch_desc_everyMonth"));else if("number"===typeof e.period.months)t.push(u.default.t("sch_desc_everyNMonths",e.period.months.toString()));else{const o=JSON.parse(e.period.months).map((e=>u.default.t(p[e-1])));if(!o.length)return u.default.t("sch_desc_never");if(1===o.length)t.push(u.default.t("sch_desc_onMonth",o[0]));else if(12===o.length)t.push(u.default.t("sch_desc_everyMonth"));else{const e=o.pop();t.push(u.default.t("sch_desc_onMonths",o.join(", "),e))}}}else e.period.years&&(1===e.period.years?t.push(u.default.t("sch_desc_everyYear")):t.push(u.default.t("sch_desc_everyNYears",e.period.years.toString())),t.push(u.default.t("sch_desc_onDate",e.period.yearDate.toString(),e.period.yearMonth?u.default.t(p[e.period.yearMonth-1]):u.default.t("sch_desc_everyMonth"))));if(e.time.exactTime)-1!==f.indexOf(e.time.start)?t.push(u.default.t("sch_desc_atTime",u.default.t("sch_astro_".concat(e.time.start)))):t.push(u.default.t("sch_desc_atTime",e.time.start));else{e.time.mode===m?1===e.time.interval?t.push(u.default.t("sch_desc_everyMinute")):t.push(u.default.t("sch_desc_everyNMinutes",e.time.interval.toString())):1===e.time.interval?t.push(u.default.t("sch_desc_everyHour")):t.push(u.default.t("sch_desc_everyNHours",e.time.interval.toString()));const o=-1!==f.indexOf(e.time.start)?u.default.t("sch_astro_".concat(e.time.start)):e.time.start,n=-1!==f.indexOf(e.time.end)?u.default.t("sch_astro_".concat(e.time.end)):e.time.end;("00:00"!==o||"24:00"!==n&&"23:59"!==n)&&t.push(u.default.t("sch_desc_intervalFromTo",o,n))}return e.period.once||(o.getTime()>Date.now()&&e.valid.to?t.push(u.default.t("sch_desc_validFromTo",e.valid.from,e.valid.to)):o.getTime()>Date.now()?t.push(u.default.t("sch_desc_validFrom",e.valid.from)):e.valid.to&&t.push(u.default.t("sch_desc_validTo",e.valid.to))),t.join(" ")}getTimePeriodElements(){const e=this.state.schedule;let t=!1,o=!1,n=!1,a=!0;return"00:00"===e.time.start&&"24:00"===e.time.end?(t=!0,a=!1):"sunrise"===e.time.start?(o=!0,a=!1):"sunset"===e.time.start&&(n=!0,a=!1),i.default.createElement("div",{key:"timePeriod",className:this.props.classes.rowDiv},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!e.time.exactTime,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.exactTime=!1,this.onChange(e)}}),label:u.default.t("sch_intervalTime")})),i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement("div",{className:this.props.classes.settingsDiv},!e.time.exactTime&&i.default.createElement("div",null,i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!a,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="00:00",e.time.end="23:59",this.onChange(e)}}),label:a?"":u.default.t("sch_fromTo")}),a&&[i.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,style:{marginRight:10},key:"exactTimeFrom",type:"time",value:this.state.schedule.time.start,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},label:u.default.t("sch_from"),margin:"normal"}),i.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeTo",type:"time",value:this.state.schedule.time.end,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.end=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},label:u.default.t("sch_to"),margin:"normal"})])),!e.time.exactTime&&i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="00:00",e.time.end="24:00",this.onChange(e)}}),label:u.default.t("sch_wholeDay")})),!e.time.exactTime&&i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!o,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="sunrise",e.time.end="sunset",this.onChange(e)}}),label:u.default.t("sch_astroDay")})),!e.time.exactTime&&i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!n,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="sunset",e.time.end="sunrise",this.onChange(e)}}),label:u.default.t("sch_astroNight")}))),!e.time.exactTime&&this.getPeriodSettingsMinutes()))}getTimeExactElements(){const e=f.includes(this.state.schedule.time.start);return i.default.createElement("div",{key:"timeExact",className:this.props.classes.rowDiv},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!this.state.schedule.time.exactTime,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.exactTime=!0,this.onChange(e)}}),label:u.default.t("sch_exactTime")})),this.state.schedule.time.exactTime&&i.default.createElement(c.Select,{variant:"standard",value:e?this.state.schedule.time.start:"00:00",onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)}},i.default.createElement(c.MenuItem,{key:"specific",value:"00:00"},u.default.t("sch_specificTime")),f.map((e=>i.default.createElement(c.MenuItem,{key:e,value:e},u.default.t("sch_astro_".concat(e)))))),this.state.schedule.time.exactTime&&!e&&i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeValue",value:this.state.schedule.time.start,type:"time",onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},margin:"normal"})))}getDivider(){return i.default.createElement("hr",{className:this.props.classes.hr})}getPeriodModes(){const e=this.state.schedule,t=!e.period.dows&&!e.period.months&&!e.period.dates&&!e.period.years&&!e.period.days&&!e.period.weeks;return t&&!e.period.once&&(e.period.once=b.now2string(!0)),[i.default.createElement("div",{key:"once",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowOnce)},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.once=e.period.once||b.now2string(!0),e.period.dows="",e.period.months="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,this.onChange(e)}}),label:u.default.t("sch_periodOnce")})),t&&i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputDate,type:"date",ref:this.refOnce,key:"exactDateAt",defaultValue:v(e.period.once),onChange:e=>{this.timerOnce&&clearTimeout(this.timerOnce),this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="#ff000030"),this.timerOnce=setTimeout((e=>{this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.period.once="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},label:u.default.t("sch_at"),margin:"normal"}))),i.default.createElement("div",{key:"days",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowDays)},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.days,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=1,e.period.dows="",e.period.months="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.once="",this.onChange(e)}}),label:u.default.t("sch_periodDaily")})),i.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsDaily(),e.period.days?this.getPeriodSettingsWeekdays():null)),i.default.createElement("div",{key:"weeks",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowDows)},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.weeks,onClick:()=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.weeks=e.period.weeks?0:1,t.period.dows=e.period.dows||"[0]",t.period.months="",t.period.dates="",t.period.years=0,t.period.yearDate=0,t.period.yearMonth=0,t.period.days=0,t.period.once="",this.onChange(t)}}),label:u.default.t("sch_periodWeekly")})),i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsWeekly()),i.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowDowsDows)},this.state.schedule.period.weeks?this.getPeriodSettingsWeekdays():null))),i.default.createElement("div",{key:"months",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowMonths)},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.months,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=1,e.period.dows="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:u.default.t("sch_periodMonthly")})),i.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsMonthly(),e.period.months?i.default.createElement("div",null,i.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowMonthsDates)},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputRadio,checked:!!e.period.dates,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=e.period.months||1;const t=[];for(let o=1;o<=31;o++)t.push(o);e.period.dates=e.period.dates||JSON.stringify(t),e.period.dows="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:u.default.t("sch_periodDates")})),i.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowMonthsDates)},this.getPeriodSettingsDates())):null)),i.default.createElement("div",{key:"years",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowYears)},i.default.createElement("div",{className:this.props.classes.modeDiv},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.years,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=1,e.period.yearDate=1,e.period.yearMonth=1,e.period.dows="",e.period.months=0,e.period.dates="",e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:u.default.t("sch_periodYearly")})),i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsYearly()),!!e.period.years&&i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement("span",null,u.default.t("sch_on")),i.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.yearDate,className:this.props.classes.inputEvery,type:"number",inputProps:{min:1,max:31},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.yearDate=parseInt(e.target.value,10),t.period.yearDate<1&&(t.period.yearDate=31),t.period.yearDate>31&&(t.period.yearDate=1),this.onChange(t)}}),i.default.createElement(c.Select,{variant:"standard",value:e.period.yearMonth,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.yearMonth=e.target.value,this.onChange(t)}},i.default.createElement(c.MenuItem,{key:"every",value:0},u.default.t("sch_yearEveryMonth")),p.map(((e,t)=>i.default.createElement(c.MenuItem,{key:e,value:t+1},u.default.t(e))))))))]}getPeriodSettingsMinutes(){return i.default.createElement("div",{style:{display:"inline-block"}},i.default.createElement("label",null,u.default.t("sch_every")),i.default.createElement(c.Input,{value:this.state.schedule.time.interval,style:{verticalAlign:"bottom"},className:this.props.classes.inputEvery,type:"number",inputProps:{min:1},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.interval=parseInt(e.target.value,10),this.onChange(t)}}),i.default.createElement(c.Select,{variant:"standard",value:this.state.schedule.time.mode,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.mode=e.target.value,this.onChange(t)}},i.default.createElement(c.MenuItem,{value:m},u.default.t("sch_periodMinutes")),i.default.createElement(c.MenuItem,{value:h},u.default.t("sch_periodHours"))))}getPeriodSettingsWeekdays(){const e=this.state.schedule,t=e.period.dows&&"[1, 2, 3, 4, 5]"!==e.period.dows&&"[0, 6]"!==e.period.dows;return[i.default.createElement("div",{key:"workdays"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"[1, 2, 3, 4, 5]"===e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[1, 2, 3, 4, 5]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:u.default.t("sch_periodWorkdays")})),i.default.createElement("div",{key:"weekend"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"[0, 6]"===e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[0, 6]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:u.default.t("sch_periodWeekend")})),i.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},i.default.createElement(c.FormControlLabel,{style:{verticalAlign:"top"},control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[0, 1, 2, 3, 4, 5, 6]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:u.default.t("sch_periodWeekdays")}),t&&(1===e.period.days||e.period.weeks)&&i.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{width:150}},[1,2,3,4,5,6,0].map((t=>i.default.createElement(c.FormControlLabel,{key:"specific_".concat(t),className:this.props.classes.inputGroupElement,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputSmallCheck,checked:e.period.dows.includes(t.toString()),onChange:e=>{const o=JSON.parse(JSON.stringify(this.state.schedule));let n;try{n=JSON.parse(o.period.dows)}catch(a){n=[]}e.target.checked&&!n.includes(t)?n.push(t):!e.target.checked&&n.includes(t)&&n.splice(n.indexOf(t),1),n.sort(((e,t)=>e-t)),o.period.dows=JSON.stringify(n),o.period.days&&(o.period.days=1),this.onChange(o)}}),label:u.default.t(d[t])})))))]}getPeriodSettingsDaily(){if(!this.state.schedule.period.days)return null;const e=this.state.schedule;return[i.default.createElement("div",{key:"every_day"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.days&&!e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=1,e.period.dows="",this.onChange(e)}}),label:u.default.t("sch_periodEveryDay")})),i.default.createElement("div",{key:"everyN_day"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.days>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=2,e.period.dows="",this.onChange(e)}}),label:u.default.t("sch_periodEvery")}),e.period.days>1&&[i.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.days,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.days=parseInt(e.target.value,10),t.period.dows="",this.onChange(t)}}),i.default.createElement("span",{key:"span",style:{paddingRight:10}},u.default.t("sch_periodDay"))])]}getPeriodSettingsWeekly(){if(!this.state.schedule.period.weeks)return null;const e=this.state.schedule;return[i.default.createElement("div",{key:"radios",style:{display:"inline-block",verticalAlign:"top"}},i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.weeks,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.weeks=1,this.onChange(e)}}),label:u.default.t("sch_periodEveryWeek")})),i.default.createElement("div",null,i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.weeks>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.weeks=2,this.onChange(e)}}),label:u.default.t("sch_periodEvery")}),e.period.weeks>1&&[i.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.weeks,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.weeks=parseInt(e.target.value,10),this.onChange(t)}}),i.default.createElement("span",{key:"text"},u.default.t("sch_periodWeek"))]))]}getPeriodSettingsDates(){if(!this.state.schedule.period.dates)return null;const e=this.state.schedule,t=[];for(let n=1;n<=31;n++)t.push(n);const o=JSON.parse(e.period.dates);return i.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{maxWidth:620}},i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:31===o.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[];for(let o=1;o<=31;o++)t.push(o);e.period.dates=JSON.stringify(t),this.onChange(e)}}),label:u.default.t("sch_all")}),i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!o.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dates="[]",this.onChange(e)}}),label:u.default.t("sch_no_one")}),31!==o.length&&!!o.length&&i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[],o=JSON.parse(e.period.dates);for(let n=1;n<=31;n++)o.includes(n)||t.push(n);t.sort(((e,t)=>e-t)),e.period.dates=JSON.stringify(t),this.onChange(e)}}),label:u.default.t("sch_invert")}),i.default.createElement("div",null),t.map((t=>i.default.createElement(c.FormControlLabel,{key:"date_".concat(t),className:this.props.classes.inputDateDay,style:t?{}:{opacity:0,cursor:"default",userSelect:"none",pointerEvents:"none"},control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:JSON.parse(e.period.dates).includes(t),onChange:e=>{const o=JSON.parse(JSON.stringify(this.state.schedule));let n;try{n=JSON.parse(o.period.dates)}catch(a){n=[]}e.target.checked&&!n.includes(t)?n.push(t):!e.target.checked&&n.includes(t)&&n.splice(n.indexOf(t),1),n.sort(((e,t)=>e-t)),o.period.dates=JSON.stringify(n),this.onChange(o)}}),label:t<10?[i.default.createElement("span",{key:"0",style:{opacity:0}},"0"),i.default.createElement("span",{key:"num"},t)]:t}))))}getPeriodSettingsMonthly(){if(!this.state.schedule.period.months)return null;const e=this.state.schedule,t="string"===typeof e.period.months?JSON.parse(e.period.months):[];return[i.default.createElement("div",{key:"every"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"number"===typeof e.period.months&&1===e.period.months,onClick:()=>{JSON.parse(JSON.stringify(this.state.schedule)).period.months=1,this.onChange(e)}}),label:u.default.t("sch_periodEveryMonth")})),i.default.createElement("div",{key:"everyN"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"number"===typeof e.period.months&&e.period.months>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=2,this.onChange(e)}}),label:u.default.t("sch_periodEvery")}),"number"===typeof e.period.months&&e.period.months>1&&[i.default.createElement(c.Input,{key:"input",value:e.period.months,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.months=parseInt(e.target.value,10),t.period.months<1&&(t.period.months=1),this.onChange(t)}}),i.default.createElement("span",{key:"text"},u.default.t("sch_periodMonth"))]),i.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},i.default.createElement(c.FormControlLabel,{style:{verticalAlign:"top"},control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"string"===typeof e.period.months,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months="[1,2,3,4,5,6,7,8,9,10,11,12]",this.onChange(e)}}),label:u.default.t("sch_periodSpecificMonths")}),"string"===typeof e.period.months&&i.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup},i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:12===t.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[];for(let o=1;o<=12;o++)t.push(o);e.period.months=JSON.stringify(t),this.onChange(e)}}),label:u.default.t("sch_all")}),i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!t.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months="[]",this.onChange(e)}}),label:u.default.t("sch_no_one")}),12!==t.length&&!!t.length&&i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[],o=JSON.parse(e.period.months);for(let n=1;n<=12;n++)o.includes(n)||t.push(n);t.sort(((e,t)=>e-t)),e.period.months=JSON.stringify(t),this.onChange(e)}}),label:u.default.t("sch_invert")}),i.default.createElement("div",null),p.map(((t,o)=>i.default.createElement(c.FormControlLabel,{className:this.props.classes.inputGroupElement,control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputSmallCheck,checked:"string"===typeof e.period.months?JSON.parse(e.period.months).includes(o+1):e.period.months===o,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));let n;try{n=JSON.parse(t.period.months)}catch(a){n=[]}e.target.checked&&!n.includes(o+1)?n.push(o+1):!e.target.checked&&n.includes(o+1)&&n.splice(n.indexOf(o+1),1),n.sort(((e,t)=>e-t)),t.period.months=JSON.stringify(n),this.onChange(t)}}),label:u.default.t(t)})))))]}getPeriodSettingsYearly(){if(!this.state.schedule.period.years)return null;const e=this.state.schedule;return[i.default.createElement("div",{key:"year"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.years,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=1,this.onChange(e)}}),label:u.default.t("sch_periodEveryYear")})),i.default.createElement("div",{key:"every"},i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.years>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=2,this.onChange(e)}}),label:u.default.t("sch_periodEvery")}),e.period.years>1&&[i.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.years,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.years=parseInt(e.target.value,10),t.period.years<1&&(t.period.years=1),this.onChange(t)}}),i.default.createElement("span",{key:"text"},u.default.t("sch_periodYear"))])]}static now2string(e){const t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e&&(t.setDate(t.getDate()+2),t.setMilliseconds(t.getMilliseconds()-1)),"".concat(g(t.getDate()),".").concat(g(t.getMonth()+1),".").concat(g(t.getFullYear()))}static string2date(e){let t=e.split(".");return 1===t.length?(t=e.split("-"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))):new Date(parseInt(t[2],10),parseInt(t[1],10)-1,parseInt(t[0],10))}getValidSettings(){const e=this.state.schedule;return i.default.createElement("div",{className:this.props.classes.rowDiv},i.default.createElement("div",{className:this.props.classes.modeDiv,style:{verticalAlign:"middle"}},i.default.createElement("span",{style:{fontWeight:"bold",paddingRight:10}},u.default.t("sch_valid")),i.default.createElement("span",null,u.default.t("sch_validFrom"))),i.default.createElement("div",{className:this.props.classes.settingsDiv},i.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",inputRef:this.refFrom,defaultValue:v(e.valid.from),type:"date",onChange:e=>{this.timerFrom&&clearTimeout(this.timerFrom),this.refFrom.current&&(this.refFrom.current.style.background="#ff000030"),this.timerFrom=setTimeout((e=>{this.timerFrom=null,this.refFrom.current&&(this.refFrom.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.valid.from="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},margin:"normal"}),i.default.createElement(c.FormControlLabel,{control:i.default.createElement(c.Checkbox,{className:this.props.classes.inputRadio,checked:!!e.valid.to,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.valid.to=e.valid.to?"":b.now2string(!0),this.onChange(e)}}),label:u.default.t("sch_validTo")}),!!e.valid.to&&i.default.createElement(c.TextField,{variant:"standard",inputRef:this.refTo,className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",type:"date",defaultValue:v(e.valid.to),onChange:e=>{this.timerTo&&clearTimeout(this.timerTo),this.refTo.current&&(this.refTo.current.style.background="#ff000030"),this.timerTo=setTimeout((e=>{this.timerTo=null,this.refTo.current&&(this.refTo.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.valid.to="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},margin:"normal"})))}render(){return i.default.createElement("div",{style:{height:"calc(100% - 48px)",width:"100%",overflow:"hidden"}},i.default.createElement("div",null,this.state.desc),i.default.createElement("div",{className:this.props.classes.scrollWindow},i.default.createElement("h5",null,u.default.t("sch_time")),this.getTimePeriodElements(),this.getTimeExactElements(),this.getDivider(),i.default.createElement("h5",null,u.default.t("sch_period")),this.getPeriodModes(),!this.state.schedule.period.once&&this.getDivider(),!this.state.schedule.period.once&&this.getValidSettings()))}}t.default=(0,l.withStyles)((e=>({hr:{border:0,borderTop:"1px solid gray"},scrollWindow:{width:"100%",overflow:"auto",height:"calc(100% - 22px)"},rowDiv:{width:"100%"},modeDiv:{width:200,display:"inline-block",verticalAlign:"top"},settingsDiv:{display:"inline-block",verticalAlign:"top"},inputTime:{width:90,marginTop:0,marginLeft:5},inputDate:{width:140,marginTop:0,marginLeft:5},inputEvery:{width:40,marginLeft:5,marginRight:5},inputRadio:{padding:"4px 12px",verticalAlign:"top"},inputGroup:{maxWidth:400,display:"inline-block"},inputGroupElement:{width:120},inputDateDay:{width:60},inputDateDayCheck:{padding:4},inputSmallCheck:{padding:0},rowOnce:{},rowDays:{background:"dark"!==e.palette.mode?"#ddeaff":"#4b5057"},rowDows:{background:"dark"!==e.palette.mode?"#DDFFDD":"#52646c"},rowDates:{background:"dark"!==e.palette.mode?"#DDDDFF":"#747a86"},rowWeeks:{background:"dark"!==e.palette.mode?"#DDDDFF":"#717680"},rowMonths:{background:"dark"!==e.palette.mode?"#DDFFFF":"#1f5557"},rowMonthsDates:{background:"dark"!==e.palette.mode?"#EEFFFF":"#3c5737",maxWidth:600},rowYears:{background:"dark"!==e.palette.mode?"#fbffdd":"#574b33"},rowDaysDows:{background:"dark"!==e.palette.mode?"#EEEAFF":"#573544",paddingLeft:10,paddingBottom:10},rowDowsDows:{background:"dark"!==e.palette.mode?"#EEFFEE":"#3d4c54",paddingLeft:10,paddingBottom:10}})))(b)},80197:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){const n={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},a={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},s={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999;return Number.isNaN(e)?n[e]||null:Math.min(+e+t,o)}function i(e,t,o,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=o;for(e[t]||(e[t]=[]);s<=n;)e[t].indexOf(s)<0&&e[t].push(s),s+=a||1;e[t].sort(((e,t)=>e-t))}function l(e,t,o,n){(t.d&&!t.dc||t.dc&&!t.dc.includes(n))&&(e.push(function(e){const t={};let o;for(o in e)"dc"!==o&&"d"!==o&&(t[o]=e[o].slice(0));return t}(t)),t=e[e.length-1]),i(t,"d",o,o),i(t,"dc",n,n)}function c(e,t,o,a,s,c){let u,d;const p=t.schedules,m=p[p.length-1];"L"===e&&(e=(a-1).toString(10)),null!==(u=r(e,c,s))?i(m,o,u,u):null!==(u=r(e.replace("W",""),c,s))?function(e,t,o){const a={},s={};1===o?(i(t,"D",1,3),i(t,"d",n.MON,n.FRI),i(a,"D",2,2),i(a,"d",n.TUE,n.FRI),i(s,"D",3,3),i(s,"d",n.TUE,n.FRI)):(i(t,"D",o-1,o+1),i(t,"d",n.MON,n.FRI),i(a,"D",o-1,o-1),i(a,"d",n.MON,n.THU),i(s,"D",o+1,o+1),i(s,"d",n.TUE,n.FRI)),e.exceptions.push(a),e.exceptions.push(s)}(t,m,u):null!==(u=r(e.replace("L",""),c,s))?l(p,m,u,a-1):2===(d=e.split("#")).length?(u=r(d[0],c,s)||c,l(p,m,u,r(d[1])||0)):function(e,t,o,n,a,s){const l=e.split("/"),c=+l[1],u=l[0];if("*"!==u&&"0"!==u){const e=u.split("-");n=r(e[0],s,a)||s,a=r(e[1],s,a)||a}i(t,o,n,a,c)}(e,m,o,a,s,c)}function u(e){return e.includes("#")||e.indexOf("L")>0}function d(e,t){return u(e)&&!u(t)||e>t?1:e<t?-1:0}function p(e){const t=+e;let o=0;var n;return 0!==t&&isFinite(t)&&(o=(n=t)<0?Math.ceil(n):Math.floor(n)),o}function m(e){const t=e%10;return e+(1===p(e%100/10)?o.ORDINALS.th:1===t?o.ORDINALS.st:2===t?o.ORDINALS.nd:3===t?o.ORDINALS.rd:o.ORDINALS.th)}function h(e){if(e.length<2)return m(e[0]);const t=e.pop()||0;return"".concat(e.join(", ")," ").concat(o.and," ").concat(m(t))}function f(e,t){return"dow"===t?o.DOW[e-1]:"mon"===t?o.MONTH[e-1]:e}function g(e,t){if(e.length<2)return f(e[0],t);const n=e.pop()||0;let a="";for(let o,s=0;o=e[s];s++)a.length>0&&(a+=", "),a+=f(o,t);return"".concat(a," ").concat(o.and," ").concat(f(n,t))}function y(e){return e<10?"0".concat(e):e.toString()}return function(e,t){let n="".concat(o.Every," ");if(e.h&&e.m&&e.h.length<=2&&e.m.length<=2&&t&&e.s&&e.s.length<=2){const t=[];for(let o=0;o<e.h.length;o++)for(let n=0;n<e.m.length;n++)for(let a=0;a<e.s.length;a++)t.push("".concat(y(e.h[o]),":").concat(y(e.m[n]),":").concat(y(e.s[a])));if(t.length<2)n="".concat(o.At," ").concat(t[0]);else{const e=t.pop();n="".concat(o.At," ").concat(t.join(", ")," ").concat(o.and," ").concat(e)}e.d||e.D||(n+=" ".concat(o["every day"]," "))}else if(e.h&&e.m&&e.h.length<=2&&e.m.length<=2){const t=[];for(let o=0;o<e.h.length;o++)for(let n=0;n<e.m.length;n++)t.push("".concat(y(e.h[o]),":").concat(y(e.m[n])));if(t.length<2)n="".concat(o.At," ").concat(t[0]);else{const e=t.pop();n="".concat(o.At," ").concat(t.join(", ")," ").concat(o.and," ").concat(e)}e.d||e.D||(n+=" ".concat(o["every day"]," "))}else e.h?e.m?t?e.s&&60!==e.s.length?n+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):n+="".concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):n+="".concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):t?e.s&&60!==e.s.length?n+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):n+="".concat(o["second of every"]," ").concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):n+="".concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):e.m?t?e.s&&60!==e.s.length?n+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute every hour"]):n+="".concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute every hour"]):n+="".concat(h(e.m)," ").concat(o["minute every hour"]):t?e.s&&60!==e.s.length?n+="".concat(h(e.s)," ").concat(o.second):n+=o.second:n+=o.minute;return e.D&&(n+=(o["on the"]?" ".concat(o["on the"]," "):" ")+h(e.D),e.M||(n+=" ".concat(o["of every month"]))),e.d&&(e.D?n+=" ".concat(o["and every"]," "):n+=" ".concat(o.on," "),n+=g(e.d,"dow")),e.M&&(n+=" ".concat(o.in," ").concat(g(e.M,"mon"))),n}(function(e,t){const o=function(e){const t=e.toUpperCase();return a[t]||t}(e);return function(e){const t={schedules:[{}],exceptions:[]},o=e.replace(/(\s)+/g," ").split(" ");let n,a,r,i;for(n in s)if(a=s[n],r=o[a[0]],r&&"*"!==r&&"?"!==r){let e;i=r.split(",").sort(d);const o=i.length;for(e=0;e<o;e++)c(i[e],t,n,a[1],a[2],a[3])}return t}(t?o:"0 ".concat(o))}(e,t).schedules[0],t)}},96404:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(80197)),s=n(o(87106));t.default=function(e,t){const o=6===e.split(" ").length,n=t&&s.default[t]||s.default.en;return function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u043c\u0438\u043d\u0443\u0442\u0443","\u041a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u043c\u0438\u043d\u0443\u0442(\u0443)","\u041a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u0447\u0430\u0441","\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u041a\u0430\u0436\u0434\u0443\u044e \u0441\u0435\u043a\u0443\u043d\u0434\u0443")).replace(/ (\d{1,2}) \u0447\u0438\u0441\u043b\u0430/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430")).replace(/ (\d{1,2}) \u0432 \u042f\u043d\u0432\u0430\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u042f\u043d\u0432\u0430\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u0424\u0435\u0432\u0440\u0430\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0424\u0435\u0432\u0440\u0430\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u041c\u0430\u0440\u0442\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041c\u0430\u0440\u0442\u0435")).replace(/ (\d{1,2}) \u0432 \u0410\u043f\u0440\u0435\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0410\u043f\u0440\u0435\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u041c\u0430\u0439\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041c\u0430\u0439\u0435")).replace(/ (\d{1,2}) \u0432 \u0418\u044e\u043d\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0418\u044e\u043d\u0435")).replace(/ (\d{1,2}) \u0432 \u0418\u044e\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0418\u044e\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u0410\u0432\u0433\u0443\u0441\u0442\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0410\u0432\u0433\u0443\u0441\u0442\u0435")).replace(/ (\d{1,2}) \u0432 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u041e\u043a\u0442\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041e\u043a\u0442\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u041d\u043e\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041d\u043e\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u0414\u0435\u043a\u0430\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0414\u0435\u043a\u0430\u0431\u0440\u0435")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) 0 \u043c\u0438\u043d\u0443\u0442\u0443","\u041a\u0430\u0436\u0434\u044b\u0435 \u043d\u043e\u043b\u044c \u043c\u0438\u043d\u0443\u0442")).replace(/\u041a\u0430\u0436\u0434\u0443\u044e\(\u044b\u0439\) ([\d\s\u0438,]+) \u043c\u0438\u043d\u0443\u0442\u0443/,"\u041a\u0430\u0436\u0434\u0443\u044e $1 \u043c\u0438\u043d\u0443\u0442\u0443")).replace(/\u043a\u0430\u0436\u0434\u043e\u0439\(\u0433\u043e\) ([\d\s\u0438,]+) \u043c\u0438\u043d\u0443\u0442\u0443/,"\u043a\u0430\u0436\u0434\u043e\u0439 $1 \u043c\u0438\u043d\u0443\u0442\u044b")).replace("\u043a\u0430\u0436\u0434\u043e\u0439(\u0433\u043e) \u043c\u0438\u043d\u0443\u0442(\u0443)","\u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0438\u043d\u0443\u0442\u044b")).replace(" 0 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 0 \u0447\u0430\u0441\u043e\u0432")).replace(" 1 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 1 \u0447\u0430\u0441")).replace(" 2 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 2 \u0447\u0430\u0441\u0430")).replace(" 3 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 3 \u0447\u0430\u0441\u0430")).replace(" 4 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 4 \u0447\u0430\u0441\u0430")).replace(/ (\d{1,2}) \u0447\u0430\u0441\u0430\(\u043e\u0432\)/," $1 \u0447\u0430\u0441\u043e\u0432")).replace("Jede(r) Sekunde","Jede Sekunde")).replace(/Jede\(r\) ([\d\sund,]+) Sekunde/,"Jede $1 Sekunde")).replace("Jede(r) Minute","Jede Minute")).replace("Jede Minuten","Jede Minute")).replace("Jede(r) Stunde","Jede Stunde")).replace(/Jede\(r\) ([\d\sund,]+) Minute/,"Jede $1 Minute")).replace("Jede Sekunde in Minuten","Jede Sekunde in jeder Minute")}((0,a.default)(e,o,n))}},87106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={en:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DOW:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Every:"Every",and:"and","every day":"every day","minute past the":"minute past the",hour:"hour",minute:"minute","minute of":"minute of",second:"second","second in minute":"second in minute","second of every":"second of every","minute every hour":"minute every hour","on the":"on the","of every month":"of every month","and every":"and every",At:"At",on:"on",in:"in"},de:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],DOW:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],Every:"Jede(r)",and:"und","every day":"jeden Tag","minute past the":"Minuten nach",hour:"Stunde",minute:"Minute","minute of":"Minuten von",second:"Sekunde","second in minute":"Sekunde in der Minute","second of every":"Sekunde in","minute every hour":"Minute jede Stunde","on the":"am","of every month":"im jeden Monat","and every":"und am jeden",At:"Um",on:"am",in:"im"},ru:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u042f\u043d\u0432\u0430\u0440\u0435","\u0424\u0435\u0432\u0440\u0430\u043b\u0435","\u041c\u0430\u0440\u0442\u0435","\u0410\u043f\u0440\u0435\u043b\u0435","\u041c\u0430\u0439\u0435","\u0418\u044e\u043d\u0435","\u0418\u044e\u043b\u0435","\u0410\u0432\u0433\u0443\u0441\u0442\u0435","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435","\u041e\u043a\u0442\u044f\u0431\u0440\u0435","\u041d\u043e\u044f\u0431\u0440\u0435","\u0414\u0435\u043a\u0430\u0431\u0440\u0435"],DOW:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043e\u0442\u0443"],Every:"\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439)",and:"\u0438","every day":"\u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c","minute past the":"\u043c\u0438\u043d\u0443\u0442\u0443 \u0432",hour:"\u0447\u0430\u0441\u0430(\u043e\u0432)",minute:"\u043c\u0438\u043d\u0443\u0442\u0443","minute of":"\u043c\u0438\u043d\u0443\u0442(\u0443) \u0432",second:"\u0441\u0435\u043a\u0443\u043d\u0434\u0443","second in minute":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u0432 \u043c\u0438\u043d\u0443\u0442\u0435","second of every":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043a\u0430\u0436\u0434\u043e\u0439(\u0433\u043e)","minute every hour":"\u043c\u0438\u043d\u0443\u0442\u0443 \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441","on the":"","of every month":"\u0447\u0438\u0441\u043b\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430","and every":"\u0438 \u043a\u0430\u0436\u0434\u044b\u0439",At:"\u0412",on:"\u0432",in:"\u0432"},fr:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["F\xe9v","Mar","Avr","Mai","Jun","Juil","Aug","Sep","Oct","Nov","D\xe9c"],DOW:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],Every:"Chaque",and:"et","every day":"tous les jours","minute past the":"minute apr\xe8s le",hour:"heure",minute:"minute","minute of":"minute de",second:"seconde","second in minute":"seconde en minute","second of every":"deuxi\xe8me de tous","minute every hour":"minute toutes les heures","on the":"sur le","of every month":"de chaque mois","and every":"et tous",At:"\xc0",on:"sur",in:"dans"},it:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Pot","Giu","Lug","Aug","Sep","Oct","Nov","Dic"],DOW:["Dom","Mon","Mar","Mer","Gio","Ve","Sat"],Every:"Ogni",and:"e","every day":"ogni giorno","minute past the":"minuto dopo",hour:"ora",minute:"Minuto","minute of":"minuto di",second:"secondo","second in minute":"secondo in minuto","second of every":"secondo di ogni","minute every hour":"minuto ogni ora","on the":"sul","of every month":"di ogni mese","and every":"e ogni",At:"A",on:"sopra",in:"in"},pt:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Abr","Pod","Jun","Jul","Ago","Sep","Oct","Nov","Dec"],DOW:["Dom","Seg","Ter","Qua","Qui","Sex","Sen"],Every:"Cada",and:"e","every day":"todo dia","minute past the":"minuto ap\xf3s o",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo em minuto","second of every":"segundo de cada","minute every hour":"minuto a cada hora","on the":"no","of every month":"de todos os meses","and every":"e todos",At:"At",on:"em",in:"dentro"},pl:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],DOW:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"],Every:"Ka\u017cde(go)",and:"i","every day":"codziennie","minute past the":"minut po",hour:"godzina",minute:"minut(a)","minute of":"minut po",second:"sekunda","second in minute":"sekund na minut\u0119","second of every":"sekund co","minute every hour":"minut co godzin\u0119","on the":"w","of every month":"ka\u017cdego miesi\u0105ca","and every":"i ka\u017cdego",At:"O",on:"w",in:"w"},es:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Ene","Feb","Mar","Abr","Mayo","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],DOW:["Sol","Lun","Mar","Mie","Jue","Vie","Sab"],Every:"Cada",and:"y","every day":"cada d\xeda","minute past the":"minuto pasado el",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo en minuto","second of every":"segundo de cada","minute every hour":"minuto cada hora","on the":"sobre el","of every month":"de cada mes","and every":"y cada",At:"A",on:"en",in:"en"},nl:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],DOW:["Zon","Mon","Di","Wo","Don","Vrij","Za"],Every:"Elke",and:"en","every day":"elke dag","minute past the":"minuut voorbij de",hour:"uur",minute:"minuut","minute of":"minuut van",second:"tweede","second in minute":"tweede in minuut","second of every":"tweede van alles","minute every hour":"minuut elk uur","on the":"op de","of every month":"van elke maand","and every":"en elke",At:"Op",on:"op",in:"in"},uk:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],DOW:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0456\u043d\u043d\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],Every:"\u041a\u043e\u0436\u043d\u0443(\u0438\u0439)",and:"\u0456","every day":"\u043a\u043e\u0436\u0435\u043d \u0434\u0435\u043d\u044c","minute past the":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u043f\u0456\u0441\u043b\u044f",hour:"\u0433\u043e\u0434\u0438\u043d\u0438",minute:"\u0445\u0432\u0438\u043b\u0438\u043d\u0443","minute of":"\u0445\u0432\u0438\u043b\u0438\u043d\u0438",second:"\u0441\u0435\u043a\u0443\u043d\u0434\u0443","second in minute":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u0432 \u0445\u0432\u0438\u043b\u0438\u043d\u0456","second of every":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043a\u043e\u0436\u043d\u043e\u0457(\u0433\u043e)","minute every hour":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u043a\u043e\u0436\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","on the":"","of every month":"\u0447\u0438\u0441\u043b\u0430 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u043c\u0456\u0441\u044f\u0446\u044f","and every":"\u0456 \u043a\u043e\u0436\u043d\u043e\u0433\u043e",At:"\u0412",on:"\u0432",in:"\u0432"},"zh-cn":{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],DOW:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],Every:"\u6bcf",and:"\u548c","every day":"\u6bcf\u5929","minute past the":"\u5206\u949f\u5728\u6bcf\u5929\u7b2c",hour:"\u5c0f\u65f6",minute:"\u5206\u949f","minute of":"\u5206\u949f\u7684",second:"\u79d2","second in minute":"\u79d2\u5728\u5206\u949f","second of every":"\u79d2\u5728\u6bcf","minute every hour":"\u5206\u949f\u5728\u6bcf\u5c0f\u65f6\u4e2d","on the":"\u5728","of every month":"\u65e5\u5728\u6bcf\u6708","and every":"\u4e14\u6bcf",At:"\u5728",on:"\u5728",in:"\u5728"}}},14751:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(35025),c=o(18967),u=r(o(58844));class d extends i.Component{render(){const{classes:e}=this.props;return i.default.createElement(c.Paper,{elevation:Number.isNaN(this.props.elevation)?1:this.props.elevation,className:u.default.clsx(e.root,{[e.overflowHidden]:"visible"!==this.props.overflow},this.props.className),onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex},i.default.createElement(c.Grid,{container:!0,direction:"column",wrap:"nowrap",className:e.container},this.props.children))}}const p=(0,l.withStyles)({root:{width:"100%",height:"100%"},overflowHidden:{overflow:"hidden"},container:{height:"100%"}})(d);t.default=p},89109:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564)),s=o(35025),r=o(18967),i=n(o(58844));class l extends a.default.Component{render(){const{classes:e}=this.props;return a.default.createElement(r.Grid,{item:!0,className:i.default.clsx(e.root,"auto"===this.props.overflow?e.overflowAuto:"")},this.props.children)}}const c=(0,s.withStyles)({root:{height:"100%",overflow:"hidden"},overflowAuto:{overflow:"auto"}})(l);t.default=c},89169:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564)),s=o(18967);class r extends a.default.Component{render(){return a.default.createElement(s.Grid,{item:!0,container:!0,alignItems:"center"},this.props.children)}}t.default=r},58844:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564)),s=n(o(55586)),r=n(o(18181)),i="material",l=["Su","Mo","Tu","We","Th","Fr","Sa"],c=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},d={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"};class p{static CapitalWords(e){return(e||"").split(/[\s_]/).filter((e=>e)).map((e=>e?e[0].toUpperCase()+e.substring(1).toLowerCase():"")).join(" ")}static formatSeconds(e){const t=Math.floor(e/86400);e%=86400;const o=Math.floor(e/3600);e%=3600;const n=Math.floor(e/60);e%=60,e=Math.floor(e);let a="";return t&&(a+="".concat(t," ").concat(r.default.t("ra_daysShortText")," ")),a+="".concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n,":").concat(e<10?"0".concat(e):e),a}static getObjectName(e,t,o,n,a){const s=e[t];let r;const i=a?"desc":"name";if("string"!==typeof o||n||(n={language:o},o=null),(n=n||{}).language||(n.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),null===o||void 0===o?void 0:o.name)r=o.name,"object"===typeof r&&(r=n.language&&r[n.language]||r.en);else if(s&&s.common&&s.common[i])r=s.common[i],"desc"!==i&&!r&&s.common.desc&&(r=s.common.desc),"object"===typeof r&&(r=n.language&&r[n.language]||r.en||r.de||r.ru||""),r=(r||"").toString().replace(/[_.]/g," "),r===r.toUpperCase()&&(r=r[0]+r.substring(1).toLowerCase());else{const e=t.lastIndexOf(".");r=t.substring(e+1).replace(/[_.]/g," "),r=p.CapitalWords(r)}return r.trim()}static getObjectNameFromObj(e,t,o,n,a){const s=e;let r=e&&e._id||"";const i=n?"desc":"name";if("string"!==typeof t||o||(o={language:t},t=null),o=o||{},null===t||void 0===t?void 0:t.name){const e=t.name;r=e&&"object"===typeof e?o.language&&e[o.language]||e.en:e}else if((null===s||void 0===s?void 0:s.common)&&s.common[i]){let e=s.common[i];"desc"!==i&&!e&&s.common.desc&&(e=s.common.desc),r="object"===typeof e?o.language&&e[o.language]||e.en:e,r=(r||"").toString().replace(/[_.]/g," "),r===r.toUpperCase()&&(r=r[0]+r.substring(1).toLowerCase())}return a?r:r.trim()}static getSettingsOrder(e,t,o){let n,a;if(n=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===n||void 0===n?void 0:n.custom){a=n.custom[i];const e=o.user||"admin";if(a&&a[e])if(t){if(a[e].subOrder&&a[e].subOrder[t])return JSON.parse(JSON.stringify(a[e].subOrder[t]))}else if(a[e].order)return JSON.parse(JSON.stringify(a[e].order))}return null}static getSettingsCustomURLs(e,t,o){let n,a;if(n=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===n||void 0===n?void 0:n.custom){a=n.custom[i];const e=o.user||"admin";if(a&&a[e])if(t){if(a[e].subURLs&&a[e].subURLs[t])return JSON.parse(JSON.stringify(a[e].subURLs[t]))}else if(a[e].URLs)return JSON.parse(JSON.stringify(a[e].URLs))}return null}static reorder(e,t,o){const n=Array.from(e),[a]=n.splice(t,1);return n.splice(o,0,a),n}static getSettings(e,t,o){let n;const a=(null===e||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t.id);let s;if(s=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,(null===s||void 0===s?void 0:s.custom)?(n=s.custom,n=n[i]&&n[i][t.user||"admin"]?JSON.parse(JSON.stringify(n[i][t.user||"admin"])):{enabled:!0}):n={enabled:void 0===o||o,useCustom:!1},Object.prototype.hasOwnProperty.call(n,"enabled")||(n.enabled=void 0===o||o),t&&(!n.name&&t.name&&(n.name=t.name),!n.icon&&t.icon&&(n.icon=t.icon),!n.color&&t.color&&(n.color=t.color)),s&&(n.color=n.color||s.color,n.icon=n.icon||s.icon,n.name=n.name||s.name),"object"===typeof n.name&&(n.name=t.language&&n.name[t.language]||n.name.en,n.name=(n.name||"").toString().replace(/_/g," "),n.name===n.name.toUpperCase()&&(n.name=n.name[0]+n.name.substring(1).toLowerCase())),!n.name&&a){const e=a.lastIndexOf(".");n.name=a.substring(e+1).replace(/[_.]/g," "),n.name=(n.name||"").toString().replace(/_/g," "),n.name=p.CapitalWords(n.name)}return n}static setSettings(e,t,o){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[i]=e.common.custom[i]||{},e.common.custom[i][o.user||"admin"]=t;const n=e.common.custom[i][o.user||"admin"];return n.useCommon&&(void 0!==n.color&&(e.common.color=n.color,delete n.color),void 0!==n.icon&&(e.common.icon=n.icon,delete n.icon),void 0!==n.name&&("object"!==typeof e.common.name&&o.language?e.common.name={[o.language]:n.name}:"object"===typeof e.common.name&&o.language&&(e.common.name[o.language]=n.name),delete n.name)),!0}return!1}static getIcon(e,t){return e&&e.icon?e.icon.length<=2?a.default.createElement("span",{style:t||{}},e.icon):e.icon.startsWith("data:image")?a.default.createElement("img",{alt:e.name,src:e.icon,style:t||{}}):a.default.createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:t}):null}static getObjectIcon(e,t){if("object"===typeof e&&(e=null===(t=e)||void 0===t?void 0:t._id),t&&t.common&&t.common.icon){let o=t.common.icon;if("string"===typeof o&&o.length<=2)return o;if(o.startsWith("data:image"))return o;const n=e.split(".");return o="system"===n[0]?"adapter/".concat(n[2]).concat(o.startsWith("/")?"":"/").concat(o):"adapter/".concat(n[0]).concat(o.startsWith("/")?"":"/").concat(o),window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)||window.location.pathname.match(/material\/[.\d]+/)?o="../../".concat(o):window.location.pathname.match(/material\//)&&(o="../".concat(o)),o}return null}static splitCamelCase(e){return e?p.CapitalWords(e):""}static isUseBright(e,t){if(!e)return void 0===t||t;let o,n,a;(e=e.toString()).startsWith("#")&&(e=e.slice(1));const s=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(s&&4===s.length)o=parseInt(s[1],10),n=parseInt(s[2],10),a=parseInt(s[3],10);else{if(3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),8===e.length)e=e.substring(0,6);else if(6!==e.length)return!1;o=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16)}return.299*o+.587*n+.114*a<=186}static getTimeString(e){if(e=parseFloat(e.toString()),Number.isNaN(e))return"--:--";const t=Math.floor(e/3600),o=Math.floor(e%3600/60),n=e%60;return t?"".concat(t,":").concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n):"".concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n)}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return"string"===typeof e?e.length<2?"0".concat(e):e:e<10?"0".concat(e):e.toString()}static setDataFormat(e){e&&(p.dateFormat=e.toUpperCase().split(/[.-/]/),p.dateFormat.splice(p.dateFormat.indexOf("YYYY"),1))}static date2string(e){if("string"===typeof e){if(!(e=e.trim()))return"";if(e.match(/^[\w\s]+$/))return e;const t=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(t){const o=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)],n=o.find((e=>e>31));if(void 0!==n){o.splice(o.indexOf(n),1);const t=o.find((e=>e>12));t?(o.splice(o.indexOf(t),1),e=new Date(n,o[0]-1,t)):"M"===p.dateFormat[0][0]&&"D"===p.dateFormat[1][0]?(e=new Date(n,o[0]-1,o[1]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(n,o[1]-1,o[0]))):"D"===p.dateFormat[0][0]&&"M"===p.dateFormat[1][0]?(e=new Date(n,o[1]-1,o[0]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(n,o[0]-1,o[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e)}else e=new Date(e);let t=r.default.t("ra_dow_".concat(l[e.getDay()])).replace("ra_dow_","");return t+=". ".concat(e.getDate()," ").concat(r.default.t("ra_month_".concat(c[e.getMonth()])).replace("ra_month_","")),t}static renderTextWithA(e){let t=e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(t){const o=[];let n=1;do{const s=e.substring(0,t.index);if(e=e.substring((t.index||0)+t[0].length),s&&o.push(a.default.createElement("span",{key:"a".concat(n++)},s)),t[0].startsWith("<b>"))o.push(a.default.createElement("b",{key:"a".concat(n++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<i>"))o.push(a.default.createElement("i",{key:"a".concat(n++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<br"))o.push(a.default.createElement("br",{key:"a".concat(n++)}));else{const e=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),s=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),r=t[0].match(/rel="([^"]+)"/)||t[0].match(/rel='([^']+)'/),i=t[0].match(/>([^<]*)</);o.push(a.default.createElement("a",{key:"a".concat(n++),href:e?e[1]:"",target:s?s[1]:"_blank",rel:r?r[1]:"",style:{color:"inherit"}},i?i[1]:""))}t=e?e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/):null,t||e&&o.push(a.default.createElement("span",{key:"a".concat(n++)},e))}while(t);return o}return e}static getSmartName(e,t,o,n){var a,s;if(!t){if(!n)return e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName;if(e&&!e.common)return e.smartName;const t=e;return(null===(a=null===t||void 0===t?void 0:t.common)||void 0===a?void 0:a.custom)&&t.common.custom[o]?t.common.custom[o].smartName:void 0}if(!n)return e[t].common.smartName;const r=e[t];return(null===(s=null===r||void 0===r?void 0:r.common)||void 0===s?void 0:s.custom)&&r.common.custom[o]&&r.common.custom[o].smartName||null}static getSmartNameFromObj(e,t,o){var n;return o?e&&!e.common?e.smartName:(null===(n=null===e||void 0===e?void 0:e.common)||void 0===n?void 0:n.custom)&&e.common.custom[t]?e.common.custom[t].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}static enableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}static removeSmartName(e,t,o){o?e.common&&e.common.custom&&e.common.custom[t]&&(e.common.custom[t]=null):e.common.smartName=null}static updateSmartName(e,t,o,n,a,s){const i=r.default.getLanguage();if("string"===typeof e.common.smartName){const t=e.common.smartName;e.common.smartName={},e.common.smartName[i]=t}if(e.native&&e.native.byON){delete e.native.byON;let t=e.common.smartName;t?"object"!==typeof t&&(t={en:t},t[i]=t.en):t={},e.common.smartName=t}if(void 0!==n&&(s?(e.common.custom=e.common.custom||{},e.common.custom[a]=e.common.custom[a]||{},e.common.custom[a].smartName=e.common.custom[a].smartName||{},n?e.common.custom[a].smartName.smartType=n:delete e.common.custom[a].smartName.smartType):(e.common.smartName=e.common.smartName||{},n?e.common.smartName.smartType=n:delete e.common.smartName.smartType)),void 0!==o&&(s?(e.common.custom=e.common.custom||{},e.common.custom[a]=e.common.custom[a]||{},e.common.custom[a].smartName=e.common.custom[a].smartName||{},e.common.custom[a].smartName.byON=o):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=o)),void 0!==t){let o;if(s?(e.common.custom=e.common.custom||{},e.common.custom[a]=e.common.custom[a]||{},e.common.custom[a].smartName=e.common.custom[a].smartName||{},o=e.common.custom[a].smartName):(e.common.smartName=e.common.smartName||{},o=e.common.smartName),o[i]=t,o&&(!o[i]||o[i]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete o[i];let t=!0;for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){t=!1;break}t&&(s&&e.common.custom&&e.common.custom[a]?void 0===e.common.custom[a].smartName.byON?delete e.common.custom[a]:(delete e.common.custom[a].en,delete e.common.custom[a].de,delete e.common.custom[a].ru,delete e.common.custom[a].nl,delete e.common.custom[a].pl,delete e.common.custom[a].it,delete e.common.custom[a].fr,delete e.common.custom[a].pt,delete e.common.custom[a].es,delete e.common.custom[a].uk,delete e.common.custom[a]["zh-cn"]):e.common.smartName&&void 0!==e.common.smartName.byON?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,t){return t&&(t.stopPropagation(),t.preventDefault()),(0,s.default)(e)}static getFileExtension(e){const t=(e||"").lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return"".concat(e," B");const t=["KB","MB","GB"];let o=-1;do{e/=1024,++o}while(Math.abs(e)>=1024&&o<t.length-1);return"".concat(e.toFixed(1)," ").concat(t[o])}static getInvertedColor(e,t,o){if(!e)return;const n=p.invertColor(e,!0);return"#FFFFFF"===n&&("dark"===t||o&&"light"===t)?"#DDD":"#000000"===n&&("light"===t||o&&"dark"===t)?"#222":void 0}static invertColor(e,t){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let o=null;if(8===e.length)o=e.substring(6,8),e=e.substring(0,6);else if(6!==e.length)return console.warn("Cannot invert color: ".concat(e)),e;const n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);if(t)return.299*n+.587*a+.114*s>186?"#000000".concat(o||""):"#FFFFFF".concat(o||"");const r=(255-n).toString(16),i=(255-a).toString(16),l=(255-s).toString(16);return"#".concat(r.padStart(2,"0")).concat(i.padStart(2,"0")).concat(l.padStart(2,"0")).concat(o||"")}static color2rgb(e){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return 3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length&&8!==e.length?(console.warn("Cannot invert color: ".concat(e)),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let t=e[0]/255,o=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let a=(.4124*t+.3576*o+.1805*n)/.95047,s=.2126*t+.7152*o+.0722*n,r=(.0193*t+.1192*o+.9505*n)/1.08883;return a=a>.008856?a**.33333333:7.787*a+.137931,s=s>.008856?s**.33333333:7.787*s+.137931,r=r>.008856?r**.33333333:7.787*r+.137931,[116*s-16,500*(a-s),200*(s-r)]}static colorDistance(e,t){const o=p.color2rgb(e),n=p.color2rgb(t);if(!o||!n)return 0;const a=p.rgb2lab(o),s=p.rgb2lab(n),r=a[0]-s[0],i=a[1]-s[1],l=a[2]-s[2],c=Math.sqrt(a[1]*a[1]+a[2]*a[2]),u=c-Math.sqrt(s[1]*s[1]+s[2]*s[2]);let d=i*i+l*l-u*u;d=d<0?0:Math.sqrt(d);const m=u/(1+.045*c),h=d/(1+.015*c),f=r*r+m*m+h*h;return f<0?0:f}static _toVal(e){let t,o="";if("string"===typeof e||"number"===typeof e)o+=e;else if("object"===typeof e)if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]&&(t=p._toVal(e[n]),t&&(o&&(o+=" "),o+=t));else for(const n in e)e[n]&&(o&&(o+=" "),o+=n);return o}static clsx(){let e,t,o=0,n="";for(;o<arguments.length;){var a;e=(a=o++)<0||arguments.length<=a?void 0:arguments[a],e&&(t=p._toVal(e),t&&(n&&(n+=" "),n+=t))}return n}static getThemeName(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix?"light":"dark"===(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"))||"blue"===e?"dark":"light"}static setThemeName(e){window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme","dark"===e||"blue"===e?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix)return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName")||"light";const t=p.getThemeNames(),o=e?t.indexOf(e):-1;let n;return n=-1!==o?t[(o+1)%t.length]:t[0],p.setThemeName(n),n}static getThemeNames(){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const t={};return e.split("&").forEach((e=>{if(e=e.trim()){const o=e.split("="),n=decodeURIComponent(o[0]).trim();if(o.length>1){if(t[n]=decodeURIComponent(o[1]),"true"===t[n])t[n]=!0;else if("false"===t[n])t[n]=!1;else if(t[n]){const e=parseFloat(t[n].toString());e.toString()===t[n]&&(t[n]=e)}}else t[n]=!0}})),t}static getParentId(e){const t=(e||"").toString().split(".");return t.length>1?(t.pop(),t.join(".")):null}static formatDate(e,t){if(!e)return"";let o;const n=e.getMonth()+1,a=e.getDate();o="MM/DD/YYYY"===t?"".concat(n<10?"0".concat(n):n,"/").concat(a<10?"0".concat(a):a,"/").concat(e.getFullYear()):"".concat(e.getFullYear(),"-").concat(n,"-").concat(a);let s=e.getHours();return o+=s<10?" 0".concat(s):" ".concat(s),s=e.getMinutes(),o+=s<10?":0".concat(s):":".concat(s),s=e.getSeconds(),o+=s<10?":0".concat(s):":".concat(s),s=e.getMilliseconds(),o+=s<10?".00".concat(s):s<100?".0".concat(s):".".concat(s),o}static formatTime(e){if(e){e=Math.round(e);const t=Math.floor(e/86400),o=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),a=e%60;return t?"".concat(t,".").concat(o.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):o?"".concat(o,":").concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))}return"0:00:00"}static MDtext2link(e){const t=e.match(/\d+\.\)\s/);return t&&(e=e.replace(t[0],t[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,t){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),"this"===t?window.location.href=e:window.open(e,t||"_blank")}static MDgetTitle(e){const t=p.MDextractHeader(e),o=t.header;let n=t.body;if(!o.title){n=n.replace(/{[^}]*}/g,""),n=n.trim();const e=n.replace(/\r/g,"").split("\n");for(let t=0;t<e.length;t++)if(e[t].startsWith("# "))return e[t].substring(2).trim();return""}return o.title?o.title.toString():""}static MDextractHeader(e){const t={};if("---"===e.substring(0,3)){const o=e.substring(3).indexOf("\n---");if(-1!==o){e.substring(3,o+3).replace(/\r/g,"").split("\n").forEach((e=>{if(!e.trim())return;const o=e.indexOf(":");if(-1!==o){const n=e.substring(0,o).trim();let a=e.substring(o+1).trim();a=a.replace(/^['"]|['"]$/g,""),"true"===a?t[n]=!0:"false"===a?t[n]=!1:parseFloat(a).toString()===a?t[n]=parseFloat(a):t[n]=a}else t[e.trim()]=!0})),e=e.substring(o+7)}}return{header:t,body:e}}static MDremoveDocsify(e){const t=e.match(/{docsify-[^}]*}/g);return t&&t.forEach((t=>e=e.replace(t,""))),e}static generateFile(e,t){const o=document.createElement("a");o.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t,null,2)))),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}static quality2text(e){const t=4294901760&e,o=u[e];let n;return n=o?[o]:1&e?[u[1],"0x".concat((65534&e).toString(16))]:2&e?[u[2],"0x".concat((65533&e).toString(16))]:["0x".concat(e.toString(16))],t&&n.push("0x".concat((t>>16).toString(16).toUpperCase())),n}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var t;let o=null===(t=null===e||void 0===e?void 0:e.common)||void 0===t?void 0:t.states;if(o)if("string"===typeof o&&"{"===o[0])try{o=JSON.parse(o)}catch(n){console.error("Cannot parse states: ".concat(o)),o=null}else if("string"===typeof o){const e=o.split(";");o={};for(let t=0;t<e.length;t++){const n=e[t].split(":");o[n[0]]=n[1]}}else if(Array.isArray(o)){const t={};return"number"===(null===e||void 0===e?void 0:e.common.type)?o.forEach(((e,o)=>t[o]=e)):"string"===(null===e||void 0===e?void 0:e.common.type)?o.forEach((e=>t[e]=e)):"boolean"===(null===e||void 0===e?void 0:e.common.type)&&(t.false=o[0],t.true=o[1]),t}return o||null}static async getSvg(e){const t=await fetch(e),o=await t.blob();return await new Promise((e=>{const t=new FileReader;t.onload=function(){var t;e((null===(t=this.result)||void 0===t?void 0:t.toString())||"")},t.readAsDataURL(o)}))}static detectMimeType(e){const t=Object.keys(d).find((t=>e.startsWith(t)));return t?d[t]:null}static isStableRepository(e){return!!("string"===typeof e&&e.toLowerCase().startsWith("stable")||e&&"string"!==typeof e&&e.find((e=>e.toLowerCase().startsWith("stable"))))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}}p.namespace=i,p.INSTANCES="instances",p.dateFormat=["DD","MM"],p.FORBIDDEN_CHARS=/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu,t.default=p},77054:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(10434)),s=n(o(861)),r=n(o(88564)),i=o(67943),l=n(o(7013));t.default=function(){return function(e){return function(t){var o=function(){var e=(0,i.useTheme)();return(0,s.default)(e.breakpoints.keys).reverse().reduce((function(t,o){var n=(0,l.default)(e.breakpoints.up(o));return!t&&n?o:t}),null)||"xs"}();return r.default.createElement(e,(0,a.default)({},t,{width:o}))}}}},48153:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ERRORS",{enumerable:!0,get:function(){return n.ERRORS}}),Object.defineProperty(t,"PERMISSION_ERROR",{enumerable:!0,get:function(){return n.PERMISSION_ERROR}}),Object.defineProperty(t,"PROGRESS",{enumerable:!0,get:function(){return n.PROGRESS}}),t.default=void 0;var n=o(66086);t.default=n.Connection},20889:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(35025),c=o(18967),u=o(59665),d=r(o(18181));class p extends i.Component{constructor(e){if(super(e),!this.props.dialogName&&this.props.suppressQuestionMinutes)throw new Error("dialogName required if suppressQuestionMinutes used");let t=!1;this.props.suppressQuestionMinutes&&(t=parseInt((window._localStorage||window.localStorage).getItem(this.props.dialogName),10)||0,t?Date.now()>t&&((window._localStorage||window.localStorage).removeItem(this.props.dialogName),t=!1):t=!1),this.state={suppress:t}}handleOk(){this.state.suppress&&(window._localStorage||window.localStorage).setItem(this.props.dialogName,Date.now()+6e4*(this.props.suppressQuestionMinutes||2)),this.props.onClose&&this.props.onClose(!0)}handleCancel(){this.props.onClose&&this.props.onClose(!1)}render(){return"number"===typeof this.state.suppress?(setTimeout((()=>this.props.onClose&&this.props.onClose(!0)),100),null):i.default.createElement(c.Dialog,{open:!0,maxWidth:"md",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&this.handleCancel()},"aria-labelledby":"ar_confirmation_dialog_title","aria-describedby":"ar_confirmation_dialog_description"},i.default.createElement(c.DialogTitle,{id:"ar_confirmation_dialog_title"},this.props.title||d.default.t("ra_Are you sure?")),i.default.createElement(c.DialogContent,null,i.default.createElement(c.DialogContentText,{id:"ar_confirmation_dialog_description"},this.props.icon||null,this.props.text,this.props.suppressQuestionMinutes?i.default.createElement("br",null):null,this.props.suppressQuestionMinutes?i.default.createElement(c.FormControlLabel,{classes:{label:this.props.classes.suppress,root:this.props.classes.suppressRoot},control:i.default.createElement(c.Checkbox,{id:"ar_dialog_confirm_suppress_".concat(this.props.dialogName||""),checked:!!this.state.suppress,onChange:()=>this.setState({suppress:!this.state.suppress})}),label:this.props.suppressText||d.default.t("ra_Suppress question for next %s minutes",(this.props.suppressQuestionMinutes||2).toString())}):null)),i.default.createElement(c.DialogActions,null,i.default.createElement(c.Button,{id:"ar_dialog_confirm_ok_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:i.default.createElement(u.Check,null)},this.props.ok||d.default.t("ra_Ok")),i.default.createElement(c.Button,{id:"ar_dialog_confirm_cancel_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:i.default.createElement(u.Close,null)},this.props.cancel||d.default.t("ra_Cancel"))))}}const m=(0,l.withStyles)({suppress:{fontSize:12},suppressRoot:{marginTop:16}})(p);t.default=m},32548:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(18967),c=o(59665),u=r(o(18181));class d extends i.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return i.default.createElement(l.Dialog,{open:!0,maxWidth:"sm",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:()=>this.handleOk(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.default.createElement(l.DialogTitle,{id:"ar_alert_dialog_title"},this.props.title||u.default.t("ra_Error")),i.default.createElement(l.DialogContent,null,i.default.createElement(l.DialogContentText,{id:"ar_alert_dialog_description"},this.props.text||u.default.t("ra_Unknown error!"))),i.default.createElement(l.DialogActions,null,i.default.createElement(l.Button,{id:"ar_dialog_error_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:i.default.createElement(c.Check,null)},u.default.t("ra_Ok"))))}}t.default=d},10154:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(18967),c=o(59665),u=r(o(18181));class d extends i.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return i.default.createElement(l.Dialog,{open:!0,maxWidth:"sm",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:()=>this.handleOk(),"aria-labelledby":"ar_dialog_message_title","aria-describedby":"ar_dialog_message_description"},i.default.createElement(l.DialogTitle,{id:"ar_dialog_message_title"},this.props.title||u.default.t("ra_Message")),i.default.createElement(l.DialogContent,null,i.default.createElement(l.DialogContentText,{id:"ar_dialog_message_description"},i.default.createElement("span",{style:{marginRight:this.props.icon?8:0}},this.props.icon||null),this.props.text)),i.default.createElement(l.DialogActions,null,i.default.createElement(l.Button,{id:"ar_dialog_message_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:i.default.createElement(c.Close,null)},this.props.ok||u.default.t("ra_Close"))))}}t.default=d},31238:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var a=Object.getOwnPropertyDescriptor(t,o);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,a)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return a(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(88564)),l=o(18967),c=o(59665),u=r(o(18181)),d=r(o(62512));class p extends i.Component{constructor(e){super(e),this.dialogName=this.props.dialogName||"default",this.dialogName="SelectID.".concat(this.dialogName);const t=(window._localStorage||window.localStorage).getItem(this.dialogName)||"{}";try{this.filters=JSON.parse(t)}catch(n){this.filters={}}e.filters&&(this.filters=Object.assign(Object.assign({},this.filters),e.filters||{}));let o=this.props.selected||[];if(Array.isArray(o)||(o=[o]),o=o.filter((e=>e)),e.filterFunc)if("string"===typeof e.filterFunc)try{this.filterFunc=new Function("obj",e.filterFunc)}catch(n){console.error('Cannot parse filter function: "obj => '.concat(e.filterFunc,'"')),this.filterFunc=void 0}else this.filterFunc=e.filterFunc;this.state={selected:o,name:""}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.props.multiSelect?this.state.selected:this.state.selected[0]||"",this.state.name),this.props.onClose()}render(){let e;return e=this.state.name||this.state.selected.length?1===this.state.selected.length?[i.default.createElement("span",{key:"selected"},u.default.t("ra_Selected"),"\xa0"),i.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},(this.state.name||this.state.selected)+(this.state.name?" [".concat(this.state.selected,"]"):""))]:[i.default.createElement("span",{key:"selected"},u.default.t("ra_Selected"),"\xa0"),i.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},u.default.t("%s items",this.state.selected.length.toString()))]:this.props.title||u.default.t("ra_Please select object ID..."),i.default.createElement(l.Dialog,{onClose:()=>{},maxWidth:!1,sx:{"& .MuiDialog-paper":{height:"95%",padding:4,width:"100%",maxWidth:"100%",maxHeight:"calc(100% - 16px)"}},fullWidth:!0,open:!0,"aria-labelledby":"ar_dialog_selectid_title"},i.default.createElement(l.DialogTitle,{id:"ar_dialog_selectid_title",style:{whiteSpace:"nowrap",width:"calc(100% - 72px)",overflow:"hidden",display:"inline-block",textOverflow:"ellipsis"}},e),i.default.createElement(l.DialogContent,{style:{height:"100%",overflow:"hidden",padding:"8px 4px"}},i.default.createElement(d.default,{foldersFirst:this.props.foldersFirst,imagePrefix:this.props.imagePrefix||this.props.prefix,defaultFilters:this.filters,dialogName:this.dialogName,showExpertButton:void 0===this.props.showExpertButton||this.props.showExpertButton,expertMode:this.props.expertMode,columns:this.props.columns||["name","type","role","room","func","val"],types:this.props.types?Array.isArray(this.props.types)?this.props.types:[this.props.types]:["state"],root:this.props.root,t:u.default.t,lang:this.props.lang||u.default.getLanguage(),socket:this.props.socket,selected:this.state.selected,multiSelect:this.props.multiSelect,notEditable:void 0===this.props.notEditable||this.props.notEditable,themeName:this.props.themeName,themeType:this.props.themeType,customFilter:this.props.customFilter,onFilterChanged:e=>{this.filters=e,(window._localStorage||window.localStorage).setItem(this.dialogName,JSON.stringify(e))},onSelect:(e,t,o)=>{JSON.stringify(e)!==JSON.stringify(this.state.selected)?this.setState({selected:e,name:t},(()=>o&&this.handleOk())):o&&this.handleOk()},filterFunc:this.filterFunc,title:"",classes:{}})),i.default.createElement(l.DialogActions,null,i.default.createElement(l.Button,{id:"ar_dialog_selectid_ok_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleOk(),startIcon:i.default.createElement(c.Check,null),disabled:!this.state.selected.length,color:"primary"},this.props.ok||u.default.t("ra_Ok")),i.default.createElement(l.Button,{id:"ar_dialog_selectid_cancel_".concat(this.props.dialogName||""),color:"grey",variant:"contained",onClick:()=>this.handleCancel(),startIcon:i.default.createElement(c.Cancel,null)},this.props.cancel||u.default.t("ra_Cancel"))))}}t.default=p},86940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){console.log("\n\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \n\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\n\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\n"),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)")}},37674:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(67943),a=o(1312),s=11/23/100;function r(e){const t={r:0,g:0,b:0};if(7===e.length)t.r=parseInt(e.substr(1,2),16),t.g=parseInt(e.substr(3,2),16),t.b=parseInt(e.substr(5,2),16);else if(4===e.length){const o=e.substr(1,1),n=e.substr(2,1),a=e.substr(3,1);t.r=parseInt(o+o,16),t.g=parseInt(n+n,16),t.b=parseInt(a+a,16)}return t}function i(e,t,o){const n=r(e),a=r(t);return n.r+=a.r*(.05+s*(o-1)),n.g+=a.g*(.05+s*(o-1)),n.b+=a.b*(.05+s*(o-1)),i=n,"#".concat(Math.round(i.r).toString(16)).concat(Math.round(i.g).toString(16)).concat(Math.round(i.b).toString(16));var i}function l(e,t){const o={};for(let n=1;n<=24;n++)o["elevation".concat(n)]={backgroundColor:i(e,t,n)};return o}t.default=e=>{var t,o,s,r,i,c,u,d,p;let m;m="dark"===e?{name:e,palette:{mode:"dark",background:{paper:"#121212",default:"#121212"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#272727"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[200],"&:hover":{color:a.orange[100]}}},MuiPaper:l("#121212","#fff")}}:"blue"===e?{name:e,palette:{mode:"dark",background:{paper:"#151d21",default:"#151d21"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#2a3135"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[200],"&:hover":{color:a.orange[100]}}},MuiPaper:l("#151d21","#fff")}}:"colored"===e?{name:e,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#96fc96"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#3399CC"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[400],"&:hover":{color:a.orange[300]}}}}}:"PT"===e?{name:e,palette:{mode:"light",primary:{main:"#0F99DE"},secondary:{main:"#88A536"},expert:"#BD1B24"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#0F99DE"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[400],"&:hover":{color:a.orange[300]}}}}}:"DX"===e?{name:e,palette:{mode:"light",primary:{main:"#F5F5F7"},secondary:{main:"#a9a9a9"},expert:"#BD1B24",text:{primary:"#007AFE",secondary:"#007AFE",disabled:"#007AFEAA"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#a9a9a9"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[400],"&:hover":{color:a.orange[300]}}}}}:{name:e,palette:{mode:"light",primary:{main:"#3399CC",light:void 0,dark:void 0,contrastText:void 0},secondary:{main:"#164477"},expert:"#14bb00"},overrides:{MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:a.orange[400],"&:hover":{color:a.orange[300]}}}}},m.toolbar={height:48},m.saveToolbar={background:null===(o=null===(t=m.palette)||void 0===t?void 0:t.primary)||void 0===o?void 0:o.main,button:{borderRadius:3,height:32}},m.palette&&(m.palette.grey={main:a.grey[300],dark:a.grey[400]});const h=(0,n.createTheme)(m),f=h.palette;return(0,n.createTheme)(h,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:f.getContrastText&&f.grey&&f.grey[300]?f.getContrastText(f.grey[300]):void 0}},{props:{variant:"outlined",color:"grey"},style:{color:null===(s=f.text)||void 0===s?void 0:s.primary,borderColor:"light"===f.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat(null===(r=f.action)||void 0===r?void 0:r.disabledBackground)},"&:hover":{borderColor:"light"===f.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,n.alpha)((null===(i=f.text)||void 0===i?void 0:i.primary)||"",(null===(c=f.action)||void 0===c?void 0:c.hoverOpacity)||.04)}}},{props:{variant:"text",color:"grey"},style:{color:null===(u=f.text)||void 0===u?void 0:u.primary,"&:hover":{backgroundColor:(0,n.alpha)((null===(d=f.text)||void 0===d?void 0:d.primary)||"",(null===(p=f.action)||void 0===p?void 0:p.hoverOpacity)||.04)}}}]}}})}},18181:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static setLanguage(e){e&&(o.lang=e)}static extendTranslations(e,t){if(e.prefix){const t=e;if("string"===typeof t.prefix){const o=t.prefix;delete t.prefix,Object.keys(t).forEach((n=>{const a=n,s={},r=t[a];Object.keys(r).forEach((e=>{e&&r&&(e.startsWith(o)?s[e]=r[e]:s["".concat(o).concat(e)]=r[e])})),e[a]=s}))}else console.warn("Found prefix in translations, but it is not a string")}try{if(t){o.translations[t]||console.warn("Used unknown language: ".concat(t)),o.translations[t]=o.translations[t]||{};const n=o.translations[t];n&&Object.keys(e).forEach((o=>{n[o]?n[o]!==e[o]&&console.warn('Translation for word "'.concat(o,'" in "').concat(t,'" was ignored: existing = "').concat(n[o],'", new = ').concat(e[o])):n[o]=e[o]}))}else e.en&&e.de&&e.ru?Object.keys(e).forEach((t=>{const n=t;o.translations[n]=o.translations[n]||{};const a=o.translations[n];Object.assign(a,e[n])})):Object.keys(e).forEach((t=>{const n=e[t];Object.keys(n).forEach((e=>{const a=e,s=o.translations[a];s?s[t]?s[t]!==n[a]&&console.warn('Translation for word "'.concat(t,'" in "').concat(a,'" was ignored: existing = "').concat(s[t],'", new = ').concat(n[a])):s[t]=n[a]:console.warn("Used unknown language: ".concat(a))}))}))}catch(n){console.error("Cannot apply translations: ".concat(n))}}static setTranslations(e){e&&(o.translations=e)}static getLanguage(){return o.lang}static t(e){const t=o.translations[o.lang];if(t){const n=t[e];if(n)e=n;else if(o.unknownTranslations.includes(e)||(o.unknownTranslations.push(e),!o._disableWarning&&console.log("Translate: ".concat(e))),"en"!==o.lang&&o.translations.en){const t=o.translations.en[e];t&&(e=t)}}for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];for(const o of a)e=e.replace("%s",o);return e}static i18nShow(e){const t={};e?"string"===typeof e?(o.unknownTranslations.forEach((o=>{o.startsWith(e)&&(t[o]=o.replace(e,""))})),console.log(JSON.stringify(t,null,2))):"object"===typeof e&&(o.unknownTranslations.forEach((o=>{e.test(o)&&(t[o]=o)})),console.log(JSON.stringify(t,null,2))):(o.unknownTranslations.forEach((e=>t[e]=e)),console.log(JSON.stringify(t,null,2)))}static disableWarning(e){o._disableWarning=!!e}}o.translations={},o.unknownTranslations=[],o.lang=window.sysLang||"en",o._disableWarning=!1,window.i18nShow=o.i18nShow,window.i18nDisableWarning=o.disableWarning,t.default=o},69525:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},a.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},98996:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},a.default.createElement("path",{fill:"currentColor",d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},11571:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},a.default.createElement("g",{fill:"currentColor"},a.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"248",cx:"160",fill:"none",strokeWidth:"15"}),a.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},91232:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 24 24",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39A.998.998 0 0 0 18.95 4H5.04c-.83 0-1.3.95-.79 1.61z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},61723:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 650 512",xmlns:"http://www.w3.org/2000/svg",width:e.width||20,height:e.height||e.width||20,className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},15645:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},77102:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("g",{fill:"currentColor"},a.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),a.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("rect",{height:"27",width:"50",y:"140.83068",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),a.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"251",cx:"241",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),a.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"200.94531",x2:"240.5",y1:"45.94531",x1:"240.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("rect",{height:"27",width:"50",y:"78.7979",x:"214.5",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),a.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"84",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),a.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"83.5",y1:"46.94531",x1:"83.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),a.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"57.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},3739:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},11679:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}),a.default.createElement("path",{fill:"currentColor",stroke:"null",d:"m261,270l-12,0l0,-24c0,-33.12 -26.88,-60 -60,-60s-60,26.88 -60,60l0,24l-12,0c-13.2,0 -24,10.8 -24,24l0,120c0,13.2 10.8,24 24,24l144,0c13.2,0 24,-10.8 24,-24l0,-120c0,-13.2 -10.8,-24 -24,-24zm-72,108c-13.2,0 -24,-10.8 -24,-24s10.8,-24 24,-24s24,10.8 24,24s-10.8,24 -24,24zm37.2,-108l-74.4,0l0,-24c0,-20.52 16.68,-37.2 37.2,-37.2c20.52,0 37.2,16.68 37.2,37.2l0,24z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},73933:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(o(88564));t.default=e=>a.default.createElement("svg",{onClick:t=>e.onClick&&e.onClick(t),viewBox:"0 0 486.70625 486",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",d:"m414.928297,149.715165 c-2.639376,-57.222555 -35.669446,-106.505345 -83.345894,-132.039151 c-3.758948,-2.049842 -7.636885,-3.932022 -11.590542,-5.641125 c-19.303146,-8.394083 -40.607459,-13.050853 -63.004303,-13.050853 c-84.113909,0 -152.791790,65.703174 -157.718988,148.605566 l0.043268,-0.010816 v0.281245 c0,3.061243 -0.146031,16.750306 -0.146031,16.750306 l-2.352723,5.224668 h15.744315 c5.916964,-19.384275 24.078904,-32.635245 45.513024,-32.635245 c26.231510,0 47.573684,21.915481 47.573684,48.146991 c0,26.226103 -21.342174,47.146409 -47.573684,47.146409 c-25.111939,0 -45.734774,-19.735831 -47.443879,-44.658471 h-18.789334 c-0.400232,0 -0.778832,0.638209 -1.162839,0.584122 l-19.762875,55.199753 c-2.774590,7.696379 2.926030,16.214860 11.103771,16.214860 h17.020735 l-0.129805,87.899899 c0,17.356066 14.073071,31.174935 31.429136,31.174935 h56.205745 v82.648189 c0,12.877778 12.937273,22.580734 25.815051,22.580734 h144.597825 c12.877778,0 23.429877,-9.702955 23.429877,-22.580734 v-166.037352 c0,-22.645636 5.976457,-44.761234 16.561008,-64.789128 c11.055093,-20.925714 17.523731,-44.620611 18.129489,-69.792045 c0.027042,-1.260193 0.037858,-2.552839 0.037858,-3.845485 c0,-2.466302 -0.070310,-4.938014 -0.183890,-7.377273 zm-155.393308,-11.731165 h-13.456494 v13.559257 c0,4.732489 -4.267352,8.567157 -8.999842,8.567157 c-4.727079,0 -8.999842,-3.834667 -8.999842,-8.567157 v-13.559257 h-12.185483 c-4.732489,0 -8.567157,-4.267352 -8.567157,-8.999842 c0,-4.727079 3.834667,-8.999842 8.567157,-8.999842 h12.185483 v-12.077311 c0,-4.732489 4.272762,-8.567157 8.999842,-8.567157 c4.732489,0 8.999842,3.834667 8.999842,8.567157 v12.077311 h13.456494 c4.727079,0 8.567157,4.272762 8.567157,8.999842 c0,4.732489 -3.840077,8.999842 -8.567157,8.999842 zm0,0"}),a.default.createElement("path",{fill:"currentColor",d:"m187.695312 285.875c3.9375-3.980469 6.414063-9.449219 6.414063-15.523438 0-12.128906-9.855469-21.980468-21.984375-21.980468-6.007812 0-11.472656 2.410156-15.457031 6.347656-4.023438 4.003906-6.523438 9.539062-6.523438 15.636719 0 12.125 9.855469 21.980469 21.980469 21.980469 6.078125 0 11.585938-2.476563 15.570312-6.460938zm0 0"}))},46953:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},97104:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 650 512",xmlns:"http://www.w3.org/2000/svg",width:e.width||20,height:e.height||e.width||20,className:e.className},a.default.createElement("path",{fill:"currentColor",d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},99418:(e,t,o)=>{"use strict";var n=o(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o(88564)),s=n(o(15854)),r=function(e){return a.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},a.default.createElement("rect",{fill:"none",rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor"}),a.default.createElement("ellipse",{fill:"none",ry:"54",rx:"54",cy:"160",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor"}))};r.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=r},7013:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n.Z});var n=o(77760)},87721:(e,t,o)=>{"use strict";var n,a=Object.create,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let a of i(t))c.call(e,a)||a===o||s(e,a,{get:()=>t[a],enumerable:!(n=r(t,a))||n.enumerable});return e},d=(e,t,o)=>(o=null!=e?a(l(e)):{},u(!t&&e&&e.__esModule?o:s(o,"default",{value:e,enumerable:!0}),e)),p=(e,t,o)=>(((e,t,o)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!==typeof t?t+"":t,o),o),m={};((e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})})(m,{cacheStore:()=>E,default:()=>O}),e.exports=(n=m,u(s({},"__esModule",{value:!0}),n));var h=d(o(88564)),f=d(o(23015)),g="react-inlinesvg",y={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function v(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function b(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!==typeof window&&null!==window}async function w(e,t){const o=await fetch(e,t),n=o.headers.get("content-type"),[a]=(n||"").split(/ ?; ?/);if(o.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((e=>a.includes(e))))throw new Error("Content type isn't valid: ".concat(a));return o.text()}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((t=>{setTimeout(t,1e3*e)}))}var E,S=class{constructor(){p(this,"cacheApi"),p(this,"cacheStore"),p(this,"subscribers",[]),p(this,"isReady",!1),this.cacheStore=new Map;let e=g,t=!1;var o;v()&&(e=null!==(o=window.REACT_INLINESVG_CACHE_NAME)&&void 0!==o?o:g,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE);t?caches.open(e).then((e=>{this.cacheApi=e,this.isReady=!0,this.subscribers.forEach((e=>e()))})):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){var o,n;return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),null!==(o=null===(n=this.cacheStore.get(e))||void 0===n?void 0:n.content)&&void 0!==o?o:""}set(e,t){this.cacheStore.set(e,t)}isCached(e){var t;return(null===(t=this.cacheStore.get(e))||void 0===t?void 0:t.status)===y.LOADED}async fetchAndAddToInternalCache(e,t){const o=this.cacheStore.get(e);if((null===o||void 0===o?void 0:o.status)!==y.LOADING){if(null===o||void 0===o||!o.content){this.cacheStore.set(e,{content:"",status:y.LOADING});try{const o=await w(e,t);this.cacheStore.set(e,{content:o,status:y.LOADED})}catch(n){throw this.cacheStore.set(e,{content:"",status:y.FAILED}),n}}}else await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:y.IDLE}),await this.fetchAndAddToInternalCache(e,t)}))}async fetchAndAddToPersistentCache(e,t){var o;const n=this.cacheStore.get(e);if((null===n||void 0===n?void 0:n.status)===y.LOADED)return;if((null===n||void 0===n?void 0:n.status)===y.LOADING)return void await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:y.IDLE}),await this.fetchAndAddToPersistentCache(e,t)}));this.cacheStore.set(e,{content:"",status:y.LOADING});const a=await(null===(o=this.cacheApi)||void 0===o?void 0:o.match(e));if(a){const t=await a.text();this.cacheStore.set(e,{content:t,status:y.LOADED})}else try{var s,r,i;await(null===(s=this.cacheApi)||void 0===s?void 0:s.add(new Request(e,t)));const o=await(null===(r=this.cacheApi)||void 0===r?void 0:r.match(e)),n=null!==(i=await(null===o||void 0===o?void 0:o.text()))&&void 0!==i?i:"";this.cacheStore.set(e,{content:n,status:y.LOADED})}catch(l){throw this.cacheStore.set(e,{content:"",status:y.FAILED}),l}}async handleLoading(e,t){let o=0;for(;(null===(n=this.cacheStore.get(e))||void 0===n?void 0:n.status)===y.LOADING&&o<10;){var n;await k(.1),o+=1}o>=10&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map((e=>{let[t,o]=e;return{[t]:o}}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}},C=o(6272),x=class extends h.PureComponent{constructor(e){var t;super(e),t=this,p(this,"hash"),p(this,"isActive",!1),p(this,"isInitialized",!1),p(this,"fetchContent",(async()=>{const{fetchOptions:e,src:t}=this.props,o=await w(t,e);this.handleLoad(o)})),p(this,"handleError",(e=>{const{onError:t}=this.props,o="Browser does not support SVG"===e.message?y.UNSUPPORTED:y.FAILED;this.isActive&&this.setState({status:o},(()=>{"function"===typeof t&&t(e)}))})),p(this,"handleLoad",(function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isActive&&t.setState({content:e,isCached:o,status:y.LOADED},t.getElement)})),this.state={content:"",element:null,isCached:!!e.cacheRequests&&E.isCached(e.src),status:y.IDLE},this.hash=e.uniqueHash||function(e){const t="abcdefghijklmnopqrstuvwxyz",o="".concat(t).concat(t.toUpperCase()).concat("1234567890");let n="";for(let s=0;s<e;s++)n+=(a=o)[Math.floor(Math.random()*a.length)];var a;return n}(8)}componentDidMount(){if(this.isActive=!0,!v()||this.isInitialized)return;const{status:e}=this.state,{src:t}=this.props;try{if(e===y.IDLE){if(!b())throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(o){this.handleError(o)}this.isInitialized=!0}componentDidUpdate(e,t){if(!v())return;const{isCached:o,status:n}=this.state,{onLoad:a,src:s}=this.props;if(t.status!==y.READY&&n===y.READY&&a&&a(s,o),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}componentWillUnmount(){this.isActive=!1}getElement(){try{const e=this.getNode(),t=(0,f.default)(e);if(!t||!h.isValidElement(t))throw new Error("Could not convert the src to a React element");this.setState({element:t,status:y.READY})}catch(e){this.handleError(new Error(e.message))}}getNode(){const{description:e,title:t}=this.props;try{const o=this.processSVG(),n=(0,f.default)(o,{nodeOnly:!0});if(!n||!(n instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const a=this.updateSVGAttributes(n);if(e){const t=a.querySelector("desc");t&&t.parentNode&&t.parentNode.removeChild(t);const o=document.createElementNS("http://www.w3.org/2000/svg","desc");o.innerHTML=e,a.prepend(o)}if("undefined"!==typeof t){const e=a.querySelector("title");if(e&&e.parentNode&&e.parentNode.removeChild(e),t){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=t,a.prepend(e)}}return a}catch(o){return this.handleError(o)}}load(){this.isActive&&this.setState({content:"",element:null,isCached:!1,status:y.LOADING},(async()=>{const{cacheRequests:e,fetchOptions:t,src:o}=this.props,n=o.match(/^data:image\/svg[^,]*?(;base64)?,(.*)/u);let a;if(n?a=n[1]?window.atob(n[2]):decodeURIComponent(n[2]):o.includes("<svg")&&(a=o),a)this.handleLoad(a);else try{if(e){const e=await E.get(o,t);this.handleLoad(e,!0)}else await this.fetchContent()}catch(s){this.handleError(s)}}))}processSVG(){const{content:e}=this.state,{preProcessor:t}=this.props;return t?t(e):e}updateSVGAttributes(e){const{baseURL:t="",uniquifyIDs:o}=this.props,n=["id","href","xlink:href","xlink:role","xlink:arcrole"],a=["href","xlink:href"];return o?([...e.children].forEach((e=>{if(e.attributes&&e.attributes.length){const o=Object.values(e.attributes).map((e=>{const o=e,n=e.value.match(/url\((.*?)\)/);return n&&n[1]&&(o.value=e.value.replace(n[0],"url(".concat(t).concat(n[1],"__").concat(this.hash,")"))),o}));n.forEach((e=>{const t=o.find((t=>t.name===e));var n,s;t&&(n=e,s=t.value,!a.includes(n)||!s||s.includes("#"))&&(t.value="".concat(t.value,"__").concat(this.hash))}))}return e.children.length?this.updateSVGAttributes(e):e})),e):e}render(){const{element:e,status:t}=this.state,{children:o=null,innerRef:n,loader:a=null}=this.props,s=function(e){const t={};for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];for(const s in e)({}).hasOwnProperty.call(e,s)&&(n.includes(s)||(t[s]=e[s]));return t}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return v()?e?h.cloneElement(e,{ref:n,...s}):[y.UNSUPPORTED,y.FAILED].includes(t)?o:a:a}};function O(e){E||(E=new S);const{loader:t}=e,o=h.useRef(!1),[n,a]=h.useState(E.isReady);return h.useEffect((()=>{o.current||(E.onReady((()=>{a(!0)})),o.current=!0)}),[]),n?(0,C.jsx)(x,{...e}):t}p(x,"defaultProps",{cacheRequests:!0,uniquifyIDs:!1})},45649:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=o(74771)},69998:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var o=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return o.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):a===t}))}return!0}},18267:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ErrorCode:()=>F,default:()=>ce,useDropzone:()=>de});var n=o(4819),a=o.n(n),s=o(15854),r=o.n(s),i=o(75971),l=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function c(e,t){var o=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var o=t.split(".").pop().toLowerCase(),n=l.get(o);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof o.path){var n=e.webkitRelativePath;Object.defineProperty(o,"path",{value:"string"===typeof t?t:"string"===typeof n&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return o}var u=[".DS_Store","Thumbs.db"];function d(e){return"object"===typeof e&&null!==e}function p(e){return g(e.target.files).map((function(e){return c(e)}))}function m(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return c(e)}))]}}))}))}function h(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var o;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e.items?(o=g(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,o]:[4,Promise.all(o.map(y))]):[3,2];case 1:return[2,f(v(n.sent()))];case 2:return[2,f(g(e.files).map((function(e){return c(e)})))]}}))}))}function f(e){return e.filter((function(e){return-1===u.indexOf(e.name)}))}function g(e){if(null===e)return[];for(var t=[],o=0;o<e.length;o++){var n=e[o];t.push(n)}return t}function y(e){if("function"!==typeof e.webkitGetAsEntry)return b(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?k(t):b(e)}function v(e){return e.reduce((function(e,t){return(0,i.ev)((0,i.ev)([],(0,i.CR)(e),!1),(0,i.CR)(Array.isArray(t)?v(t):[t]),!1)}),[])}function b(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var o=c(t);return Promise.resolve(o)}function w(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,e.isDirectory?k(e):E(e)]}))}))}function k(e){var t=e.createReader();return new Promise((function(e,o){var n=[];!function a(){var s=this;t.readEntries((function(t){return(0,i.mG)(s,void 0,void 0,(function(){var s,r,l;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(t.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return s=i.sent(),e(s),[3,4];case 3:return r=i.sent(),o(r),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(w)),n.push(l),a(),i.label=6;case 6:return[2]}}))}))}),(function(e){o(e)}))}()}))}function E(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,new Promise((function(t,o){e.file((function(o){var n=c(o,e.fullPath);t(n)}),(function(e){o(e)}))}))]}))}))}var S=o(69998);function C(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function O(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){_(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var n,a,s=[],r=!0,i=!1;try{for(o=o.call(e);!(r=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return s}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"===typeof e)return D(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var T="file-invalid-type",I="file-too-large",A="file-too-small",M="too-many-files",F={FileInvalidType:T,FileTooLarge:I,FileTooSmall:A,TooManyFiles:M},R=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:T,message:"File type must be ".concat(t)}},P=function(e){return{code:I,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},L=function(e){return{code:A,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},B={code:M,message:"Too many files"};function V(e,t){var o="application/x-moz-file"===e.type||(0,S.Z)(e,t);return[o,o?null:R(t)]}function W(e,t,o){if(z(e.size))if(z(t)&&z(o)){if(e.size>o)return[!1,P(o)];if(e.size<t)return[!1,L(t)]}else{if(z(t)&&e.size<t)return[!1,L(t)];if(z(o)&&e.size>o)return[!1,P(o)]}return[!0,null]}function z(e){return void 0!==e&&null!==e}function J(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function H(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function q(e){e.preventDefault()}function U(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return t.some((function(t){return!J(e)&&t&&t.apply(void 0,[e].concat(n)),J(e)}))}}function G(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function K(e){return/^.*\.[\w]+$/.test(e)}var Y=["children"],$=["open"],X=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Z=["refKey","onChange","onClick"];function Q(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var n,a,s=[],r=!0,i=!1;try{for(o=o.call(e);!(r=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return s}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"===typeof e)return oe(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function ne(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function ae(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(o),!0).forEach((function(t){se(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ne(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function se(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function re(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var ie=(0,n.forwardRef)((function(e,t){var o=e.children,s=de(re(e,Y)),r=s.open,i=re(s,$);return(0,n.useImperativeHandle)(t,(function(){return{open:r}}),[r]),a().createElement(n.Fragment,null,o(ae(ae({},i),{},{open:r})))}));ie.displayName="Dropzone";var le={disabled:!1,getFilesFromEvent:function(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return d(e)&&d(e.dataTransfer)?[2,h(e.dataTransfer,e.type)]:function(e){return d(e)&&d(e.target)}(e)?[2,p(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,m(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ie.defaultProps=le,ie.propTypes={children:r().func,accept:r().objectOf(r().arrayOf(r().string)),multiple:r().bool,preventDropOnDocument:r().bool,noClick:r().bool,noKeyboard:r().bool,noDrag:r().bool,noDragEventsBubbling:r().bool,minSize:r().number,maxSize:r().number,maxFiles:r().number,disabled:r().bool,getFilesFromEvent:r().func,onFileDialogCancel:r().func,onFileDialogOpen:r().func,useFsAccessApi:r().bool,autoFocus:r().bool,onDragEnter:r().func,onDragLeave:r().func,onDragOver:r().func,onDrop:r().func,onDropAccepted:r().func,onDropRejected:r().func,onError:r().func,validator:r().func};const ce=ie;var ue={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ae(ae({},le),e),o=t.accept,a=t.disabled,s=t.getFilesFromEvent,r=t.maxSize,i=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,m=t.onDrop,h=t.onDropAccepted,f=t.onDropRejected,g=t.onFileDialogCancel,y=t.onFileDialogOpen,v=t.useFsAccessApi,b=t.autoFocus,w=t.preventDropOnDocument,k=t.noClick,E=t.noKeyboard,S=t.noDrag,x=t.noDragEventsBubbling,j=t.onError,D=t.validator,T=(0,n.useMemo)((function(){return function(e){if(z(e))return Object.entries(e).reduce((function(e,t){var o=N(t,2),n=o[0],a=o[1];return[].concat(C(e),[n],C(a))}),[]).filter((function(e){return G(e)||K(e)})).join(",")}(o)}),[o]),I=(0,n.useMemo)((function(){return function(e){return z(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=N(e,2),o=t[0],n=t[1],a=!0;return G(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(n)&&n.every(K)||(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),a=!1),a})).reduce((function(e,t){var o=N(t,2),n=o[0],a=o[1];return O(O({},e),{},_({},n,a))}),{})}]:e}(o)}),[o]),A=(0,n.useMemo)((function(){return"function"===typeof y?y:me}),[y]),M=(0,n.useMemo)((function(){return"function"===typeof g?g:me}),[g]),F=(0,n.useRef)(null),R=(0,n.useRef)(null),P=ee((0,n.useReducer)(pe,ue),2),L=P[0],Y=P[1],$=L.isFocused,te=L.isFileDialogActive,oe=(0,n.useRef)("undefined"!==typeof window&&window.isSecureContext&&v&&"showOpenFilePicker"in window),ne=function(){!oe.current&&te&&setTimeout((function(){R.current&&(R.current.files.length||(Y({type:"closeDialog"}),M()))}),300)};(0,n.useEffect)((function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}}),[R,te,M,oe]);var ie=(0,n.useRef)([]),ce=function(e){F.current&&F.current.contains(e.target)||(e.preventDefault(),ie.current=[])};(0,n.useEffect)((function(){return w&&(document.addEventListener("dragover",q,!1),document.addEventListener("drop",ce,!1)),function(){w&&(document.removeEventListener("dragover",q),document.removeEventListener("drop",ce))}}),[F,w]),(0,n.useEffect)((function(){return!a&&b&&F.current&&F.current.focus(),function(){}}),[F,b,a]);var de=(0,n.useCallback)((function(e){j?j(e):console.error(e)}),[j]),he=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),_e(e),ie.current=[].concat(Q(ie.current),[e.target]),H(e)&&Promise.resolve(s(e)).then((function(t){if(!J(e)||x){var o=t.length,n=o>0&&function(e){var t=e.files,o=e.accept,n=e.minSize,a=e.maxSize,s=e.multiple,r=e.maxFiles,i=e.validator;return!(!s&&t.length>1||s&&r>=1&&t.length>r)&&t.every((function(e){var t=N(V(e,o),1)[0],s=N(W(e,n,a),1)[0],r=i?i(e):null;return t&&s&&!r}))}({files:t,accept:T,minSize:i,maxSize:r,multiple:l,maxFiles:c,validator:D});Y({isDragAccept:n,isDragReject:o>0&&!n,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}})).catch((function(e){return de(e)}))}),[s,u,de,x,T,i,r,l,c,D]),fe=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),_e(e);var t=H(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(o){}return t&&p&&p(e),!1}),[p,x]),ge=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),_e(e);var t=ie.current.filter((function(e){return F.current&&F.current.contains(e)})),o=t.indexOf(e.target);-1!==o&&t.splice(o,1),ie.current=t,t.length>0||(Y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),H(e)&&d&&d(e))}),[F,d,x]),ye=(0,n.useCallback)((function(e,t){var o=[],n=[];e.forEach((function(e){var t=ee(V(e,T),2),a=t[0],s=t[1],l=ee(W(e,i,r),2),c=l[0],u=l[1],d=D?D(e):null;if(a&&c&&!d)o.push(e);else{var p=[s,u];d&&(p=p.concat(d)),n.push({file:e,errors:p.filter((function(e){return e}))})}})),(!l&&o.length>1||l&&c>=1&&o.length>c)&&(o.forEach((function(e){n.push({file:e,errors:[B]})})),o.splice(0)),Y({acceptedFiles:o,fileRejections:n,type:"setFiles"}),m&&m(o,n,t),n.length>0&&f&&f(n,t),o.length>0&&h&&h(o,t)}),[Y,l,T,i,r,c,m,h,f,D]),ve=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),_e(e),ie.current=[],H(e)&&Promise.resolve(s(e)).then((function(t){J(e)&&!x||ye(t,e)})).catch((function(e){return de(e)})),Y({type:"reset"})}),[s,ye,de,x]),be=(0,n.useCallback)((function(){if(oe.current){Y({type:"openDialog"}),A();var e={multiple:l,types:I};window.showOpenFilePicker(e).then((function(e){return s(e)})).then((function(e){ye(e,null),Y({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(M(e),Y({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?de(e):(oe.current=!1,R.current?(R.current.value=null,R.current.click()):de(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else R.current&&(Y({type:"openDialog"}),A(),R.current.value=null,R.current.click())}),[Y,A,M,v,ye,de,I,l]),we=(0,n.useCallback)((function(e){F.current&&F.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),be()))}),[F,be]),ke=(0,n.useCallback)((function(){Y({type:"focus"})}),[]),Ee=(0,n.useCallback)((function(){Y({type:"blur"})}),[]),Se=(0,n.useCallback)((function(){k||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?be():setTimeout(be,0))}),[k,be]),Ce=function(e){return a?null:e},xe=function(e){return E?null:Ce(e)},Oe=function(e){return S?null:Ce(e)},_e=function(e){x&&e.stopPropagation()},Ne=(0,n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,o=void 0===t?"ref":t,n=e.role,s=e.onKeyDown,r=e.onFocus,i=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,p=e.onDrop,m=re(e,X);return ae(ae(se({onKeyDown:xe(U(s,we)),onFocus:xe(U(r,ke)),onBlur:xe(U(i,Ee)),onClick:Ce(U(l,Se)),onDragEnter:Oe(U(c,he)),onDragOver:Oe(U(u,fe)),onDragLeave:Oe(U(d,ge)),onDrop:Oe(U(p,ve)),role:"string"===typeof n&&""!==n?n:"presentation"},o,F),a||E?{}:{tabIndex:0}),m)}}),[F,we,ke,Ee,Se,he,fe,ge,ve,E,S,a]),je=(0,n.useCallback)((function(e){e.stopPropagation()}),[]),De=(0,n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,o=void 0===t?"ref":t,n=e.onChange,a=e.onClick,s=re(e,Z);return ae(ae({},se({accept:T,multiple:l,type:"file",style:{display:"none"},onChange:Ce(U(n,ve)),onClick:Ce(U(a,je)),tabIndex:-1},o,R)),s)}}),[R,o,l,ve,a]);return ae(ae({},L),{},{isFocused:$&&!a,getRootProps:Ne,getInputProps:De,rootRef:F,inputRef:R,open:Ce(be)})}function pe(e,t){switch(t.type){case"focus":return ae(ae({},e),{},{isFocused:!0});case"blur":return ae(ae({},e),{},{isFocused:!1});case"openDialog":return ae(ae({},ue),{},{isFileDialogActive:!0});case"closeDialog":return ae(ae({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ae(ae({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ae(ae({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ae({},ue);default:return e}}function me(){}},23015:(e,t,o)=>{"use strict";o.r(t),o.d(t,{convertFromNode:()=>d,convertFromString:()=>p,default:()=>m});var n=o(4819),a=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,a,s=o.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)r.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return r},s=function(e){return e.split(/ ?; ?/).reduce((function(e,t){var o=a(t.split(/ ?: ?/),2),n=o[0],s=o[1];return n&&s&&(e[n.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(s))?s:Number(s)),e}),{})};var r=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],i={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},l=function(){return l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,a,s=o.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)r.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return r},u=function(e,t,o){if(o||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};function d(e,t){var o;if(void 0===t&&(t={}),!e||!(e instanceof Node))return null;var a,p=t.actions,m=void 0===p?[]:p,h=t.index,f=void 0===h?0:h,g=t.level,y=void 0===g?0:g,v=t.randomKey,b=e,w="".concat(y,"-").concat(f),k=[];if(v&&0===y&&(w="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o="",n=e;n>0;--n)o+=t[Math.round(61*Math.random())];return o}(),"-").concat(w)),Array.isArray(m)&&m.forEach((function(t){t.condition(b,w,y)&&("function"===typeof t.pre&&((b=t.pre(b,w,y))instanceof Node||(b=e)),"function"===typeof t.post&&k.push(t.post(b,w,y)))})),k.length)return k;switch(b.nodeType){case 1:return n.createElement((a=b.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(a)?a:a.toLowerCase()),function(e,t){var o={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(o.className=n),u([],c(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":o[e.name]=s(e.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":o[i[e.name]||e.name]=!0;break;default:o[i[e.name]||e.name]=e.value}}))}return o}(b,w),function(e,t,o){var n=u([],c(e),!1).map((function(e,n){return d(e,l(l({},o),{index:n,level:t+1}))})).filter(Boolean);return n.length?n:null}(b.childNodes,y,t));case 3:var E=(null===(o=b.nodeValue)||void 0===o?void 0:o.toString())||"";if(/^\s+$/.test(E)&&!/[\u00A0\u202F]/.test(E))return null;if(!b.parentNode)return E;var S=b.parentNode.nodeName.toLowerCase();return r.includes(S)?(/\S/.test(E)&&console.warn("A textNode is not allowed inside '".concat(S,"'. Your text \"").concat(E,'" will be ignored')),null):E;default:return null}}function p(e,t){if(void 0===t&&(t={}),!e||"string"!==typeof e)return null;var o=t.nodeOnly,n=void 0!==o&&o,a=t.selector,s=void 0===a?"body > *":a,r=t.type,i=void 0===r?"text/html":r;try{var l=(new DOMParser).parseFromString(e,i).querySelector(s);if(!(l instanceof Node))throw new TypeError("Error parsing input");return n?l:d(l,t)}catch(c){0}return null}function m(e,t){return void 0===t&&(t={}),"string"===typeof e?p(e,t):e instanceof Node?d(e,t):null}},56355:(e,t,o)=>{"use strict";o.d(t,{$nz:()=>d,Gq2:()=>l,MDs:()=>u,W95:()=>a,Xur:()=>i,gHv:()=>c,qyc:()=>s,u$v:()=>r});var n=o(89983);function a(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function s(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function r(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(e)}function i(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"}}]})(e)}function l(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}}]})(e)}function c(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M243.2 189.9V258c26.1 5.9 49.3 15.6 73.6 22.3v-68.2c-26-5.8-49.4-15.5-73.6-22.2zm223.3-123c-34.3 15.9-76.5 31.9-117 31.9C296 98.8 251.7 64 184.3 64c-25 0-47.3 4.4-68 12 2.8-7.3 4.1-15.2 3.6-23.6C118.1 24 94.8 1.2 66.3 0 34.3-1.3 8 24.3 8 56c0 19 9.5 35.8 24 45.9V488c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24v-94.4c28.3-12.1 63.6-22.1 114.4-22.1 53.6 0 97.8 34.8 165.2 34.8 48.2 0 86.7-16.3 122.5-40.9 8.7-6 13.8-15.8 13.8-26.4V95.9c.1-23.3-24.2-38.8-45.4-29zM169.6 325.5c-25.8 2.7-50 8.2-73.6 16.6v-70.5c26.2-9.3 47.5-15 73.6-17.4zM464 191c-23.6 9.8-46.3 19.5-73.6 23.9V286c24.8-3.4 51.4-11.8 73.6-26v70.5c-25.1 16.1-48.5 24.7-73.6 27.1V286c-27 3.7-47.9 1.5-73.6-5.6v67.4c-23.9-7.4-47.3-16.7-73.6-21.3V258c-19.7-4.4-40.8-6.8-73.6-3.8v-70c-22.4 3.1-44.6 10.2-73.6 20.9v-70.5c33.2-12.2 50.1-19.8 73.6-22v71.6c27-3.7 48.4-1.3 73.6 5.7v-67.4c23.7 7.4 47.2 16.7 73.6 21.3v68.4c23.7 5.3 47.6 6.9 73.6 2.7V143c27-4.8 52.3-13.6 73.6-22.5z"}}]})(e)}function u(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}}]})(e)}function d(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(e)}},89983:(e,t,o)=>{"use strict";o.d(t,{w_:()=>u});var n=o(4819),a=o.n(n),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=a().createContext&&a().createContext(s),i=function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},l=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};function c(e){return e&&e.map((function(e,t){return a().createElement(e.tag,i({key:t},e.attr),c(e.child))}))}function u(e){return function(t){return a().createElement(d,i({attr:i({},e.attr)},t),c(e.child))}}function d(e){var t=function(t){var o,n=e.attr,s=e.size,r=e.title,c=l(e,["attr","size","title"]),u=s||t.size||"1em";return t.className&&(o=t.className),e.className&&(o=(o?o+" ":"")+e.className),a().createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:o,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&a().createElement("title",null,r),e.children)};return void 0!==r?a().createElement(r.Consumer,null,(function(e){return t(e)})):t(s)}},73897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n},e.exports.__esModule=!0,e.exports.default=e.exports},63405:(e,t,o)=>{var n=o(73897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:e=>{function t(e,t,o,n,a,s,r){try{var i=e[s](r),l=i.value}catch(c){return void o(c)}i.done?t(l):Promise.resolve(l).then(n,a)}e.exports=function(e){return function(){var o=this,n=arguments;return new Promise((function(a,s){var r=e.apply(o,n);function i(e){t(r,a,s,i,l,"next",e)}function l(e){t(r,a,s,i,l,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},89728:(e,t,o)=>{var n=o(64062);function a(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}e.exports=function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},38416:(e,t,o)=>{var n=o(64062);e.exports=function(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},e.exports.__esModule=!0,e.exports.default=e.exports},73808:e=>{function t(o){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:(e,t,o)=>{var n=o(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},79498:e=>{e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},42281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},94993:(e,t,o)=>{var n=o(18698).default,a=o(66115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:(e,t,o)=>{var n=o(18698).default;function a(){"use strict";e.exports=a=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var t,o={},s=Object.prototype,r=s.hasOwnProperty,i=Object.defineProperty||function(e,t,o){e[t]=o.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,o){return e[t]=o}}function m(e,t,o,n){var a=t&&t.prototype instanceof w?t:w,s=Object.create(a.prototype),r=new A(n||[]);return i(s,"_invoke",{value:j(e,o,r)}),s}function h(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}o.wrap=m;var f="suspendedStart",g="suspendedYield",y="executing",v="completed",b={};function w(){}function k(){}function E(){}var S={};p(S,c,(function(){return this}));var C=Object.getPrototypeOf,x=C&&C(C(M([])));x&&x!==s&&r.call(x,c)&&(S=x);var O=E.prototype=w.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function o(a,s,i,l){var c=h(e[a],e,s);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,i,l)}),(function(e){o("throw",e,i,l)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,a){o(e,n,t,a)}))}return a=a?a.then(s,s):s()}})}function j(e,o,n){var a=f;return function(s,r){if(a===y)throw new Error("Generator is already running");if(a===v){if("throw"===s)throw r;return{value:t,done:!0}}for(n.method=s,n.arg=r;;){var i=n.delegate;if(i){var l=D(i,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var c=h(e,o,n);if("normal"===c.type){if(a=n.done?v:g,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=v,n.method="throw",n.arg=c.arg)}}}function D(e,o){var n=o.method,a=e.iterator[n];if(a===t)return o.delegate=null,"throw"===n&&e.iterator.return&&(o.method="return",o.arg=t,D(e,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var s=h(a,e.iterator,o.arg);if("throw"===s.type)return o.method="throw",o.arg=s.arg,o.delegate=null,b;var r=s.arg;return r?r.done?(o[e.resultName]=r.value,o.next=e.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,b):r:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var o=e[c];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function o(){for(;++a<e.length;)if(r.call(e,a))return o.value=e[a],o.done=!1,o;return o.value=t,o.done=!0,o};return s.next=s}}throw new TypeError(n(e)+" is not iterable")}return k.prototype=E,i(O,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:k,configurable:!0}),k.displayName=p(E,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,p(e,d,"GeneratorFunction")),e.prototype=Object.create(O),e},o.awrap=function(e){return{__await:e}},_(N.prototype),p(N.prototype,u,(function(){return this})),o.AsyncIterator=N,o.async=function(e,t,n,a,s){void 0===s&&(s=Promise);var r=new N(m(e,t,n,a),s);return o.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},_(O),p(O,d,"Generator"),p(O,c,(function(){return this})),p(O,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},o.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var o=this;function n(n,a){return i.type="throw",i.arg=e,o.next=n,a&&(o.method="next",o.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),I(o),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var a=n.arg;I(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,o,n){return this.delegate={iterator:M(e),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=t),b}},o}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6015:e=>{function t(o,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(o,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},861:(e,t,o)=>{var n=o(63405),a=o(79498),s=o(86116),r=o(42281);e.exports=function(e){return n(e)||a(e)||s(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},95036:(e,t,o)=>{var n=o(18698).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:(e,t,o)=>{var n=o(18698).default,a=o(95036);e.exports=function(e){var t=a(e,"string");return"symbol"==n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function t(o){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:(e,t,o)=>{var n=o(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},64687:(e,t,o)=>{var n=o(17061)();e.exports=n;try{regeneratorRuntime=n}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},22392:(e,t,o)=>{"use strict";var n,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var o in t)a(e,o,{get:t[o],enumerable:!0})})(l,{AdminConnection:()=>d}),e.exports=(n=l,((e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of r(t))i.call(e,l)||l===o||a(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e})(a({},"__esModule",{value:!0}),n));var c=o(44642),u=o(18658);class d extends c.Connection{constructor(e){super(e)}request(e){return super.request({requireAdmin:!0,...e})}getCertificates(e){return this.request({cacheKey:"cert",forceUpdate:e,commandTimeout:!1,executor:async e=>{var t;const o=await this.getObject("system.certificates");(null===(t=null===o||void 0===o?void 0:o.native)||void 0===t?void 0:t.certificates)?e(Object.entries(o.native.certificates).map((e=>{let[t,o]=e;return function(e,t){if(!t)return;let o;if(t.length<700&&(-1!==t.indexOf("/")||-1!==t.indexOf("\\")))if(e.toLowerCase().includes("private"))o="private";else if(t.toLowerCase().includes("private"))o="private";else if(e.toLowerCase().includes("public"))o="public";else if(t.toLowerCase().includes("public"))o="public";else if(e.toLowerCase().includes("chain"))o="chained";else{if(!t.toLowerCase().includes("chain"))return;o="chained"}else o="-----BEGIN RSA PRIVATE KEY"===t.substring(0,26)||"-----BEGIN PRIVATE KEY"===t.substring(0,22)?"private":"public","public"===o&&t.split("-----END CERTIFICATE-----").filter((e=>e.replace(/\r\n|\r|\n/,"").trim())).length>1&&(o="chained");return{name:e,type:o}}(t,o)})).filter((e=>!!e))):e([])}})}getLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.request({commandTimeout:!1,executor:o=>{this._socket.emit("sendToHost",e,"getLogs",t||200,(e=>{o(e)}))}})}getLogsFiles(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("readLogs",e,((e,n)=>{e&&o(e),t(n)}))}})}delLogs(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("sendToHost",e,"delLogs",null,(e=>{e&&o(e),t()}))}})}deleteFile(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFile",e,t,(e=>{e&&n(e),o()}))}})}deleteFolder(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFolder",e,t,(e=>{e&&n(e),o()}))}})}rename(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("rename",e,t,o,(e=>{e&&a(e),n()}))}})}renameFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("renameFile",e,t,o,(e=>{e&&a(e),n()}))}})}getHosts(e){return this.request({cacheKey:"hosts",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},((o,n)=>{o?t(o):e((0,u.getObjectViewResultToArray)(n))}))}})}getUsers(e){return this.request({cacheKey:"users",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},((o,n)=>{o?t(o):e((0,u.getObjectViewResultToArray)(n))}))}})}renameGroup(e,t,o){return this.request({commandTimeout:!1,executor:async n=>{var a;const s=await this.getGroups(!0),r=s.filter((t=>t._id.startsWith("".concat(e,"."))));for(const o of r){const n=o._id,a=t+o._id.substring(e.length);o._id=a,await this.setObject(a,o),await this.delObject(n)}const i=s.find((t=>t._id===e));if(i){const e=i._id;i._id=t,void 0!==o&&(null!==(a=i.common)&&void 0!==a||(i.common={}),i.common.name=o),await this.setObject(t,i),await this.delObject(e)}n()}})}getHostInfo(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"hostInfo_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getHostInfo",null,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "getHostInfo"'):e?t(e):o('Cannot read "getHostInfo"'))}))}})}getHostInfoShort(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"hostInfoShort_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getHostInfoShort",null,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "getHostInfoShort"'):e?t(e):o('Cannot read "getHostInfoShort"'))}))}})}getRepository(e,t,o,n){return this.request({cacheKey:"repository_".concat(e),forceUpdate:o,commandTimeout:n,executor:(o,n,a)=>{this._socket.emit("sendToHost",e,"getRepository",t,(e=>{a.elapsed||(a.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?n('May not read "getRepository"'):e?o(e):n('Cannot read "getRepository"'))}))}})}getInstalled(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"installed_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getInstalled",null,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "getInstalled"'):e?t(e):o('Cannot read "getInstalled"'))}))}})}cmdExec(e,t,o,n){return this.request({commandTimeout:n,executor:(n,a,s)=>{e=(0,u.normalizeHostId)(e),this._socket.emit("cmdExec",e,o,t,(e=>{s.elapsed||(s.clearTimeout(),e&&a(e),n())}))}})}readBaseSettings(e){return e=(0,u.objectIdToHostname)(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"readBaseSettings",null,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "BaseSettings"'):e?t(e):o('Cannot read "BaseSettings"'))}))}})}writeBaseSettings(e,t){return e=(0,u.objectIdToHostname)(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(o,n,a)=>{this._socket.emit("sendToHost",e,"writeBaseSettings",t,(e=>{a.elapsed||(a.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?n('May not write "BaseSettings"'):e?o(e):n('Cannot write "BaseSettings"'))}))}})}restartController(e){return e=(0,u.objectIdToHostname)(e),this.request({executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"restartController",null,(e=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(!0))}))}})}getDiagData(e,t){return e=(0,u.objectIdToHostname)(e),this.request({executor:(o,n,a)=>{this._socket.emit("sendToHost",e,"getDiagData",t,(e=>{a.elapsed||(a.clearTimeout(),o(e))}))}})}changePassword(e,t){return this.request({executor:(o,n,a)=>{this._socket.emit("changePassword",e,t,(e=>{a.elapsed||(a.clearTimeout(),e&&n(e),o())}))}})}getIpAddresses(e,t){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"IPs_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{var o;const n=await this.getObject(e);t(null!==(o=null===n||void 0===n?void 0:n.common.address)&&void 0!==o?o:[])}})}getHostByIp(e,t){return e=(0,u.objectIdToHostname)(e),this.request({cacheKey:"rIPs_".concat(e),forceUpdate:t,executor:(t,o,n)=>{this._socket.emit("getHostByIp",e,((e,o)=>{if(n.elapsed)return;n.clearTimeout();const{IPs4:a,IPs6:s}=function(e){var t,o;const n=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],a=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(null===(o=null===(t=e.native)||void 0===t?void 0:t.hardware)||void 0===o?void 0:o.networkInterfaces)for(const[s,r]of Object.entries(e.native.hardware.networkInterfaces))if(r)for(const e of r)"IPv6"!==e.family?n.push({name:"[".concat(e.family,"] ").concat(e.address," - ").concat(s),address:e.address,family:"ipv4"}):a.push({name:"[".concat(e.family,"] ").concat(e.address," - ").concat(s),address:e.address,family:"ipv6"});return{IPs4:n,IPs6:a}}(o);t([...a,...s])}))}})}encrypt(e){return this.request({executor:(t,o,n)=>{this._socket.emit("encrypt",e,((e,a)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(a))}))}})}decrypt(e){return this.request({executor:(t,o,n)=>{this._socket.emit("decrypt",e,((e,a)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(a))}))}})}chmodFile(e,t,o){return this.request({executor:(n,a,s)=>{this._socket.emit("chmodFile",e,t,o,((e,t)=>{s.elapsed||(s.clearTimeout(),e&&a(e),n(t))}))}})}chownFile(e,t,o){return this.request({executor:(n,a,s)=>{this._socket.emit("chownFile",e,t,o,((e,t)=>{s.elapsed||(s.clearTimeout(),e&&a(e),n(t))}))}})}getNotifications(e,t){return this.request({executor:(o,n,a)=>{this._socket.emit("sendToHost",e,"getNotifications",{category:t},(e=>{a.elapsed||(a.clearTimeout(),o(e))}))}})}clearNotifications(e,t){return this.request({executor:(o,n,a)=>{this._socket.emit("sendToHost",e,"clearNotifications",{category:t},(e=>{a.elapsed||(a.clearTimeout(),o(e))}))}})}getIsEasyModeStrict(){return this.request({executor:(e,t,o)=>{this._socket.emit("getIsEasyModeStrict",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(!!a))}))}})}getEasyMode(){return this.request({executor:(e,t,o)=>{this._socket.emit("getEasyMode",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}getRatings(e){return this.request({executor:(t,o,n)=>{this._socket.emit("getRatings",!!e,((e,a)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(a))}))}})}getCurrentSession(e){const t=new AbortController;return this.request({commandTimeout:e||5e3,onTimeout:()=>{t.abort()},executor:async(e,o,n)=>{try{const o=await fetch("./session",{signal:t.signal});if(n.elapsed)return;n.clearTimeout(),e(o.json())}catch(a){o("getCurrentSession: ".concat(a))}}})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(e,t,o)=>{this._socket.emit("getCurrentInstance",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}getAdapterInstances(e,t){return"boolean"===typeof e&&(t=e,e=""),e=null!==e&&void 0!==e?e:"",this.request({cacheKey:"instances_".concat(e),forceUpdate:t,executor:(t,o,n)=>{this._socket.emit("getAdapterInstances",e,((e,a)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(a))}))}})}getAdapters(e,t){return"boolean"===typeof e&&(t=e,e=""),e=null!==e&&void 0!==e?e:"",this.request({cacheKey:"adapter_".concat(e),forceUpdate:t,executor:(t,o,n)=>{this._socket.emit("getAdapters",e,((e,a)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(a))}))}})}getCompactAdapters(e){return this.request({cacheKey:"compactAdapters",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactAdapters",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}getAdaptersResetCache(e){e=null!==e&&void 0!==e?e:"",this.resetCache("adapter_".concat(e)),this.resetCache("compactAdapters")}getCompactInstances(e){return this.request({cacheKey:"compactInstances",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactInstances",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}getAdapterInstancesResetCache(e){e=null!==e&&void 0!==e?e:"",this.resetCache("instances_".concat(e)),this.resetCache("compactInstances")}getCompactInstalled(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"installedCompact_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("getCompactInstalled",e,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "getCompactInstalled"'):e?t(e):o('Cannot read "getCompactInstalled"'))}))}})}getInstalledResetCache(e){e?(this.resetCache("installedCompact_".concat(e)),this.resetCache("installed_".concat(e))):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"repositoryCompact_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("getCompactRepository",e,(e=>{n.elapsed||(n.clearTimeout(),e===c.ERRORS.PERMISSION_ERROR?o('May not read "getCompactRepository"'):e?t(e):o('Cannot read "getCompactRepository"'))}))}})}getRepositoryResetCache(e){e?(this.resetCache("repositoryCompact_".concat(e)),this.resetCache("repository_".concat(e))):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(e){return this.request({cacheKey:"hostsCompact",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactHosts",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}getCompactSystemRepositories(e){return this.request({cacheKey:"repositoriesCompact",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactSystemRepositories",((n,a)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(a))}))}})}}},44642:(e,t,o)=>{"use strict";var n,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var o in t)a(e,o,{get:t[o],enumerable:!0})})(l,{Connection:()=>v,ERRORS:()=>d,NOT_CONNECTED:()=>g,PERMISSION_ERROR:()=>f,PROGRESS:()=>c}),e.exports=(n=l,((e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of r(t))i.call(e,l)||l===o||a(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e})(a({},"__esModule",{value:!0}),n));var c,u,d,p,m=o(95202),h=o(18658);(u=c||(c={}))[u.CONNECTING=0]="CONNECTING",u[u.CONNECTED=1]="CONNECTED",u[u.OBJECTS_LOADED=2]="OBJECTS_LOADED",u[u.READY=3]="READY",(p=d||(d={})).PERMISSION_ERROR="permissionError",p.NOT_CONNECTED="notConnectedError",p.TIMEOUT="timeout",p.NOT_ADMIN="Allowed only in admin",p.NOT_SUPPORTED="Not supported";const f=d.PERMISSION_ERROR,g=d.NOT_CONNECTED,y=["material","echarts","vis"];class v{constructor(e){this.ignoreState="",this.connected=!1,this.subscribed=!1,this.firstConnect=!0,this.waitForRestart=!1,this.loaded=!1,this.simStates={},this.statesSubscribes={},this.filesSubscribes={},this.objectsSubscribes={},this.objects={},this.states={},this.acl=null,this.isSecure=!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._waitForFirstConnectionPromise=(0,m.createDeferredPromise)(),this._instanceSubscriptions={},this._promises={},this.systemLang="en",this.props=this.applyDefaultProps(e),this.waitForSocketLib().then((()=>this.startSocket())).catch((e=>{alert("Socket connection could not be initialized: ".concat(e))}))}applyDefaultProps(e){var t,o,n,a;return{...e,protocol:e.protocol||window.location.protocol,host:e.host||window.location.hostname,port:e.port||("3000"===window.location.port?8081:window.location.port),ioTimeout:Math.max(e.ioTimeout||2e4,2e4),cmdTimeout:Math.max(e.cmdTimeout||5e3,5e3),admin5only:e.admin5only||!1,autoSubscribes:null!==(t=e.autoSubscribes)&&void 0!==t?t:[],autoSubscribeLog:null!==(o=e.autoSubscribeLog)&&void 0!==o&&o,doNotLoadACL:null===(n=e.doNotLoadACL)||void 0===n||n,doNotLoadAllObjects:null===(a=e.doNotLoadAllObjects)||void 0===a||a}}onError(e){var t;(null!==(t=this.props.onError)&&void 0!==t?t:console.error)(e)}get systemConfig(){return this._systemConfig}static isWeb(){return void 0!==window.socketUrl}waitForSocketLib(){return this._waitForSocketPromise||(this._waitForSocketPromise=new Promise((async(e,t)=>{if("undefined"===typeof window.io)if("function"===typeof window.registerSocketOnLoad)window.registerSocketOnLoad((()=>e()));else{for(let t=1;t<=30;t++){if(window.io)return e();await(0,h.wait)(100)}t(new Error("Socket library could not be loaded!"))}else e()}))),this._waitForSocketPromise}async startSocket(){if(this._socket)return;let e=this.props.host,t=this.props.port,o=this.props.protocol.replace(":",""),n=window.location.pathname;if("iobroker.net"===window.location.hostname||"iobroker.pro"===window.location.hostname)n="";else{if(window.socketUrl){const n=new URL(window.socketUrl);e=n.hostname,t=n.port,o=n.protocol.replace(":","")}const a=n.lastIndexOf("/");if(-1!==a&&(n=n.substring(0,a+1)),v.isWeb()){const e=n.split("/");e.length>2&&(e.pop(),e.pop(),y.includes(e[e.length-1])&&e.pop(),n=e.join("/"),n.endsWith("/")||(n+="/"))}}const a=t?"".concat(o,"://").concat(e,":").concat(t):"".concat(o,"://").concat(e);this._socket=window.io.connect(a,{path:n.endsWith("/")?"".concat(n,"socket.io"):"".concat(n,"/socket.io"),query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",(e=>{!0!==e?(this.connected=!0,setTimeout((()=>this.getVersion().then((e=>{const[t,o,n]=e.version.split(".");1e4*parseInt(t,10)+100*parseInt(o,10)+parseInt(n,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",((e,t)=>this.onPreConnect(e,t)))})).catch((e=>this.onError({message:e.toString(),operation:"getVersion"})))),500)):this._socket.emit("authenticate",((e,t)=>{this.onPreConnect(e,t)}))})),this._socket.on("reconnect",(()=>{var e,t;null===(t=(e=this.props).onProgress)||void 0===t||t.call(e,c.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach((e=>e(!0))))})),this._socket.on("disconnect",(()=>{var e,t;this.connected=!1,this.subscribed=!1,null===(t=(e=this.props).onProgress)||void 0===t||t.call(e,c.CONNECTING),this.onConnectionHandlers.forEach((e=>e(!1)))})),this._socket.on("reauthenticate",(()=>this.authenticate())),this._socket.on("log",(e=>{var t,o;null===(o=(t=this.props).onLog)||void 0===o||o.call(t,e),this.onLogHandlers.forEach((t=>t(e)))})),this._socket.on("error",(e=>{let t;void 0==e?t="":"function"===typeof e.toString?t=e.toString():(t=JSON.stringify(e),console.error("Received strange error: ".concat(t))),t.includes("User not authorized")?this.authenticate():t.includes("websocket error")?(console.error("Socket Error => reload: ".concat(e)),window.location.reload()):console.error("Socket Error: ".concat(e))})),this._socket.on("connect_error",(e=>console.error("Connect error: ".concat(e)))),this._socket.on("permissionError",(e=>this.onError({message:"no permission",operation:e.operation,type:e.type,id:e.id||""}))),this._socket.on("objectChange",((e,t)=>{setTimeout((()=>this.objectChange(e,t)),0)})),this._socket.on("stateChange",((e,t)=>{setTimeout((()=>this.stateChange(e,t)),0)})),this._socket.on("im",((e,t,o)=>{setTimeout((()=>this.instanceMessage(e,t,o)),0)})),this._socket.on("fileChange",((e,t,o)=>{setTimeout((()=>this.fileChange(e,t,o)),0)})),this._socket.on("cmdStdout",((e,t)=>{var o;null===(o=this.onCmdStdoutHandler)||void 0===o||o.call(this,e,t)})),this._socket.on("cmdStderr",((e,t)=>{var o;null===(o=this.onCmdStderrHandler)||void 0===o||o.call(this,e,t)})),this._socket.on("cmdExit",((e,t)=>{var o;null===(o=this.onCmdExitHandler)||void 0===o||o.call(this,e,t)}))}onPreConnect(e,t){var o,n;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=t,this.waitForRestart?window.location.reload():(this.firstConnect?this.loadData():null===(n=(o=this.props).onProgress)||void 0===n||n.call(o,c.READY),this._subscribe(!0),this.onConnectionHandlers.forEach((e=>e(!0)))),this._waitForFirstConnectionPromise.resolve()}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}async getUserPermissions(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getUserPermissions",((o,n)=>{o?t(o):e(n)}))}})}async loadData(){if(this.loaded)return;for(let e=1;e<=10;e++){if(this.doLoadData(),this.loaded)return;await(0,h.wait)(1e3)}}async doLoadData(){var e,t,o,n,a,s,r,i,l;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=await this.getUserPermissions()}catch(u){return void this.onError("Cannot read user permissions: ".concat(u))}try{!this.props.admin5only||v.isWeb()||window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix?this._systemConfig=await this.getSystemConfig():this._systemConfig=await this.getCompactSystemConfig()}catch(u){return void this.onError("Cannot read system config: ".concat(u))}this.systemLang=null===(e=this._systemConfig.common)||void 0===e?void 0:e.language,this.systemLang||(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang),null===(o=(t=this.props).onLanguage)||void 0===o||o.call(t,this.systemLang),this.loaded=!0,null===(a=(n=this.props).onProgress)||void 0===a||a.call(n,c.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=await this.getObjects(),null===(r=(s=this.props).onProgress)||void 0===r||r.call(s,c.READY),null===(l=(i=this.props).onReady)||void 0===l||l.call(i,this.objects)}}authenticate(){window.location.search.includes("&href=")?window.location.href="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname).concat(window.location.search).concat(window.location.hash):window.location.href="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?login&href=").concat(window.location.search).concat(window.location.hash)}async subscribeState(){let e,t,o;for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];if(3===a.length?[e,t,o]=a:([e,o]=a,t=!1),"function"!==typeof o)throw new Error("The state change handler must be a function!");if(this.statesSubscribes[e]?!this.statesSubscribes[e].cbs.includes(o)&&this.statesSubscribes[e].cbs.push(o):(this.statesSubscribes[e]={reg:new RegExp((0,h.pattern2RegEx)(e)),cbs:[o]},this.connected&&e!==this.ignoreState&&this._socket.emit("subscribe",e)),this.connected)if(t){let t;try{t=await this.getBinaryState(e)}catch(r){console.error('Cannot getBinaryState "'.concat(e,'": ').concat(JSON.stringify(r)))}void 0!=t&&o(e,t)}else if(e.includes("*")){let t;try{t=await this.getForeignStates(e)}catch(r){return void console.error('Cannot getForeignStates "'.concat(e,'": ').concat(JSON.stringify(r)))}if(t)for(const[e,n]of Object.entries(t))o(e,n)}else try{o(e,await this.getState(e))}catch(r){return void console.error('Cannot getState "'.concat(e,'": ').concat(r.message))}}async subscribeStateAsync(e,t){return this.subscribeState(e,t)}unsubscribeState(e,t){if(this.statesSubscribes[e]){const o=this.statesSubscribes[e];if(t){const e=o.cbs.indexOf(t);-1!==e&&o.cbs.splice(e,1)}else o.cbs=[];o.cbs&&o.cbs.length||(delete this.statesSubscribes[e],this.connected&&e!==this.ignoreState&&this._socket.emit("unsubscribe",e))}}subscribeObject(e,t){return this.objectsSubscribes[e]?!this.objectsSubscribes[e].cbs.includes(t)&&this.objectsSubscribes[e].cbs.push(t):(this.objectsSubscribes[e]={reg:new RegExp((0,h.pattern2RegEx)(e)),cbs:[t]},this.connected&&this._socket.emit("subscribeObjects",e)),Promise.resolve()}unsubscribeObject(e,t){if(this.objectsSubscribes[e]){const o=this.objectsSubscribes[e];if(t){const e=o.cbs.indexOf(t);-1!==e&&o.cbs.splice(e,1)}else o.cbs=[];!this.connected||o.cbs&&o.cbs.length||(delete this.objectsSubscribes[e],this.connected&&this._socket.emit("unsubscribeObjects",e))}return Promise.resolve()}objectChange(e,t){var o,n;let a;this.objects[e]&&(a={_id:e,type:this.objects[e].type});let s=!1;t?(t._rev&&this.objects[e]&&(this.objects[e]._rev=t._rev),this.objects[e]&&JSON.stringify(this.objects[e])===JSON.stringify(t)||(this.objects[e]=t,s=!0)):this.objects[e]&&(delete this.objects[e],s=!0);for(const[r,i]of Object.entries(this.objectsSubscribes))(r===e||i.reg.test(e))&&i.cbs.forEach((o=>{try{o(e,t,a)}catch(n){console.error("Error by callback of objectChange: ".concat(n))}}));s&&(null===(n=(o=this.props).onObjectChange)||void 0===n||n.call(o,e,t))}stateChange(e,t){for(const n of Object.values(this.statesSubscribes))if(n.reg.test(e))for(const a of n.cbs)try{a(e,null!==t&&void 0!==t?t:null)}catch(o){console.error("Error by callback of stateChanged: ".concat(o))}}instanceMessage(e,t,o){var n;null===(n=this._instanceSubscriptions[t])||void 0===n||n.forEach((n=>{n.messageType===e&&n.callback(o,t,e)}))}fileChange(e,t,o){for(const a of Object.values(this.filesSubscribes))if(a.regId.test(e)&&a.regFilePattern.test(t))for(const s of a.cbs)try{s(e,t,o)}catch(n){console.error("Error by callback of fileChange: ".concat(n))}}async subscribeFiles(e,t,o){if("function"!==typeof o)throw new Error("The state change handler must be a function!");const n="".concat(e,"$%$").concat(t);this.filesSubscribes[n]?!this.filesSubscribes[n].cbs.includes(o)&&this.filesSubscribes[n].cbs.push(o):(this.filesSubscribes[n]={regId:new RegExp((0,h.pattern2RegEx)(e)),regFilePattern:new RegExp((0,h.pattern2RegEx)(t)),cbs:[o]},this.connected&&this._socket.emit("subscribeFiles",e,t))}unsubscribeFiles(e,t,o){const n="".concat(e,"$%$").concat(t);if(this.filesSubscribes[n]){const a=this.filesSubscribes[n];if(o){const e=a.cbs.indexOf(o);-1!==e&&a.cbs.splice(e,1)}else a.cbs=[];a.cbs&&a.cbs.length||(delete this.filesSubscribes[n],this.connected&&this._socket.emit("unsubscribeFiles",e,t))}}async request(e){let{cacheKey:t,forceUpdate:o,commandTimeout:n,onTimeout:a,requireAdmin:s,requireFeatures:r,executor:i}=e;if(s&&v.isWeb())return Promise.reject(d.NOT_ADMIN);if(t&&!o&&t in this._promises)return this._promises[t];if(!this.connected)return Promise.reject(d.NOT_CONNECTED);if(null===r||void 0===r?void 0:r.length)for(const c of r)if(!await this.checkFeatureSupported(c))throw d.NOT_SUPPORTED;const l=new Promise((async(e,t)=>{const o={elapsed:!1,clearTimeout:()=>{}};let s;!1!==n&&(s=setTimeout((()=>{o.elapsed=!0,null===a||void 0===a||a(),t(d.TIMEOUT)}),null!==n&&void 0!==n?n:this.props.cmdTimeout),o.clearTimeout=()=>{clearTimeout(s)});try{await i(e,t,o)}catch(r){t(r)}}));return t&&(this._promises[t]=l),l}resetCache(e,t){t?Object.keys(this._promises).filter((t=>t.startsWith(e))).forEach((e=>{delete this._promises[e]})):delete this._promises[e]}getStates(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getStates",e,((e,n)=>{this.states=null!==n&&void 0!==n?n:{},e?o(e):t(this.states)}))}})}getState(e){return this.request({commandTimeout:!1,executor:(t,o)=>{e&&e===this.ignoreState?t(this.simStates[e]||{val:null,ack:!0}):this._socket.emit("getState",e,((e,n)=>{e?o(e):t(n)}))}})}getBinaryState(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getBinaryState",e,((e,n)=>{e?o(e):t(n)}))}})}setBinaryState(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("setBinaryState",e,t,(e=>{e?n(e):o()}))}})}setState(e,t,o){return"boolean"===typeof o&&(t={val:t,ack:o}),this.request({commandTimeout:!1,executor:(n,a)=>{if(e&&e===this.ignoreState){let a;if(a="boolean"===typeof o||"object"===typeof t&&void 0!==t.val?t:{val:t,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[e]=a,this.statesSubscribes[e])for(const t of this.statesSubscribes[e].cbs)try{t(e,a)}catch(s){console.error("Error by callback of stateChanged: ".concat(s))}n()}else this._socket.emit("setState",e,t,(e=>{e?a(e):n()}))}})}getObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{e||!this.objects?this._socket.emit(v.isWeb()?"getObjects":"getAllObjects",((e,a)=>{var s,r;t||null===(r=(s=this.props).onProgress)||void 0===r||r.call(s,c.OBJECTS_LOADED),e?n(e):(this.objects=null!==a&&void 0!==a?a:{},o(this.objects))})):o(this.objects)}})}getObjectsById(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getObjects",e,((e,n)=>{e?o(e):t(n)}))}})}_subscribe(e){e&&!this.subscribed?(this.subscribed=!0,this.props.autoSubscribes&&this.props.autoSubscribes.forEach((e=>this._socket.emit("subscribeObjects",e))),Object.keys(this.objectsSubscribes).forEach((e=>this._socket.emit("subscribeObjects",e))),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach((e=>this._socket.emit("subscribe",e))),Object.keys(this.filesSubscribes).forEach((e=>{const[t,o]=e.split("$%$");this._socket.emit("subscribeFiles",t,o)}))):!e&&this.subscribed&&(this.subscribed=!1,this.props.autoSubscribes&&this.props.autoSubscribes.forEach((e=>this._socket.emit("unsubscribeObjects",e))),Object.keys(this.objectsSubscribes).forEach((e=>this._socket.emit("unsubscribeObjects",e))),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach((e=>this._socket.emit("unsubscribe",e))),Object.keys(this.filesSubscribes).forEach((e=>{const[t,o]=e.split("$%$");this._socket.emit("unsubscribeFiles",t,o)})))}requireLog(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("requireLog",e,(e=>{e?o(e):t()}))}})}delObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("delObject",e,{maintenance:t},(e=>{e?n(e):o()}))}})}delObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("delObjects",e,{maintenance:t},(e=>{e?n(e):o()}))}})}setObject(e,t){return t?(delete(t=JSON.parse(JSON.stringify(t))).from,delete t.user,delete t.ts,this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("setObject",e,t,(e=>{e?n(e):o()}))}})):Promise.reject("Null object is not allowed")}getObject(e){return this.request({commandTimeout:!1,executor:(t,o)=>{e&&e===this.ignoreState?t({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}}):this._socket.emit("getObject",e,((e,n)=>{e?o(e):t(n)}))}})}sendTo(e,t,o){return this.request({commandTimeout:!1,executor:n=>{this._socket.emit("sendTo",e,t,o,(e=>{n(e)}))}})}extendObject(e,t){return t?(delete(t=JSON.parse(JSON.stringify(t))).from,delete t.user,delete t.ts,this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("extendObject",e,t,(e=>{e?n(e):o()}))}})):Promise.reject("Null object is not allowed")}registerLogHandler(e){this.onLogHandlers.includes(e)||this.onLogHandlers.push(e)}unregisterLogHandler(e){const t=this.onLogHandlers.indexOf(e);-1!==t&&this.onLogHandlers.splice(t,1)}registerConnectionHandler(e){this.onConnectionHandlers.includes(e)||this.onConnectionHandlers.push(e)}unregisterConnectionHandler(e){const t=this.onConnectionHandlers.indexOf(e);-1!==t&&this.onConnectionHandlers.splice(t,1)}registerCmdStdoutHandler(e){this.onCmdStdoutHandler=e}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(e){this.onCmdStderrHandler=e}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(e){this.onCmdExitHandler=e}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(e,t){return this.request({cacheKey:"enums_".concat(e||"all"),forceUpdate:t,commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getObjectView","system","enum",{startkey:"enum.".concat(e||""),endkey:e?"enum.".concat(e,".\u9999"):"enum.\u9999"},((n,a)=>{if(n)o(n);else{const o={};if(a)for(let t=0;t<a.rows.length;t++)e&&a.rows[t].id==="enum.".concat(e)||(o[a.rows[t].id]=a.rows[t].value);t(o)}}))}})}getObjectView(e,t,o){return this.getObjectViewCustom("system",o,e,t)}getObjectViewSystem(e,t,o){return this.getObjectViewCustom("system",e,t,o)}getObjectViewCustom(e,t,o,n){return this.request({commandTimeout:!1,executor:(a,s)=>{o=o||"",n=n||"\u9999",this._socket.emit("getObjectView",e,t,{startkey:o,endkey:n},((e,t)=>{if(e)s(e);else{const e={};if(t&&t.rows)for(let o=0;o<t.rows.length;o++)e[t.rows[o].id]=t.rows[o].value;a(e)}}))}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},((o,n)=>{var a;o?t(o):e(null===(a=n.rows)||void 0===a?void 0:a.map((e=>e.value)).filter((e=>!!e)))}))}})}readDir(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("readDir",e,t,((e,t)=>{e?n(e):o(t)}))}})}readFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit(o?"readFile64":"readFile",e,t,((e,t,o)=>{e?a(e):n({file:t,mimeType:o})}))}})}writeFile64(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{if("string"===typeof o)this._socket.emit("writeFile",e,t,o,(e=>{e?a(e):n()}));else{const s=btoa(new Uint8Array(o).reduce(((e,t)=>e+String.fromCharCode(t)),""));this._socket.emit("writeFile64",e,t,s,(e=>{e?a(e):n()}))}}})}deleteFile(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFile",e,t,(e=>{e?n(e):o()}))}})}deleteFolder(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFolder",e,t,(e=>{e?n(e):o()}))}})}rename(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("rename",e,t,o,(e=>{e?a(e):n()}))}})}renameFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("renameFile",e,t,o,(e=>{e?a(e):n()}))}})}cmdExec(e,t,o,n){return this.request({commandTimeout:n,executor:(n,a,s)=>{e=(0,h.normalizeHostId)(e),this._socket.emit("cmdExec",e,o,t,(e=>{s.elapsed||(s.clearTimeout(),e?a(e):n())}))}})}getSystemConfig(e){return this.request({cacheKey:"systemConfig",forceUpdate:e,commandTimeout:!1,executor:async e=>{var t,o,n,a,s;let r=await this.getObject("system.config");null!==(t=r)&&void 0!==t||(r={}),null!==(o=(a=r).common)&&void 0!==o||(a.common={}),null!==(n=(s=r).native)&&void 0!==n||(s.native={}),e(r)}})}getCompactSystemConfig(e){return this.request({cacheKey:"systemConfigCommon",forceUpdate:e,commandTimeout:!1,requireAdmin:!0,executor:(e,t)=>{this._socket.emit("getCompactSystemConfig",((o,n)=>{var a,s,r,i,l;o?t(o):(null!==(a=n)&&void 0!==a||(n={}),null!==(s=(i=n).common)&&void 0!==s||(i.common={}),null!==(r=(l=n).native)&&void 0!==r||(l.native={}),e(n))}))}})}getForeignStates(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getForeignStates",e||"*",((e,n)=>{e?o(e):t(null!==n&&void 0!==n?n:{})}))}})}getForeignObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getForeignObjects",e||"*",t,((e,t)=>{e?n(e):o(t)}))}})}setSystemConfig(e){return this.setObject("system.config",e)}getRawSocket(){return this._socket}getHistory(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getHistory",e,t,((e,t)=>{e?n(e):o(t)}))}})}getHistoryEx(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getHistory",e,t,((e,t,a,s)=>{e?n(e):o({values:t,sessionId:s,stepIgnore:a})}))}})}getIpAddresses(e,t){return e=(0,h.normalizeHostId)(e),this.request({cacheKey:"IPs_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{var o;const n=await this.getObject(e);t(null!==(o=null===n||void 0===n?void 0:n.common.address)&&void 0!==o?o:[])}})}getVersion(e){return this.request({cacheKey:"version",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getVersion",((o,n,a)=>{o&&!n&&"string"===typeof o&&o.match(/\d+\.\d+\.\d+/)?e({version:o,serverName:"socketio"}):o?t(o):e({version:n,serverName:a})}))}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getAdapterName",((o,n)=>{o?t(o):e(n)}))}})}fileExists(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("fileExists",e,t,((e,t)=>{e?n(e):o(!!t)}))}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:e=>{this._socket.emit("authEnabled",((t,o)=>{e(o)}))}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:async e=>{var t;const o=await this.getObject("system.meta.uuid");e(null===(t=null===o||void 0===o?void 0:o.native)||void 0===t?void 0:t.uuid)}})}checkFeatureSupported(e,t){return this.request({cacheKey:"supportedFeatures_".concat(e),forceUpdate:t,commandTimeout:!1,executor:(t,o)=>{this._socket.emit("checkFeatureSupported",e,((e,n)=>{e?o(e):t(n)}))}})}getAdapterInstances(e,t){return"boolean"===typeof e&&(t=e,e=""),e=e||"",this.request({cacheKey:"instances_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{const o=e?"system.adapter.".concat(e,"."):"system.adapter.",n="".concat(o,"\u9999"),a=await this.getObjectViewSystem("instance",o,n),s=Object.values(a);t(e?s.filter((t=>t.common.name===e)):s)}})}getAdapters(e,t){return"boolean"===typeof e&&(t=e,e=""),e=e||"",this.request({cacheKey:"adapter_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{const o=await this.getObjectViewSystem("adapter","system.adapter.".concat(e||""),"system.adapter.".concat(e||"\u9999")),n=Object.values(o);t(e?n.filter((t=>t.common.name===e)):n)}})}getGroups(e){return this.request({cacheKey:"groups",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},((o,n)=>{o?t(o):e((0,h.getObjectViewResultToArray)(n))}))}})}logout(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("logout",(o=>{o?t(o):e(null)}))}})}subscribeOnInstance(e,t,o,n){return this.request({commandTimeout:!1,executor:(a,s)=>{this._socket.emit("clientSubscribe",e,t,o,((o,r)=>{o?s(o):r&&(r.error?s(r.error):(e.startsWith("system.adapter.")||(e="system.adapter.".concat(e)),this._instanceSubscriptions[e]=this._instanceSubscriptions[e]||[],this._instanceSubscriptions[e].find((e=>e.messageType===t&&e.callback===n))||this._instanceSubscriptions[e].push({messageType:t,callback:n}),a(r)))}))}})}unsubscribeFromInstance(e,t,o){var n;let a;e.startsWith("system.adapter.")||(e="system.adapter.".concat(e));const s=[];do{a=!1;const r=null===(n=this._instanceSubscriptions[e])||void 0===n?void 0:n.findIndex((e=>(!t||e.messageType===t)&&(!o||e.callback===o)));if(void 0!==r&&null!==r&&-1!==r){a=!0;const o=this._instanceSubscriptions[e][r].messageType;this._instanceSubscriptions[e].splice(r,1),this._instanceSubscriptions[e].length||delete this._instanceSubscriptions[e];this._instanceSubscriptions[e]&&this._instanceSubscriptions[e].find((e=>e.messageType===o))||s.push(this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("clientUnsubscribe",e,t,((e,t)=>e?n(e):o(t)))}}))}}while(a&&(!o||!t));return s.length?Promise.all(s).then((e=>!!e.find((e=>e)))):Promise.resolve(!1)}log(e,t){return e?this.request({commandTimeout:!1,executor:o=>(this._socket.emit("log",e,t),o(null))}):Promise.resolve(null)}setStateToIgnore(e){this.ignoreState=e}}},38031:e=>{"use strict";var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,r,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))s.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(i=n(t,l))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))},95202:e=>{"use strict";var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,r={};function i(){let e,t;const o=new Promise(((o,n)=>{e=o,t=n}));return o.resolve=e,o.reject=t,o}((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(r,{createDeferredPromise:()=>i}),e.exports=(t=r,((e,t,r,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))s.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(i=n(t,l))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))},66086:(e,t,o)=>{"use strict";var n,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,l=(e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of r(t))i.call(e,l)||l===o||a(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},c=(e,t,o)=>(l(e,t,"default"),o&&l(o,t,"default")),u={};((e,t)=>{for(var o in t)a(e,o,{get:t[o],enumerable:!0})})(u,{AdminConnection:()=>d.AdminConnection,Connection:()=>p.Connection,ERRORS:()=>p.ERRORS,PROGRESS:()=>p.PROGRESS}),e.exports=(n=u,l(a({},"__esModule",{value:!0}),n)),c(u,o(22392),e.exports);var d=o(22392);c(u,o(44642),e.exports);var p=o(44642);c(u,o(38031),e.exports);o(38031)},18658:e=>{"use strict";var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,r={};function i(e){var t;return null!==(t=null===e||void 0===e?void 0:e.rows.map((e=>e.value)).filter((e=>!!e)))&&void 0!==t?t:[]}function l(e){return(null===e||void 0===e?void 0:e.startsWith("system.host."))||(e="system.host.".concat(e)),e}function c(e){return(null===e||void 0===e?void 0:e.startsWith("system.host."))&&(e=e.substr(12)),e}function u(e){return new Promise((t=>{setTimeout(t,e)}))}function d(e){const t="*"===(e=(e||"").toString())[0],o="*"===e[e.length-1];return(t?"":"^")+(e=e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"))+(o?"":"$")}((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(r,{getObjectViewResultToArray:()=>i,normalizeHostId:()=>l,objectIdToHostname:()=>c,pattern2RegEx:()=>d,wait:()=>u}),e.exports=(t=r,((e,t,r,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))s.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(i=n(t,l))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))},4942:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(72881);function a(e,t,o){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},75971:(e,t,o)=>{"use strict";o.d(t,{CR:()=>r,Jh:()=>s,ev:()=>i,mG:()=>a,pi:()=>n});var n=function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};function a(e,t,o,n){return new(o||(o=Promise))((function(a,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,i)}l((n=n.apply(e,t||[])).next())}))}function s(e,t){var o,n,a,s,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(r=0)),r;)try{if(o=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(l){i=[6,l],n=0}finally{o=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function r(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,a,s=o.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)r.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return r}function i(e,t,o){if(o||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=715.49d809ff.chunk.js.map