"use strict";(self.webpackChunkjs=self.webpackChunkjs||[]).push([[5950],{10860:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(43693)),s=a(o(17383)),i=a(o(34579)),r=a(o(28452)),l=a(o(63072)),c=a(o(29511)),d=a(o(73738)),u=a(o(53482)),p=a(o(95973)),m=o(32496),h=o(65298),f=a(o(12539)),g=a(o(50256));function v(e,t,o){return t=(0,l.default)(t),(0,r.default)(e,y()?Reflect.construct(t,o||[],(0,l.default)(e).constructor):t.apply(e,o))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function k(e,t){var o=[];if("*"===e){if(24===t||60===t||7===t)for(var a=0;a<t;a++)o.push(a);else for(var n=1;n<=t;n++)o.push(n);return o}for(var s=(e||"").toString().split(","),i=0;i<s.length;i++)if(s[i].trim().length){var r=s[i].trim().split("-");if(r.length>1)for(var l=parseInt(r[1],10),c=parseInt(r[0],10);c<=l;c++)o.push(c);else o.push(parseInt(s[i],10))}(o=o.map((function(e){return parseInt(e,10)}))).sort();for(var d=o.length-1;d>=0;d--)o[d]===o[d+1]&&o.splice(d+1,1);return o}function E(e,t){if("object"!==(0,d.default)(e)&&(e=[e]),e.length===t)return"*";var o=[];if(!e.length)return"-";(e=e.map((function(e){return parseInt(e,10)}))).sort((function(e,t){return e-t}));for(var a=e[0],n=e[0],s=1;s<e.length;s++)e[s]-1!==parseInt(e[s-1],10)?(a===n?o.push(a):n-1===a?o.push("".concat(a,",").concat(n)):o.push("".concat(a,"-").concat(n)),a=e[s],n=e[s]):n=e[s];return a===n?o.push(a):n-1===a?o.push("".concat(a,",").concat(n)):o.push("".concat(a,"-").concat(n)),o.join(",")}var S=function(e){function t(e){var o;(0,s.default)(this,t);var a="string"===typeof(o=v(this,t,[e])).props.cronExpression?o.props.cronExpression.replace(/^["']/,"").replace(/["']\n?$/,""):"";"{"===a[0]&&(a="");var n=t.cron2state(a||"* * * * *");return o.state={extended:!1,tab:!1!==n.seconds?1:0,cron:t.state2cron(n),modes:{seconds:null,minutes:null,hours:null,dates:null,months:null,dows:null}},Object.assign(o.state,n),o.state.cron!==o.props.cronExpression&&setTimeout((function(){return o.props.onChange&&o.props.onChange(o.state.cron)}),100),o}return(0,c.default)(t,e),(0,i.default)(t,[{key:"recalcCron",value:function(){var e=this,o=t.state2cron(this.state);o!==this.state.cron&&this.setState({cron:o},(function(){return e.props.onChange&&e.props.onChange(e.state.cron)}))}},{key:"onChange",value:function(e){e!==this.state.cron&&(this.setState({cron:e}),this.props.onChange&&this.props.onChange(e))}},{key:"onToggle",value:function(e,t,o){var a=this;if(!0===e)this.setState((0,n.default)({},t,"*"),(function(){return a.recalcCron()}));else if(!1===e)60===o||24===o?this.setState((0,n.default)({},t,"0"),(function(){return a.recalcCron()})):this.setState((0,n.default)({},t,"1"),(function(){return a.recalcCron()}));else{var s=k(this.state[t],o),i=s.indexOf(e);-1!==i?s.splice(i,1):(s.push(e),s.sort()),this.setState((0,n.default)({},t,E(s,o)),(function(){return a.recalcCron()}))}}},{key:"getDigitsSelector",value:function(e,t){var o=this,a=[];if(7===t)a=[1,2,3,4,5,6,0];else if(60===t||24===t)for(var n=0;n<t;n++)a.push(n);else for(var s=1;s<=t;s++)a.push(s);var i=k(this.state[e],t);return[u.default.createElement(h.Button,{key:"removeall",variant:"outlined",className:this.props.classes.numberButton,color:"primary",onClick:function(){return o.onToggle(!1,e,t)}},f.default.t("ra_Deselect all")),u.default.createElement(h.Button,{key:"addall",variant:"contained",className:this.props.classes.numberButton,color:"secondary",onClick:function(){return o.onToggle(!0,e,t)}},f.default.t("ra_Select all")),u.default.createElement("div",{key:"all"},a.map((function(a){return[7===t&&4===a||12===t&&7===a||31===t&&!((a-1)%10)||60===t&&a&&!(a%10)||24===t&&a&&!(a%6)?u.default.createElement("div",{key:"allInner".concat(a),style:{width:"100%"}}):null,u.default.createElement(h.Button,{key:"_".concat(a),variant:-1!==i.indexOf(a)?"contained":"outlined",className:o.props.classes.numberButton,color:-1!==i.indexOf(a)?"secondary":"primary",onClick:function(){return o.onToggle(a,e,t)}},7===t?f.default.t(b[a]):12===t?w[a-1]:a)]})))]}},{key:"getPeriodsTab",value:function(e,t){var o,a=this,s=this.state[e],i="*"===s,r=s.toString().includes("/");if(null===this.state.modes[e]){o=i?"every":r?"everyN":"specific";var l=JSON.parse(JSON.stringify(this.state.modes));return l[e]=o,setTimeout((function(){return a.setState({modes:l},(function(){return a.recalcCron()}))}),100)}return i="every"===this.state.modes[e],r="everyN"===this.state.modes[e],o=this.state.modes[e],r&&(s=parseInt(s.replace("*/",""),10)||1),u.default.createElement("div",null,u.default.createElement(h.Select,{variant:"standard",className:this.props.classes.periodSelect,style:{verticalAlign:"bottom"},value:o,onChange:function(o){var s=JSON.parse(JSON.stringify(a.state.modes));if(s[e]=o.target.value,"every"===o.target.value)a.setState((0,n.default)((0,n.default)({},e,"*"),"modes",s),(function(){return a.recalcCron()}));else if("everyN"===o.target.value){var i=parseInt(a.state[e].toString().replace("*/",""),10)||1;a.setState((0,n.default)((0,n.default)({},e,"*/".concat(i)),"modes",s),(function(){return a.recalcCron()}))}else if("specific"===o.target.value){var r=parseInt(a.state[e].split(",")[0],10)||0;console.log(r),r||"months"!==e&&"dates"!==e||(r=1),a.setState((0,n.default)((0,n.default)({},e,E(r,t)),"modes",s),(function(){return a.recalcCron()}))}}},u.default.createElement(h.MenuItem,{key:"every",value:"every"},f.default.t("sc_every_".concat(e))),u.default.createElement(h.MenuItem,{key:"everyN",value:"everyN"},f.default.t("sc_everyN_".concat(e))),u.default.createElement(h.MenuItem,{key:"specific",value:"specific"},f.default.t("sc_specific_".concat(e)))),r&&!1,r&&u.default.createElement(h.TextField,{variant:"standard",key:"interval",label:f.default.t("sc_".concat(e)),value:s,min:1,max:t,onChange:function(t){a.setState((0,n.default)({},e,"*/".concat(t.target.value)),(function(){return a.recalcCron()}))},InputLabelProps:{shrink:!0},type:"number",margin:"normal"}),!i&&!r&&this.getDigitsSelector(e,t))}},{key:"render",value:function(){var e=this,o=!1!==this.state.seconds?this.state.tab:this.state.tab+1;return u.default.createElement("div",{className:this.props.classes.mainDiv},u.default.createElement("div",{style:{paddingLeft:8,width:"100%"}},u.default.createElement(h.TextField,{variant:"standard",style:{width:"100%"},value:this.state.cron,disabled:!0})),u.default.createElement("div",{style:{paddingLeft:8,width:"100%",height:60}},t.convertCronToText(this.state.cron,this.props.language||"en")),u.default.createElement(h.FormControlLabel,{control:u.default.createElement(h.Checkbox,{checked:this.state.seconds,onChange:function(t){return e.setState({seconds:!!t.target.checked&&"*"},(function(){return e.recalcCron()}))}}),label:f.default.t("ra_use seconds")}),u.default.createElement(h.AppBar,{position:"static",classes:{root:this.props.classes.appBar},color:"secondary"},u.default.createElement(h.Tabs,{value:this.state.tab,className:this.props.classes.appBar,color:"secondary",onChange:function(t,o){return e.setState({tab:o})}},!1!==this.state.seconds&&u.default.createElement(h.Tab,{id:"sc_seconds",label:f.default.t("sc_seconds")}),u.default.createElement(h.Tab,{id:"minutes",label:f.default.t("sc_minutes")}),u.default.createElement(h.Tab,{id:"hours",label:f.default.t("sc_hours")}),u.default.createElement(h.Tab,{id:"dates",label:f.default.t("sc_dates")}),u.default.createElement(h.Tab,{id:"months",label:f.default.t("sc_months")}),u.default.createElement(h.Tab,{id:"dows",label:f.default.t("sc_dows")}))),0===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("seconds",60)),1===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("minutes",60)),2===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("hours",24)),3===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dates",31)),4===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("months",12)),5===o&&u.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dows",7)))}}],[{key:"cron2state",value:function(e){var t=(e=e.replace(/['"]/g,"").trim()).split(" ").map((function(e){return e.trim()})),o={};return 6===t.length?(o.seconds=t[0]||"*",o.minutes=t[1]||"*",o.hours=t[2]||"*",o.dates=t[3]||"*",o.months=t[4]||"*",o.dows=t[5]||"*"):(o.seconds=!1,o.minutes=t[0]||"*",o.hours=t[1]||"*",o.dates=t[2]||"*",o.months=t[3]||"*",o.dows=t[4]||"*"),o}},{key:"state2cron",value:function(e){var t="".concat(e.minutes," ").concat(e.hours," ").concat(e.dates," ").concat(e.months," ").concat(e.dows);return!1!==e.seconds&&(t="".concat(e.seconds," ").concat(t)),t}},{key:"convertCronToText",value:function(e,t){return e.split(" ").includes("-")?f.default.t("ra_Invalid CRON"):(0,g.default)(e,t)}}])}(u.default.Component);S.propTypes={cronExpression:p.default.string,onChange:p.default.func.isRequired,language:p.default.string};t.default=(0,m.withStyles)((function(){return{mainDiv:{width:"100%",height:"100%"},periodSelect:{display:"block",width:200},slider:{marginTop:20,display:"block",width:"100%"},tabContent:{padding:20,height:"calc(100% - 240px)",overflow:"auto"},numberButton:{padding:4,minWidth:40,margin:5},numberButtonBreak:{display:"block"},appBar:{color:"white"}}}))(S)},35494:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const o={"text/plain":"Text","text/html":"Url",default:"Text"};t.default=function(e,t){let a,n,s,i,r=!1;const l=(t=t||{}).debug||!1;try{a=function(){const e=document.getSelection();if(!(null===e||void 0===e?void 0:e.rangeCount))return()=>{};let t=document.activeElement;const o=[];for(let a=0;a<e.rangeCount;a++)o.push(e.getRangeAt(a));switch(null===t||void 0===t?void 0:t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),()=>{"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach((t=>e.addRange(t))),t&&t.focus()}}(),n=document.createRange(),s=document.getSelection(),i=document.createElement("span"),i.textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top="0px",i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",(a=>{var n,s,i,r;if(a.stopPropagation(),null===t||void 0===t?void 0:t.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),null===(n=window.clipboardData)||void 0===n||n.clearData();const a=o[t.format]||o.default;null===(s=window.clipboardData)||void 0===s||s.setData(a,e)}else null===(i=a.clipboardData)||void 0===i||i.clearData(),null===(r=a.clipboardData)||void 0===r||r.setData(t.format,e)})),document.body.appendChild(i),n.selectNodeContents(i),null===s||void 0===s||s.addRange(n);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");r=!0}catch(c){l&&console.error("unable to copy using execCommand: ",c),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),r=!0}catch(d){l&&console.error("unable to copy using clipboardData: ",d),l&&console.error("falling back to prompt");const o=function(e){const t="".concat(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl","+C");return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message||"":"Copy to clipboard: #{key}, Enter");window.prompt(o,e)}}finally{s&&(n&&"function"===typeof s.removeRange?s.removeRange(n):s.removeAllRanges()),i&&document.body.removeChild(i),a&&a()}return r}},81363:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectIdIcon=t.getSystemIcon=void 0;const n=a(o(53482)),s=a(o(82239)),i=o(21839),r=a(o(53905)),l=a(o(653));t.getSystemIcon=function(e){let t;const o=null===e||void 0===e?void 0:e._id;return o?(o.startsWith("_design/")||"system"===o?t=n.default.createElement(i.SettingsApplications,{className:"iconOwn"}):"0_userdata"===o||"0_userdata.0"===o?t=n.default.createElement(i.Photo,{className:"iconOwn"}):"alias"===o||"alias.0"===o?t=n.default.createElement(r.default,{className:"iconOwn"}):"system.adapter"===o?t=n.default.createElement(i.SettingsApplications,{className:"iconOwn"}):"system.group"===o?t=n.default.createElement(i.SupervisedUserCircle,{className:"iconOwn"}):"system.user"===o?t=n.default.createElement(i.PersonOutlined,{className:"iconOwn"}):"system.host"===o?t=n.default.createElement(i.Router,{className:"iconOwn"}):o.endsWith(".connection")||o.endsWith(".connected")?t=n.default.createElement(i.Wifi,{className:"iconOwn"}):o.endsWith(".info")?t=n.default.createElement(i.Info,{className:"iconOwn"}):"meta"===(null===e||void 0===e?void 0:e.type)&&(t=n.default.createElement(i.Description,{className:"iconOwn"})),t||null):null},t.getSelectIdIcon=function(e,t){t=t||".";let o="";const a=null===e||void 0===e?void 0:e.common;if(a){const n=a.icon;if(n)if(n.startsWith("data:image/"))o=n;else{if(!n.includes("."))return null;{let s;"instance"===e.type||"adapter"===e.type?o="".concat(t,"/adapter/").concat(a.name,"/").concat(n):e._id&&e._id.startsWith("system.adapter.")?(s=e._id.split(".",3),"/"===n[0]?s[2]+=n:s[2]+="/".concat(n),o="".concat(t,"/adapter/").concat(s[2])):(s=e._id.split(".",2),"/"===n[0]?s[0]+=n:s[0]+="/".concat(n),o="".concat(t,"/adapter/").concat(s[0]))}}}return o||null};const c=window.location.hostname.includes("iobroker.in"),d=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1);t.default=e=>{var t,o,a;if(e.src){if("string"===typeof e.src){if(e.src.length<3)return n.default.createElement("span",{title:e.title||void 0,style:Object.assign({height:27,marginTop:-8},e.styleUTF8||e.style),className:l.default.clsx(e.className,"iconOwn")},e.src);if(e.src.startsWith("data:image/svg"))return n.default.createElement(s.default,{title:e.title||void 0,src:e.src,className:l.default.clsx(e.className,"iconOwn"),width:(null===(t=e.style)||void 0===t?void 0:t.width)||28,height:(null===(o=e.style)||void 0===o?void 0:o.height)||(null===(a=e.style)||void 0===a?void 0:a.width)||28,style:e.style||{}});if(c&&!e.src.startsWith("http://")&&!e.src.startsWith("https://")){let t=e.src;return t.startsWith("./")?t=d+t.substring(2):t.startsWith("/")||(t=d+t),n.default.createElement("img",{title:e.title||void 0,style:e.style||{},className:l.default.clsx(e.className,"iconOwn"),src:"https://remote-files.iobroker.in".concat(t),alt:e.alt||void 0,ref:e.ref,onError:t=>{e.onError&&e.onError(t)}})}return n.default.createElement("img",{title:e.title||void 0,style:e.style||{},className:l.default.clsx(e.className,"iconOwn"),src:e.src,alt:e.alt||void 0,ref:e.ref,onError:e.onError})}return e.src}return null}},95881:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(53482));t.default=function(e){(0,i.useEffect)((()=>{if(!window.document.getElementById("loader-iobroker-component")){const e=window.document.createElement("style");e.setAttribute("id","loader-iobroker-component"),e.innerHTML="\n/**\n * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n\n.logo-background-light, .logo-background-colored {\n    background: white;\n}\n.logo-background-dark, .logo-background-blue {\n    background: black;\n}\n.logo-div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    overflow: hidden;\n    border-radius: 50%;\n    z-index: 2;\n}\n.logo-border {\n    /*border-color: #164477;*/\n    border-top-color: #3399CC;\n    border-left-color: #164477;\n    border-bottom-color: #164477;\n    border-right-color: #164477;\n    border-radius: 50%;\n    border-style: solid;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.logo-top {\n    position: absolute;\n    width: 4.5%;\n    height: 16%;\n    top: 0;\n    z-index: 2;\n}\n.logo-i {\n    position: absolute;\n    width: 14.5%;\n    height: 60%;\n    top: 20%;\n    left: 42%;\n    background: #3399CC;\n}\n.logo-i-top {\n    position: absolute;\n    width: 14.5%;\n    height: 4%;\n    left: 42%;\n    background: #3399CC;\n    border-radius: 100%;\n}\n.logo-back {\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n    overflow: hidden;\n}\n@keyframes logo-grow {\n    0% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(1);\n        opacity: 1\n    }\n    99% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(10);\n        opacity: 0;\n    }\n    100% {\n        width: 0;\n        height: 0;\n        opacity: 0;\n    }\n}\n@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }\n@keyframes logo-color-inside-light {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-dark {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-colored {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-blue {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n\n@keyframes logo-color-outside-light {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-dark  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-colored {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-blue  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n\n.logo-animate-wait {\n    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;\n}\n\n.logo-animate-grow-light {\n    background: #DDD;\n}\n.logo-animate-grow-dark {\n    background: #1d1d1d;\n}\n.logo-animate-grow-colored {\n    background: #DDD;\n}\n.logo-animate-grow-blue {\n    background: #1d1d1d;\n}\n\n.logo-animate-grow {\n    display: inline-block;\n    text-align: center;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    width: 245px;\n    height: 245px;\n    border-radius: 50%;\n    position: absolute;\n    animation: logo-grow 1s 1 ease forwards;\n}\n\n.logo-animate-color-inside-light {\n    animation: logo-color-inside-light 2.5s;\n}\n.logo-animate-color-inside-dark {\n    animation: logo-color-inside-dark 2.5s;\n}\n.logo-animate-color-inside-colored {\n    animation: logo-color-inside-colored 2.5s;\n}\n.logo-animate-color-inside-blue {\n    animation: logo-color-inside-blue 2.5s;\n}\n\n.logo-animate-color-outside-light {\n    animation: logo-color-outside-light 1.5s;\n}\n.logo-animate-color-outside-dark {\n    animation: logo-color-outside-dark 1.5s;\n}\n.logo-animate-color-outside-colored {\n    animation: logo-color-outside-colored 1.5s;\n}\n.logo-animate-color-outside-blue {\n    animation: logo-color-outside-blue 1.5s;\n}\n",window.document.head.appendChild(e)}}),[]);const t=e.size||234,o=e.themeName||e.theme||e.themeType||"light";return i.default.createElement("div",{className:"logo-back logo-background-".concat(o),style:{backgroundImage:e.backgroundImage&&"@@loginBackgroundImage@@"!==e.backgroundImage?e.backgroundImage:window.loadingBackgroundImage&&"@@loginBackgroundImage@@"!==window.loadingBackgroundImage?"url(".concat(window.loadingBackgroundImage,")"):void 0,backgroundColor:e.backgroundColor&&"@@loginBackgroundColor@@"!==e.backgroundColor?e.backgroundColor:window.loadingBackgroundColor&&"@@loginBackgroundColor@@"!==window.loadingBackgroundColor?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},"true"===window.loadingHideLogo?null:i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"logo-div",style:{width:t,height:t}},i.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"37%"}}),i.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"57%"}}),i.default.createElement("div",{className:"logo-border logo-background-".concat(o," logo-animate-wait"),style:{borderWidth:.132*t}}),i.default.createElement("div",{className:"logo-i logo-animate-color-inside-".concat(o)}),i.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{top:"18%"}}),i.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{bottom:"18%"}})),i.default.createElement("div",{className:"logo-animate-grow logo-animate-grow-".concat(o),style:{width:t+11,height:t+11}})))}},96205:(e,t,o)=>{var a=o(24994),n=o(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(o(54756)),i=a(o(41132)),r=a(o(29293)),l=a(o(17383)),c=a(o(34579)),d=a(o(28452)),u=a(o(63072)),p=a(o(29511)),m=a(o(43693)),h=a(o(73738)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var o=J(t);if(o&&o.has(e))return o.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=s?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,o&&o.set(e,a),a}(o(53482)),g=a(o(95973)),v=o(32496),y=a(o(82239)),b=o(65298),w=o(21839),k=a(o(8225)),E=a(o(40626)),S=a(o(53905)),C=a(o(68230)),N=a(o(80156)),x=a(o(97075)),O=a(o(46172)),_=a(o(34070)),D=a(o(36198)),j=a(o(42204)),A=a(o(3553)),I=a(o(47389)),T=a(o(47478)),M=a(o(17111)),F=a(o(81363)),R=a(o(72524)),W=a(o(653)),B=a(o(66556)),V=a(o(17030)),L=a(o(80918));function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(J=function(e){return e?o:t})(e)}function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){(0,m.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function H(e,t,o){return t=(0,u.default)(t),(0,d.default)(e,U()?Reflect.construct(t,o||[],(0,u.default)(e).constructor):t.apply(e,o))}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}function q(e,t,o){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,o)}function G(e,t){return e.get(function(e,t,o){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:o;throw new TypeError("Private element is not present on this object")}(e,t))}function Y(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,r=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,s=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw s}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var $=24,X=32,Q=20,Z="#ff413c",ee="#86211f",te="#57ff45",oe="#098c04",ae="#f3ad11",ne="#6c5008";function se(e,t,o){return function(e,t){if(Array.isArray(e)){for(var o=[],a=0;a<e.length;a++)t(o,e[a],a);return o}var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t(n,e[s],s);return n}(e,(function(e,a,n){if(void 0!==a&&null!==a&&("string"!==typeof n||!t.includes(n))){var s="object"===(0,h.default)(a);o&&s&&"string"===typeof a.en&&"string"===typeof a.de?e[n]=a.en:e[n]=s?se(a,t,o):a}}))}function ie(e,t,o){var a=document.createElement("a"),n=[];o.excludeSystemRepositories&&n.push("system.repositories");var s=n.length>0||o.excludeTranslations?se(t,n,o.excludeTranslations):t,i=o.beautify?JSON.stringify(s,null,2):JSON.stringify(s);a.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(i))),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function re(e,t,o,a){if(o=o||0,void 0===a&&!(a=e.length-1))return e[0]===t;var n=Math.floor((o+a)/2);return t===e[n]?e[n]:a-1===o?e[o]===t||e[a]===t:t>e[n]?re(e,t,n,a):t<e[n]&&re(e,t,o,n)}function le(e,t){return e&&"object"===(0,h.default)(e)?(e[t]||e.en||"").toString():(e||"").toString()}function ce(e,t,o){o=o||".";var a="",n="system.adapter.".concat(t),s=t&&e[n]&&e[n].common&&e[n].common.icon;if(s)if(s.startsWith("data:image/"))a=s.startsWith("data:image/svg")?f.default.createElement(y.default,{className:"iconOwn",src:s,width:28,height:28}):s;else{if(!s.includes("."))return s&&s.length<3?s:null;a="".concat(o,"/adapter/").concat(e[n].common.name,"/").concat(s)}else{var i=e[t]&&e[t].common;if(i){var r=i.icon;if(r)if(r.startsWith("data:image/"))a=r.startsWith("data:image/svg")?f.default.createElement(y.default,{className:"iconOwn",src:r,width:28,height:28}):r;else{if(!r.includes("."))return s&&s.length<3?s:null;var l;"instance"===e[t].type||"adapter"===e[t].type?a="".concat(o,"/adapter/").concat(i.name,"/").concat(r):t&&t.startsWith("system.adapter.")?(l=t.split(".",3),"/"===r[0]?l[2]+=r:l[2]+="/".concat(r),a="".concat(o,"/adapter/").concat(l[2])):(l=t.split(".",2),"/"===r[0]?l[0]+=r:l[0]+="/".concat(r),a="".concat(o,"/adapter/").concat(l[0]))}}}return a||null}function de(e,t,o,a,n,s,i,r,l){l=l||0;var c=!1;n||(n={},t.id&&(n.id=t.id.toLowerCase()),t.name&&(n.name=t.name.toLowerCase()),t.type&&(n.type=t.type.toLowerCase()),t.custom&&(n.custom=t.custom.toLowerCase()),t.role&&(n.role=t.role.toLowerCase()),t.room&&(n.room=a[t.room]&&a[t.room].common&&a[t.room].common.members||[]),t.func&&(n.func=a[t.func]&&a[t.func].common&&a[t.func].common.members||[]));var d=e.data;if(d&&d.id){var u,p,m,h,f,g,v=null===(u=d.obj)||void 0===u?void 0:u.common;if(i)i.type&&("string"===typeof i.type?d.obj&&i.type===d.obj.type||(c=!0):Array.isArray(i.type)&&(d.obj&&i.type.includes(d.obj.type)||(c=!0))),!c&&null!==(p=i.common)&&void 0!==p&&p.type&&(null!==v&&void 0!==v&&v.type?"string"===typeof i.common.type?i.common.type!==v.type&&(c=!0):Array.isArray(i.common.type)&&(i.type.includes(v.type)||(c=!0)):c=!0),!c&&null!==(m=i.common)&&void 0!==m&&m.role&&(null!==v&&void 0!==v&&v.role?"string"===typeof i.common.role?v.role.startsWith(i.common.role)&&(c=!0):Array.isArray(i.common.role)&&(i.common.role.find((function(e){return i.role.includes(e)}))||(c=!0)):c=!0),!c&&"_"===(null===(h=i.common)||void 0===h?void 0:h.custom)&&null!==v&&void 0!==v&&v.custom&&(c=!0),!c&&null!==(f=i.common)&&void 0!==f&&f.custom&&"_"!==(null===(g=i.common)||void 0===g?void 0:g.custom)&&(null!==v&&void 0!==v&&v.custom?"_dataSources"===i.common.custom?Object.keys(v.custom).find((function(e){return e.startsWith("history.")||e.startsWith("sql.")||e.startsWith("influxdb.")}))||(c=!0):!0===i.common.custom||Object.keys(v.custom).find((function(e){return e.startsWith(i.common.custom)}))||(c=!0):c=!0);c||t.expertMode||(c="system"===d.id||"enum"===d.id||d.id.startsWith("system.")||d.id.startsWith("enum.")||d.id.startsWith("_design/")||d.id.endsWith(".admin")||v&&v.expert),!c&&n.id&&(void 0===d.fID&&(d.fID=d.id.toLowerCase()),c=!d.fID.includes(n.id)),!c&&n.name&&(v?(void 0===d.fName&&(d.fName=v&&le(v.name,o)||"",d.fName=d.fName.toLowerCase()),c=!d.fName.includes(n.name)):c=!0),!c&&t.role&&v&&(c=!v||!(v.role&&v.role.startsWith(n.role))),!c&&n.room&&(c=!n.room.find((function(e){return e===d.id||d.id.startsWith("".concat(e,"."))}))),!c&&n.func&&(c=!n.func.find((function(e){return e===d.id||d.id.startsWith("".concat(e,"."))}))),!c&&n.type&&(c=!(d.obj&&d.obj.type&&d.obj.type===n.type)),!c&&r&&(c=!(d.obj&&d.obj.type&&r.includes(d.obj.type))),!c&&n.custom&&(c=!v||("_"===n.custom?!!v.custom:!v.custom||!v.custom[n.custom]))}return d.visible=!c,d.hasVisibleChildren=!1,e.children&&l<20&&e.children.forEach((function(e){de(e,t,o,a,n,s,i,r,l+1)&&(d.hasVisibleChildren=!0)})),d.sumVisibility=d.visible||d.hasVisibleChildren,s&&d.sumVisibility&&s.count++,d.id&&d.sumVisibility&&e.children&&e.children.forEach((function(e){return e.data.hasVisibleParent=!0})),d.visible||d.hasVisibleChildren}function ue(e,t,o,a){a=a||[];var n,s=e.data;s.sumVisibility&&(s.id&&o[s.id]&&(!t||o[s.id].type===t)&&a.push(s.id),null===(n=e.children)||void 0===n||n.forEach((function(e){return ue(e,t,o,a)})));return a}function pe(e,t,o,a){var n;return t.startsWith("_design/")||"system"===t?n=f.default.createElement(w.SettingsApplications,{className:"iconOwn"}):"0_userdata"===t||"0_userdata.0"===t?n=f.default.createElement(w.Photo,{className:"iconOwn"}):"alias"===t||"alias.0"===t?n=f.default.createElement(S.default,{className:"iconOwn"}):"system.adapter"===t?n=f.default.createElement(w.SettingsApplications,{className:"iconOwn"}):"system.group"===t?n=f.default.createElement(w.SupervisedUserCircle,{className:"iconOwn"}):"system.user"===t?n=f.default.createElement(w.PersonOutlined,{className:"iconOwn"}):"system.host"===t?n=f.default.createElement(w.Router,{className:"iconOwn"}):t.endsWith(".connection")||t.endsWith(".connected")?n=f.default.createElement(w.Wifi,{className:"iconOwn"}):t.endsWith(".info")?n=f.default.createElement(w.Info,{className:"iconOwn"}):e[t]&&"meta"===e[t].type?n=f.default.createElement(w.Description,{className:"iconOwn"}):o<2&&e["system.adapter.".concat(t)]&&(n=ce(e,"system.adapter.".concat(t),a)),n||null}function me(e,t){var o;if(!e)return null;if(null!==(o=e.obj)&&void 0!==o&&null!==(o=o.common)&&void 0!==o&&o.desc){var a="";return(a="object"===(0,h.default)(e.obj.common.desc)?e.obj.common.desc[t]||e.obj.common.desc.en:e.obj.common.desc)?a.toString():null}return null}function he(e,t,o){var a=me(e,o);return null!==a&&void 0!==a&&a.startsWith("http")?f.default.createElement("a",{className:W.default.clsx(t.cellIdTooltipLink),href:a,target:"_blank",rel:"noreferrer"},a):f.default.createElement("span",{className:W.default.clsx(t.cellIdTooltip)},a||e.id||"")}function fe(e,t){var o=(t=t||{}).imagePrefix||".",a=Object.keys(e);a.sort((function(e,t){return e===t?0:(e=e.replace(/\./g,"!!!"))>(t=t.replace(/\./g,"!!!"))?1:-1})),t.root&&(a=a.filter((function(e){return e===t.root||e.startsWith("".concat(t.root,"."))})));for(var n=[],s="",i=0,r={data:{name:"",id:""},children:[]},l={funcEnums:[],roomEnums:[],roles:[],ids:[],types:[],objects:e,customs:["_"],enums:[],hasSomeCustoms:!1},c=r,d=function(){var d=a[u];if(!d)return 1;var p,m=e[d],h=d.split(".");if(m.type&&!l.types.includes(m.type)&&l.types.push(m.type),m){var f,g=m.common,v=g&&g.role;v&&!l.roles.includes(v)?l.roles.push(v):d.startsWith("enum.rooms.")?(l.roomEnums.push(d),l.enums.push(d)):d.startsWith("enum.functions.")?(l.funcEnums.push(d),l.enums.push(d)):"enum"===m.type?l.enums.push(d):"instance"===m.type&&g&&(g.supportCustoms||null!==(f=g.adminUI)&&void 0!==f&&f.custom)&&(l.hasSomeCustoms=!0,l.customs.push(d.substring(15)))}l.ids.push(d);do{if(p=!1,!s||d.startsWith("".concat(s,"."))){var y,b,w,k;if(h.length-i>1)for(var E=s,S=function(t){if(E+=(E?".":"")+h[t],re(l.ids,E))c=c.children.find((function(e){return e.data.name===h[t]}));else{var a={data:{name:h[t],parent:c,id:E,obj:e[E],level:t,icon:pe(e,E,t,o),generated:!0}};c.children=c.children||[],c.children.push(a),c=a,l.ids.push(E)}},C=i;C<h.length-1;C++)S(C);var N={data:{name:h[h.length-1],title:le(null===m||void 0===m||null===(y=m.common)||void 0===y?void 0:y.name,t.lang),obj:m,parent:c,icon:ce(e,d,o)||pe(e,d,0,o),id:d,hasCustoms:(null===(b=m.common)||void 0===b?void 0:b.custom)&&Object.keys(m.common.custom).length,level:h.length-1,generated:!1,button:"state"===m.type&&(null===(w=m.common)||void 0===w?void 0:w.role)&&"string"===typeof m.common.role&&m.common.role.startsWith("button")&&!1!==(null===(k=m.common)||void 0===k?void 0:k.write)}};c.children=c.children||[],c.children.push(N),c=N,i=h.length,n=h,s=d}else{for(var x=0;n[x]===h[x];)x++;if(x>0){var O=n.length;for(n=n.splice(0,x),i=x,s=n.join(".");O>x;)c=c.data.parent,O--}else c=r,n=[],s="",i=0;p=!0}}while(p)},u=0;u<a.length;u++)d();return l.roomEnums.sort((function(t,o){var a,n,s=le((null===(a=e[t])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.name)||t.split(".").pop()),i=le((null===(n=e[o])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.name)||o.split(".").pop());return s>i?1:s<i?-1:0})),l.funcEnums.sort((function(t,o){var a,n,s=le((null===(a=e[t])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.name)||t.split(".").pop()),i=le((null===(n=e[o])||void 0===n||null===(n=n.common)||void 0===n?void 0:n.name)||o.split(".").pop());return s>i?1:s<i?-1:0})),l.roles.sort(),l.types.sort(),{info:l,root:r}}function ge(e,t,o,a,n){if(e.data.id===t)return e;if(o||(a=(o=t.split("."))[n=0]),!e.children&&e.data.id!==t)return null;for(var s,i=0;i<e.children.length;i++){var r=e.children[i].data.id;if(r===a){s=e.children[i];break}if(r>a)break}return s?ge(s,t,o,"".concat(a,".").concat(o[n+1]),n+1):null}function ve(e,t,o,a,n){if(!t)return{rooms:[],per:!1};n=n||[];var s,i,r=Y(e.roomEnums);try{for(r.s();!(s=r.n()).done;){var l,c,d=s.value,u=null===(l=e.objects[d])||void 0===l?void 0:l.common;if(u){var p=le(u.name,o);null!==(c=u.members)&&void 0!==c&&c.includes(t)&&!n.includes(p)&&(a?n.push({name:p,origin:t}):n.push(p))}}}catch(h){r.e(h)}finally{r.f()}var m=t.split(".");return m.pop(),t=m.join("."),e.objects[t]&&(i=n.length,ve(e,t,o,a,n)),{rooms:n,per:!i}}function ye(e,t,o,a){if(!t)return[];a=a||[];for(var n=0;n<e[o].length;n++){var s,i,r=null===(s=e.objects[e[o][n]])||void 0===s?void 0:s.common;null!==r&&void 0!==r&&null!==(i=r.members)&&void 0!==i&&i.includes(t)&&!a.includes(e[o][n])&&a.push(e[o][n])}return a.sort(),a}function be(e,t,o,a,n){if(!t)return{funcs:[],pef:!1};n=n||[];for(var s=0;s<e.funcEnums.length;s++){var i,r,l=null===(i=e.objects[e.funcEnums[s]])||void 0===i?void 0:i.common;if(l){var c=le(l.name,o);null!==(r=l.members)&&void 0!==r&&r.includes(t)&&!n.includes(c)&&(a?n.push({name:c,origin:t}):n.push(c))}}var d,u=t.split(".");return u.pop(),t=u.join("."),e.objects[t]&&(d=n.length,be(e,t,o,a,n)),{funcs:n,pef:!d}}function we(e,t){for(var o=t,a=1,n=[];a<e.length&&o<t+9e7;){for(;e[a-1].ts<o&&o<=e[a].ts&&a<e.length;)a++;if(1===a&&e[a-1].ts>=o)n.push(0);else if(a<e.length)if("boolean"===typeof e[a].val||"boolean"===typeof e[a-1].val)n.push(e[a].val?1:0);else{e[a-1].val=e[a-1].val||0,e[a].val=e[a].val||0;var s=e[a-1].val+(e[a].val-e[a-1].val)*(o-e[a-1].ts)/(e[a].ts-e[a-1].ts);n.push(s)}o+=36e5}return n}var ke={id:"",name:"",room:"",func:"",role:"",type:"",custom:"",expertMode:!1},Ee={state:f.default.createElement(j.default,{className:"itemIcon"}),channel:f.default.createElement(C.default,{className:"itemIcon"}),device:f.default.createElement(x.default,{className:"itemIcon"}),adapter:f.default.createElement(E.default,{className:"itemIcon"}),meta:f.default.createElement(w.Description,{className:"itemIcon"}),instance:f.default.createElement(D.default,{className:"itemIcon",style:{color:"#7da7ff"}}),enum:f.default.createElement(w.ListAlt,{className:"itemIcon"}),chart:f.default.createElement(w.ShowChart,{className:"itemIcon"}),config:f.default.createElement(w.Settings,{className:"itemIcon"}),group:f.default.createElement(w.SupervisedUserCircle,{className:"itemIcon"}),user:f.default.createElement(w.PersonOutlined,{className:"itemIcon"}),host:f.default.createElement(w.Router,{className:"itemIcon"}),schedule:f.default.createElement(w.CalendarToday,{className:"itemIcon"}),script:f.default.createElement(w.Code,{className:"itemIcon"}),folder:f.default.createElement(A.default,{className:"itemIcon itemIconFolder"})},Se=(0,v.withStyles)((function(e){return{badge:{right:3,top:3,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(b.Badge),Ce={xs:{idWidth:"100%",fields:[],widths:{}},sm:{idWidth:300,fields:["room","val"],widths:{room:100,val:200}},md:{idWidth:300,fields:["room","func","val","buttons"],widths:{name:200,room:150,func:150,val:120,buttons:120}},lg:{idWidth:300,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:300,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:165,lastChange:165}},xl:{idWidth:550,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:400,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:170,lastChange:170}}},Ne=!1,xe=new WeakMap,Oe=function(e){function t(e){var o;(0,l.default)(this,t),q(o=H(this,t,[e]),xe,["0_userdata.0.","alias.0."]),(0,m.default)(o,"onContextMenu",(function(e){o.contextMenu&&Date.now()-o.contextMenu.ts<2e3?(e.preventDefault(),o.setState({showContextMenu:{item:o.contextMenu.item}})):o.state.showContextMenu&&(e.preventDefault(),o.setState({showContextMenu:null})),o.contextMenu=null})),(0,m.default)(o,"onStateChange",(function(e,t){if(console.log("> stateChange ".concat(e)),o.states[e]){var a=o.findItem(e);a&&a.data.state&&(a.data.state=null)}o.states[e]=t,o.pausedSubscribes?o.statesUpdateTimer&&(clearTimeout(o.statesUpdateTimer),o.statesUpdateTimer=null):o.statesUpdateTimer||(o.statesUpdateTimer=setTimeout((function(){o.statesUpdateTimer=null,o.forceUpdate()}),300))})),(0,m.default)(o,"onObjectChange",(function(e,t){var a;if(Array.isArray(e))e.forEach((function(e){var t=o.processOnObjectChangeElement(e.id,e.obj),n=t.newInnerState;t.filtered||n&&(a=n)}));else{var n=o.processOnObjectChangeElement(e,t),s=n.newInnerState;if(n.filtered)return;a=s}a&&o.setState(a),!o.objectsUpdateTimer&&o.objects&&(o.objectsUpdateTimer=setTimeout((function(){o.objectsUpdateTimer=null;var e=fe(o.objects,o.props),t=e.info,a=e.root;o.root=a,o.info=t,o.lastAppliedFilter=null,o.pausedSubscribes||o.forceUpdate()}),500))})),(0,m.default)(o,"getEnumsForId",(function(e){var t=[];return o.info.enums.forEach((function(a){var n;if(null!==(n=o.objects[a])&&void 0!==n&&null!==(n=n.common)&&void 0!==n&&null!==(n=n.members)&&void 0!==n&&n.includes(e)){var s={_id:o.objects[a]._id,common:JSON.parse(JSON.stringify(o.objects[a].common)),native:o.objects[a].native,type:"enum"};s.common&&(delete s.common.members,delete s.common.custom,delete s.common.mobile),t.push(s)}})),t.length?t:void 0})),(0,m.default)(o,"_createAllEnums",function(){var e=(0,r.default)(s.default.mark((function e(t,a){var n,i,r,l,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=26;break}if(r=t[n],l=void 0,"object"===(0,h.default)(r)&&(l=r,r=r._id),c=o.objects[r]){e.next=15;break}return(c=l||{_id:r,common:{name:r.split(".").pop(),members:[]},native:{},type:"enum"}).common=c.common||{},c.common.members=[a],c.type="enum",e.next=13,o.props.socket.setObject(r,c);case 13:e.next=23;break;case 15:if(null!==(i=c.common)&&void 0!==i&&null!==(i=i.members)&&void 0!==i&&i.includes(a)){e.next=23;break}return c.common=c.common||{},c.type="enum",c.common.members=c.common.members||[],c.common.members.push(a),c.common.members.sort(),e.next=23,o.props.socket.setObject(r,c);case 23:n++,e.next=1;break;case 26:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()),(0,m.default)(o,"loadObjects",function(){var e=(0,r.default)(s.default.mark((function e(t){var a,n,i,r,l,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=57;break}e.t0=s.default.keys(t);case 2:if((e.t1=e.t0()).done){e.next=57;break}if(a=e.t1.value,Object.hasOwn(t,a)&&t[a]){e.next=6;break}return e.abrupt("continue",2);case 6:return n=t[a],i=null,r=void 0,l=void 0,n&&n.common&&n.common.enums?(i=n.common.enums,delete n.common.enums):i=null,n.val&&(r=n.val,delete n.val),void 0!==n.ack&&(l=n.ack,delete n.ack),e.prev=13,e.next=16,o.props.socket.setObject(a,n);case 16:if(e.t2=i,!e.t2){e.next=20;break}return e.next=20,o._createAllEnums(i,n._id);case 20:if("state"!==n.type){e.next=50;break}if(void 0===r||null===r){e.next=32;break}return e.prev=22,e.next=25,o.props.socket.setState(n._id,r,void 0===l||l);case 25:e.next=30;break;case 27:e.prev=27,e.t3=e.catch(22),window.alert('Cannot set state "'.concat(n._id," with ").concat(r,'": ').concat(e.t3));case 30:e.next=50;break;case 32:return e.prev=32,e.next=35,o.props.socket.getState(n._id);case 35:if((c=e.sent)&&null!==c.val){e.next=45;break}return e.prev=37,e.next=40,o.props.socket.setState(n._id,n.common&&void 0!==n.common.def?n.common.def:null,!0);case 40:e.next=45;break;case 42:e.prev=42,e.t4=e.catch(37),window.alert('Cannot set state "'.concat(n._id,'": ').concat(e.t4));case 45:e.next=50;break;case 47:e.prev=47,e.t5=e.catch(32),window.alert('Cannot read state "'.concat(n._id,'": ').concat(e.t5));case 50:e.next=55;break;case 52:e.prev=52,e.t6=e.catch(13),window.alert(e.t6);case 55:e.next=2;break;case 57:case"end":return e.stop()}}),e,null,[[13,52],[22,27],[32,47],[37,42]])})));return function(t){return e.apply(this,arguments)}}()),(0,m.default)(o,"handleJsonUpload",(function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=function(){var e=(0,r.default)(s.default.mark((function e(t){var a,n,i,r,l,c,d,u;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.result,e.prev=1,n=JSON.parse(a),i=Object.keys(n).length,void 0!==(r=n._id)||!i){e.next=11;break}return e.next=8,o.loadObjects(n);case 8:window.alert(o.props.t("ra_%s object(s) processed",i)),e.next=40;break;case 11:if(r){e.next=13;break}return e.abrupt("return",window.alert(o.props.t("ra_Invalid structure")));case 13:return e.prev=13,n.common.enums&&(l=n.common.enums,delete n.common.enums),n.val&&(c=n.val,delete n.val),void 0!==n.ack&&(d=n.ack,delete n.ack),e.next=19,o.props.socket.setObject(n._id,n);case 19:if("state"!==n.type){e.next=31;break}if(void 0===c||null===c){e.next=25;break}return e.next=23,o.props.socket.setState(n._id,c,void 0===d||d);case 23:e.next=31;break;case 25:return e.next=27,o.props.socket.getState(n._id);case 27:if((u=e.sent)&&null!==u.val&&void 0!==u.val){e.next=31;break}return e.next=31,o.props.socket.setState(n._id,void 0===n.common.def?null:n.common.def,!0);case 31:if(!l){e.next=34;break}return e.next=34,o._createAllEnums(l,n._id);case 34:window.alert(o.props.t("ra_%s was imported",n._id)),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(13),window.alert(e.t0);case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(1),window.alert(e.t1);case 45:return e.abrupt("return",null);case 46:case"end":return e.stop()}}),e,null,[[1,42],[13,37]])})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(t)}else window.alert(o.props.t("ra_Failed to open JSON File"))})),(0,m.default)(o,"toolTipObjectCreating",(function(){var e=o.props.t,t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:6},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];if(o.state.selected.length||o.state.selectedNonObject){var a,n=o.state.selected[0]||o.state.selectedNonObject;if(n.split(".").length<2||o.objects[n]&&"state"===(null===(a=o.objects[n])||void 0===a?void 0:a.type));else if(o.state.filter.expertMode){var s;switch(null===(s=o.objects[n])||void 0===s?void 0:s.type){case"device":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"folder":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"channel":t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:1},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:8},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:9},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))]}}else(n.startsWith("alias.0")||n.startsWith("0_userdata"))&&(t=[f.default.createElement("div",{key:1},e("ra_Only following structures of objects are available:")),f.default.createElement("div",{key:2},e("ra_Folder \u2192 State")),f.default.createElement("div",{key:3},e("ra_Folder \u2192 Channel \u2192 State")),f.default.createElement("div",{key:4},e("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:5},e("ra_Device \u2192 Channel \u2192 State")),f.default.createElement("div",{key:6},e("ra_Channel \u2192 State")),f.default.createElement("div",{key:7,style:{height:10}}),f.default.createElement("div",{key:7},e('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),f.default.createElement("div",{key:8},e('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))])}return t.length?t:e("ra_Add new child object to selected parent")})),(0,m.default)(o,"renderTooltipAccessControl",(function(e){if(!e)return null;var t=[{value:"0x400",valueNum:1024,title:"read",group:"Owner"},{value:"0x200",valueNum:512,title:"write",group:"Owner"},{value:"0x40",valueNum:64,title:"read",group:"Group"},{value:"0x20",valueNum:32,title:"write",group:"Group"},{value:"0x4",valueNum:4,title:"read",group:"Everyone"},{value:"0x2",valueNum:2,title:"write",group:"Everyone"}],a=[],n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object",s=e[n];t.forEach((function(e,t){s&e.valueNum&&a.push(f.default.createElement("span",{key:n+t},o.texts["acl".concat(e.group,"_").concat(e.title,"_").concat(n)],",",f.default.createElement("span",{className:"object"===n?o.props.classes.rightsObject:o.props.classes.rightsState},e.value)))}))};return a.push(f.default.createElement("span",{key:"group"},"".concat(o.texts.ownerGroup,": ").concat((e.ownerGroup||"").replace("system.group.","")))),a.push(f.default.createElement("span",{key:"owner"},"".concat(o.texts.ownerUser,": ").concat((e.owner||"").replace("system.user.","")))),n(),e.state&&n("state"),a.length?f.default.createElement("span",{className:o.props.classes.tooltipAccessControl},a.map((function(e){return e}))):""})),(0,m.default)(o,"resizerMouseMove",(function(e){var t,a;o.resizerActiveDiv&&(o.resizeLeft?(t=o.resizerOldWidth-e.clientX+o.resizerPosition,a=o.resizerOldWidthNext+e.clientX-o.resizerPosition):(t=o.resizerOldWidth+e.clientX-o.resizerPosition,a=o.resizerOldWidthNext-e.clientX+o.resizerPosition),(!o.resizerMin||t>o.resizerMin)&&(!o.resizerNextMin||a>o.resizerNextMin)&&(o.resizerCurrentWidths[o.resizerActiveName]=t,o.resizerCurrentWidths[o.resizerNextName]=a,o.resizerActiveDiv.style.width="".concat(t,"px"),o.resizerNextDiv.style.width="".concat(a,"px"),o.columnsVisibility[o.resizerActiveName]=t,o.columnsVisibility[o.resizerNextName]=a,"nameHeader"===o.resizerNextName?(o.columnsVisibility.name=a-o.state.scrollBarWidth,o.resizerCurrentWidths.name=a-o.state.scrollBarWidth):"nameHeader"===o.resizerActiveName&&(o.columnsVisibility.name=t-o.state.scrollBarWidth,o.resizerCurrentWidths.name=t-o.state.scrollBarWidth),o.customWidth=!0,o.resizeTimeout&&clearTimeout(o.resizeTimeout),o.resizeTimeout=setTimeout((function(){o.resizeTimeout=null,o.forceUpdate()}),200)))})),(0,m.default)(o,"resizerMouseUp",(function(){(window._localStorage||window.localStorage).setItem("".concat(o.props.dialogName||"App",".table"),JSON.stringify(o.resizerCurrentWidths)),o.resizerActiveName=null,o.resizerNextName=null,o.resizerActiveDiv=null,o.resizerNextDiv=null,window.removeEventListener("mousemove",o.resizerMouseMove),window.removeEventListener("mouseup",o.resizerMouseUp)})),(0,m.default)(o,"resizerMouseDown",(function(e){if(null===o.resizerActiveIndex||void 0===o.resizerActiveIndex){o.storedWidths||(o.storedWidths=JSON.parse(JSON.stringify(Ce[o.props.width]))),o.resizerCurrentWidths=o.resizerCurrentWidths||{},o.resizerActiveDiv=e.target.parentNode,o.resizerActiveName=o.resizerActiveDiv.dataset.name;var t=0;if("true"===e.target.dataset.left){o.resizeLeft=!0,o.resizerNextDiv=o.resizerActiveDiv.previousElementSibling;for(var a=o.resizerNextDiv.querySelector(".".concat(o.props.classes.resizeHandle));o.resizerNextDiv&&!a&&t<10;)o.resizerNextDiv=o.resizerNextDiv.previousElementSibling,a=o.resizerNextDiv.querySelector(".".concat(o.props.classes.resizeHandle)),t++;a&&"true"!==a.dataset.left&&(o.resizerNextDiv=o.resizerNextDiv.nextElementSibling)}else o.resizeLeft=!1,o.resizerNextDiv=o.resizerActiveDiv.nextElementSibling;o.resizerNextName=o.resizerNextDiv.dataset.name,o.resizerMin=parseInt(o.resizerActiveDiv.dataset.min,10)||0,o.resizerNextMin=parseInt(o.resizerNextDiv.dataset.min,10)||0,o.resizerPosition=e.clientX,o.resizerCurrentWidths[o.resizerActiveName]=o.resizerActiveDiv.offsetWidth,o.resizerCurrentWidths[o.resizerNextName]=o.resizerNextDiv.offsetWidth,o.resizerOldWidth=o.resizerCurrentWidths[o.resizerActiveName],o.resizerOldWidthNext=o.resizerCurrentWidths[o.resizerNextName],window.addEventListener("mousemove",o.resizerMouseMove),window.addEventListener("mouseup",o.resizerMouseUp)}})),(0,m.default)(o,"resizerReset",(function(){o.customWidth=!1,Ce[o.props.width]=JSON.parse(JSON.stringify(o.storedWidths)),o.calculateColumnsVisibility(),(window._localStorage||window.localStorage).removeItem("".concat(o.props.dialogName||"App",".table")),o.forceUpdate()})),o.lastSelectedItems=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectSelected"))||"[]";try{o.lastSelectedItems=JSON.parse(o.lastSelectedItems),"object"!==(0,h.default)(o.lastSelectedItems)&&(o.lastSelectedItems=[o.lastSelectedItems]),o.lastSelectedItems=o.lastSelectedItems.filter((function(e){return e}))}catch(w){}var a=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectExpanded"))||"[]";try{a=JSON.parse(a)}catch(w){a=[]}var n=e.defaultFilters||(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectFilter"))||z({},ke);if("string"===typeof n)try{n=JSON.parse(n)}catch(w){n=z({},ke)}if(n.expertMode=void 0!==e.expertMode?e.expertMode:"true"===(window._sessionStorage||window.sessionStorage).getItem("App.expertMode"),o.tableRef=(0,f.createRef)(),o.filterRefs={},Object.keys(ke).forEach((function(e){return o.filterRefs[e]=(0,f.createRef)()})),o.lastAppliedFilter=null,o.pausedSubscribes=!1,o.selectedFound=!1,o.root=null,o.states={},o.subscribes=[],o.statesUpdateTimer=null,o.objectsUpdateTimer=null,o.visibleCols=e.columns||Ce[e.width].fields,e.types&&1===e.types.length){var i=o.visibleCols.indexOf("type");-1!==i&&o.visibleCols.splice(i,1)}o.possibleCols=Ce.xl.fields;var c=null;if(e.router){var d=e.router.getLocation();d.id&&"customs"===d.dialog&&(c=[d.id],o.pauseSubscribe(!0))}var u=e.selected||"";"object"!==(0,h.default)(u)&&(u=[u]),u=u.map((function(e){return e.replace(/["']/g,"")})).filter((function(e){return e}));var p=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".columns"));try{p=p?JSON.parse(p):null}catch(w){p=null}var g=null;try{g=g?JSON.parse(g):{}}catch(w){g={}}o.imagePrefix=e.imagePrefix||".";var v=(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".foldersFirst"));v="false"!==v&&("true"===v||(void 0===e.foldersFirst||e.foldersFirst));var y=!1;try{y=o.props.objectStatesView&&JSON.parse((window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".objectStatesView")))||!1}catch(k){}o.state={loaded:!1,foldersFirst:v,selected:u,selectedNonObject:(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".selectedNonObject"))||"",filter:n,filterKey:0,depth:0,expandAllVisible:!1,expanded:a,toast:"",scrollBarWidth:16,customDialog:c,editObjectDialog:"",editObjectAlias:!1,viewFileDialog:"",showAliasEditor:"",enumDialog:null,roleDialog:null,statesView:y,columns:p,columnsForAdmin:null,columnsSelectorShow:!1,columnsAuto:"false"!==(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".columnsAuto")),columnsWidths:g,columnsDialogTransparent:100,columnsEditCustomDialog:null,customColumnDialogValueChanged:!1,showExportDialog:!1,showAllExportOptions:!1,linesEnabled:"true"===(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".lines")),showDescription:"false"!==(window._localStorage||window.localStorage).getItem("".concat(e.dialogName||"App",".desc")),showContextMenu:null,noStatesByExportImport:!1,beautifyJsonExport:!0,excludeSystemRepositoriesFromExport:!0,excludeTranslations:!1},o.edit={},o.texts={value:e.t("ra_tooltip_value"),ack:e.t("ra_tooltip_ack"),ts:e.t("ra_tooltip_ts"),lc:e.t("ra_tooltip_lc"),from:e.t("ra_tooltip_from"),user:e.t("ra_tooltip_user"),c:e.t("ra_tooltip_comment"),quality:e.t("ra_tooltip_quality"),editObject:e.t("ra_tooltip_editObject"),deleteObject:e.t("ra_tooltip_deleteObject"),customConfig:e.t("ra_tooltip_customConfig"),copyState:e.t("ra_tooltip_copyState"),editState:e.t("ra_tooltip_editState"),close:e.t("ra_Close"),filter_id:e.t("ra_filter_id"),filter_name:e.t("ra_filter_name"),filter_type:e.t("ra_filter_type"),filter_role:e.t("ra_filter_role"),filter_room:e.t("ra_filter_room"),filter_func:e.t("ra_filter_func"),filter_custom:e.t("ra_filter_customs"),filterCustomsWithout:e.t("ra_filter_customs_without"),objectChangedByUser:e.t("ra_object_changed_by_user"),objectChangedBy:e.t("ra_object_changed_by"),objectChangedFrom:e.t("ra_state_changed_from"),stateChangedBy:e.t("ra_state_changed_by"),stateChangedFrom:e.t("ra_state_changed_from"),ownerGroup:e.t("ra_Owner group"),ownerUser:e.t("ra_Owner user"),deviceError:e.t("ra_Error"),deviceDisconnected:e.t("ra_Disconnected"),deviceConnected:e.t("ra_Connected"),aclOwner_read_object:e.t("ra_aclOwner_read_object"),aclOwner_read_state:e.t("ra_aclOwner_read_state"),aclOwner_write_object:e.t("ra_aclOwner_write_object"),aclOwner_write_state:e.t("ra_aclOwner_write_state"),aclGroup_read_object:e.t("ra_aclGroup_read_object"),aclGroup_read_state:e.t("ra_aclGroup_read_state"),aclGroup_write_object:e.t("ra_aclGroup_write_object"),aclGroup_write_state:e.t("ra_aclGroup_write_state"),aclEveryone_read_object:e.t("ra_aclEveryone_read_object"),aclEveryone_read_state:e.t("ra_aclEveryone_read_state"),aclEveryone_write_object:e.t("ra_aclEveryone_write_object"),aclEveryone_write_state:e.t("ra_aclEveryone_write_state"),create:e.t("ra_Create"),createBooleanState:e.t("ra_create_boolean_state"),createNumberState:e.t("ra_create_number_state"),createStringState:e.t("ra_create_string_state"),createState:e.t("ra_create_state"),createChannel:e.t("ra_create_channel"),createDevice:e.t("ra_create_device"),createFolder:e.t("ra_Create folder")},o.levelPadding=e.levelPadding||16;var b=(window._localStorage||window.localStorage).getItem("".concat(o.props.dialogName||"App",".table"));if(b)try{b=JSON.parse(b),o.storedWidths=JSON.parse(JSON.stringify(Ce[o.props.width])),Object.keys(b).forEach((function(e){"id"===e?Ce[o.props.width].idWidth=b.id:"nameHeader"===e?Ce[o.props.width].widths.name=b[e]:void 0!==Ce[o.props.width].widths[e]&&(Ce[o.props.width].widths[e]=b[e])})),o.customWidth=!0}catch(w){}return o.calculateColumnsVisibility(),o}return(0,p.default)(t,e),(0,c.default)(t,[{key:"loadAllObjects",value:function(){var e=(0,r.default)(s.default.mark((function e(t){var o,a,n,i,r,l,c,d,u,p=this;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.props,e.prev=1,e.next=4,new Promise((function(e){p.setState({updating:!0},(function(){return e()}))}));case 4:if(!this.props.objectsWorker){e.next=10;break}return e.next=7,this.props.objectsWorker.getObjects(t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,o.socket.getObjects(t,!0);case 12:e.t0=e.sent;case 13:if(a=e.t0,!o.types||!M.default.isWeb()){e.next=26;break}n=0;case 16:if(!(n<o.types.length)){e.next=26;break}if("state"!==o.types[n]&&"channel"!==o.types[n]&&"device"!==o.types[n]&&"enum"!==o.types[n]){e.next=19;break}return e.abrupt("continue",23);case 19:return e.next=21,o.socket.getObjectViewSystem(o.types[n],null,null);case 21:i=e.sent,Object.assign(a,i);case 23:n++,e.next=16;break;case 26:if(e.t1=this.systemConfig||a["system.config"],e.t1){e.next=31;break}return e.next=30,o.socket.getObject("system.config");case 30:e.t1=e.sent;case 31:return this.systemConfig=e.t1,this.systemConfig.common=this.systemConfig.common||{},this.systemConfig.common.defaultNewAcl=this.systemConfig.common.defaultNewAcl||{},this.systemConfig.common.defaultNewAcl.owner=this.systemConfig.common.defaultNewAcl.owner||"system.user.admin",this.systemConfig.common.defaultNewAcl.ownerGroup=this.systemConfig.common.defaultNewAcl.ownerGroup||"system.group.administrator","number"!==typeof this.systemConfig.common.defaultNewAcl.state&&(this.systemConfig.common.defaultNewAcl.state=1636),"number"!==typeof this.systemConfig.common.defaultNewAcl.object&&(this.systemConfig.common.defaultNewAcl.state=1636),"function"===typeof o.filterFunc?(this.objects={},Object.keys(a).forEach((function(e){try{o.filterFunc(a[e])&&(p.objects[e]=a[e])}catch(t){console.log('Error by filtering of "'.concat(e,'": ').concat(t))}}))):o.types?(this.objects={},Object.keys(a).forEach((function(e){var t=a[e]&&a[e].type;t&&("channel"===t||"device"===t||"enum"===t||"folder"===t||"adapter"===t||"instance"===t||o.types.includes(t))&&(p.objects[e]=a[e])}))):this.objects=a,this.defaultHistory=this.systemConfig.common.defaultHistory,this.defaultHistory&&o.socket.getState("system.adapter.".concat(this.defaultHistory,".alive")).then((function(e){e&&e.val||(p.defaultHistory="")})).catch((function(e){return window.alert("Cannot get state: ".concat(e))})),e.next=43,this.getAdditionalColumns();case 43:r=e.sent,this.calculateColumnsVisibility(null,null,r),l=fe(this.objects,this.props),c=l.info,d=l.root,this.root=d,this.info=c,u=this.state.selected&&this.state.selected.length&&ge(this.root,this.state.selected[0]),this.lastAppliedFilter=null,u&&!de(u,this.state.filter,this.props.lang,this.objects,null,null,o.customFilter,o.types)?this.setState({filter:z({},ke),columnsForAdmin:r},(function(){p.setState({loaded:!0,updating:!1},(function(){return p.expandAllSelected((function(){return p.onAfterSelect()}))}))})):this.setState({loaded:!0,updating:!1,columnsForAdmin:r},(function(){return p.expandAllSelected((function(){return p.onAfterSelect()}))})),e.next=56;break;case 53:e.prev=53,e.t2=e.catch(1),this.showError(e.t2);case 56:case"end":return e.stop()}}),e,this,[[1,53]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isNonExpertId",value:function(e){return!!G(xe,this).find((function(t){return e.startsWith(t)}))}},{key:"expandAllSelected",value:function(e){var t=(0,i.default)(this.state.expanded),o=!1;this.state.selected.forEach((function(e){for(var a=e.split("."),n=[],s=0;s<a.length-1;s++)n.push(a[s]),t.includes(n.join("."))||(t.push(n.join(".")),o=!0)})),o?(t.sort(),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t},e)):e&&e()}},{key:"onAfterSelect",value:function(e){var t=this;if(this.lastSelectedItems=(0,i.default)(this.state.selected),this.state.selected&&this.state.selected.length){(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),JSON.stringify(this.lastSelectedItems));var o=1===this.lastSelectedItems.length?W.default.getObjectName(this.objects,this.lastSelectedItems[0],null,{language:this.props.lang}):"";this.props.onSelect&&this.props.onSelect(this.lastSelectedItems,o,e)}else(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),""),this.state.selected.length?this.setState({selected:[]},(function(){return t.props.onSelect&&t.props.onSelect([],"")})):this.props.onSelect&&this.props.onSelect([],"")}},{key:"componentDidMount",value:function(){var e=(0,r.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAllObjects(!Ne);case 2:this.props.objectsWorker?this.props.objectsWorker.registerHandler(this.onObjectChange):this.props.socket.subscribeObject("*",this.onObjectChange),Ne=!0,window.addEventListener("contextmenu",this.onContextMenu,!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=null,window.removeEventListener("contextmenu",this.onContextMenu,!0),this.props.objectsWorker?this.props.objectsWorker.unregisterHandler(this.onObjectChange,!0):this.props.socket.unsubscribeObject("*",this.onObjectChange),this.subscribes.forEach((function(t){console.log("- unsubscribe ".concat(t)),e.props.socket.unsubscribeState(t,e.onStateChange)})),this.subscribes=[],this.objects={}}},{key:"showDeleteDialog",value:function(e){var t,o,a=e.id,n=e.obj,s=e.item,i=Object.keys(this.objects);i.sort();for(var r=0,l="".concat(a,"."),c=0;c<i.length;c++)if(i[c].startsWith(l))r++;else if(i[c]>l)break;this.props.onObjectDelete(a,!(null===(t=s.children)||void 0===t||!t.length),!(null!==(o=n.common)&&void 0!==o&&o.dontDelete),r+1)}},{key:"refreshComponent",value:function(){var e=this;this.subscribes.forEach((function(t){console.log("- unsubscribe ".concat(t)),e.props.socket.unsubscribeState(t,e.onStateChange)})),this.subscribes=[],this.loadAllObjects(!0).then((function(){return console.log("updated!")}))}},{key:"renderErrorDialog",value:function(){var e=this;return this.state.error?f.default.createElement(b.Dialog,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.setState({error:""})},"aria-labelledby":"error-dialog-title","aria-describedby":"error-dialog-description"},f.default.createElement(b.DialogTitle,{id:"alert-dialog-title"},this.props.title||this.props.t("ra_Error")),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,{id:"alert-dialog-description"},this.state.error)),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.setState({error:""})},color:"primary",autoFocus:!0,startIcon:f.default.createElement(w.Check,null)},this.props.t("ra_Ok")))):null}},{key:"showError",value:function(e){this.setState({error:"object"===(0,h.default)(e)?e&&"function"===typeof e.toString?e.toString():JSON.stringify(e):e})}},{key:"onSelect",value:function(e,t,o){var a=this;if(this.props.multiSelect){if(this.objects[e]&&(!this.props.types||this.props.types.includes(this.objects[e].type))){(window._localStorage||window.localStorage).removeItem("".concat(this.props.dialogName||"App",".selectedNonObject"));var n=(0,i.default)(this.state.selected),s=n.indexOf(e);-1===s?(n.push(e),n.sort()):t||n.splice(s,1),this.setState({selected:n,selectedNonObject:""},(function(){a.onAfterSelect(t),o&&o()}))}}else!this.objects[e]||this.props.types&&!this.props.types.includes(this.objects[e].type)?((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".selectedNonObject"),e),this.setState({selected:[],selectedNonObject:e},(function(){a.onAfterSelect(),o&&o()}))):((window._localStorage||window.localStorage).removeItem("".concat(this.props.dialogName||"App",".selectedNonObject")),this.state.selected[0]!==e?this.setState({selected:[e],selectedNonObject:""},(function(){a.onAfterSelect(t),o&&o()})):t&&this.props.onSelect&&this.onAfterSelect(t))}},{key:"_renderDefinedList",value:function(e){var t=this,o=(0,i.default)(this.possibleCols);if(o.unshift("id"),this.props.columns&&!this.props.columns.includes("buttons")){var a=o.indexOf("buttons");-1!==a&&o.splice(a,1)}return o.filter((function(t){return e&&("val"===t||"buttons"===t)||!e&&"val"!==t&&"buttons"!==t})).map((function(e){return f.default.createElement(b.ListItemButton,{onClick:function(){if(!t.state.columnsAuto&&"id"!==e){var o=(0,i.default)(t.state.columns||[]),a=o.indexOf(e);-1===a?(o.push(e),o.sort()):o.splice(a,1),(window._localStorage||window.localStorage).setItem("".concat(t.props.dialogName||"App",".columns"),JSON.stringify(o)),t.calculateColumnsVisibility(null,o),t.setState({columns:o})}},key:e},f.default.createElement(b.Checkbox,{edge:"start",disabled:"id"===e||t.state.columnsAuto,checked:"id"===e||(t.state.columnsAuto?t.visibleCols.includes(e):t.state.columns&&t.state.columns.includes(e)),disableRipple:!0}),f.default.createElement(b.ListItemText,{primary:t.texts["filter_".concat(e)]||t.props.t("ra_".concat(e))}))}))}},{key:"renderColumnsSelectorDialog",value:function(){var e=this;return this.state.columnsSelectorShow?f.default.createElement(b.Dialog,{onClose:function(){return e.setState({columnsSelectorShow:!1})},open:!0,classes:{root:W.default.clsx(this.props.classes.dialogColumns,this.props.classes["transparent_".concat(this.state.columnsDialogTransparent)])}},f.default.createElement(b.DialogTitle,{className:this.props.classes.fontSizeTitle},this.props.t("ra_Configure")),f.default.createElement(b.DialogContent,{className:this.props.classes.fontSizeTitle},f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.foldersFirst,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".foldersFirst"),e.state.foldersFirst?"false":"true"),e.setState({foldersFirst:!e.state.foldersFirst})}}),label:this.props.t("ra_Folders always first")}),f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.linesEnabled,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".lines"),e.state.linesEnabled?"false":"true"),e.setState({linesEnabled:!e.state.linesEnabled})}}),label:this.props.t("ra_Show lines between rows")}),f.default.createElement(b.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:f.default.createElement(b.Switch,{checked:this.state.columnsAuto,onChange:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".columnsAuto"),e.state.columnsAuto?"false":"true"),e.state.columnsAuto?e.state.columns?(e.calculateColumnsVisibility(!1),e.setState({columnsAuto:!1})):(e.calculateColumnsVisibility(!1,(0,i.default)(e.visibleCols)),e.setState({columnsAuto:!1,columns:(0,i.default)(e.visibleCols)})):(e.calculateColumnsVisibility(!0),e.setState({columnsAuto:!0}))}}),label:this.props.t("ra_Auto (no custom columns)")}),f.default.createElement(b.List,null,this._renderDefinedList(!1),this.state.columnsForAdmin&&Object.keys(this.state.columnsForAdmin).sort().map((function(t){return e.state.columnsForAdmin[t].map((function(o){return f.default.createElement(b.ListItemButton,{onClick:function(){if(!e.state.columnsAuto){var a=(0,i.default)(e.state.columns||[]),n="_".concat(t,"_").concat(o.path),s=a.indexOf(n);-1===s?(a.push(n),a.sort()):a.splice(s,1),e.calculateColumnsVisibility(null,a),(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".columns"),JSON.stringify(a)),e.setState({columns:a})}},key:"".concat(t,"_").concat(o.name)},f.default.createElement(b.ListItemIcon,null,f.default.createElement(b.Checkbox,{disabled:e.state.columnsAuto,edge:"start",checked:!e.state.columnsAuto&&e.state.columns&&e.state.columns.includes("_".concat(t,"_").concat(o.path)),disableRipple:!0})),f.default.createElement(b.ListItemText,{primary:"".concat(o.name," (").concat(t,")")}))}))})),this._renderDefinedList(!0))),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.setState({columnsSelectorShow:!1})},color:"primary",startIcon:f.default.createElement(w.Close,null)},this.texts.close))):null}},{key:"getAdditionalColumns",value:function(){var e=this;return this.props.socket.getAdapters().then((function(t){var o=null;return t.forEach((function(t){return o=e.parseObjectForAdmins(o,t)})),o})).catch((function(){}))}},{key:"checkUnsubscribes",value:function(){for(var e=this.subscribes.length-1;e>=0;e--)!this.recordStates.includes(this.subscribes[e])&&this.unsubscribe(this.subscribes[e]);this.recordStates=[]}},{key:"findItem",value:function(e,t,o,a){if(t=t||e.split("."),!(o=o||this.root)||!t.length)return null;if(a=(a?"".concat(a,"."):"")+t.shift(),o.children){var n=o.children.find((function(e){return e.data.id===a}));if(!n)return null;if(n.data.id===e)return n;if(t.length)return this.findItem(e,t,n,a)}return null}},{key:"parseObjectForAdmins",value:function(e,t){var o=this;if(t.common&&t.common.adminColumns&&t.common.name){var a=t.common.adminColumns;"object"!==(0,h.default)(a)&&(a=[a]),(a=a.map((function(e){return"object"!==(0,h.default)(e)?{path:e,name:e.split(".").pop()}:(e.objTypes&&"object"!==(0,h.default)(e.objTypes)?e.objTypes=[e.objTypes]:e.objTypes||(e.objTypes=null),!e.name&&e.path?{path:e.path,name:e.path.split(".").pop(),width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:"object"!==(0,h.default)(e.name)&&e.path?{path:e.path,name:e.name,width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:e.path?{path:e.path,name:e.name[o.props.lang]||e.name.en,width:e.width,edit:!!e.edit,type:e.type,objTypes:e.objTypes}:(console.warn("Admin columns for ".concat(t._id," ignored, because path not found")),null))})).filter((function(e){return e})))&&a.length&&((e=e||{})[t.common.name]=a.sort((function(e,t){return e.path>t.path?-1:e.path<t.path?1:0})))}else t.common&&t.common.name&&e&&e[t.common.name]&&delete e[t.common.name];return e}},{key:"processOnObjectChangeElement",value:function(e,t){console.log("> objectChange ".concat(e));var o=null;if(t&&"function"===typeof this.props.filterFunc&&!this.props.filterFunc(t))return{newState:o,filtered:!0};if(e.startsWith("system.adapter.")&&t&&"adapter"===t.type){var a=JSON.parse(JSON.stringify(this.state.columnsForAdmin));this.parseObjectForAdmins(a,t),JSON.stringify(this.state.columnsForAdmin)!==JSON.stringify(a)&&(o={columnsForAdmin:a})}return this.objects=this.objects||[],t?this.objects[e]=t:this.objects[e]&&delete this.objects[e],{newState:o,filtered:!1}}},{key:"subscribe",value:function(e){this.subscribes.includes(e)||(this.subscribes.push(e),console.log("+ subscribe ".concat(e)),!this.pausedSubscribes&&this.props.socket.subscribeState(e,this.onStateChange))}},{key:"unsubscribe",value:function(e){var t=this.subscribes.indexOf(e);-1!==t&&(this.subscribes.splice(t,1),this.states[e]&&delete this.states[e],console.log("- unsubscribe ".concat(e)),this.props.socket.unsubscribeState(e,this.onStateChange),this.pausedSubscribes&&console.warn("Unsubscribe during pause?"))}},{key:"pauseSubscribe",value:function(e){var t=this;!this.pausedSubscribes&&e?(this.pausedSubscribes=!0,this.subscribes.forEach((function(e){return t.props.socket.unsubscribeState(e,t.onStateChange)}))):this.pausedSubscribes&&!e&&(this.pausedSubscribes=!1,this.subscribes.forEach((function(e){return t.props.socket.subscribeState(e,t.onStateChange)})))}},{key:"onFilter",value:function(e,t){var o=this;this.filterTimer=null;var a=z({},this.state.filter);Object.keys(this.filterRefs).forEach((function(e){if(o.filterRefs[e]&&o.filterRefs[e].current)for(var t=0;t<o.filterRefs[e].current.children.length;t++)if("INPUT"===o.filterRefs[e].current.children[t].tagName){a[e]=o.filterRefs[e].current.children[t].value;break}})),e&&(a[e]=t,"expertMode"===e&&(window._sessionStorage||window.sessionStorage).setItem("App.expertMode",t?"true":"false")),JSON.stringify(this.state.filter)!==JSON.stringify(a)&&((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectFilter"),JSON.stringify(a)),this.setState({filter:a},(function(){return o.props.onFilterChanged&&o.props.onFilterChanged(a)})))}},{key:"clearFilter",value:function(){var e=this,t=z({},this.state.filter);Object.keys(this.filterRefs).forEach((function(o){if(e.filterRefs[o]&&e.filterRefs[o].current)for(var a=0;a<e.filterRefs[o].current.childNodes.length;a++){var n=e.filterRefs[o].current.childNodes[a];if("INPUT"===n.tagName){t[o]="",n.value="";break}}})),JSON.stringify(this.state.filter)!==JSON.stringify(t)&&((window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectFilter"),JSON.stringify(t)),this.setState({filter:t,filterKey:this.state.filterKey+1},(function(){return e.props.onFilterChanged&&e.props.onFilterChanged(t)})))}},{key:"isFilterEmpty",value:function(){var e=this;return!Object.keys(this.state.filter).find((function(t){return"expertMode"!==t&&e.state.filter[t]}))}},{key:"getFilterInput",value:function(e){var t,o=this;return f.default.createElement(b.FormControl,{className:W.default.clsx(this.props.classes.headerCellInput,this.props.classes.filterInput),key:"".concat(e,"_").concat(this.state.filterKey),margin:"dense"},f.default.createElement(b.Input,{ref:this.filterRefs[e],classes:{underline:"no-underline"},id:e,placeholder:this.texts["filter_".concat(e)],defaultValue:this.state.filter[e],onChange:function(){o.filterTimer&&clearTimeout(o.filterTimer),o.filterTimer=setTimeout((function(){return o.onFilter()}),400)},autoComplete:"off"}),null!==(t=this.filterRefs[e])&&void 0!==t&&null!==(t=t.current)&&void 0!==t&&t.firstChild.value?f.default.createElement("div",{style:{position:"absolute",right:0}},f.default.createElement(b.IconButton,{size:"small",onClick:function(){o.filterRefs[e].current.firstChild.value="",o.onFilter(e,"")}},f.default.createElement(w.Close,null))):null)}},{key:"getFilterSelect",value:function(e,t){var o,a=this,n=!!t.find((function(e){return e.icon}));return f.default.createElement("div",{style:{position:"relative"}},f.default.createElement(b.Select,{variant:"standard",key:"".concat(e,"_").concat(this.state.filterKey),ref:this.filterRefs[e],className:"".concat(this.props.classes.headerCellInput," no-underline"),onChange:function(){a.filterTimer&&clearTimeout(a.filterTimer),a.filterTimer=setTimeout((function(){return a.onFilter()}),400)},defaultValue:this.state.filter[e]||"",inputProps:{name:e,id:e},displayEmpty:!0},f.default.createElement(b.MenuItem,{key:"empty",value:""},f.default.createElement("span",{className:this.props.classes.selectNone},this.texts["filter_".concat(e)])),t.map((function(e){var t,o,s;return"object"===(0,h.default)(e)?(t=e.value,o=e.name,s=e.icon):(t=e,o=e),f.default.createElement(b.MenuItem,{className:a.props.classes.headerCellSelectItem,key:t,value:t},s||(n?f.default.createElement("div",{className:"itemIcon"}):null),o)}))),null!==(o=this.filterRefs[e])&&void 0!==o&&null!==(o=o.current)&&void 0!==o&&null!==(o=o.childNodes[1])&&void 0!==o&&o.value?f.default.createElement("div",{className:W.default.clsx(this.props.classes.selectClearButton)},f.default.createElement(b.IconButton,{size:"small",onClick:function(){var t=z({},a.state.filter);t[e]="",a.filterRefs[e].current.childNodes[1].value="",(window._localStorage||window.localStorage).setItem("".concat(a.props.dialogName||"App",".objectFilter"),JSON.stringify(t)),a.setState({filter:t,filterKey:a.state.filterKey+1},(function(){return a.props.onFilterChanged&&a.props.onFilterChanged(t)}))}},f.default.createElement(w.Close,null))):null)}},{key:"getFilterSelectRole",value:function(){return this.getFilterSelect("role",this.info.roles)}},{key:"getFilterSelectRoom",value:function(){var e=this,t=this.info.roomEnums.map((function(t){var o,a;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop()),value:t,icon:f.default.createElement(F.default,{src:(null===(a=e.objects[t])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.icon)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("room",t)}},{key:"getFilterSelectFunction",value:function(){var e=this,t=this.info.funcEnums.map((function(t){var o,a;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop()),value:t,icon:f.default.createElement(F.default,{src:(null===(a=e.objects[t])||void 0===a||null===(a=a.common)||void 0===a?void 0:a.icon)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("func",t)}},{key:"getFilterSelectType",value:function(){var e=this.info.types.map((function(e){return{name:e,value:e,icon:Ee[e]}}));return this.getFilterSelect("type",e)}},{key:"getFilterSelectCustoms",value:function(){var e=this;if(this.info.customs.length>1){var t=this.info.customs.map((function(t){return{name:"_"===t?e.texts.filterCustomsWithout:t,value:t,icon:"_"===t?null:f.default.createElement(F.default,{src:ce(e.objects,t,e.imagePrefix)||"",className:e.props.classes.selectIcon})}}));return this.getFilterSelect("custom",t)}return null}},{key:"onExpandAll",value:function(e,t){var o=this;e=e||this.root,t=t||[],e.children&&e.children.forEach((function(e){e.data.sumVisibility&&(t.push(e.data.id),o.onExpandAll(e,t))})),e===this.root&&(t.sort(),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t}))}},{key:"onCollapseAll",value:function(){var e=this;(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify([])),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectSelected"),"[]"),this.setState({expanded:[],depth:0,selected:[]},(function(){return e.onAfterSelect()}))}},{key:"expandDepth",value:function(e,t,o){var a=this;e=e||this.root,t>0&&e.children&&e.children.forEach((function(e){e.data.sumVisibility&&(re(o,e.data.id)||(o.push(e.data.id),o.sort()),t-1>0&&a.expandDepth(e,t-1,o))}))}},{key:"onExpandVisible",value:function(){if(this.state.depth<9){var e=this.state.depth+1,t=(0,i.default)(this.state.expanded);this.expandDepth(this.root,e,t),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({depth:e,expanded:t})}}},{key:"onStatesViewVisible",value:function(){var e=!this.state.statesView;(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectStatesView"),JSON.stringify(e)),this.setState({statesView:e})}},{key:"onCollapseVisible",value:function(){if(this.state.depth>0){var e=this.state.depth-1,o=t.collapseDepth(e,this.state.expanded);(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(o)),this.setState({depth:e,expanded:o})}}},{key:"_getSelectedIdsForExport",value:function(){if(this.state.selected.length||this.state.selectedNonObject){var e=[],t=Object.keys(this.objects);t.sort();for(var o=this.state.selected[0]||this.state.selectedNonObject,a="".concat(o,"."),n=a.length,s=0;s<t.length;s++){var i=t[s];if((o===i||i.startsWith(a))&&e.push(i),i.substring(0,n)>a)break}return e}return[]}},{key:"_exportObjects",value:function(){var e=(0,r.default)(s.default.mark((function e(t){var o,a,n,i,r,l,c,d,u;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isAll){e.next=3;break}return ie("allObjects.json",this.objects,t),e.abrupt("return");case 3:if(this.state.selected.length||this.state.selectedNonObject){e.next=6;break}return window.alert(this.props.t("ra_Save of objects-tree is not possible")),e.abrupt("return");case 6:o={},a=this.state.selected[0]||this.state.selectedNonObject,n=this._getSelectedIdsForExport(),i=Y(n),e.prev=10,i.s();case 12:if((r=i.n()).done){e.next=23;break}if(c=r.value,o[c]=JSON.parse(JSON.stringify(this.objects[c])),"state"!==(null===(l=o[c])||void 0===l?void 0:l.type)||t.noStatesByExportImport){e.next=20;break}return e.next=18,this.props.socket.getState(c);case 18:(d=e.sent)&&(o[c].val=d.val,o[c].ack=d.ack);case 20:o[c].common&&(u=this.getEnumsForId(c))&&(o[c].common.enums=u);case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),i.e(e.t0);case 28:return e.prev=28,i.f(),e.finish(28);case 31:ie("".concat(a,".json"),o,t);case 32:case"end":return e.stop()}}),e,this,[[10,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderExportDialog",value:function(){var e=this;return!1===this.state.showExportDialog?null:f.default.createElement(b.Dialog,{open:!0},f.default.createElement(b.DialogTitle,null,this.props.t("ra_Select type of export")),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,null,this.state.filter.expertMode||this.state.showAllExportOptions?f.default.createElement(f.default.Fragment,null,this.props.t("ra_You can export all objects or just the selected branch."),f.default.createElement("br",null),this.props.t("ra_Selected %s object(s)",this.state.showExportDialog),f.default.createElement("br",null),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.noStatesByExportImport,onChange:function(t){return e.setState({noStatesByExportImport:t.target.checked})}}),label:this.props.t("ra_Do not export values of states")}),f.default.createElement("br",null),this.props.t("These options can reduce the size of the export file:"),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.beautifyJsonExport,onChange:function(t){return e.setState({beautifyJsonExport:t.target.checked})}}),label:this.props.t("Beautify JSON output")}),f.default.createElement("br",null),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.excludeSystemRepositoriesFromExport,onChange:function(t){return e.setState({excludeSystemRepositoriesFromExport:t.target.checked})}}),label:this.props.t("Exclude system repositories from export JSON")}),f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{checked:this.state.excludeTranslations,onChange:function(t){return e.setState({excludeTranslations:t.target.checked})}}),label:this.props.t("Exclude translations (except english) from export JSON")})):null)),f.default.createElement(b.DialogActions,null,this.state.filter.expertMode||this.state.showAllExportOptions?f.default.createElement(b.Button,{color:"grey",variant:"outlined",onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1},(function(){return e._exportObjects({isAll:!0,noStatesByExportImport:e.state.noStatesByExportImport,beautify:e.state.beautifyJsonExport,excludeSystemRepositories:e.state.excludeSystemRepositoriesFromExport,excludeTranslations:e.state.excludeTranslations})}))}},this.props.t("ra_All objects")," ","(",Object.keys(this.objects).length,")"):f.default.createElement(b.Button,{color:"grey",variant:"outlined",startIcon:f.default.createElement(k.default,null),onClick:function(){return e.setState({showAllExportOptions:!0})}},this.props.t("ra_Advanced options")),f.default.createElement(b.Button,{color:"primary",variant:"contained",autoFocus:!0,onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1},(function(){return e._exportObjects({isAll:!1,noStatesByExportImport:e.state.noStatesByExportImport,beautify:e.state.beautifyJsonExport,excludeSystemRepositories:e.state.excludeSystemRepositoriesFromExport,excludeTranslations:e.state.excludeTranslations})}))}},this.props.t("ra_Only selected")," ","(",this.state.showExportDialog,")"),f.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:function(){return e.setState({showExportDialog:!1,showAllExportOptions:!1})},startIcon:f.default.createElement(w.Close,null)},this.props.t("ra_Cancel"))))}},{key:"getToolbar",value:function(){var e=this,t=!1;if(this.state.selected.length||this.state.selectedNonObject){var o=this.state.selected[0]||this.state.selectedNonObject;o.split(".").length<2||this.objects[o]&&"state"===this.objects[o].type?t=!1:(this.state.filter.expertMode||o.startsWith("alias.0")||o.startsWith("0_userdata"))&&(t=!0)}return f.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},f.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},f.default.createElement(b.Tooltip,{title:this.props.t("ra_Refresh tree"),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,f.default.createElement(b.IconButton,{onClick:function(){return e.refreshComponent()},disabled:this.state.updating,size:"large"},f.default.createElement(w.Refresh,null)))),this.props.showExpertButton&&!this.props.expertMode&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_expertMode"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expertMode",color:this.state.filter.expertMode?"secondary":"default",onClick:function(){return e.onFilter("expertMode",!e.state.filter.expertMode)},size:"large"},f.default.createElement(k.default,null))),!this.props.disableColumnSelector&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Configure"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"columnSelector",color:this.state.columnsAuto?"primary":"default",onClick:function(){return e.setState({columnsSelectorShow:!0})},size:"large"},f.default.createElement(w.ViewColumn,null))),this.state.expandAllVisible&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Expand all nodes"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expandAll",onClick:function(){return e.onExpandAll()},size:"large"},f.default.createElement(I.default,null))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Collapse all nodes"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"collapseAll",onClick:function(){return e.onCollapseAll()},size:"large"},f.default.createElement(A.default,null))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Expand one step node"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"expandVisible",color:"primary",onClick:function(){return e.onExpandVisible()},size:"large"},f.default.createElement(Se,{badgeContent:this.state.depth,color:"secondary"},f.default.createElement(I.default,null)))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Collapse one step node"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{key:"collapseVisible",color:"primary",onClick:function(){return e.onCollapseVisible()},size:"large"},f.default.createElement(Se,{badgeContent:this.state.depth,color:"secondary"},f.default.createElement(A.default,null)))),this.props.objectStatesView&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Toggle the states view"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){return e.onStatesViewVisible()},size:"large"},f.default.createElement(w.LooksOne,{color:this.state.statesView?"primary":"inherit"}))),f.default.createElement(b.Tooltip,{title:this.props.t("ra_Show/Hide object descriptions"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".desc"),e.state.showDescription?"false":"true"),e.setState({showDescription:!e.state.showDescription})},size:"large"},f.default.createElement(w.TextFields,{color:this.state.showDescription?"primary":"inherit"}))),this.props.objectAddBoolean?f.default.createElement(b.Tooltip,{title:this.toolTipObjectCreating(),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,f.default.createElement(b.IconButton,{disabled:!t,onClick:function(){return e.setState({modalNewObj:{id:e.state.selected[0]||e.state.selectedNonObject}})},size:"large"},f.default.createElement(w.Add,null)))):null,this.props.objectImportExport&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Add objects tree from JSON file"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","files"),t.setAttribute("opacity",0),t.addEventListener("change",(function(t){return e.handleJsonUpload(t)}),!1),t.click()},size:"large"},f.default.createElement(w.Publish,null))),this.props.objectImportExport&&(!!this.state.selected.length||this.state.selectedNonObject)&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Save objects tree as JSON file"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){return e.setState({showExportDialog:e._getSelectedIdsForExport().length})},size:"large"},f.default.createElement(w.Publish,{style:{transform:"rotate(180deg)"}})))),!!this.props.objectBrowserEditObject&&f.default.createElement("div",{style:{display:"flex",whiteSpace:"nowrap"}},"".concat(this.props.t("ra_Objects"),": ").concat(Object.keys(this.info.objects).length,", ").concat(this.props.t("ra_States"),": ").concat(Object.keys(this.info.objects).filter((function(t){return"state"===e.info.objects[t].type})).length)),this.props.objectEditBoolean&&f.default.createElement(b.Tooltip,{title:this.props.t("ra_Edit custom config"),classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{onClick:function(){var t=ue(e.root,"state",e.objects);t.length?(e.pauseSubscribe(!0),1===t.length&&((window._localStorage||window.localStorage).setItem("".concat(e.props.dialogName||"App",".objectSelected"),e.state.selected[0]),e.props.router&&e.props.router.doNavigate(null,"custom",e.state.selected[0])),e.setState({customDialog:t})):e.setState({toast:e.props.t("ra_please select object")})},size:"large"},f.default.createElement(w.Build,null))))}},{key:"toggleExpanded",value:function(e){var t=JSON.parse(JSON.stringify(this.state.expanded)),o=t.indexOf(e);-1===o?(t.push(e),t.sort()):t.splice(o,1),(window._localStorage||window.localStorage).setItem("".concat(this.props.dialogName||"App",".objectExpanded"),JSON.stringify(t)),this.setState({expanded:t})}},{key:"onCopy",value:function(e,t){e.stopPropagation(),e.preventDefault(),W.default.copyToClipboard(t,null),t.length<50?this.setState({toast:this.props.t("ra_Copied %s",t)}):this.setState({toast:this.props.t("ra_Copied")})}},{key:"renderColumnButtons",value:function(e,t,o){var a,n,s,i=this;if(!t.data.obj)return this.props.onObjectDelete||this.props.objectEditOfAccessControl?f.default.createElement("div",{className:o.buttonDiv},this.state.filter.expertMode&&this.props.objectEditOfAccessControl?f.default.createElement(b.IconButton,{className:W.default.clsx(o.cellButtonsButton,o.cellButtonsEmptyButton,o.cellButtonMinWidth),onClick:function(){return i.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:t.data})},size:"large"},"---"):null,this.props.onObjectDelete&&t.children&&t.children.length?f.default.createElement(b.IconButton,{className:W.default.clsx(o.cellButtonsButton,o.cellButtonsButtonAlone),size:"small","aria-label":"delete",title:this.texts.deleteObject,onClick:function(){var o,a=Object.keys(i.objects);a.sort();for(var n=0,s="".concat(e,"."),r=0;r<a.length;r++)if(a[r].startsWith(s))n++;else if(a[r]>s)break;i.props.onObjectDelete(e,!(null===(o=t.children)||void 0===o||!o.length),!1,n+1)}},f.default.createElement(w.Delete,{className:o.cellButtonsButtonIcon})):null):null;t.data.aclTooltip=t.data.aclTooltip||this.renderTooltipAccessControl(t.data.obj.acl);var r=t.data.obj.acl?"state"===t.data.obj.type?t.data.obj.acl.state:t.data.obj.acl.object:0,l=t.data.obj.acl&&("state"===t.data.obj.type?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object),c=this.state.filter.expertMode||this.isNonExpertId(t.data.id);return[this.state.filter.expertMode&&this.props.objectEditOfAccessControl?f.default.createElement(b.Tooltip,{key:"acl",title:t.data.aclTooltip,classes:{popper:this.props.classes.tooltip}},f.default.createElement(b.IconButton,{className:o.cellButtonMinWidth,onClick:function(){return i.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:t.data})},size:"large"},f.default.createElement("div",{className:o.aclText},Number.isNaN(Number(r))?Number(l).toString(16):Number(r).toString(16)))):f.default.createElement("div",{key:"aclEmpty",className:o.cellButtonMinWidth}),c?f.default.createElement(b.IconButton,{key:"edit",className:o.cellButtonsButton,size:"small","aria-label":"edit",title:this.texts.editObject,onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(i.props.dialogName||"App",".objectSelected"),e),i.setState({editObjectDialog:e,editObjectAlias:!1})}},f.default.createElement(w.Edit,{className:o.cellButtonsButtonIcon})):f.default.createElement("div",{key:"editDisabled",className:o.cellButtonsButton}),this.props.onObjectDelete&&(null!==(a=t.children)&&void 0!==a&&a.length||null===(n=t.data.obj.common)||void 0===n||!n.dontDelete)?f.default.createElement(b.IconButton,{key:"delete",className:o.cellButtonsButton,size:"small","aria-label":"delete",onClick:function(){var o,a,n=Object.keys(i.objects);n.sort();for(var s=0,r="".concat(e,"."),l=0;l<n.length;l++)if(n[l].startsWith(r))s++;else if(n[l]>r)break;i.props.onObjectDelete(e,!(null===(o=t.children)||void 0===o||!o.length),!(null!==(a=t.data.obj.common)&&void 0!==a&&a.dontDelete),s)},title:this.texts.deleteObject},f.default.createElement(w.Delete,{className:o.cellButtonsButtonIcon})):null,this.props.objectCustomDialog&&this.info.hasSomeCustoms&&"state"===t.data.obj.type&&"file"!==(null===(s=t.data.obj.common)||void 0===s?void 0:s.type)?f.default.createElement(b.IconButton,{className:W.default.clsx(o.cellButtonsButton,t.data.hasCustoms?o.cellButtonsButtonWithCustoms:o.cellButtonsButtonWithoutCustoms),key:"custom",size:"small","aria-label":"config",title:this.texts.customConfig,onClick:function(){(window._localStorage||window.localStorage).setItem("".concat(i.props.dialogName||"App",".objectSelected"),e),i.pauseSubscribe(!0),i.props.router&&i.props.router.doNavigate(null,"customs",e),i.setState({customDialog:[e]})}},f.default.createElement(w.Settings,{className:o.cellButtonsButtonIcon})):null]}},{key:"readHistory",value:function(e){if(window.sparkline&&this.defaultHistory&&this.objects[e]&&this.objects[e].common&&this.objects[e].common.custom&&this.objects[e].common.custom[this.defaultHistory]){var t=new Date;t.setHours(t.getHours()-24),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var o=t.getTime();this.props.socket.getHistory(e,{instance:this.defaultHistory,start:o,end:Date.now(),step:36e5,from:!1,ack:!1,q:!1,addID:!1,aggregate:"minmax"}).then((function(t){for(var a=window.document.getElementsByClassName("sparkline"),n=0;n<a.length;n++)if(a[n].dataset.id===e){var s=we(t,o);window.sparkline.sparkline(a[n],s);break}})).catch((function(e){return console.warn("Cannot read history: ".concat(e))}))}}},{key:"renderColumnValue",value:function(e,t,o){var a,n=this,s=t.data.obj;if(!s||!this.states)return null;if("file"===(null===(a=s.common)||void 0===a?void 0:a.type))return f.default.createElement("div",{className:W.default.clsx(o.cellValueText,o.cellValueFile)},"[file]");if(!this.states[e])return"state"===s.type&&(!this.recordStates.includes(e)&&this.recordStates.push(e),this.states[e]={val:null},this.subscribe(e)),null;!this.recordStates.includes(e)&&this.recordStates.push(e);var i=this.states[e],r=t.data.state;if(!r){t.data.state=function(e){var t=e.dateFormat,o=e.obj,a=e.state,n=e.isFloatComma,s=e.texts,i=W.default.getStates(o),r=o.common,l={},c=r&&"file"===r.type?"[file]":a&&null!==a.val?void 0===a.val?"[undef]":a.val:"(null)",d=(0,h.default)(c);if(null!==r&&void 0!==r&&r.role&&"string"===typeof r.role&&r.role.match(/^value\.time|^date/))if(c&&"string"===typeof c)if(W.default.isStringInteger(c))c=new Date(parseInt(c,10)).toString();else try{var u=new Date(c);W.default.isValidDate(u)&&(c=u.toString())}catch(g){}else c>946681200&&c<9466812e5&&(c*=1e3),c=c?new Date(c).toString():c;else"number"===d?(c=Math.round(1e8*c)/1e8,n&&(c=c.toString().replace(".",","))):"object"===d?c=JSON.stringify(c):"string"!==d&&(c=c.toString()),"string"!==typeof c&&(c=c.toString());i&&void 0!==i[c]&&c!==i[c]&&(l.s=c,c=i[c]),null!==r&&void 0!==r&&r.unit&&(l.u=r.unit);var p=[{t:s.value,v:c}];if(a){if(void 0!==a.ack&&null!==a.ack&&p.push({t:s.ack,v:a.ack.toString()}),a.ts&&p.push({t:s.ts,v:a.ts?W.default.formatDate(new Date(a.ts),t):""}),a.lc&&p.push({t:s.lc,v:a.lc?W.default.formatDate(new Date(a.lc),t):""}),a.from){var m=a.from.toString();m.startsWith("system.adapter.")&&(m=m.substring(15)),p.push({t:s.from,v:m})}if(a.user){var f=a.user.toString();f.startsWith("system.user.")&&(f=f.substring(12)),p.push({t:s.user,v:f})}a.c&&p.push({t:s.c,v:a.c}),p.push({t:s.quality,v:W.default.quality2text(a.q||0).join(", "),nbr:!0})}return l.v=c,{valText:l,valFull:p}}({state:i,obj:s,texts:this.texts,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma}),(r=t.data.state).valFull=r.valFull.map((function(e){return e.t===n.texts.quality&&i.q?[f.default.createElement("div",{className:o.cellValueTooltipBoth,key:e.t},e.t,":\xa0",e.v),e.nbr?null:f.default.createElement("br",{key:"".concat(e.t,"_br")})]:[f.default.createElement("div",{className:o.cellValueTooltipTitle,key:e.t},e.t,":\xa0"),f.default.createElement("div",{className:o.cellValueTooltipValue,key:"".concat(e.t,"_v")},e.v),e.nbr?null:f.default.createElement("br",{key:"".concat(e.t,"_br")})]})),this.defaultHistory&&this.objects[e]&&this.objects[e].common&&this.objects[e].common.custom&&this.objects[e].common.custom[this.defaultHistory]&&r.valFull.push(f.default.createElement("svg",{key:"sparkline",className:"sparkline","data-id":e,style:{fill:"#3d85de"},width:"200",height:"30",strokeWidth:"3"}));var l=r.valText.v||"";r.val=l,r.valText=[f.default.createElement("span",{className:o.newValue,key:"".concat(r.valText.v.toString(),"valText")},r.valText.v.toString()),r.valText.u?f.default.createElement("span",{className:W.default.clsx(o.cellValueTextUnit,o.newValue),key:"".concat(r.valText.v.toString(),"unit")},r.valText.u):null,void 0!==r.valText.s?f.default.createElement("span",{className:W.default.clsx(o.cellValueTextState,o.newValue),key:"".concat(r.valText.v.toString(),"states")},"(",r.valText.s,")"):null,f.default.createElement(N.default,{className:W.default.clsx(o.cellButtonsValueButton,"copyButton",o.cellButtonsValueButtonCopy),onClick:function(e){return n.onCopy(e,l)},key:"cc"})]}r.style=function(e){var t=e.state,o=e.isExpertMode,a=e.isButton,n=null!==t&&void 0!==t&&t.ack?t.q?"#ffa500":"":"#ff2222c9";return!o&&a&&(n=""),{color:n}}({state:i,isExpertMode:this.state.filter.expertMode,isButton:t.data.button});var c=r.valText;return!this.state.filter.expertMode&&t.data.button&&(c=f.default.createElement(w.RoomService,{className:this.props.classes.cellValueButton})),f.default.createElement(b.Tooltip,{key:"value",title:r.valFull,classes:{tooltip:this.props.classes.cellValueTooltip,popper:this.props.classes.cellValueTooltipBox},onOpen:function(){return n.readHistory(e)}},f.default.createElement("div",{style:r.style,className:o.cellValueText},c))}},{key:"_syncEnum",value:function(e,t,o,a){var n,s=this;if(t&&t.length){var i=t.pop(),r=[];if(null!==(n=this.info.objects[i])&&void 0!==n&&n.common){var l,c;if(null!==(l=this.info.objects[i].common.members)&&void 0!==l&&l.length){var d=this.info.objects[i].common.members.indexOf(e);if(-1!==d&&!o.includes(i)){var u=JSON.parse(JSON.stringify(this.info.objects[i]));u.common.members.splice(d,1),r.push(this.props.socket.setObject(i,u).then((function(){return s.info.objects[i]=u})).catch((function(e){return s.showError(e)})))}}if(o.includes(i)&&(null===(c=this.info.objects[i].common.members)||void 0===c||!c.includes(e))){var p=JSON.parse(JSON.stringify(this.info.objects[i]));p.common.members=p.common.members||[],p.common.members.push(e),p.common.members.sort(),r.push(this.props.socket.setObject(i,p).then((function(){return s.info.objects[i]=p})).catch((function(e){return s.showError(e)})))}}Promise.all(r).then((function(){return setTimeout((function(){return s._syncEnum(e,t,o,a)}),0)}))}else a&&a()}},{key:"syncEnum",value:function(e,t,o){var a=this,n=(0,i.default)(this.info["func"===t?"funcEnums":"roomEnums"]);return new Promise((function(t){a._syncEnum(e,n,o,(function(e){e&&a.showError(e),t()}))}))}},{key:"renderEnumDialog",value:function(){var e=this;if(this.state.enumDialog){var t=this.state.enumDialog.type,o=this.state.enumDialog.item,a=this.state.enumDialogEnums,n=this.state.enumDialog.enumsOriginal,s=("room"===t?this.info.roomEnums:this.info.funcEnums).map((function(t){var o;return{name:le((null===(o=e.objects[t])||void 0===o||null===(o=o.common)||void 0===o?void 0:o.name)||t.split(".").pop(),e.props.lang),value:t,icon:ce(e.objects,t,e.imagePrefix)}})).sort((function(e,t){return e.name>t.name?1:-1}));return s.forEach((function(t){t.icon&&"string"===typeof t.icon&&(t.icon=f.default.createElement("div",{className:e.props.classes.enumIconDiv},f.default.createElement("img",{src:t.icon,className:e.props.classes.enumIcon,alt:t.name})))})),f.default.createElement(b.Dialog,{className:this.props.classes.enumDialog,onClose:function(){return e.setState({enumDialog:null})},"aria-labelledby":"enum-dialog-title",open:!0},f.default.createElement(b.DialogTitle,{id:"enum-dialog-title"},"func"===t?this.props.t("ra_Define functions"):this.props.t("ra_Define rooms"),f.default.createElement(b.Fab,{className:this.props.classes.enumButton,color:"primary",disabled:JSON.stringify(n)===JSON.stringify(a),size:"small",onClick:function(){return e.syncEnum(o.data.id,t,a).then((function(){return e.setState({enumDialog:null,enumDialogEnums:null})}))}},f.default.createElement(w.Check,null))),f.default.createElement(b.List,{classes:{root:this.props.classes.enumList}},s.map((function(t){var o,n,s;"object"===(0,h.default)(t)?(o=t.value,n=t.name,s=t.icon):(o=t,n=t);var i="checkbox-list-label-".concat(o);return f.default.createElement(b.ListItem,{className:e.props.classes.headerCellSelectItem,key:o,onClick:function(){var t=a.indexOf(o),n=JSON.parse(JSON.stringify(e.state.enumDialogEnums));-1===t?(n.push(o),n.sort()):n.splice(t,1),e.setState({enumDialogEnums:n})}},f.default.createElement(b.ListItemIcon,{classes:{root:e.props.classes.enumCheckbox}},f.default.createElement(b.Checkbox,{edge:"start",checked:a.includes(o),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})),f.default.createElement(b.ListItemText,{id:i},n),s?f.default.createElement(b.ListItemSecondaryAction,null,s):null)}))))}return null}},{key:"renderEditRoleDialog",value:function(){var e=this;if(this.state.roleDialog&&this.props.objectBrowserEditRole){var t=this.props.objectBrowserEditRole;return f.default.createElement(t,{key:"objectBrowserEditRole",id:this.state.roleDialog,socket:this.props.socket,t:this.props.t,roles:this.info.roles,onClose:function(t){t&&(e.info.objects[e.state.roleDialog]=t),e.setState({roleDialog:!1})}})}return null}},{key:"onColumnsEditCustomDialogClose",value:function(e){var o=this;if(e){var a=this.customColumnDialog.value;"boolean"===this.customColumnDialog.type?a="true"===a||!0===a:"number"===this.customColumnDialog.type&&(a=parseFloat(a)),this.customColumnDialog=null,this.props.socket.getObject(this.state.columnsEditCustomDialog.obj._id).then((function(e){if(t.setCustomValue(e,o.state.columnsEditCustomDialog.it,a))return o.props.socket.setObject(e._id,e);throw new Error(o.props.t("ra_Cannot update attribute, because not found in the object"))})).then((function(){return o.setState({columnsEditCustomDialog:null})})).catch((function(e){return o.showError(e)}))}else this.customColumnDialog=null,this.setState({columnsEditCustomDialog:null})}},{key:"renderColumnsEditCustomDialog",value:function(){var e=this;if(this.state.columnsEditCustomDialog){if(!this.customColumnDialog){var o=t.getCustomValue(this.state.columnsEditCustomDialog.obj,this.state.columnsEditCustomDialog.it);this.customColumnDialog={type:this.state.columnsEditCustomDialog.it.type||(0,h.default)(o),initValue:(null===o||void 0===o?"":o).toString(),value:(null===o||void 0===o?"":o).toString()}}return f.default.createElement(b.Dialog,{onClose:function(){return e.setState({columnsEditCustomDialog:null})},maxWidth:"md","aria-labelledby":"custom-dialog-title",open:!0},f.default.createElement(b.DialogTitle,{id:"custom-dialog-title"},"".concat(this.props.t("ra_Edit object field"),": ").concat(this.state.columnsEditCustomDialog.obj._id)),f.default.createElement(b.DialogContent,null,f.default.createElement(b.DialogContentText,{id:"alert-dialog-description"},"boolean"===this.customColumnDialog.type?f.default.createElement(b.FormControlLabel,{control:f.default.createElement(b.Checkbox,{onKeyUp:function(t){return 13===t.keyCode&&e.onColumnsEditCustomDialogClose(!0)},defaultChecked:"true"===this.customColumnDialog.value,onChange:function(t){e.customColumnDialog.value=t.target.checked.toString();var o=e.customColumnDialog.value!==e.customColumnDialog.initValue;o===!e.state.customColumnDialogValueChanged&&e.setState({customColumnDialogValueChanged:o})}}),label:"".concat(this.state.columnsEditCustomDialog.it.name," (").concat(this.state.columnsEditCustomDialog.it.pathText,")")}):f.default.createElement(b.TextField,{variant:"standard",defaultValue:this.customColumnDialog.value,fullWidth:!0,onKeyUp:function(t){return 13===t.keyCode&&e.onColumnsEditCustomDialogClose(!0)},label:"".concat(this.state.columnsEditCustomDialog.it.name," (").concat(this.state.columnsEditCustomDialog.it.pathText,")"),onChange:function(t){e.customColumnDialog.value=t.target.value;var o=e.customColumnDialog.value!==e.customColumnDialog.initValue;o===!e.state.customColumnDialogValueChanged&&e.setState({customColumnDialogValueChanged:o})},autoFocus:!0}))),f.default.createElement(b.DialogActions,null,f.default.createElement(b.Button,{variant:"contained",onClick:function(){return e.onColumnsEditCustomDialogClose(!0)},disabled:!this.state.customColumnDialogValueChanged,color:"primary",startIcon:f.default.createElement(w.Check,null)},this.props.t("ra_Update")),f.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:function(){return e.onColumnsEditCustomDialogClose()},startIcon:f.default.createElement(w.Close,null)},this.props.t("ra_Cancel"))))}return null}},{key:"renderCustomValue",value:function(e,o,a){var n=this,s=t.getCustomValue(e,o);return null!==s&&void 0!==s?!o.edit||this.props.notEditable||o.objTypes&&!o.objTypes.includes(e.type)?f.default.createElement("div",{className:W.default.clsx(this.props.classes.columnCustom,this.props.classes["columnCustom_".concat(o.align)])},s):f.default.createElement("div",{className:W.default.clsx(this.props.classes.columnCustom,this.props.classes.columnCustomEditable,this.props.classes["columnCustom_".concat(o.align)]),onClick:function(){return n.setState({columnsEditCustomDialog:{item:a,it:o,obj:e},customColumnDialogValueChanged:!1})}},s):null}},{key:"renderLeaf",value:function(e,t,o,a){var n,s,i,r,l,c,d,u,p,m=this,g=e.data.id;a.count++,t=void 0===t?this.state.expanded.includes(g):t;var v=e.data.obj,y=null===v||void 0===v?void 0:v.type;p=e.children||"folder"===y||"device"===y||"channel"===y||"meta"===y?t?f.default.createElement(I.default,{className:o.cellIdIconFolder,onClick:function(){return m.toggleExpanded(g)}}):f.default.createElement(A.default,{className:o.cellIdIconFolder,onClick:function(){return m.toggleExpanded(g)}}):v.common&&!1===v.common.write&&"state"===v.type?f.default.createElement(_.default,{className:o.cellIdIconDocument}):f.default.createElement(O.default,{className:o.cellIdIconDocument});var k=null;e.data.icon&&(k="string"===typeof e.data.icon?e.data.icon.length<3?f.default.createElement("span",{className:W.default.clsx(o.cellIdIconOwn,"iconOwn")},e.data.icon):f.default.createElement("img",{className:W.default.clsx(o.cellIdIconOwn,"iconOwn"),src:e.data.icon,alt:""}):e.data.icon);var E=null===v||void 0===v?void 0:v.common,S=v&&v.type&&Ee[v.type]||f.default.createElement("div",{className:"itemIcon"}),C=this.levelPadding*e.data.level;if(e.data.lang!==this.props.lang){var x=ve(this.info,g,this.props.lang),D=x.rooms,j=x.per;e.data.rooms=D.join(", "),e.data.per=j;var T=be(this.info,g,this.props.lang),M=T.funcs,F=T.pef;e.data.funcs=M.join(", "),e.data.pef=F,e.data.lang=this.props.lang}var R=this.props.multiSelect&&this.objects[g]&&(!this.props.types||this.props.types.includes(this.objects[g].type))?f.default.createElement(b.Checkbox,{className:o.checkBox,checked:this.state.selected.includes(g)}):null,B=!this.props.notEditable&&"state"===y&&(this.state.filter.expertMode||!1!==(null===E||void 0===E?void 0:E.write));this.props.objectBrowserViewFile&&"file"===(null===E||void 0===E?void 0:E.type)&&(B=!0);var V,L=!this.props.notEditable&&this.objects[g]&&(this.state.filter.expertMode||"state"===y||"channel"===y||"device"===y),J=this.state.statesView&&("state"===y||"channel"===y||"device"===y),P="",z=[];if(J&&(void 0===(P=null===(V=this.states[g])||void 0===V?void 0:V.from)?P="&nbsp;":(P=P?P.replace(/^system\.adapter\.|^system\./,""):"",z.push("".concat(this.texts.stateChangedFrom," ").concat(P))),v.user)){var H=v.user.replace("system.user.","");P+="/".concat(H),z.push("".concat(this.texts.stateChangedBy," ").concat(H))}v&&(v.from&&z.push("".concat(this.texts.objectChangedFrom," ").concat(v.from.replace(/^system\.adapter\.|^system\./,""))),v.user&&z.push("".concat(this.texts.objectChangedBy," ").concat(v.user.replace(/^system\.user\./,""))),v.ts&&z.push("".concat(this.texts.objectChangedByUser," ").concat(W.default.formatDate(new Date(v.ts),this.props.dateFormat))));var U,q="object"===(0,h.default)(null===E||void 0===E||null===(n=E.alias)||void 0===n?void 0:n.id),G=g.startsWith("alias.")&&null!==E&&void 0!==E&&null!==(s=E.alias)&&void 0!==s&&s.id?q?f.default.createElement("div",{className:o.cellIdAliasReadWriteDiv},E.alias.id.read?f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id.read),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id.read)}))}),100)},className:W.default.clsx(o.cellIdAlias,o.cellIdAliasReadWrite)},"\u2190",E.alias.id.read):null,E.alias.id.write?f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id.write),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id.write)}))}),100)},className:W.default.clsx(o.cellIdAlias,o.cellIdAliasReadWrite)},"\u2192",E.alias.id.write):null):f.default.createElement("div",{onClick:function(e){e.stopPropagation(),e.preventDefault(),m.onSelect(E.alias.id),setTimeout((function(){return m.expandAllSelected((function(){return m.scrollToItem(E.alias.id)}))}),100)},className:W.default.clsx(o.cellIdAlias,o.cellIdAliasAlone)},"\u2192",E.alias.id):null,Y=null===E||void 0===E?void 0:E.color;if(Y&&!this.state.selected.includes(g)){var K="dark"===this.props.themeName?"#1f1f1f":"blue"===this.props.themeName?"#222a2e":"#FFFFFF";W.default.colorDistance(Y,K)<1e3&&(U="dark"===this.props.themeType?"#9a9a9a":"#565656")}"system"===g?Y="#ff6d69":"system.adapter"===g?Y="#5773ff":Y&&!this.state.selected.includes(g)||(Y="inherit");var $=[];if(null!==E&&void 0!==E&&E.statusStates){var X={};Object.keys(E.statusStates).forEach((function(e){var t,o=E.statusStates[e];(o.split(".").length<3&&(o="".concat(g,".").concat(o)),X[e]=o,m.states[o])?!m.recordStates.includes(o)&&m.recordStates.push(o):"state"===(null===(t=m.objects[o])||void 0===t?void 0:t.type)&&(!m.recordStates.includes(o)&&m.recordStates.push(o),m.states[o]={val:null},m.subscribe(o))}));var Q=!1;E.statusStates.errorId&&this.states[X.errorId]&&this.states[X.errorId].val&&(Y="dark"===this.props.themeType?Z:ee,Q=!0,$.push(f.default.createElement(w.Error,{key:"error",title:this.texts.deviceError,className:this.props.classes.iconDeviceError}))),X.onlineId&&this.states[X.onlineId]?Q?this.states[X.onlineId].val?$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected})):$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected})):this.states[X.onlineId].val?(Y="dark"===this.props.themeType?te:oe,$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected}))):(Y="dark"===this.props.themeType?ae:ne,$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected}))):X.offlineId&&this.states[X.offlineId]&&(Q?this.states[X.offlineId].val?$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected})):$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected})):this.states[X.offlineId].val?(Y="dark"===this.props.themeType?ae:ne,$.push(f.default.createElement(w.WifiOff,{key:"disc",title:this.texts.deviceError,className:this.props.classes.iconDeviceDisconnected}))):(Y="dark"===this.props.themeType?te:oe,$.push(f.default.createElement(w.Wifi,{key:"conn",title:this.texts.deviceError,className:this.props.classes.iconDeviceConnected}))))}var se,ie=J?W.default.quality2text((null===(i=this.states[g])||void 0===i?void 0:i.q)||0).join(", "):null,re=(null===(r=e.data)||void 0===r?void 0:r.title)||"";return this.state.showDescription&&(se=me(e.data,this.props.lang))&&(re=[f.default.createElement("div",{key:"name",className:o.cellNameDivDiv},re),f.default.createElement("div",{key:"desc",className:o.cellDescription},se)],se=!!se),f.default.createElement(b.Grid,{container:!0,direction:"row",wrap:"nowrap",className:W.default.clsx(o.tableRow,this.state.linesEnabled&&o.tableRowLines,!this.props.dragEnabled&&o.tableRowNoDragging,G&&o.tableRowAlias,q&&o.tableRowAliasReadWrite,!e.data.visible&&o.filteredOut,e.data.hasVisibleParent&&!e.data.visible&&!e.data.hasVisibleChildren&&o.filteredParentOut,this.state.selected.includes(g)&&o.itemSelected,this.state.selectedNonObject===g&&o.itemSelected),key:g,id:g,onMouseDown:function(t){var o;m.onSelect(g),"which"in t?o=3===t.which:"button"in t&&(o=2===t.button),m.contextMenu=o?{item:e,ts:Date.now()}:null},onDoubleClick:function(){e.children?m.toggleExpanded(g):m.onSelect(g,!0)}},f.default.createElement(b.Grid,{container:!0,wrap:"nowrap",direction:"row",className:o.cellId,style:{width:this.columnsVisibility.id,paddingLeft:C}},f.default.createElement(b.Grid,{item:!0,container:!0,alignItems:"center"},R,p),f.default.createElement(b.Grid,{item:!0,style:{color:Y},className:W.default.clsx(o.cellIdSpan,U&&o.invertedBackground)},f.default.createElement(b.Tooltip,{title:he(e.data,this.props.classes,this.props.lang),classes:{popper:this.props.classes.tooltip}},f.default.createElement("div",null,e.data.name)),G,$),f.default.createElement("div",{className:W.default.clsx(o.grow,U&&o.invertedBackgroundFlex)}),f.default.createElement(b.Grid,{item:!0,container:!0,alignItems:"center"},k),f.default.createElement("div",null,f.default.createElement(N.default,{className:W.default.clsx(o.cellCopyButton,"copyButton"),onClick:function(e){return m.onCopy(e,g)}}))),this.columnsVisibility.name?f.default.createElement("div",{className:W.default.clsx(o.cellName,se&&o.cellNameWithDesc),style:{width:this.columnsVisibility.name}},re,null!==(l=e.data)&&void 0!==l&&l.title?f.default.createElement("div",{style:{color:Y}},f.default.createElement(N.default,{className:W.default.clsx(o.cellCopyButton,"copyButton"),onClick:function(t){return m.onCopy(t,e.data.title)}})):null):null,this.state.statesView?f.default.createElement(f.default.Fragment,null,this.columnsVisibility.changedFrom?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.changedFrom},title:z.join("\n")},J&&null!==(c=this.states[g])&&void 0!==c&&c.from?P:null):null,this.columnsVisibility.qualityCode?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.qualityCode},title:ie||""},ie):null,this.columnsVisibility.timestamp?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.timestamp}},J&&null!==(d=this.states[g])&&void 0!==d&&d.ts?W.default.formatDate(new Date(this.states[g].ts),this.props.dateFormat):null):null,this.columnsVisibility.lastChange?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.lastChange}},J&&null!==(u=this.states[g])&&void 0!==u&&u.lc?W.default.formatDate(new Date(this.states[g].lc),this.props.dateFormat):null):null):f.default.createElement(f.default.Fragment,null,this.columnsVisibility.type?f.default.createElement("div",{className:o.cellType,style:{width:this.columnsVisibility.type}},S,"\xa0",v&&v.type):null,this.columnsVisibility.role?f.default.createElement("div",{className:o.cellRole,style:{width:this.columnsVisibility.role,cursor:this.state.filter.expertMode&&L&&this.props.objectBrowserEditRole?"text":"default"},onClick:this.state.filter.expertMode&&L&&this.props.objectBrowserEditRole?function(){return m.setState({roleDialog:e.data.id})}:void 0},null===E||void 0===E?void 0:E.role):null,this.columnsVisibility.room?f.default.createElement("div",{className:"".concat(o.cellRoom," ").concat(e.data.per?o.cellEnumParent:""),style:{width:this.columnsVisibility.room,cursor:L?"text":"default"},onClick:L?function(){var t=ye(m.info,e.data.id,"roomEnums");m.setState({enumDialogEnums:t,enumDialog:{item:e,type:"room",enumsOriginal:JSON.parse(JSON.stringify(t))}})}:void 0},e.data.rooms):null,this.columnsVisibility.func?f.default.createElement("div",{className:"".concat(o.cellFunc," ").concat(e.data.pef?o.cellEnumParent:""),style:{width:this.columnsVisibility.func,cursor:L?"text":"default"},onClick:L?function(){var t=ye(m.info,e.data.id,"funcEnums");m.setState({enumDialogEnums:t,enumDialog:{item:e,type:"func",enumsOriginal:JSON.parse(JSON.stringify(t))}})}:void 0},e.data.funcs):null),this.adapterColumns.map((function(t){return f.default.createElement("div",{className:o.cellAdapter,style:{width:m.columnsVisibility[t.id]},key:t.id,title:"".concat(t.adapter," => ").concat(t.pathText)},m.renderCustomValue(v,t,e))})),this.columnsVisibility.val?f.default.createElement("div",{className:o.cellValue,style:{width:this.columnsVisibility.val,cursor:B?"file"===(null===E||void 0===E?void 0:E.type)?"zoom-in":e.data.button?"grab":"text":"default"},onClick:B?function(){v&&m.states&&("file"===(null===E||void 0===E?void 0:E.type)?m.setState({viewFileDialog:g}):!m.state.filter.expertMode&&e.data.button?m.props.socket.setState(g,!0).catch((function(e){return window.alert('Cannot write state "'.concat(g,'": ').concat(e))})):(m.edit={val:m.states[g]?m.states[g].val:"",q:m.states[g]&&m.states[g].q||0,ack:!1,id:g},m.setState({updateOpened:!0})))}:void 0},this.renderColumnValue(g,e,o)):null,this.columnsVisibility.buttons?f.default.createElement("div",{className:o.cellButtons,style:{width:this.columnsVisibility.buttons}},this.renderColumnButtons(g,e,o)):null)}},{key:"renderItem",value:function(e,t,o,a){var n=this,s=[];a=a||{count:0};var i=this.renderLeaf(e,t,o,a),r=this.props.DragWrapper;return this.props.dragEnabled&&(i=e.data.sumVisibility?f.default.createElement(r,{key:e.data.id,item:e,className:o.draggable},i):f.default.createElement("div",{key:e.data.id,className:o.nonDraggable},i)),e.data.id&&s.push(i),t=void 0===t?re(this.state.expanded,e.data.id):t,e.data.id&&!t||(this.state.foldersFirst?(e.children&&s.push(e.children.map((function(e){return e.children&&(!n.state.columnsSelectorShow||a.count<15)&&e.data.sumVisibility?n.renderItem(e,void 0,o,a):null}))),e.children&&s.push(e.children.map((function(e){return!e.children&&(!n.state.columnsSelectorShow||a.count<15)&&e.data.sumVisibility?n.renderItem(e,void 0,o,a):null})))):e.children&&s.push(e.children.map((function(e){return(!n.state.columnsSelectorShow||a.count<15)&&e.data.sumVisibility?n.renderItem(e,void 0,o,a):null})))),s}},{key:"calculateColumnsVisibility",value:function(e,t,o,a){var n=this;a=a||this.state.columnsWidths,o=o||this.state.columnsForAdmin,t=t||this.state.columns||[],e="boolean"!==typeof e?this.state.columnsAuto:e,a=JSON.parse(JSON.stringify(a)),Object.keys(a).forEach((function(e){a[e]&&(a[e]=parseInt(a[e],10)||0)})),this.adapterColumns=[];var s=Ce[this.props.width].widths;if(e){if(this.columnsVisibility={id:Ce[this.props.width].idWidth,name:this.visibleCols.includes("name")&&s.name||0,nameHeader:this.visibleCols.includes("name")&&s.name||0,type:this.visibleCols.includes("type")&&s.type||0,role:this.visibleCols.includes("role")&&s.role||0,room:this.visibleCols.includes("room")&&s.room||0,func:this.visibleCols.includes("func")&&s.func||0,changedFrom:this.visibleCols.includes("changedFrom")&&s.changedFrom||0,qualityCode:this.visibleCols.includes("qualityCode")&&s.qualityCode||0,timestamp:this.visibleCols.includes("timestamp")&&s.timestamp||0,lastChange:this.visibleCols.includes("lastChange")&&s.lastChange||0,val:this.visibleCols.includes("val")&&s.val||0,buttons:this.visibleCols.includes("buttons")&&s.buttons||0},this.columnsVisibility.name&&!this.customWidth){var i=this.columnsVisibility.id;this.state.statesView?(i+=this.columnsVisibility.changedFrom,i+=this.columnsVisibility.qualityCode,i+=this.columnsVisibility.timestamp,i+=this.columnsVisibility.lastChange):(i+=this.columnsVisibility.type,i+=this.columnsVisibility.role,i+=this.columnsVisibility.room,i+=this.columnsVisibility.func),i+=this.columnsVisibility.val,i+=this.columnsVisibility.buttons,this.columnsVisibility.name="calc(100% - ".concat(i+5,"px)"),this.columnsVisibility.nameHeader="calc(100% - ".concat(i+5+this.state.scrollBarWidth,"px)")}else if(!this.customWidth){var r=0;this.state.statesView?(r+=this.columnsVisibility.changedFrom,r+=this.columnsVisibility.qualityCode,r+=this.columnsVisibility.timestamp,r+=this.columnsVisibility.lastChange):(r+=this.columnsVisibility.type,r+=this.columnsVisibility.role,r+=this.columnsVisibility.room,r+=this.columnsVisibility.func),r+=this.columnsVisibility.val,r+=this.columnsVisibility.buttons,this.columnsVisibility.id="calc(100% - ".concat(r+5,"px)")}}else{this.columnsVisibility={id:a.id||Ce[this.props.width].idWidth,name:t.includes("name")&&(a.name||s.name||Ce[this.props.width].widths.name)||0,type:t.includes("type")&&(a.type||s.type||Ce[this.props.width].widths.type)||0,role:t.includes("role")&&(a.role||s.role||Ce[this.props.width].widths.role)||0,room:t.includes("room")&&(a.room||s.room||Ce[this.props.width].widths.room)||0,func:t.includes("func")&&(a.func||s.func||Ce[this.props.width].widths.func)||0};var l=this.columnsVisibility.id;if(this.columnsVisibility.name&&(l+=this.columnsVisibility.type,l+=this.columnsVisibility.role,l+=this.columnsVisibility.room,l+=this.columnsVisibility.func),o&&t&&Object.keys(o).sort().forEach((function(e){return o[e].forEach((function(o){var s="_".concat(e,"_").concat(o.path);if(n.columnsVisibility[s]=t.includes(s),t.includes(s)){var i={adapter:e,id:"_".concat(e,"_").concat(o.path),name:o.name,path:o.path.split("."),pathText:o.path};o.edit&&(i.edit=!0,o.type&&(i.type=o.type),o.objTypes&&(i.objTypes=o.objTypes)),n.adapterColumns.push(i),n.columnsVisibility[s]=a[i.id]||o.width||Ce[n.props.width].widths.func||Ce.xl.widths.func,l+=n.columnsVisibility[s]}else n.columnsVisibility[s]=0}))})),this.adapterColumns.sort((function(e,t){return e.id>t.id?-1:e.id<t.id?1:0})),this.columnsVisibility.val=t.includes("val")?a.val||s.val||Ce.xl.widths.val:0,this.props.columns&&!this.props.columns.includes("buttons")||(this.columnsVisibility.buttons=t.includes("buttons")?a.buttons||s.buttons||Ce.xl.widths.buttons:0,l+=this.columnsVisibility.buttons),this.columnsVisibility.name&&!a.name)l+=this.columnsVisibility.val,this.columnsVisibility.name="calc(100% - ".concat(l,"px)"),this.columnsVisibility.nameHeader="calc(100% - ".concat(l+5+this.state.scrollBarWidth,"px)");else{var c=Object.keys(this.columnsVisibility).reduce((function(e,t){return"id"!==t&&"string"!==typeof n.columnsVisibility[t]&&n.columnsVisibility[t]?e+n.columnsVisibility[t]:e}),0);this.columnsVisibility.id="calc(100% - ".concat(c,"px)")}}}},{key:"navigateKeyPress",value:function(e){var t=this.state.selectedNonObject||this.state.selected[0];if(t){if("ArrowUp"===e.code||"ArrowDown"===e.code){e.preventDefault();var o=[];this.tableRef.current.childNodes.forEach((function(e){return o.push(e.id)}));var a=o.indexOf(t),n="ArrowDown"===e.code?a+1:a-1,s=o[n]||t;this.onSelect(s),this.scrollToItem(s)}if("ArrowRight"!==e.code&&"ArrowLeft"!==e.code||this.toggleExpanded(t),"Delete"===e.code){var i,r=this.getItemFromRoot(this.root,t),l=r.data.obj;!l||null!==(i=l.common)&&void 0!==i&&i.dontDelete||this.showDeleteDialog({id:t,obj:l,item:r})}}}},{key:"getItemFromRoot",value:function(e,t){var o,a=t.split("."),n="",s=Y(a);try{for(s.s();!(o=s.n()).done;){var i=o.value;n=n?"".concat(n,".").concat(i):i,e=e.children.find((function(e){return e.data.id===n}))}}catch(r){s.e(r)}finally{s.f()}return e}},{key:"renderHandleRight",value:function(){return f.default.createElement("div",{className:"".concat(this.props.classes.resizeHandle," ").concat(this.props.classes.resizeHandleRight),onMouseDown:this.resizerMouseDown,onDoubleClick:this.resizerReset,title:this.props.t("ra_Double click to reset table layout")})}},{key:"renderHeader",value:function(){var e=this,t=this.props.classes,o=null;return this.columnsVisibility.buttons||this.isFilterEmpty()||(o=f.default.createElement(b.IconButton,{onClick:function(){return e.clearFilter()},className:t.buttonClearFilter,title:this.props.t("ra_Clear filter"),size:"large"},f.default.createElement(T.default,null),f.default.createElement(w.Close,{className:t.buttonClearFilterIcon}))),f.default.createElement("div",{className:t.headerRow},f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.id,position:"relative"},"data-min":240,"data-name":"id"},this.getFilterInput("id"),this.renderHandleRight()),this.columnsVisibility.name?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.nameHeader,position:"relative"},"data-min":100,"data-name":"nameHeader"},this.getFilterInput("name"),this.renderHandleRight()):null,!this.state.statesView&&f.default.createElement(f.default.Fragment,null,this.columnsVisibility.type?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.type,position:"relative"},"data-min":100,"data-name":"type"},this.getFilterSelectType(),this.renderHandleRight()):null,this.columnsVisibility.role?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.role,position:"relative"},"data-min":100,"data-name":"role"},this.getFilterSelectRole(),this.renderHandleRight()):null,this.columnsVisibility.room?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.room,position:"relative"},"data-min":100,"data-name":"room"},this.getFilterSelectRoom(),this.renderHandleRight()):null,this.columnsVisibility.func?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.func,position:"relative"},"data-min":100,"data-name":"func"},this.getFilterSelectFunction(),this.renderHandleRight()):null),this.state.statesView&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.changedFrom,position:"relative"},"data-min":100,"data-name":"changedFrom"},this.props.t("ra_Changed from"),this.renderHandleRight()),f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.qualityCode,position:"relative"},"data-min":100,"data-name":"qualityCode"},this.props.t("ra_Quality code"),this.renderHandleRight()),f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.timestamp,position:"relative"},"data-min":100,"data-name":"timestamp"},this.props.t("ra_Timestamp"),this.renderHandleRight()),f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.lastChange,position:"relative"},"data-min":100,"data-name":"lastChange"},this.props.t("ra_Last change"),this.renderHandleRight())),this.adapterColumns.map((function(o){return f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:e.columnsVisibility[o.id]},title:o.adapter,key:o.id,"data-min":100,"data-name":o.id},o.name)})),this.columnsVisibility.val?f.default.createElement("div",{className:W.default.clsx(t.headerCell,t.headerCellValue),style:{width:this.columnsVisibility.val,position:"relative"},"data-min":120,"data-name":"val"},f.default.createElement("div",{className:"".concat(this.props.classes.resizeHandle," ").concat(this.props.classes.resizeHandleLeft),"data-left":"true",onMouseDown:this.resizerMouseDown,onDoubleClick:this.resizerReset,title:this.props.t("ra_Double click to reset table layout")}),this.props.t("ra_Value"),o):null,this.columnsVisibility.buttons?f.default.createElement("div",{className:t.headerCell,style:{width:this.columnsVisibility.buttons}}," ",this.getFilterSelectCustoms()):null)}},{key:"renderToast",value:function(){var e=this;return f.default.createElement(b.Snackbar,{open:!!this.state.toast,autoHideDuration:3e3,onClick:function(){return e.setState({toast:""})},onClose:function(){return e.setState({toast:""})},message:this.state.toast,action:f.default.createElement(b.IconButton,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return e.setState({toast:""})}},f.default.createElement(w.Close,{fontSize:"small"}))})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.tableRef.current){var t=this.tableRef.current.offsetWidth-this.tableRef.current.clientWidth;this.state.scrollBarWidth!==t?setTimeout((function(){return e.setState({scrollBarWidth:t})}),100):!this.selectedFound&&(this.state.selected&&this.state.selected[0]||this.lastSelectedItems)&&this.scrollToItem(this.state.selected&&this.state.selected[0]||this.lastSelectedItems)}}},{key:"scrollToItem",value:function(e){var t=window.document.getElementById(e);t&&t.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.selectedFound=!0}},{key:"renderCustomDialog",value:function(){var e=this;if(this.state.customDialog&&this.props.objectCustomDialog){var t=this.props.objectCustomDialog;return f.default.createElement(t,{reportChangedIds:function(t){return e.changedIds=(0,i.default)(t)},objectIDs:this.state.customDialog,expertMode:this.state.filter.expertMode,isFloatComma:this.props.isFloatComma,t:this.props.t,lang:this.props.lang,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,theme:this.props.theme,objects:this.objects,customsInstances:this.info.customs,onClose:function(){e.pauseSubscribe(!1),e.setState({customDialog:null}),e.changedIds&&(e.changedIds=null,e.forceUpdate()),e.props.router&&e.props.router.doNavigate("tab-objects")}})}return null}},{key:"onUpdate",value:function(e){var t=this;this.props.socket.setState(this.edit.id,{val:e.val,ack:e.ack,q:e.q||0,expire:e.expire||void 0}).catch((function(e){return t.showError("Cannot write value: ".concat(e))}))}},{key:"renderEditObjectDialog",value:function(){var e=this;if(!this.state.editObjectDialog||!this.props.objectBrowserEditObject)return null;var t=this.props.objectBrowserEditObject;return f.default.createElement(t,{key:this.state.editObjectDialog,obj:this.objects[this.state.editObjectDialog],roleArray:this.info.roles,objects:this.objects,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,aliasTab:this.state.editObjectAlias,t:this.props.t,expertMode:this.state.filter.expertMode,onNewObject:function(t){return e.props.socket.setObject(t._id,t).then((function(){return e.setState({editObjectDialog:t._id,editObjectAlias:!1},(function(){return e.onSelect(t._id)}))})).catch((function(t){return e.showError("Cannot write object: ".concat(t))}))},onClose:function(t){if(t){var o,a,n;if(e.state.editObjectDialog.startsWith("alias."))JSON.stringify(null===(a=e.objects[e.state.editObjectDialog].common)||void 0===a?void 0:a.alias)!==JSON.stringify(null===(n=t.common)||void 0===n?void 0:n.alias)&&(o=e.state.editObjectDialog);e.props.socket.setObject(t._id,t).then((function(){o&&e.subscribes.includes(o)&&(e.unsubscribe(o),setTimeout((function(){return e.subscribe(o)}),100))})).catch((function(t){return e.showError("Cannot write object: ".concat(t))}))}e.setState({editObjectDialog:"",editObjectAlias:!1})}})}},{key:"renderViewObjectFileDialog",value:function(){var e=this;if(!this.state.viewFileDialog||!this.props.objectBrowserViewFile)return null;var t=this.props.objectBrowserViewFile;return f.default.createElement(t,{key:"viewFile",obj:this.objects[this.state.viewFileDialog],themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:function(){return e.setState({viewFileDialog:""})}})}},{key:"renderAliasEditorDialog",value:function(){var e=this;if(!this.props.objectBrowserAliasEditor||!this.state.showAliasEditor)return null;var t=this.props.objectBrowserAliasEditor;return f.default.createElement(t,{key:"editAlias",obj:this.objects[this.state.showAliasEditor],objects:this.objects,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:function(){return e.setState({showAliasEditor:""})},onRedirect:function(t,o){return setTimeout((function(){return e.onSelect(t,!1,(function(){return e.expandAllSelected((function(){e.scrollToItem(t),setTimeout((function(){return e.setState({editObjectDialog:t,showAliasEditor:!1,editObjectAlias:!0})}),300)}))}))}),o||0)}})}},{key:"showAddDataPointDialog",value:function(e,t,o){this.setState({showContextMenu:null,modalNewObj:{id:e,initialType:t,initialStateType:o}})}},{key:"renderContextMenu",value:function(){var e,t,o,a,n,s,i,r=this;if(!this.state.showContextMenu)return null;var l=this.state.showContextMenu.item,c=l.data.id,d=[],u=l.data.obj,p="";if(this.props.objectEditOfAccessControl&&this.state.filter.expertMode)if(u){var m=u.acl?"state"===u.type?u.acl.state:u.acl.object:0,h=u.acl&&("state"===u.type?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object);p=Number.isNaN(Number(m))?Number(h).toString(16):Number(m).toString(16)}else p="---";var g=!this.props.notEditable&&u&&(this.state.filter.expertMode||"state"===u.type||"channel"===u.type||"device"===u.type),v=!l.data.obj||"folder"===l.data.obj.type||"channel"===l.data.obj.type||"device"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,y=!l.data.obj||"folder"===l.data.obj.type||"device"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,k=!l.data.obj||"folder"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,E=!l.data.obj||"folder"===l.data.obj.type||"0_userdata.0"===l.data.id||"meta"===l.data.obj.type,S={EDIT:{key:"0",visibility:this.props.objectBrowserEditObject&&u&&(this.state.filter.expertMode||this.isNonExpertId(c)),icon:f.default.createElement(w.Edit,{fontSize:"small",className:this.props.classes.contextMenuEdit}),label:this.texts.editObject,onClick:function(){return r.setState({editObjectDialog:l.data.id,showContextMenu:null,editObjectAlias:!1})}},EDIT_VALUE:{key:"1",visibility:this.states&&!this.props.notEditable&&u&&"state"===u.type&&"file"!==(null===(e=u.common)||void 0===e?void 0:e.type)&&(this.state.filter.expertMode||!1!==u.common.write),icon:f.default.createElement(w.FormatItalic,{fontSize:"small",className:this.props.classes.contextMenuEditValue}),label:this.props.t("ra_Edit value"),onClick:function(){r.edit={val:r.states[c]?r.states[c].val:"",q:r.states[c]&&r.states[c].q||0,ack:!1,id:c},r.setState({updateOpened:!0,showContextMenu:null})}},VIEW:{visibility:this.props.objectBrowserViewFile&&u&&"state"===u.type&&"file"===(null===(t=u.common)||void 0===t?void 0:t.type),icon:f.default.createElement(w.FindInPage,{fontSize:"small",className:this.props.classes.contextMenuView}),className:"",label:this.props.t("ra_View file"),onClick:function(){return r.setState({viewFileDialog:u._id,showContextMenu:null})}},CUSTOM:{key:"2",visibility:this.props.objectCustomDialog&&this.info.hasSomeCustoms&&u&&"state"===u.type&&"file"!==(null===(o=u.common)||void 0===o?void 0:o.type),icon:f.default.createElement(w.Settings,{fontSize:"small",className:l.data.hasCustoms?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:this.props.classes.contextMenuCustom,label:this.texts.customConfig,onClick:function(){r.pauseSubscribe(!0),r.props.router&&r.props.router.doNavigate(null,"customs",c),r.setState({customDialog:[c],showContextMenu:null})}},ACL:{key:"3",visibility:!!p,icon:p,iconStyle:{fontSize:"smaller"},listItemIconClass:this.props.classes.contextMenuACL,className:this.props.classes.contextMenuACL,label:this.props.t("ra_Edit ACL"),onClick:function(){return r.setState({showContextMenu:null,modalEditOfAccess:!0,modalEditOfAccessObjData:l.data})}},ROLE:{key:"4",visibility:this.state.filter.expertMode&&g&&this.props.objectBrowserEditRole,icon:f.default.createElement(w.BorderColor,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit role"),onClick:function(){return r.setState({roleDialog:l.data.id,showContextMenu:null})}},FUNCTION:{key:"5",visibility:g,icon:f.default.createElement(w.BedroomParent,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit function"),onClick:function(){var e=ye(r.info,l.data.id,"funcEnums");r.setState({enumDialogEnums:e,enumDialog:{item:l,type:"func",enumsOriginal:JSON.parse(JSON.stringify(e))},showContextMenu:null})}},ROOM:{key:"6",visibility:g,icon:f.default.createElement(w.Construction,{fontSize:"small",className:this.props.classes.contextMenuRoom}),className:"",label:this.props.t("ra_Edit room"),onClick:function(){var e=ye(r.info,l.data.id,"roomEnums");r.setState({enumDialogEnums:e,enumDialog:{item:l,type:"room",enumsOriginal:JSON.parse(JSON.stringify(e))},showContextMenu:null})}},ALIAS:{key:"7",visibility:!this.props.notEditable&&this.props.objectBrowserAliasEditor&&this.props.objectBrowserEditObject&&this.state.filter.expertMode&&u&&"state"===u.type&&"file"!==(null===(a=u.common)||void 0===a?void 0:a.type),icon:f.default.createElement(w.Link,{className:null!==u&&void 0!==u&&null!==(n=u.common)&&void 0!==n&&n.alias?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:"",label:this.props.t("ra_Edit alias"),onClick:function(){var e;null!==(e=u.common)&&void 0!==e&&e.alias?r.setState({editObjectDialog:l.data.id,showContextMenu:null,editObjectAlias:!0}):r.setState({showContextMenu:null,showAliasEditor:l.data.id})}},CREATE:{key:"+",visibility:(l.data.id.startsWith("0_userdata.0")||l.data.id.startsWith("javascript."))&&(v||y||k||E),icon:f.default.createElement(w.Add,{fontSize:"small",className:this.props.classes.cellButtonsButtonWithCustoms}),className:this.props.classes.contextMenuWithSubMenu,label:this.texts.create,subMenu:[{label:this.texts.createBooleanState,visibility:v,icon:f.default.createElement(j.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"state","boolean")}},{label:this.texts.createNumberState,visibility:v,icon:f.default.createElement(j.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"state","number")}},{label:this.texts.createStringState,visibility:v,icon:f.default.createElement(j.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"state","string")}},{label:this.texts.createState,visibility:v,icon:f.default.createElement(j.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"state")}},{label:this.texts.createChannel,visibility:y,icon:f.default.createElement(C.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"channel")}},{label:this.texts.createDevice,visibility:k,icon:f.default.createElement(x.default,{fontSize:"small"}),onClick:function(){return r.showAddDataPointDialog(l.data.id,"device")}},{label:this.texts.createFolder,icon:f.default.createElement(w.CreateNewFolder,{fontSize:"small"}),visibility:E,onClick:function(){return r.showAddDataPointDialog(l.data.id,"folder")}}]},DELETE:{key:"Delete",visibility:this.props.onObjectDelete&&((null===(s=l.children)||void 0===s?void 0:s.length)||u&&!(null!==(i=u.common)&&void 0!==i&&i.dontDelete)),icon:f.default.createElement(w.Delete,{fontSize:"small",className:this.props.classes.contextMenuDelete}),className:this.props.classes.contextMenuDelete,label:this.texts.deleteObject,onClick:function(){return r.setState({showContextMenu:null},(function(){return r.showDeleteDialog({id:c,obj:u||{},item:l})}))}}};if(Object.keys(S).forEach((function(e){S[e].visibility&&(S[e].subMenu?(d.push(f.default.createElement(b.MenuItem,{key:e,onClick:function(t){return r.setState({showContextMenu:{item:r.state.showContextMenu.item,subItem:e,subAnchor:t.target}})},className:S[e].className},f.default.createElement(b.ListItemIcon,{style:S[e].iconStyle,className:S[e].listItemIconClass},S[e].icon),f.default.createElement(b.ListItemText,null,S[e].label,"..."),f.default.createElement(b.ListItemSecondaryAction,null,f.default.createElement(w.ArrowRight,null)))),r.state.showContextMenu.subItem===e&&d.push(f.default.createElement(b.Menu,{key:"subContextMenu",open:!0,anchorEl:r.state.showContextMenu.subAnchor,onClose:function(){r.setState({showContextMenu:{item:r.state.showContextMenu.item}}),r.contextMenu=null}},S[e].subMenu.map((function(e){return e.visibility?f.default.createElement(b.MenuItem,{key:e.label,onClick:e.onClick,className:e.className},f.default.createElement(b.ListItemIcon,{style:e.iconStyle,className:e.listItemIconClass},e.icon),f.default.createElement(b.ListItemText,null,e.label)):null}))))):d.push(f.default.createElement(b.MenuItem,{key:e,onClick:S[e].onClick,className:S[e].className},f.default.createElement(b.ListItemIcon,{style:S[e].iconStyle,className:S[e].listItemIconClass},S[e].icon),f.default.createElement(b.ListItemText,null,S[e].label),S[e].key?f.default.createElement("div",{className:r.props.classes.contextMenuKeys},"Alt+".concat("Delete"===S[e].key?r.props.t("ra_Del"):S[e].key)):null)))})),!d.length)return setTimeout((function(){return r.setState({showContextMenu:null})}),100),null;var N=document.getElementById(c);return f.default.createElement(b.Menu,{key:"contextMenu",open:!0,onKeyUp:function(e){e.preventDefault(),e.altKey&&Object.keys(S).forEach((function(t){e.key===S[t].key&&S[t].onClick()}))},anchorEl:N,onClose:function(){r.setState({showContextMenu:null}),r.contextMenu=null}},d)}},{key:"renderEditValueDialog",value:function(){var e,t=this;if(!this.state.updateOpened||!this.props.objectBrowserValue)return null;if(!this.edit.id)return console.error("Invalid ID for edit: ".concat(JSON.stringify(this.edit))),null;if(!this.objects[this.edit.id])return console.error("Something went wrong. Possibly the object ".concat(this.edit.id," was deleted.")),null;var o=null!==(e=this.objects[this.edit.id].common)&&void 0!==e&&e.type?this.objects[this.edit.id].common.type:(0,h.default)(this.edit.val),a=this.objects[this.edit.id].common.role,n=this.props.objectBrowserValue;return f.default.createElement(n,{t:this.props.t,lang:this.props.lang,type:o,role:a,states:W.default.getStates(this.objects[this.edit.id]),themeType:this.props.themeType,expertMode:this.state.filter.expertMode,value:this.edit.val,socket:this.props.socket,object:this.objects[this.edit.id],defaultHistory:this.defaultHistory,dateFormat:this.props.dateFormat,onClose:function(e){t.setState({updateOpened:!1}),e&&t.onUpdate(e)}})}},{key:"render",value:function(){var e=this;this.recordStates=[],this.unsubscribeTimer&&clearTimeout(this.unsubscribeTimer);var t=JSON.stringify(this.state.filter);if(this.lastAppliedFilter!==t&&this.objects&&this.root){var o={count:0};de(this.root,this.state.filter,this.props.lang,this.objects,null,o,this.props.customFilter,this.props.types),o.count<500&&!this.state.expandAllVisible?setTimeout((function(){return e.setState({expandAllVisible:!0})})):o.count>=500&&this.state.expandAllVisible&&setTimeout((function(){return e.setState({expandAllVisible:!1})})),this.lastAppliedFilter=t}if(this.unsubscribeTimer=setTimeout((function(){e.unsubscribeTimer=null,e.checkUnsubscribes()}),200),!this.state.loaded)return f.default.createElement(b.CircularProgress,{key:"".concat(this.props.dialogName,"_c")});var a=this.props.classes,n=this.renderItem(this.root,void 0,a);return f.default.createElement(B.default,{key:this.props.dialogName},f.default.createElement(L.default,null,this.getToolbar()),f.default.createElement(V.default,null,this.renderHeader(),f.default.createElement("div",{className:this.props.classes.tableDiv,ref:this.tableRef,onKeyDown:function(t){return e.navigateKeyPress(t)},tabIndex:0},n)),this.renderContextMenu(),this.renderToast(),this.renderColumnsEditCustomDialog(),this.renderColumnsSelectorDialog(),this.renderCustomDialog(),this.renderEditValueDialog(),this.renderEditObjectDialog(),this.renderViewObjectFileDialog(),this.renderAliasEditorDialog(),this.renderEditRoleDialog(),this.renderEnumDialog(),this.renderErrorDialog(),this.renderExportDialog(),this.state.modalNewObj&&this.props.modalNewObject&&this.props.modalNewObject(this),this.state.modalEditOfAccess&&this.props.modalEditOfAccessControl&&this.props.modalEditOfAccessControl(this,this.state.modalEditOfAccessObjData))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o={},a=!1;return void 0!==e.expertMode&&e.expertMode!==t.filter.expertMode&&(a=!0,o.filter=z({},t.filter),o.filter.expertMode=e.expertMode),a?o:null}},{key:"collapseDepth",value:function(e,t){return t.filter((function(t){return t.split(".").length<=e}))}},{key:"getCustomValue",value:function(e,t){if(e&&e._id&&e._id.startsWith("".concat(t.adapter,"."))&&t.path.length>1){var o,a=t.path;if(e[a[0]]&&"object"===(0,h.default)(e[a[0]]))return 2===a.length?o=e[a[0]][a[1]]:3===a.length?o=e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])?e[a[0]][a[1]][a[2]]:null:4===a.length?o=e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]?e[a[0]][a[1]][a[2]][a[3]]:null:5===a.length?o=e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]&&e[a[0]][a[1]][a[2]][a[3]]?e[a[0]][a[1]][a[2]][a[3]][a[4]]:null:6===a.length&&(o=e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]&&e[a[0]][a[1]][a[2]][a[3]]&&e[a[0]][a[1]][a[2]][a[3]][a[4]]?e[a[0]][a[1]][a[2]][a[3]][a[4]][a[5]]:null),void 0===o||null===o?null:o}return null}},{key:"setCustomValue",value:function(e,t,o){if(e&&e._id&&e._id.startsWith("".concat(t.adapter,"."))&&t.path.length>1){var a=t.path;if(e[a[0]]&&"object"===(0,h.default)(e[a[0]])){if(2===a.length)return e[a[0]][a[1]]=o,!0;if(3===a.length){if(e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]]))return e[a[0]][a[1]][a[2]]=o,!0}else if(4===a.length){if(e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]]))return e[a[0]][a[1]][a[2]][a[3]]=o,!0}else if(5===a.length){if(e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]])&&e[a[0]][a[1]][a[2]][a[3]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]][a[3]]))return e[a[0]][a[1]][a[2]][a[3]][a[4]]=o,!0}else if(6===a.length&&e[a[0]][a[1]]&&"object"===(0,h.default)(e[a[0]][a[1]])&&e[a[0]][a[1]][a[2]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]])&&e[a[0]][a[1]][a[2]][a[3]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]][a[3]])&&e[a[0]][a[1]][a[2]][a[3]][a[4]]&&"object"===(0,h.default)(e[a[0]][a[1]][a[2]][a[3]][a[4]]))return e[a[0]][a[1]][a[2]][a[3]][a[4]][a[5]]=o,!0}}return!1}}])}(f.Component);Oe.defaultProps={objectAddBoolean:!1,objectEditBoolean:!1,objectStatesView:!1,objectImportExport:!1,objectEditOfAccessControl:!1,modalNewObject:function(){},modalEditOfAccessControl:function(){}},Oe.propTypes={dialogName:g.default.string,classes:g.default.object,defaultFilters:g.default.object,selected:g.default.oneOfType([g.default.string,g.default.array]),onSelect:g.default.func,onFilterChanged:g.default.func,socket:g.default.object,showExpertButton:g.default.bool,expertMode:g.default.bool,imagePrefix:g.default.string,themeName:g.default.string,themeType:g.default.string,theme:g.default.object,t:g.default.func,lang:g.default.string.isRequired,multiSelect:g.default.bool,notEditable:g.default.bool,foldersFirst:g.default.bool,disableColumnSelector:g.default.bool,isFloatComma:g.default.bool,dateFormat:g.default.string,levelPadding:g.default.number,objectCustomDialog:g.default.oneOfType([g.default.object,g.default.func]),objectAddBoolean:g.default.bool,objectEditBoolean:g.default.bool,objectStatesView:g.default.bool,objectImportExport:g.default.bool,objectEditOfAccessControl:g.default.bool,modalNewObject:g.default.func,modalEditOfAccessControl:g.default.func,onObjectDelete:g.default.func,customFilter:g.default.object,objectBrowserValue:g.default.object,objectBrowserEditObject:g.default.object,objectBrowserAliasEditor:g.default.func,objectBrowserEditRole:g.default.object,objectBrowserViewFile:g.default.func,router:g.default.oneOfType([g.default.object,g.default.func]),types:g.default.array,columns:g.default.array,root:g.default.string,objectsWorker:g.default.object,filterFunc:g.default.func,DragWrapper:g.default.func,dragEnabled:g.default.bool};var _e=(0,R.default)()((0,v.withStyles)((function(e){return{toolbar:{minHeight:38},toolbarButtons:{padding:4,marginLeft:4},switchColumnAuto:{marginLeft:e.spacing(2)},dialogColumns:{transition:"opacity 1s"},dialogColumnsLabel:{fontSize:12,paddingTop:e.spacing(1)},columnCustom:{width:"100%",display:"inline-block"},columnCustomEditable:{cursor:"text"},columnCustomCenter:{textAlign:"center"},columnCustomLeft:{textAlign:"left"},columnCustomRight:{textAlign:"right"},width100:{width:"100%"},transparent_10:{opacity:.1},transparent_20:{opacity:.2},transparent_30:{opacity:.3},transparent_40:{opacity:.4},transparent_50:{opacity:.5},transparent_60:{opacity:.6},transparent_70:{opacity:.7},transparent_80:{opacity:.8},transparent_90:{opacity:.9},transparent_100:{opacity:1},columnsDialogInputWidth:{width:80},headerRow:{paddingLeft:e.spacing(1),height:38,whiteSpace:"nowrap",userSelect:"none"},buttonClearFilter:{position:"relative",float:"right",padding:0},buttonClearFilterIcon:{zIndex:2,position:"absolute",top:0,left:0,color:"#FF0000",opacity:.7},tableDiv:{paddingTop:0,paddingLeft:0,width:"calc(100% - ".concat(e.spacing(1),")"),height:"calc(100% - 38px)",overflow:"auto"},tableRow:{paddingLeft:e.spacing(1),height:X,lineHeight:"".concat(X,"px"),verticalAlign:"top",userSelect:"none",width:"100%","&:hover":{background:"".concat("dark"===e.palette.mode?e.palette.primary.dark:e.palette.primary.light," !important"),color:W.default.invertColor(e.palette.primary.main,!0)},whiteSpace:"nowrap",flexWrap:"nowrap"},tableRowLines:{borderBottom:"1px solid ".concat((e.palette.mode,"#8888882e")),"& > div":{borderRight:"1px solid ".concat((e.palette.mode,"#8888882e"))}},tableRowNoDragging:{cursor:"pointer"},tableRowAlias:{height:42},tableRowAliasReadWrite:{height:54},checkBox:{padding:0},cellId:{position:"relative",fontSize:"1rem",overflow:"hidden",textOverflow:"ellipsis","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"},"& .iconOwn":{display:"block",width:28,height:28,marginTop:2,float:"right"},"&:hover .iconOwn":{display:"none"},"& *":{width:"initial"}},cellIdSpan:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},cellIdIconFolder:{marginRight:e.spacing(1),width:28,height:28,cursor:"pointer",color:e.palette.secondary.main||"#fbff7d",verticalAlign:"top"},cellIdIconDocument:{verticalAlign:"middle",marginLeft:6,marginRight:e.spacing(1),width:Q,height:Q},cellIdIconOwn:{},cellIdTooltip:{fontSize:14},cellIdTooltipLink:{color:"#7ec2fd","&:hover":{color:"#7ec2fd"},"&:visited":{color:"#7ec2fd"}},cellCopyButton:{width:Q,height:Q,top:6,opacity:.8,"&:hover":{opacity:1},position:"absolute",right:3},cellEditButton:{width:Q,height:Q,color:"white",position:"absolute",top:6,right:23,opacity:.7,"&:hover":{opacity:1}},cellName:{display:"inline-block",verticalAlign:"top",fontSize:14,marginLeft:5,overflow:"hidden",textOverflow:"ellipsis",position:"relative","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellNameWithDesc:{lineHeight:"normal"},cellNameDivDiv:{},cellDescription:{fontSize:10,opacity:.5,fontStyle:"italic"},cellIdAlias:{fontStyle:"italic",fontSize:12,opacity:.7,"&:hover":{color:"dark"===e.palette.mode?"#009900":"#007700"}},cellIdAliasReadWriteDiv:{height:24,marginTop:-5},cellIdAliasAlone:{lineHeight:0},cellIdAliasReadWrite:{lineHeight:"12px"},cellType:{display:"inline-block",verticalAlign:"top","& .itemIcon":{verticalAlign:"middle",width:$,height:$,display:"inline-block"},"& .itemIconFolder":{marginLeft:3}},cellRole:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellRoom:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellEnumParent:{opacity:.4},cellFunc:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValue:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValueButton:{marginTop:5,"&:active":{transform:"scale(0.8)"}},cellValueButtonFalse:{opacity:.3},cellAdapter:{display:"inline-block",verticalAlign:"top"},cellValueTooltip:{fontSize:12},cellValueText:{width:"100%",height:X,fontSize:16,display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",position:"relative",verticalAlign:"top","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellValueFile:{color:"#2837b9"},cellValueTooltipTitle:{fontStyle:"italic",width:100,display:"inline-block"},cellValueTooltipValue:{width:120,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis"},cellValueTooltipBoth:{width:220,display:"inline-block",whiteSpace:"nowrap"},cellValueTooltipBox:{width:250,overflow:"hidden",pointerEvents:"none"},tooltip:{pointerEvents:"none"},cellValueTextUnit:{marginLeft:e.spacing(.5),opacity:.8},newValue:{animation:"$newValueAnimation 2s ease-in-out"},"@keyframes newValueAnimation":{"0%":{color:"#00f900"},"80%":{color:"#008000"},"100%":{color:"dark"===e.palette.mode?"#fff":"#000"}},cellValueTextState:{opacity:.7},cellValueTooltipCopy:{position:"absolute",bottom:3,right:3},cellValueTooltipEdit:{position:"absolute",bottom:3,right:15},cellButtons:{display:"inline-block",verticalAlign:"top"},cellButtonsButton:{display:"inline-block",opacity:.7,width:24,height:24,"&:hover":{opacity:1},paddingTop:0,paddingLeft:0,marginTop:-2},cellButtonsEmptyButton:{fontSize:12},cellButtonMinWidth:{minWidth:47},cellButtonsButtonAlone:{marginLeft:24,paddingTop:0,marginTop:-2},cellButtonsButtonWithCustoms:{color:"dark"===e.palette.mode?e.palette.primary.main:e.palette.secondary.main},cellButtonsButtonWithoutCustoms:{opacity:.2},cellButtonsValueButton:{position:"absolute",display:"inline-block",top:8,opacity:.7,width:18,height:18,color:e.palette.action.active,"&:hover":{opacity:1}},cellButtonsValueButtonCopy:{right:e.spacing(1),cursor:"pointer"},cellButtonsValueButtonEdit:{right:10+parseInt(e.spacing(2),10)},filteredOut:{opacity:.5},filteredParentOut:{opacity:.3},filterInput:{marginTop:0,marginBottom:0},selectIcon:{width:24,height:24,marginRight:4},selectNone:{opacity:.5},itemSelected:{background:"".concat(e.palette.primary.main," !important"),color:"".concat(W.default.invertColor(e.palette.primary.main,!0)," !important")},header:{width:"100%"},headerCell:{display:"inline-block",verticalAlign:"top"},headerCellValue:{paddingTop:4,fontSize:16},headerCellInput:{width:"calc(100% - 5px)",height:X,paddingTop:3,"& .itemIcon":{verticalAlign:"middle",width:$,height:$,display:"inline-block"}},headerCellSelectItem:{"& .itemIcon":{width:$,height:$,marginRight:5,display:"inline-block"}},visibleButtons:{color:"#2196f3",opacity:.7},grow:{flexGrow:1},enumIconDiv:{marginRight:e.spacing(1),width:32,height:32,borderRadius:8,background:"#FFFFFF"},enumIcon:{marginTop:4,marginLeft:4,width:24,height:24},enumDialog:{overflow:"hidden"},enumList:{minWidth:250,height:"calc(100% - 50px)",overflow:"auto"},enumButton:{float:"right"},enumCheckbox:{minWidth:0},buttonDiv:{display:"flex",height:"100%",alignItems:"center"},aclText:{fontSize:13},rightsObject:{color:"#55ff55",paddingLeft:3},rightsState:{color:"#86b6ff",paddingLeft:3},textCenter:{padding:12,textAlign:"center"},tooltipAccessControl:{display:"flex",flexDirection:"column"},"@media screen and (max-width: 465px)":{columnsDialogInputWidth:{width:50},fontSizeTitle:{"& *":{fontSize:12}}},"@media screen and (max-width: 700px)":{},"@media screen and (max-width: 430px)":{},draggable:{cursor:"copy"},nonDraggable:{cursor:"no-drop"},selectClearButton:{position:"absolute",top:0,right:0,borderRadius:20,backgroundColor:e.palette.background.default},iconDeviceConnected:{color:"dark"===e.palette.mode?te:oe,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceDisconnected:{color:"dark"===e.palette.mode?ae:ne,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceError:{color:"dark"===e.palette.mode?Z:ee,opacity:.8,position:"absolute",top:4,right:50,width:20},resizeHandle:{display:"block",position:"absolute",cursor:"col-resize",width:7,top:2,bottom:2,zIndex:1},resizeHandleRight:{right:3,borderRight:"2px dotted #888","&:hover":{borderColor:"#ccc",borderRightStyle:"solid"},"&.active":{borderColor:"#517ea5",borderRightStyle:"solid"}},resizeHandleLeft:{left:-4,borderLeft:"2px dotted #888","&:hover":{borderColor:"#ccc",borderLeftStyle:"solid"},"&.active":{borderColor:"#517ea5",borderLeftStyle:"solid"}},invertedBackground:{backgroundColor:"dark"===e.palette.mode?"#9a9a9a":"#565656",padding:"0 3px",borderRadius:"2px 0 0 2px"},invertedBackgroundFlex:{backgroundColor:"dark"===e.palette.mode?"#9a9a9a":"#565656",borderRadius:"0 2px 2px 0"},contextMenuEdit:{color:"dark"===e.palette.mode?"#ffee48":"#cbb801"},contextMenuEditValue:{color:"dark"===e.palette.mode?"#5dff45":"#1cd301"},contextMenuView:{color:"dark"===e.palette.mode?"#FFF":"#000"},contextMenuCustom:{color:"dark"===e.palette.mode?"#42eaff":"#01bbc2"},contextMenuACL:{color:"dark"===e.palette.mode?"#e079ff":"#500070"},contextMenuRoom:{color:"dark"===e.palette.mode?"#ff9a33":"#642a00"},contextMenuRole:{color:"dark"===e.palette.mode?"#ffdb43":"#562d00"},contextMenuAlias:{color:"dark"===e.palette.mode?"#5cabfb":"#011ed0"},contextMenuDelete:{color:"dark"===e.palette.mode?"#ff4f4f":"#cf0000"},contextMenuKeys:{marginLeft:e.spacing(1),opacity:.7,fontSize:"smaller"},contextMenuWithSubMenu:{display:"flex"}}}))(Oe));t.default=_e},70591:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482));class s extends n.default.Component{constructor(e){super(e),this.onHashChangedBound=this.onHashChanged.bind(this)}componentDidMount(){window.addEventListener("hashchange",this.onHashChangedBound)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChangedBound)}onHashChanged(){}static getLocation(){let e=window.location.hash;e=e.replace(/^#/,"");const t=e.split("/").map((e=>{try{return e?decodeURIComponent(e):""}catch(t){return console.error("Router: Cannot decode ".concat(e)),e||""}}));return{tab:t[0]||"",dialog:t[1]||"",id:t[2]||"",arg:t[3]||""}}static doNavigate(e,t,o,a){let n="";const i=s.getLocation();void 0===a||o||(o=i.id),o&&!t&&(t=i.dialog),(t&&!e||null===e)&&(e=i.tab),e&&(n="#".concat(e),t&&(n+="/".concat(t),o&&(n+="/".concat(o),void 0!==a&&(n+="/".concat(a))))),window.location.hash!==n&&(window.location.hash=n)}}t.default=s},29102:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482)),s=o(32496),i=o(65298),r=o(21839),l=a(o(12539));class c extends n.default.Component{constructor(e){super(e);const t=void 0===e.newReact||e.newReact;try{this.isIFrame=!t&&window.self!==window.top}catch(o){this.isIFrame=!t}}render(){const e=this.props.noTextOnButtons,t={borderRadius:this.props.theme.saveToolbar.button.borderRadius||3,height:this.props.theme.saveToolbar.button.height||32},o={bottom:this.isIFrame?38:0,left:this.props.paddingLeft||0,right:0,position:"absolute",background:this.props.theme.saveToolbar.background};return this.props.dense&&(o.minHeight=48),this.props.error&&(t.border="1px solid red"),n.default.createElement(i.Toolbar,{style:o},n.default.createElement(i.Fab,{variant:"extended","aria-label":"Save",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!1),style:t},n.default.createElement(r.Save,{className:e?"":this.props.classes.buttonIcon}),!e&&l.default.t("ra_Save")),n.default.createElement(i.Fab,{variant:"extended","aria-label":"Save and close",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!0),style:Object.assign(Object.assign({},t),{marginLeft:10})},n.default.createElement(r.Save,{className:e?"":this.props.classes.buttonIcon}),e?"+":l.default.t("ra_Save and close"),e&&n.default.createElement(r.Close,null)),n.default.createElement("div",{style:{flexGrow:1}}),n.default.createElement(i.Fab,{variant:"extended","aria-label":"Close",onClick:()=>this.props.onClose(),style:t},n.default.createElement(r.Close,{className:e?"":this.props.classes.buttonIcon}),!e&&l.default.t("ra_Close")))}}const d=(0,s.withStyles)((()=>({buttonIcon:{marginRight:8}})))(c);t.default=d},92311:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(32496),c=o(65298),d=i(o(12539)),u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],m="minutes",h="hours",f=["sunrise","sunriseEnd","goldenHourEnd","solarNoon","goldenHour","sunsetStart","sunset","dusk","nauticalDusk","night","nightEnd","nauticalDawn","dawn","nadir"];function g(e){return e<10?"0".concat(e):"".concat(e)}const v={time:{exactTime:!1,start:"00:00",end:"23:59",mode:"hours",interval:1},period:{once:"",days:1,dows:"",dates:"",weeks:0,months:"",years:0,yearMonth:0,yearDate:0},valid:{from:"",to:""}};function y(e){const t=e.split(".");return 3===t.length?"".concat(t[2],"-").concat(t[1],"-").concat(t[0]):""}class b extends r.Component{constructor(e){let t;if(super(e),this.timerOnce=null,this.timerFrom=null,this.timerTo=null,this.props.schedule&&"string"===typeof this.props.schedule&&"{"===this.props.schedule[0])try{t=JSON.parse(this.props.schedule)}catch(o){}else"object"===typeof this.props.schedule&&(t=this.props.schedule);t&&Object.keys(t).length||(setTimeout((()=>this.onChange(this.state.schedule,!0)),200),t=v),t=Object.assign(Object.assign({},v),t),t.valid.from=t.valid.from||b.now2string(),this.refFrom=r.default.createRef(),this.refTo=r.default.createRef(),this.refOnce=r.default.createRef(),this.state={schedule:t,desc:b.state2text(t)},JSON.stringify(t)!==this.props.schedule&&setTimeout((()=>this.props.onChange&&this.props.onChange(JSON.stringify(t))),100)}onChange(e,t){const o=JSON.stringify(e)!==JSON.stringify(this.state.schedule);if(t||o){o&&this.setState({schedule:e,desc:b.state2text(e)});const t=JSON.parse(JSON.stringify(e));if(t.period.once){const e=t.period.once;delete t.period,t.period={once:e},delete t.valid}else if(t.period.days){const e=t.period.days,o=t.period.dows;delete t.period,t.period={days:e},o&&"[]"!==o&&(t.period.dows=o)}else if(t.period.weeks){const e=t.period.weeks,o=t.period.dows;delete t.period,t.period={weeks:e},o&&"[]"!==o&&(t.period.dows=o)}else if(t.period.months){const e=t.period.months,o=t.period.dates;delete t.period,t.period={months:e},o&&"[]"!==o&&(t.period.dates=o)}else if(t.period.years){const e=t.period.years,o=t.period.yearMonth,a=t.period.yearDate;delete t.period,t.period={years:e,yearDate:a},o&&(t.period.yearMonth=o)}if(t.time.exactTime?(delete t.time.end,delete t.time.mode,delete t.time.interval):delete t.time.exactTime,t.valid){if(t.valid.to||delete t.valid.to,1===t.period.days||1===t.period.weeks||1===t.period.months||1===t.period.years){const e=b.string2date(t.valid.from),o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),e<=o&&delete t.valid.from}t.valid.from||t.valid.to||delete t.valid}this.props.onChange&&this.props.onChange(JSON.stringify(t),b.state2text(e))}}static state2text(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(a){return""}const t=[],o=b.string2date(e.valid.from);if(e.period.once){const o=b.string2date(e.period.once),a=new Date;if(a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),o<a)return d.default.t("sch_desc_onceInPast");t.push(d.default.t("sch_desc_once_on",e.period.once))}else if(e.period.days)if(1===e.period.days)if(e.period.dows){const o=JSON.parse(e.period.dows);if(2===o.length&&0===o[0]&&6===o[1])t.push(d.default.t("sch_desc_onWeekends"));else if(5===o.length&&1===o[0]&&2===o[1]&&3===o[2]&&4===o[3]&&5===o[4])t.push(d.default.t("sch_desc_onWorkdays"));else{const e=o.map((e=>d.default.t(u[e])));if(1===e.length)t.push(d.default.t("sch_desc_onWeekday",e[0]));else if(7===e.length)t.push(d.default.t("sch_desc_everyDay"));else{const o=e.pop();t.push(d.default.t("sch_desc_onWeekdays",e.join(", "),o))}}}else t.push(d.default.t("sch_desc_everyDay"));else t.push(d.default.t("sch_desc_everyNDay",e.period.days.toString()));else if(e.period.weeks){if(1===e.period.weeks?t.push(d.default.t("sch_desc_everyWeek")):t.push(d.default.t("sch_desc_everyNWeeks",e.period.weeks.toString())),!e.period.dows)return d.default.t("sch_desc_never");{const o=JSON.parse(e.period.dows);if(2===o.length&&0===o[0]&&6===o[1])t.push(d.default.t("sch_desc_onWeekends"));else if(5===o.length&&1===o[0]&&2===o[1]&&3===o[2]&&4===o[3]&&5===o[4])t.push(d.default.t("sch_desc_onWorkdays"));else{const e=o.map((e=>d.default.t(u[e])));if(1===e.length)t.push(d.default.t("sch_desc_onWeekday",e[0]));else if(7===e.length)t.push(d.default.t("sch_desc_everyDay"));else{const o=e.pop();t.push(d.default.t("sch_desc_onWeekdays",e.join(", "),o))}}}}else if(e.period.months){if(e.period.dates){const o=JSON.parse(e.period.dates);if(1===o.length)t.push(d.default.t("sch_desc_onDate",o[0]));else if(31===o.length)t.push(d.default.t("sch_desc_onEveryDate"));else{if(!o.length)return d.default.t("sch_desc_never");{const e=o.pop();t.push(d.default.t("sch_desc_onDates",o.join(", "),e))}}}else t.push(d.default.t("sch_desc_onEveryDate"));if(1===e.period.months)t.push(d.default.t("sch_desc_everyMonth"));else if("number"===typeof e.period.months)t.push(d.default.t("sch_desc_everyNMonths",e.period.months.toString()));else{const o=JSON.parse(e.period.months).map((e=>d.default.t(p[e-1])));if(!o.length)return d.default.t("sch_desc_never");if(1===o.length)t.push(d.default.t("sch_desc_onMonth",o[0]));else if(12===o.length)t.push(d.default.t("sch_desc_everyMonth"));else{const e=o.pop();t.push(d.default.t("sch_desc_onMonths",o.join(", "),e))}}}else e.period.years&&(1===e.period.years?t.push(d.default.t("sch_desc_everyYear")):t.push(d.default.t("sch_desc_everyNYears",e.period.years.toString())),t.push(d.default.t("sch_desc_onDate",e.period.yearDate.toString(),e.period.yearMonth?d.default.t(p[e.period.yearMonth-1]):d.default.t("sch_desc_everyMonth"))));if(e.time.exactTime)-1!==f.indexOf(e.time.start)?t.push(d.default.t("sch_desc_atTime",d.default.t("sch_astro_".concat(e.time.start)))):t.push(d.default.t("sch_desc_atTime",e.time.start));else{e.time.mode===m?1===e.time.interval?t.push(d.default.t("sch_desc_everyMinute")):t.push(d.default.t("sch_desc_everyNMinutes",e.time.interval.toString())):1===e.time.interval?t.push(d.default.t("sch_desc_everyHour")):t.push(d.default.t("sch_desc_everyNHours",e.time.interval.toString()));const o=-1!==f.indexOf(e.time.start)?d.default.t("sch_astro_".concat(e.time.start)):e.time.start,a=-1!==f.indexOf(e.time.end)?d.default.t("sch_astro_".concat(e.time.end)):e.time.end;("00:00"!==o||"24:00"!==a&&"23:59"!==a)&&t.push(d.default.t("sch_desc_intervalFromTo",o,a))}return e.period.once||(o.getTime()>Date.now()&&e.valid.to?t.push(d.default.t("sch_desc_validFromTo",e.valid.from,e.valid.to)):o.getTime()>Date.now()?t.push(d.default.t("sch_desc_validFrom",e.valid.from)):e.valid.to&&t.push(d.default.t("sch_desc_validTo",e.valid.to))),t.join(" ")}getTimePeriodElements(){const e=this.state.schedule;let t=!1,o=!1,a=!1,n=!0;return"00:00"===e.time.start&&"24:00"===e.time.end?(t=!0,n=!1):"sunrise"===e.time.start?(o=!0,n=!1):"sunset"===e.time.start&&(a=!0,n=!1),r.default.createElement("div",{key:"timePeriod",className:this.props.classes.rowDiv},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!e.time.exactTime,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.exactTime=!1,this.onChange(e)}}),label:d.default.t("sch_intervalTime")})),r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement("div",{className:this.props.classes.settingsDiv},!e.time.exactTime&&r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!n,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="00:00",e.time.end="23:59",this.onChange(e)}}),label:n?"":d.default.t("sch_fromTo")}),n&&[r.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,style:{marginRight:10},key:"exactTimeFrom",type:"time",value:this.state.schedule.time.start,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},label:d.default.t("sch_from"),margin:"normal"}),r.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeTo",type:"time",value:this.state.schedule.time.end,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.end=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},label:d.default.t("sch_to"),margin:"normal"})])),!e.time.exactTime&&r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="00:00",e.time.end="24:00",this.onChange(e)}}),label:d.default.t("sch_wholeDay")})),!e.time.exactTime&&r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!o,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="sunrise",e.time.end="sunset",this.onChange(e)}}),label:d.default.t("sch_astroDay")})),!e.time.exactTime&&r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!a,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.start="sunset",e.time.end="sunrise",this.onChange(e)}}),label:d.default.t("sch_astroNight")}))),!e.time.exactTime&&this.getPeriodSettingsMinutes()))}getTimeExactElements(){const e=f.includes(this.state.schedule.time.start);return r.default.createElement("div",{key:"timeExact",className:this.props.classes.rowDiv},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!this.state.schedule.time.exactTime,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.time.exactTime=!0,this.onChange(e)}}),label:d.default.t("sch_exactTime")})),this.state.schedule.time.exactTime&&r.default.createElement(c.Select,{variant:"standard",value:e?this.state.schedule.time.start:"00:00",onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)}},r.default.createElement(c.MenuItem,{key:"specific",value:"00:00"},d.default.t("sch_specificTime")),f.map((e=>r.default.createElement(c.MenuItem,{key:e,value:e},d.default.t("sch_astro_".concat(e)))))),this.state.schedule.time.exactTime&&!e&&r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeValue",value:this.state.schedule.time.start,type:"time",onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.start=e.target.value,this.onChange(t)},InputLabelProps:{shrink:!0},margin:"normal"})))}getDivider(){return r.default.createElement("hr",{className:this.props.classes.hr})}getPeriodModes(){const e=this.state.schedule,t=!e.period.dows&&!e.period.months&&!e.period.dates&&!e.period.years&&!e.period.days&&!e.period.weeks;return t&&!e.period.once&&(e.period.once=b.now2string(!0)),[r.default.createElement("div",{key:"once",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowOnce)},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.once=e.period.once||b.now2string(!0),e.period.dows="",e.period.months="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,this.onChange(e)}}),label:d.default.t("sch_periodOnce")})),t&&r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputDate,type:"date",ref:this.refOnce,key:"exactDateAt",defaultValue:y(e.period.once),onChange:e=>{this.timerOnce&&clearTimeout(this.timerOnce),this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="#ff000030"),this.timerOnce=setTimeout((e=>{this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.period.once="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},label:d.default.t("sch_at"),margin:"normal"}))),r.default.createElement("div",{key:"days",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowDays)},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.days,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=1,e.period.dows="",e.period.months="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.once="",this.onChange(e)}}),label:d.default.t("sch_periodDaily")})),r.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsDaily(),e.period.days?this.getPeriodSettingsWeekdays():null)),r.default.createElement("div",{key:"weeks",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowDows)},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.weeks,onClick:()=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.weeks=e.period.weeks?0:1,t.period.dows=e.period.dows||"[0]",t.period.months="",t.period.dates="",t.period.years=0,t.period.yearDate=0,t.period.yearMonth=0,t.period.days=0,t.period.once="",this.onChange(t)}}),label:d.default.t("sch_periodWeekly")})),r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsWeekly()),r.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowDowsDows)},this.state.schedule.period.weeks?this.getPeriodSettingsWeekdays():null))),r.default.createElement("div",{key:"months",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowMonths)},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.months,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=1,e.period.dows="",e.period.dates="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:d.default.t("sch_periodMonthly")})),r.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsMonthly(),e.period.months?r.default.createElement("div",null,r.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowMonthsDates)},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputRadio,checked:!!e.period.dates,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=e.period.months||1;const t=[];for(let o=1;o<=31;o++)t.push(o);e.period.dates=e.period.dates||JSON.stringify(t),e.period.dows="",e.period.years=0,e.period.yearDate=0,e.period.yearMonth=0,e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:d.default.t("sch_periodDates")})),r.default.createElement("div",{className:"".concat(this.props.classes.settingsDiv," ").concat(this.props.classes.rowMonthsDates)},this.getPeriodSettingsDates())):null)),r.default.createElement("div",{key:"years",className:"".concat(this.props.classes.rowDiv," ").concat(this.props.classes.rowYears)},r.default.createElement("div",{className:this.props.classes.modeDiv},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!e.period.years,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=1,e.period.yearDate=1,e.period.yearMonth=1,e.period.dows="",e.period.months=0,e.period.dates="",e.period.weeks=0,e.period.days=0,e.period.once="",this.onChange(e)}}),label:d.default.t("sch_periodYearly")})),r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsYearly()),!!e.period.years&&r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement("span",null,d.default.t("sch_on")),r.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.yearDate,className:this.props.classes.inputEvery,type:"number",inputProps:{min:1,max:31},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.yearDate=parseInt(e.target.value,10),t.period.yearDate<1&&(t.period.yearDate=31),t.period.yearDate>31&&(t.period.yearDate=1),this.onChange(t)}}),r.default.createElement(c.Select,{variant:"standard",value:e.period.yearMonth,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.yearMonth=e.target.value,this.onChange(t)}},r.default.createElement(c.MenuItem,{key:"every",value:0},d.default.t("sch_yearEveryMonth")),p.map(((e,t)=>r.default.createElement(c.MenuItem,{key:e,value:t+1},d.default.t(e))))))))]}getPeriodSettingsMinutes(){return r.default.createElement("div",{style:{display:"inline-block"}},r.default.createElement("label",null,d.default.t("sch_every")),r.default.createElement(c.Input,{value:this.state.schedule.time.interval,style:{verticalAlign:"bottom"},className:this.props.classes.inputEvery,type:"number",inputProps:{min:1},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.interval=parseInt(e.target.value,10),this.onChange(t)}}),r.default.createElement(c.Select,{variant:"standard",value:this.state.schedule.time.mode,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.time.mode=e.target.value,this.onChange(t)}},r.default.createElement(c.MenuItem,{value:m},d.default.t("sch_periodMinutes")),r.default.createElement(c.MenuItem,{value:h},d.default.t("sch_periodHours"))))}getPeriodSettingsWeekdays(){const e=this.state.schedule,t=e.period.dows&&"[1, 2, 3, 4, 5]"!==e.period.dows&&"[0, 6]"!==e.period.dows;return[r.default.createElement("div",{key:"workdays"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"[1, 2, 3, 4, 5]"===e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[1, 2, 3, 4, 5]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:d.default.t("sch_periodWorkdays")})),r.default.createElement("div",{key:"weekend"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"[0, 6]"===e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[0, 6]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:d.default.t("sch_periodWeekend")})),r.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},r.default.createElement(c.FormControlLabel,{style:{verticalAlign:"top"},control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:!!t,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dows="[0, 1, 2, 3, 4, 5, 6]",e.period.days&&(e.period.days=1),this.onChange(e)}}),label:d.default.t("sch_periodWeekdays")}),t&&(1===e.period.days||e.period.weeks)&&r.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{width:150}},[1,2,3,4,5,6,0].map((t=>r.default.createElement(c.FormControlLabel,{key:"specific_".concat(t),className:this.props.classes.inputGroupElement,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputSmallCheck,checked:e.period.dows.includes(t.toString()),onChange:e=>{const o=JSON.parse(JSON.stringify(this.state.schedule));let a;try{a=JSON.parse(o.period.dows)}catch(n){a=[]}e.target.checked&&!a.includes(t)?a.push(t):!e.target.checked&&a.includes(t)&&a.splice(a.indexOf(t),1),a.sort(((e,t)=>e-t)),o.period.dows=JSON.stringify(a),o.period.days&&(o.period.days=1),this.onChange(o)}}),label:d.default.t(u[t])})))))]}getPeriodSettingsDaily(){if(!this.state.schedule.period.days)return null;const e=this.state.schedule;return[r.default.createElement("div",{key:"every_day"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.days&&!e.period.dows,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=1,e.period.dows="",this.onChange(e)}}),label:d.default.t("sch_periodEveryDay")})),r.default.createElement("div",{key:"everyN_day"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.days>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.days=2,e.period.dows="",this.onChange(e)}}),label:d.default.t("sch_periodEvery")}),e.period.days>1&&[r.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.days,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.days=parseInt(e.target.value,10),t.period.dows="",this.onChange(t)}}),r.default.createElement("span",{key:"span",style:{paddingRight:10}},d.default.t("sch_periodDay"))])]}getPeriodSettingsWeekly(){if(!this.state.schedule.period.weeks)return null;const e=this.state.schedule;return[r.default.createElement("div",{key:"radios",style:{display:"inline-block",verticalAlign:"top"}},r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.weeks,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.weeks=1,this.onChange(e)}}),label:d.default.t("sch_periodEveryWeek")})),r.default.createElement("div",null,r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.weeks>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.weeks=2,this.onChange(e)}}),label:d.default.t("sch_periodEvery")}),e.period.weeks>1&&[r.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.weeks,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.weeks=parseInt(e.target.value,10),this.onChange(t)}}),r.default.createElement("span",{key:"text"},d.default.t("sch_periodWeek"))]))]}getPeriodSettingsDates(){if(!this.state.schedule.period.dates)return null;const e=this.state.schedule,t=[];for(let a=1;a<=31;a++)t.push(a);const o=JSON.parse(e.period.dates);return r.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{maxWidth:620}},r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:31===o.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[];for(let o=1;o<=31;o++)t.push(o);e.period.dates=JSON.stringify(t),this.onChange(e)}}),label:d.default.t("sch_all")}),r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!o.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.dates="[]",this.onChange(e)}}),label:d.default.t("sch_no_one")}),31!==o.length&&!!o.length&&r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[],o=JSON.parse(e.period.dates);for(let a=1;a<=31;a++)o.includes(a)||t.push(a);t.sort(((e,t)=>e-t)),e.period.dates=JSON.stringify(t),this.onChange(e)}}),label:d.default.t("sch_invert")}),r.default.createElement("div",null),t.map((t=>r.default.createElement(c.FormControlLabel,{key:"date_".concat(t),className:this.props.classes.inputDateDay,style:t?{}:{opacity:0,cursor:"default",userSelect:"none",pointerEvents:"none"},control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:JSON.parse(e.period.dates).includes(t),onChange:e=>{const o=JSON.parse(JSON.stringify(this.state.schedule));let a;try{a=JSON.parse(o.period.dates)}catch(n){a=[]}e.target.checked&&!a.includes(t)?a.push(t):!e.target.checked&&a.includes(t)&&a.splice(a.indexOf(t),1),a.sort(((e,t)=>e-t)),o.period.dates=JSON.stringify(a),this.onChange(o)}}),label:t<10?[r.default.createElement("span",{key:"0",style:{opacity:0}},"0"),r.default.createElement("span",{key:"num"},t)]:t}))))}getPeriodSettingsMonthly(){if(!this.state.schedule.period.months)return null;const e=this.state.schedule,t="string"===typeof e.period.months?JSON.parse(e.period.months):[];return[r.default.createElement("div",{key:"every"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"number"===typeof e.period.months&&1===e.period.months,onClick:()=>{JSON.parse(JSON.stringify(this.state.schedule)).period.months=1,this.onChange(e)}}),label:d.default.t("sch_periodEveryMonth")})),r.default.createElement("div",{key:"everyN"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"number"===typeof e.period.months&&e.period.months>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months=2,this.onChange(e)}}),label:d.default.t("sch_periodEvery")}),"number"===typeof e.period.months&&e.period.months>1&&[r.default.createElement(c.Input,{key:"input",value:e.period.months,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.months=parseInt(e.target.value,10),t.period.months<1&&(t.period.months=1),this.onChange(t)}}),r.default.createElement("span",{key:"text"},d.default.t("sch_periodMonth"))]),r.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},r.default.createElement(c.FormControlLabel,{style:{verticalAlign:"top"},control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:"string"===typeof e.period.months,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months="[1,2,3,4,5,6,7,8,9,10,11,12]",this.onChange(e)}}),label:d.default.t("sch_periodSpecificMonths")}),"string"===typeof e.period.months&&r.default.createElement(c.FormGroup,{row:!0,className:this.props.classes.inputGroup},r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:12===t.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[];for(let o=1;o<=12;o++)t.push(o);e.period.months=JSON.stringify(t),this.onChange(e)}}),label:d.default.t("sch_all")}),r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!t.length,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.months="[]",this.onChange(e)}}),label:d.default.t("sch_no_one")}),12!==t.length&&!!t.length&&r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputDateDay,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule)),t=[],o=JSON.parse(e.period.months);for(let a=1;a<=12;a++)o.includes(a)||t.push(a);t.sort(((e,t)=>e-t)),e.period.months=JSON.stringify(t),this.onChange(e)}}),label:d.default.t("sch_invert")}),r.default.createElement("div",null),p.map(((t,o)=>r.default.createElement(c.FormControlLabel,{className:this.props.classes.inputGroupElement,control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputSmallCheck,checked:"string"===typeof e.period.months?JSON.parse(e.period.months).includes(o+1):e.period.months===o,onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));let a;try{a=JSON.parse(t.period.months)}catch(n){a=[]}e.target.checked&&!a.includes(o+1)?a.push(o+1):!e.target.checked&&a.includes(o+1)&&a.splice(a.indexOf(o+1),1),a.sort(((e,t)=>e-t)),t.period.months=JSON.stringify(a),this.onChange(t)}}),label:d.default.t(t)})))))]}getPeriodSettingsYearly(){if(!this.state.schedule.period.years)return null;const e=this.state.schedule;return[r.default.createElement("div",{key:"year"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:1===e.period.years,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=1,this.onChange(e)}}),label:d.default.t("sch_periodEveryYear")})),r.default.createElement("div",{key:"every"},r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Radio,{className:this.props.classes.inputRadio,checked:e.period.years>1,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.period.years=2,this.onChange(e)}}),label:d.default.t("sch_periodEvery")}),e.period.years>1&&[r.default.createElement(c.Input,{key:"input",value:this.state.schedule.period.years,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:e=>{const t=JSON.parse(JSON.stringify(this.state.schedule));t.period.years=parseInt(e.target.value,10),t.period.years<1&&(t.period.years=1),this.onChange(t)}}),r.default.createElement("span",{key:"text"},d.default.t("sch_periodYear"))])]}static now2string(e){const t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e&&(t.setDate(t.getDate()+2),t.setMilliseconds(t.getMilliseconds()-1)),"".concat(g(t.getDate()),".").concat(g(t.getMonth()+1),".").concat(g(t.getFullYear()))}static string2date(e){let t=e.split(".");return 1===t.length?(t=e.split("-"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))):new Date(parseInt(t[2],10),parseInt(t[1],10)-1,parseInt(t[0],10))}getValidSettings(){const e=this.state.schedule;return r.default.createElement("div",{className:this.props.classes.rowDiv},r.default.createElement("div",{className:this.props.classes.modeDiv,style:{verticalAlign:"middle"}},r.default.createElement("span",{style:{fontWeight:"bold",paddingRight:10}},d.default.t("sch_valid")),r.default.createElement("span",null,d.default.t("sch_validFrom"))),r.default.createElement("div",{className:this.props.classes.settingsDiv},r.default.createElement(c.TextField,{variant:"standard",className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",inputRef:this.refFrom,defaultValue:y(e.valid.from),type:"date",onChange:e=>{this.timerFrom&&clearTimeout(this.timerFrom),this.refFrom.current&&(this.refFrom.current.style.background="#ff000030"),this.timerFrom=setTimeout((e=>{this.timerFrom=null,this.refFrom.current&&(this.refFrom.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.valid.from="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},margin:"normal"}),r.default.createElement(c.FormControlLabel,{control:r.default.createElement(c.Checkbox,{className:this.props.classes.inputRadio,checked:!!e.valid.to,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.schedule));e.valid.to=e.valid.to?"":b.now2string(!0),this.onChange(e)}}),label:d.default.t("sch_validTo")}),!!e.valid.to&&r.default.createElement(c.TextField,{variant:"standard",inputRef:this.refTo,className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",type:"date",defaultValue:y(e.valid.to),onChange:e=>{this.timerTo&&clearTimeout(this.timerTo),this.refTo.current&&(this.refTo.current.style.background="#ff000030"),this.timerTo=setTimeout((e=>{this.timerTo=null,this.refTo.current&&(this.refTo.current.style.background="");const t=JSON.parse(JSON.stringify(this.state.schedule)),o=b.string2date(e);"Invalid Date"!==o.toString()&&(t.valid.to="".concat(g(o.getDate()),".").concat(g(o.getMonth()+1),".").concat(o.getFullYear()),this.onChange(t))}),1500,e.target.value)},InputLabelProps:{shrink:!0},margin:"normal"})))}render(){return r.default.createElement("div",{style:{height:"calc(100% - 48px)",width:"100%",overflow:"hidden"}},r.default.createElement("div",null,this.state.desc),r.default.createElement("div",{className:this.props.classes.scrollWindow},r.default.createElement("h5",null,d.default.t("sch_time")),this.getTimePeriodElements(),this.getTimeExactElements(),this.getDivider(),r.default.createElement("h5",null,d.default.t("sch_period")),this.getPeriodModes(),!this.state.schedule.period.once&&this.getDivider(),!this.state.schedule.period.once&&this.getValidSettings()))}}t.default=(0,l.withStyles)((e=>({hr:{border:0,borderTop:"1px solid gray"},scrollWindow:{width:"100%",overflow:"auto",height:"calc(100% - 22px)"},rowDiv:{width:"100%"},modeDiv:{width:200,display:"inline-block",verticalAlign:"top"},settingsDiv:{display:"inline-block",verticalAlign:"top"},inputTime:{width:90,marginTop:0,marginLeft:5},inputDate:{width:140,marginTop:0,marginLeft:5},inputEvery:{width:40,marginLeft:5,marginRight:5},inputRadio:{padding:"4px 12px",verticalAlign:"top"},inputGroup:{maxWidth:400,display:"inline-block"},inputGroupElement:{width:120},inputDateDay:{width:60},inputDateDayCheck:{padding:4},inputSmallCheck:{padding:0},rowOnce:{},rowDays:{background:"dark"!==e.palette.mode?"#ddeaff":"#4b5057"},rowDows:{background:"dark"!==e.palette.mode?"#DDFFDD":"#52646c"},rowDates:{background:"dark"!==e.palette.mode?"#DDDDFF":"#747a86"},rowWeeks:{background:"dark"!==e.palette.mode?"#DDDDFF":"#717680"},rowMonths:{background:"dark"!==e.palette.mode?"#DDFFFF":"#1f5557"},rowMonthsDates:{background:"dark"!==e.palette.mode?"#EEFFFF":"#3c5737",maxWidth:600},rowYears:{background:"dark"!==e.palette.mode?"#fbffdd":"#574b33"},rowDaysDows:{background:"dark"!==e.palette.mode?"#EEEAFF":"#573544",paddingLeft:10,paddingBottom:10},rowDowsDows:{background:"dark"!==e.palette.mode?"#EEFFEE":"#3d4c54",paddingLeft:10,paddingBottom:10}})))(b)},21506:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){const a={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},n={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},s={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999;return Number.isNaN(e)?a[e]||null:Math.min(+e+t,o)}function r(e,t,o,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=o;for(e[t]||(e[t]=[]);s<=a;)e[t].indexOf(s)<0&&e[t].push(s),s+=n||1;e[t].sort(((e,t)=>e-t))}function l(e,t,o,a){(t.d&&!t.dc||t.dc&&!t.dc.includes(a))&&(e.push(function(e){const t={};let o;for(o in e)"dc"!==o&&"d"!==o&&(t[o]=e[o].slice(0));return t}(t)),t=e[e.length-1]),r(t,"d",o,o),r(t,"dc",a,a)}function c(e,t,o,n,s,c){let d,u;const p=t.schedules,m=p[p.length-1];"L"===e&&(e=(n-1).toString(10)),null!==(d=i(e,c,s))?r(m,o,d,d):null!==(d=i(e.replace("W",""),c,s))?function(e,t,o){const n={},s={};1===o?(r(t,"D",1,3),r(t,"d",a.MON,a.FRI),r(n,"D",2,2),r(n,"d",a.TUE,a.FRI),r(s,"D",3,3),r(s,"d",a.TUE,a.FRI)):(r(t,"D",o-1,o+1),r(t,"d",a.MON,a.FRI),r(n,"D",o-1,o-1),r(n,"d",a.MON,a.THU),r(s,"D",o+1,o+1),r(s,"d",a.TUE,a.FRI)),e.exceptions.push(n),e.exceptions.push(s)}(t,m,d):null!==(d=i(e.replace("L",""),c,s))?l(p,m,d,n-1):2===(u=e.split("#")).length?(d=i(u[0],c,s)||c,l(p,m,d,i(u[1])||0)):function(e,t,o,a,n,s){const l=e.split("/"),c=+l[1],d=l[0];if("*"!==d&&"0"!==d){const e=d.split("-");a=i(e[0],s,n)||s,n=i(e[1],s,n)||n}r(t,o,a,n,c)}(e,m,o,n,s,c)}function d(e){return e.includes("#")||e.indexOf("L")>0}function u(e,t){return d(e)&&!d(t)||e>t?1:e<t?-1:0}function p(e){const t=+e;let o=0;var a;return 0!==t&&isFinite(t)&&(o=(a=t)<0?Math.ceil(a):Math.floor(a)),o}function m(e){const t=e%10;return e+(1===p(e%100/10)?o.ORDINALS.th:1===t?o.ORDINALS.st:2===t?o.ORDINALS.nd:3===t?o.ORDINALS.rd:o.ORDINALS.th)}function h(e){if(e.length<2)return m(e[0]);const t=e.pop()||0;return"".concat(e.join(", ")," ").concat(o.and," ").concat(m(t))}function f(e,t){return"dow"===t?o.DOW[e-1]:"mon"===t?o.MONTH[e-1]:e}function g(e,t){if(e.length<2)return f(e[0],t);const a=e.pop()||0;let n="";for(let o,s=0;o=e[s];s++)n.length>0&&(n+=", "),n+=f(o,t);return"".concat(n," ").concat(o.and," ").concat(f(a,t))}function v(e){return e<10?"0".concat(e):e.toString()}return function(e,t){let a="".concat(o.Every," ");if(e.h&&e.m&&e.h.length<=2&&e.m.length<=2&&t&&e.s&&e.s.length<=2){const t=[];for(let o=0;o<e.h.length;o++)for(let a=0;a<e.m.length;a++)for(let n=0;n<e.s.length;n++)t.push("".concat(v(e.h[o]),":").concat(v(e.m[a]),":").concat(v(e.s[n])));if(t.length<2)a="".concat(o.At," ").concat(t[0]);else{const e=t.pop();a="".concat(o.At," ").concat(t.join(", ")," ").concat(o.and," ").concat(e)}e.d||e.D||(a+=" ".concat(o["every day"]," "))}else if(e.h&&e.m&&e.h.length<=2&&e.m.length<=2){const t=[];for(let o=0;o<e.h.length;o++)for(let a=0;a<e.m.length;a++)t.push("".concat(v(e.h[o]),":").concat(v(e.m[a])));if(t.length<2)a="".concat(o.At," ").concat(t[0]);else{const e=t.pop();a="".concat(o.At," ").concat(t.join(", ")," ").concat(o.and," ").concat(e)}e.d||e.D||(a+=" ".concat(o["every day"]," "))}else e.h?e.m?t?e.s&&60!==e.s.length?a+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):a+="".concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):a+="".concat(h(e.m)," ").concat(o["minute past the"]," ").concat(h(e.h)," ").concat(o.hour):t?e.s&&60!==e.s.length?a+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):a+="".concat(o["second of every"]," ").concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):a+="".concat(o["minute of"]," ").concat(h(e.h)," ").concat(o.hour):e.m?t?e.s&&60!==e.s.length?a+="".concat(h(e.s)," ").concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute every hour"]):a+="".concat(o["second of every"]," ").concat(h(e.m)," ").concat(o["minute every hour"]):a+="".concat(h(e.m)," ").concat(o["minute every hour"]):t?e.s&&60!==e.s.length?a+="".concat(h(e.s)," ").concat(o.second):a+=o.second:a+=o.minute;return e.D&&(a+=(o["on the"]?" ".concat(o["on the"]," "):" ")+h(e.D),e.M||(a+=" ".concat(o["of every month"]))),e.d&&(e.D?a+=" ".concat(o["and every"]," "):a+=" ".concat(o.on," "),a+=g(e.d,"dow")),e.M&&(a+=" ".concat(o.in," ").concat(g(e.M,"mon"))),a}(function(e,t){const o=function(e){const t=e.toUpperCase();return n[t]||t}(e);return function(e){const t={schedules:[{}],exceptions:[]},o=e.replace(/(\s)+/g," ").split(" ");let a,n,i,r;for(a in s)if(n=s[a],i=o[n[0]],i&&"*"!==i&&"?"!==i){let e;r=i.split(",").sort(u);const o=r.length;for(e=0;e<o;e++)c(r[e],t,a,n[1],n[2],n[3])}return t}(t?o:"0 ".concat(o))}(e,t).schedules[0],t)}},50256:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(21506)),s=a(o(72523));t.default=function(e,t){const o=6===e.split(" ").length,a=t&&s.default[t]||s.default.en;return function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u043c\u0438\u043d\u0443\u0442\u0443","\u041a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u043c\u0438\u043d\u0443\u0442(\u0443)","\u041a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u0447\u0430\u0441","\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) \u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u041a\u0430\u0436\u0434\u0443\u044e \u0441\u0435\u043a\u0443\u043d\u0434\u0443")).replace(/ (\d{1,2}) \u0447\u0438\u0441\u043b\u0430/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430")).replace(/ (\d{1,2}) \u0432 \u042f\u043d\u0432\u0430\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u042f\u043d\u0432\u0430\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u0424\u0435\u0432\u0440\u0430\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0424\u0435\u0432\u0440\u0430\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u041c\u0430\u0440\u0442\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041c\u0430\u0440\u0442\u0435")).replace(/ (\d{1,2}) \u0432 \u0410\u043f\u0440\u0435\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0410\u043f\u0440\u0435\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u041c\u0430\u0439\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041c\u0430\u0439\u0435")).replace(/ (\d{1,2}) \u0432 \u0418\u044e\u043d\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0418\u044e\u043d\u0435")).replace(/ (\d{1,2}) \u0432 \u0418\u044e\u043b\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0418\u044e\u043b\u0435")).replace(/ (\d{1,2}) \u0432 \u0410\u0432\u0433\u0443\u0441\u0442\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0410\u0432\u0433\u0443\u0441\u0442\u0435")).replace(/ (\d{1,2}) \u0432 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u041e\u043a\u0442\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041e\u043a\u0442\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u041d\u043e\u044f\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u041d\u043e\u044f\u0431\u0440\u0435")).replace(/ (\d{1,2}) \u0432 \u0414\u0435\u043a\u0430\u0431\u0440\u0435/," $1\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432 \u0414\u0435\u043a\u0430\u0431\u0440\u0435")).replace("\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439) 0 \u043c\u0438\u043d\u0443\u0442\u0443","\u041a\u0430\u0436\u0434\u044b\u0435 \u043d\u043e\u043b\u044c \u043c\u0438\u043d\u0443\u0442")).replace(/\u041a\u0430\u0436\u0434\u0443\u044e\(\u044b\u0439\) ([\d\s\u0438,]+) \u043c\u0438\u043d\u0443\u0442\u0443/,"\u041a\u0430\u0436\u0434\u0443\u044e $1 \u043c\u0438\u043d\u0443\u0442\u0443")).replace(/\u043a\u0430\u0436\u0434\u043e\u0439\(\u0433\u043e\) ([\d\s\u0438,]+) \u043c\u0438\u043d\u0443\u0442\u0443/,"\u043a\u0430\u0436\u0434\u043e\u0439 $1 \u043c\u0438\u043d\u0443\u0442\u044b")).replace("\u043a\u0430\u0436\u0434\u043e\u0439(\u0433\u043e) \u043c\u0438\u043d\u0443\u0442(\u0443)","\u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0438\u043d\u0443\u0442\u044b")).replace(" 0 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 0 \u0447\u0430\u0441\u043e\u0432")).replace(" 1 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 1 \u0447\u0430\u0441")).replace(" 2 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 2 \u0447\u0430\u0441\u0430")).replace(" 3 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 3 \u0447\u0430\u0441\u0430")).replace(" 4 \u0447\u0430\u0441\u0430(\u043e\u0432)"," 4 \u0447\u0430\u0441\u0430")).replace(/ (\d{1,2}) \u0447\u0430\u0441\u0430\(\u043e\u0432\)/," $1 \u0447\u0430\u0441\u043e\u0432")).replace("Jede(r) Sekunde","Jede Sekunde")).replace(/Jede\(r\) ([\d\sund,]+) Sekunde/,"Jede $1 Sekunde")).replace("Jede(r) Minute","Jede Minute")).replace("Jede Minuten","Jede Minute")).replace("Jede(r) Stunde","Jede Stunde")).replace(/Jede\(r\) ([\d\sund,]+) Minute/,"Jede $1 Minute")).replace("Jede Sekunde in Minuten","Jede Sekunde in jeder Minute")}((0,n.default)(e,o,a))}},72523:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={en:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DOW:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Every:"Every",and:"and","every day":"every day","minute past the":"minute past the",hour:"hour",minute:"minute","minute of":"minute of",second:"second","second in minute":"second in minute","second of every":"second of every","minute every hour":"minute every hour","on the":"on the","of every month":"of every month","and every":"and every",At:"At",on:"on",in:"in"},de:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],DOW:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],Every:"Jede(r)",and:"und","every day":"jeden Tag","minute past the":"Minuten nach",hour:"Stunde",minute:"Minute","minute of":"Minuten von",second:"Sekunde","second in minute":"Sekunde in der Minute","second of every":"Sekunde in","minute every hour":"Minute jede Stunde","on the":"am","of every month":"im jeden Monat","and every":"und am jeden",At:"Um",on:"am",in:"im"},ru:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u042f\u043d\u0432\u0430\u0440\u0435","\u0424\u0435\u0432\u0440\u0430\u043b\u0435","\u041c\u0430\u0440\u0442\u0435","\u0410\u043f\u0440\u0435\u043b\u0435","\u041c\u0430\u0439\u0435","\u0418\u044e\u043d\u0435","\u0418\u044e\u043b\u0435","\u0410\u0432\u0433\u0443\u0441\u0442\u0435","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u0435","\u041e\u043a\u0442\u044f\u0431\u0440\u0435","\u041d\u043e\u044f\u0431\u0440\u0435","\u0414\u0435\u043a\u0430\u0431\u0440\u0435"],DOW:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043e\u0442\u0443"],Every:"\u041a\u0430\u0436\u0434\u0443\u044e(\u044b\u0439)",and:"\u0438","every day":"\u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c","minute past the":"\u043c\u0438\u043d\u0443\u0442\u0443 \u0432",hour:"\u0447\u0430\u0441\u0430(\u043e\u0432)",minute:"\u043c\u0438\u043d\u0443\u0442\u0443","minute of":"\u043c\u0438\u043d\u0443\u0442(\u0443) \u0432",second:"\u0441\u0435\u043a\u0443\u043d\u0434\u0443","second in minute":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u0432 \u043c\u0438\u043d\u0443\u0442\u0435","second of every":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043a\u0430\u0436\u0434\u043e\u0439(\u0433\u043e)","minute every hour":"\u043c\u0438\u043d\u0443\u0442\u0443 \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441","on the":"","of every month":"\u0447\u0438\u0441\u043b\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430","and every":"\u0438 \u043a\u0430\u0436\u0434\u044b\u0439",At:"\u0412",on:"\u0432",in:"\u0432"},fr:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["F\xe9v","Mar","Avr","Mai","Jun","Juil","Aug","Sep","Oct","Nov","D\xe9c"],DOW:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],Every:"Chaque",and:"et","every day":"tous les jours","minute past the":"minute apr\xe8s le",hour:"heure",minute:"minute","minute of":"minute de",second:"seconde","second in minute":"seconde en minute","second of every":"deuxi\xe8me de tous","minute every hour":"minute toutes les heures","on the":"sur le","of every month":"de chaque mois","and every":"et tous",At:"\xc0",on:"sur",in:"dans"},it:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Pot","Giu","Lug","Aug","Sep","Oct","Nov","Dic"],DOW:["Dom","Mon","Mar","Mer","Gio","Ve","Sat"],Every:"Ogni",and:"e","every day":"ogni giorno","minute past the":"minuto dopo",hour:"ora",minute:"Minuto","minute of":"minuto di",second:"secondo","second in minute":"secondo in minuto","second of every":"secondo di ogni","minute every hour":"minuto ogni ora","on the":"sul","of every month":"di ogni mese","and every":"e ogni",At:"A",on:"sopra",in:"in"},pt:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Abr","Pod","Jun","Jul","Ago","Sep","Oct","Nov","Dec"],DOW:["Dom","Seg","Ter","Qua","Qui","Sex","Sen"],Every:"Cada",and:"e","every day":"todo dia","minute past the":"minuto ap\xf3s o",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo em minuto","second of every":"segundo de cada","minute every hour":"minuto a cada hora","on the":"no","of every month":"de todos os meses","and every":"e todos",At:"At",on:"em",in:"dentro"},pl:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],DOW:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"],Every:"Ka\u017cde(go)",and:"i","every day":"codziennie","minute past the":"minut po",hour:"godzina",minute:"minut(a)","minute of":"minut po",second:"sekunda","second in minute":"sekund na minut\u0119","second of every":"sekund co","minute every hour":"minut co godzin\u0119","on the":"w","of every month":"ka\u017cdego miesi\u0105ca","and every":"i ka\u017cdego",At:"O",on:"w",in:"w"},es:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Ene","Feb","Mar","Abr","Mayo","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],DOW:["Sol","Lun","Mar","Mie","Jue","Vie","Sab"],Every:"Cada",and:"y","every day":"cada d\xeda","minute past the":"minuto pasado el",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo en minuto","second of every":"segundo de cada","minute every hour":"minuto cada hora","on the":"sobre el","of every month":"de cada mes","and every":"y cada",At:"A",on:"en",in:"en"},nl:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],DOW:["Zon","Mon","Di","Wo","Don","Vrij","Za"],Every:"Elke",and:"en","every day":"elke dag","minute past the":"minuut voorbij de",hour:"uur",minute:"minuut","minute of":"minuut van",second:"tweede","second in minute":"tweede in minuut","second of every":"tweede van alles","minute every hour":"minuut elk uur","on the":"op de","of every month":"van elke maand","and every":"en elke",At:"Op",on:"op",in:"in"},uk:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],DOW:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0456\u043d\u043d\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],Every:"\u041a\u043e\u0436\u043d\u0443(\u0438\u0439)",and:"\u0456","every day":"\u043a\u043e\u0436\u0435\u043d \u0434\u0435\u043d\u044c","minute past the":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u043f\u0456\u0441\u043b\u044f",hour:"\u0433\u043e\u0434\u0438\u043d\u0438",minute:"\u0445\u0432\u0438\u043b\u0438\u043d\u0443","minute of":"\u0445\u0432\u0438\u043b\u0438\u043d\u0438",second:"\u0441\u0435\u043a\u0443\u043d\u0434\u0443","second in minute":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u0432 \u0445\u0432\u0438\u043b\u0438\u043d\u0456","second of every":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043a\u043e\u0436\u043d\u043e\u0457(\u0433\u043e)","minute every hour":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u043a\u043e\u0436\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","on the":"","of every month":"\u0447\u0438\u0441\u043b\u0430 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u043c\u0456\u0441\u044f\u0446\u044f","and every":"\u0456 \u043a\u043e\u0436\u043d\u043e\u0433\u043e",At:"\u0412",on:"\u0432",in:"\u0432"},"zh-cn":{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],DOW:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],Every:"\u6bcf",and:"\u548c","every day":"\u6bcf\u5929","minute past the":"\u5206\u949f\u5728\u6bcf\u5929\u7b2c",hour:"\u5c0f\u65f6",minute:"\u5206\u949f","minute of":"\u5206\u949f\u7684",second:"\u79d2","second in minute":"\u79d2\u5728\u5206\u949f","second of every":"\u79d2\u5728\u6bcf","minute every hour":"\u5206\u949f\u5728\u6bcf\u5c0f\u65f6\u4e2d","on the":"\u5728","of every month":"\u65e5\u5728\u6bcf\u6708","and every":"\u4e14\u6bcf",At:"\u5728",on:"\u5728",in:"\u5728"}}},66556:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(32496),c=o(65298),d=i(o(653));class u extends r.Component{render(){const{classes:e}=this.props;return r.default.createElement(c.Paper,{elevation:Number.isNaN(this.props.elevation)?1:this.props.elevation,className:d.default.clsx(e.root,{[e.overflowHidden]:"visible"!==this.props.overflow},this.props.className),onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex},r.default.createElement(c.Grid,{container:!0,direction:"column",wrap:"nowrap",className:e.container},this.props.children))}}const p=(0,l.withStyles)({root:{width:"100%",height:"100%"},overflowHidden:{overflow:"hidden"},container:{height:"100%"}})(u);t.default=p},17030:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482)),s=o(32496),i=o(65298),r=a(o(653));class l extends n.default.Component{render(){const{classes:e}=this.props;return n.default.createElement(i.Grid,{item:!0,className:r.default.clsx(e.root,"auto"===this.props.overflow?e.overflowAuto:"")},this.props.children)}}const c=(0,s.withStyles)({root:{height:"100%",overflow:"hidden"},overflowAuto:{overflow:"auto"}})(l);t.default=c},80918:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482)),s=o(65298);class i extends n.default.Component{render(){return n.default.createElement(s.Grid,{item:!0,container:!0,alignItems:"center"},this.props.children)}}t.default=i},653:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482)),s=a(o(35494)),i=a(o(12539)),r="material",l=["Su","Mo","Tu","We","Th","Fr","Sa"],c=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},u={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"};class p{static CapitalWords(e){return(e||"").split(/[\s_]/).filter((e=>e)).map((e=>e?e[0].toUpperCase()+e.substring(1).toLowerCase():"")).join(" ")}static formatSeconds(e){const t=Math.floor(e/86400);e%=86400;const o=Math.floor(e/3600);e%=3600;const a=Math.floor(e/60);e%=60,e=Math.floor(e);let n="";return t&&(n+="".concat(t," ").concat(i.default.t("ra_daysShortText")," ")),n+="".concat(o<10?"0".concat(o):o,":").concat(a<10?"0".concat(a):a,":").concat(e<10?"0".concat(e):e),n}static getObjectName(e,t,o,a,n){const s=e[t];let i;const r=n?"desc":"name";if("string"!==typeof o||a||(a={language:o},o=null),(a=a||{}).language||(a.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),null===o||void 0===o?void 0:o.name)i=o.name,"object"===typeof i&&(i=a.language&&i[a.language]||i.en);else if(s&&s.common&&s.common[r])i=s.common[r],"desc"!==r&&!i&&s.common.desc&&(i=s.common.desc),"object"===typeof i&&(i=a.language&&i[a.language]||i.en||i.de||i.ru||""),i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase());else{const e=t.lastIndexOf(".");i=t.substring(e+1).replace(/[_.]/g," "),i=p.CapitalWords(i)}return i.trim()}static getObjectNameFromObj(e,t,o,a,n){const s=e;let i=e&&e._id||"";const r=a?"desc":"name";if("string"!==typeof t||o||(o={language:t},t=null),o=o||{},null===t||void 0===t?void 0:t.name){const e=t.name;i=e&&"object"===typeof e?o.language&&e[o.language]||e.en:e}else if((null===s||void 0===s?void 0:s.common)&&s.common[r]){let e=s.common[r];"desc"!==r&&!e&&s.common.desc&&(e=s.common.desc),i="object"===typeof e?o.language&&e[o.language]||e.en:e,i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase())}return n?i:i.trim()}static getSettingsOrder(e,t,o){let a,n;if(a=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===a||void 0===a?void 0:a.custom){n=a.custom[r];const e=o.user||"admin";if(n&&n[e])if(t){if(n[e].subOrder&&n[e].subOrder[t])return JSON.parse(JSON.stringify(n[e].subOrder[t]))}else if(n[e].order)return JSON.parse(JSON.stringify(n[e].order))}return null}static getSettingsCustomURLs(e,t,o){let a,n;if(a=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===a||void 0===a?void 0:a.custom){n=a.custom[r];const e=o.user||"admin";if(n&&n[e])if(t){if(n[e].subURLs&&n[e].subURLs[t])return JSON.parse(JSON.stringify(n[e].subURLs[t]))}else if(n[e].URLs)return JSON.parse(JSON.stringify(n[e].URLs))}return null}static reorder(e,t,o){const a=Array.from(e),[n]=a.splice(t,1);return a.splice(o,0,n),a}static getSettings(e,t,o){let a;const n=(null===e||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t.id);let s;if(s=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,(null===s||void 0===s?void 0:s.custom)?(a=s.custom,a=a[r]&&a[r][t.user||"admin"]?JSON.parse(JSON.stringify(a[r][t.user||"admin"])):{enabled:!0}):a={enabled:void 0===o||o,useCustom:!1},Object.prototype.hasOwnProperty.call(a,"enabled")||(a.enabled=void 0===o||o),t&&(!a.name&&t.name&&(a.name=t.name),!a.icon&&t.icon&&(a.icon=t.icon),!a.color&&t.color&&(a.color=t.color)),s&&(a.color=a.color||s.color,a.icon=a.icon||s.icon,a.name=a.name||s.name),"object"===typeof a.name&&(a.name=t.language&&a.name[t.language]||a.name.en,a.name=(a.name||"").toString().replace(/_/g," "),a.name===a.name.toUpperCase()&&(a.name=a.name[0]+a.name.substring(1).toLowerCase())),!a.name&&n){const e=n.lastIndexOf(".");a.name=n.substring(e+1).replace(/[_.]/g," "),a.name=(a.name||"").toString().replace(/_/g," "),a.name=p.CapitalWords(a.name)}return a}static setSettings(e,t,o){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[r]=e.common.custom[r]||{},e.common.custom[r][o.user||"admin"]=t;const a=e.common.custom[r][o.user||"admin"];return a.useCommon&&(void 0!==a.color&&(e.common.color=a.color,delete a.color),void 0!==a.icon&&(e.common.icon=a.icon,delete a.icon),void 0!==a.name&&("object"!==typeof e.common.name&&o.language?e.common.name={[o.language]:a.name}:"object"===typeof e.common.name&&o.language&&(e.common.name[o.language]=a.name),delete a.name)),!0}return!1}static getIcon(e,t){return e&&e.icon?e.icon.length<=2?n.default.createElement("span",{style:t||{}},e.icon):e.icon.startsWith("data:image")?n.default.createElement("img",{alt:e.name,src:e.icon,style:t||{}}):n.default.createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:t}):null}static getObjectIcon(e,t){if("object"===typeof e&&(e=null===(t=e)||void 0===t?void 0:t._id),t&&t.common&&t.common.icon){let o=t.common.icon;if("string"===typeof o&&o.length<=2)return o;if(o.startsWith("data:image"))return o;const a=e.split(".");return o="system"===a[0]?"adapter/".concat(a[2]).concat(o.startsWith("/")?"":"/").concat(o):"adapter/".concat(a[0]).concat(o.startsWith("/")?"":"/").concat(o),window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)||window.location.pathname.match(/material\/[.\d]+/)?o="../../".concat(o):window.location.pathname.match(/material\//)&&(o="../".concat(o)),o}return null}static splitCamelCase(e){return e?p.CapitalWords(e):""}static isUseBright(e,t){if(!e)return void 0===t||t;let o,a,n;(e=e.toString()).startsWith("#")&&(e=e.slice(1));const s=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(s&&4===s.length)o=parseInt(s[1],10),a=parseInt(s[2],10),n=parseInt(s[3],10);else{if(3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),8===e.length)e=e.substring(0,6);else if(6!==e.length)return!1;o=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16)}return.299*o+.587*a+.114*n<=186}static getTimeString(e){if(e=parseFloat(e.toString()),Number.isNaN(e))return"--:--";const t=Math.floor(e/3600),o=Math.floor(e%3600/60),a=e%60;return t?"".concat(t,":").concat(o<10?"0".concat(o):o,":").concat(a<10?"0".concat(a):a):"".concat(o<10?"0".concat(o):o,":").concat(a<10?"0".concat(a):a)}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return"string"===typeof e?e.length<2?"0".concat(e):e:e<10?"0".concat(e):e.toString()}static setDataFormat(e){e&&(p.dateFormat=e.toUpperCase().split(/[.-/]/),p.dateFormat.splice(p.dateFormat.indexOf("YYYY"),1))}static date2string(e){if("string"===typeof e){if(!(e=e.trim()))return"";if(e.match(/^[\w\s]+$/))return e;const t=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(t){const o=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)],a=o.find((e=>e>31));if(void 0!==a){o.splice(o.indexOf(a),1);const t=o.find((e=>e>12));t?(o.splice(o.indexOf(t),1),e=new Date(a,o[0]-1,t)):"M"===p.dateFormat[0][0]&&"D"===p.dateFormat[1][0]?(e=new Date(a,o[0]-1,o[1]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(a,o[1]-1,o[0]))):"D"===p.dateFormat[0][0]&&"M"===p.dateFormat[1][0]?(e=new Date(a,o[1]-1,o[0]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(a,o[0]-1,o[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e)}else e=new Date(e);let t=i.default.t("ra_dow_".concat(l[e.getDay()])).replace("ra_dow_","");return t+=". ".concat(e.getDate()," ").concat(i.default.t("ra_month_".concat(c[e.getMonth()])).replace("ra_month_","")),t}static renderTextWithA(e){let t=e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(t){const o=[];let a=1;do{const s=e.substring(0,t.index);if(e=e.substring((t.index||0)+t[0].length),s&&o.push(n.default.createElement("span",{key:"a".concat(a++)},s)),t[0].startsWith("<b>"))o.push(n.default.createElement("b",{key:"a".concat(a++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<i>"))o.push(n.default.createElement("i",{key:"a".concat(a++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<br"))o.push(n.default.createElement("br",{key:"a".concat(a++)}));else{const e=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),s=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),i=t[0].match(/rel="([^"]+)"/)||t[0].match(/rel='([^']+)'/),r=t[0].match(/>([^<]*)</);o.push(n.default.createElement("a",{key:"a".concat(a++),href:e?e[1]:"",target:s?s[1]:"_blank",rel:i?i[1]:"",style:{color:"inherit"}},r?r[1]:""))}t=e?e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/):null,t||e&&o.push(n.default.createElement("span",{key:"a".concat(a++)},e))}while(t);return o}return e}static getSmartName(e,t,o,a){var n,s;if(!t){if(!a)return e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName;if(e&&!e.common)return e.smartName;const t=e;return(null===(n=null===t||void 0===t?void 0:t.common)||void 0===n?void 0:n.custom)&&t.common.custom[o]?t.common.custom[o].smartName:void 0}if(!a)return e[t].common.smartName;const i=e[t];return(null===(s=null===i||void 0===i?void 0:i.common)||void 0===s?void 0:s.custom)&&i.common.custom[o]&&i.common.custom[o].smartName||null}static getSmartNameFromObj(e,t,o){var a;return o?e&&!e.common?e.smartName:(null===(a=null===e||void 0===e?void 0:e.common)||void 0===a?void 0:a.custom)&&e.common.custom[t]?e.common.custom[t].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}static enableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}static removeSmartName(e,t,o){o?e.common&&e.common.custom&&e.common.custom[t]&&(e.common.custom[t]=null):e.common.smartName=null}static updateSmartName(e,t,o,a,n,s){const r=i.default.getLanguage();if("string"===typeof e.common.smartName){const t=e.common.smartName;e.common.smartName={},e.common.smartName[r]=t}if(e.native&&e.native.byON){delete e.native.byON;let t=e.common.smartName;t?"object"!==typeof t&&(t={en:t},t[r]=t.en):t={},e.common.smartName=t}if(void 0!==a&&(s?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},a?e.common.custom[n].smartName.smartType=a:delete e.common.custom[n].smartName.smartType):(e.common.smartName=e.common.smartName||{},a?e.common.smartName.smartType=a:delete e.common.smartName.smartType)),void 0!==o&&(s?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},e.common.custom[n].smartName.byON=o):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=o)),void 0!==t){let o;if(s?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},o=e.common.custom[n].smartName):(e.common.smartName=e.common.smartName||{},o=e.common.smartName),o[r]=t,o&&(!o[r]||o[r]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete o[r];let t=!0;for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){t=!1;break}t&&(s&&e.common.custom&&e.common.custom[n]?void 0===e.common.custom[n].smartName.byON?delete e.common.custom[n]:(delete e.common.custom[n].en,delete e.common.custom[n].de,delete e.common.custom[n].ru,delete e.common.custom[n].nl,delete e.common.custom[n].pl,delete e.common.custom[n].it,delete e.common.custom[n].fr,delete e.common.custom[n].pt,delete e.common.custom[n].es,delete e.common.custom[n].uk,delete e.common.custom[n]["zh-cn"]):e.common.smartName&&void 0!==e.common.smartName.byON?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,t){return t&&(t.stopPropagation(),t.preventDefault()),(0,s.default)(e)}static getFileExtension(e){const t=(e||"").lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return"".concat(e," B");const t=["KB","MB","GB"];let o=-1;do{e/=1024,++o}while(Math.abs(e)>=1024&&o<t.length-1);return"".concat(e.toFixed(1)," ").concat(t[o])}static getInvertedColor(e,t,o){if(!e)return;const a=p.invertColor(e,!0);return"#FFFFFF"===a&&("dark"===t||o&&"light"===t)?"#DDD":"#000000"===a&&("light"===t||o&&"dark"===t)?"#222":void 0}static invertColor(e,t){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let o=null;if(8===e.length)o=e.substring(6,8),e=e.substring(0,6);else if(6!==e.length)return console.warn("Cannot invert color: ".concat(e)),e;const a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);if(t)return.299*a+.587*n+.114*s>186?"#000000".concat(o||""):"#FFFFFF".concat(o||"");const i=(255-a).toString(16),r=(255-n).toString(16),l=(255-s).toString(16);return"#".concat(i.padStart(2,"0")).concat(r.padStart(2,"0")).concat(l.padStart(2,"0")).concat(o||"")}static color2rgb(e){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return 3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length&&8!==e.length?(console.warn("Cannot invert color: ".concat(e)),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let t=e[0]/255,o=e[1]/255,a=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92;let n=(.4124*t+.3576*o+.1805*a)/.95047,s=.2126*t+.7152*o+.0722*a,i=(.0193*t+.1192*o+.9505*a)/1.08883;return n=n>.008856?n**.33333333:7.787*n+.137931,s=s>.008856?s**.33333333:7.787*s+.137931,i=i>.008856?i**.33333333:7.787*i+.137931,[116*s-16,500*(n-s),200*(s-i)]}static colorDistance(e,t){const o=p.color2rgb(e),a=p.color2rgb(t);if(!o||!a)return 0;const n=p.rgb2lab(o),s=p.rgb2lab(a),i=n[0]-s[0],r=n[1]-s[1],l=n[2]-s[2],c=Math.sqrt(n[1]*n[1]+n[2]*n[2]),d=c-Math.sqrt(s[1]*s[1]+s[2]*s[2]);let u=r*r+l*l-d*d;u=u<0?0:Math.sqrt(u);const m=d/(1+.045*c),h=u/(1+.015*c),f=i*i+m*m+h*h;return f<0?0:f}static _toVal(e){let t,o="";if("string"===typeof e||"number"===typeof e)o+=e;else if("object"===typeof e)if(Array.isArray(e))for(let a=0;a<e.length;a++)e[a]&&(t=p._toVal(e[a]),t&&(o&&(o+=" "),o+=t));else for(const a in e)e[a]&&(o&&(o+=" "),o+=a);return o}static clsx(){let e,t,o=0,a="";for(;o<arguments.length;){var n;e=(n=o++)<0||arguments.length<=n?void 0:arguments[n],e&&(t=p._toVal(e),t&&(a&&(a+=" "),a+=t))}return a}static getThemeName(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix?"light":"dark"===(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"))||"blue"===e?"dark":"light"}static setThemeName(e){window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme","dark"===e||"blue"===e?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix)return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName")||"light";const t=p.getThemeNames(),o=e?t.indexOf(e):-1;let a;return a=-1!==o?t[(o+1)%t.length]:t[0],p.setThemeName(a),a}static getThemeNames(){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const t={};return e.split("&").forEach((e=>{if(e=e.trim()){const o=e.split("="),a=decodeURIComponent(o[0]).trim();if(o.length>1){if(t[a]=decodeURIComponent(o[1]),"true"===t[a])t[a]=!0;else if("false"===t[a])t[a]=!1;else if(t[a]){const e=parseFloat(t[a].toString());e.toString()===t[a]&&(t[a]=e)}}else t[a]=!0}})),t}static getParentId(e){const t=(e||"").toString().split(".");return t.length>1?(t.pop(),t.join(".")):null}static formatDate(e,t){if(!e)return"";let o;const a=e.getMonth()+1,n=e.getDate();o="MM/DD/YYYY"===t?"".concat(a<10?"0".concat(a):a,"/").concat(n<10?"0".concat(n):n,"/").concat(e.getFullYear()):"".concat(e.getFullYear(),"-").concat(a,"-").concat(n);let s=e.getHours();return o+=s<10?" 0".concat(s):" ".concat(s),s=e.getMinutes(),o+=s<10?":0".concat(s):":".concat(s),s=e.getSeconds(),o+=s<10?":0".concat(s):":".concat(s),s=e.getMilliseconds(),o+=s<10?".00".concat(s):s<100?".0".concat(s):".".concat(s),o}static formatTime(e){if(e){e=Math.round(e);const t=Math.floor(e/86400),o=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),n=e%60;return t?"".concat(t,".").concat(o.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):o?"".concat(o,":").concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):"0:".concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}return"0:00:00"}static MDtext2link(e){const t=e.match(/\d+\.\)\s/);return t&&(e=e.replace(t[0],t[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,t){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),"this"===t?window.location.href=e:window.open(e,t||"_blank")}static MDgetTitle(e){const t=p.MDextractHeader(e),o=t.header;let a=t.body;if(!o.title){a=a.replace(/{[^}]*}/g,""),a=a.trim();const e=a.replace(/\r/g,"").split("\n");for(let t=0;t<e.length;t++)if(e[t].startsWith("# "))return e[t].substring(2).trim();return""}return o.title?o.title.toString():""}static MDextractHeader(e){const t={};if("---"===e.substring(0,3)){const o=e.substring(3).indexOf("\n---");if(-1!==o){e.substring(3,o+3).replace(/\r/g,"").split("\n").forEach((e=>{if(!e.trim())return;const o=e.indexOf(":");if(-1!==o){const a=e.substring(0,o).trim();let n=e.substring(o+1).trim();n=n.replace(/^['"]|['"]$/g,""),"true"===n?t[a]=!0:"false"===n?t[a]=!1:parseFloat(n).toString()===n?t[a]=parseFloat(n):t[a]=n}else t[e.trim()]=!0})),e=e.substring(o+7)}}return{header:t,body:e}}static MDremoveDocsify(e){const t=e.match(/{docsify-[^}]*}/g);return t&&t.forEach((t=>e=e.replace(t,""))),e}static generateFile(e,t){const o=document.createElement("a");o.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t,null,2)))),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}static quality2text(e){const t=4294901760&e,o=d[e];let a;return a=o?[o]:1&e?[d[1],"0x".concat((65534&e).toString(16))]:2&e?[d[2],"0x".concat((65533&e).toString(16))]:["0x".concat(e.toString(16))],t&&a.push("0x".concat((t>>16).toString(16).toUpperCase())),a}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var t;let o=null===(t=null===e||void 0===e?void 0:e.common)||void 0===t?void 0:t.states;if(o)if("string"===typeof o&&"{"===o[0])try{o=JSON.parse(o)}catch(a){console.error("Cannot parse states: ".concat(o)),o=null}else if("string"===typeof o){const e=o.split(";");o={};for(let t=0;t<e.length;t++){const a=e[t].split(":");o[a[0]]=a[1]}}else if(Array.isArray(o)){const t={};return"number"===(null===e||void 0===e?void 0:e.common.type)?o.forEach(((e,o)=>t[o]=e)):"string"===(null===e||void 0===e?void 0:e.common.type)?o.forEach((e=>t[e]=e)):"boolean"===(null===e||void 0===e?void 0:e.common.type)&&(t.false=o[0],t.true=o[1]),t}return o||null}static async getSvg(e){const t=await fetch(e),o=await t.blob();return await new Promise((e=>{const t=new FileReader;t.onload=function(){var t;e((null===(t=this.result)||void 0===t?void 0:t.toString())||"")},t.readAsDataURL(o)}))}static detectMimeType(e){const t=Object.keys(u).find((t=>e.startsWith(t)));return t?u[t]:null}static isStableRepository(e){return!!("string"===typeof e&&e.toLowerCase().startsWith("stable")||e&&"string"!==typeof e&&e.find((e=>e.toLowerCase().startsWith("stable"))))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}}p.namespace=r,p.INSTANCES="instances",p.dateFormat=["DD","MM"],p.FORBIDDEN_CHARS=/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu,t.default=p},72524:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(94634)),s=a(o(41132)),i=a(o(53482)),r=o(27547),l=a(o(2438));t.default=function(){return function(e){return function(t){var o=function(){var e=(0,r.useTheme)();return(0,s.default)(e.breakpoints.keys).reverse().reduce((function(t,o){var a=(0,l.default)(e.breakpoints.up(o));return!t&&a?o:t}),null)||"xs"}();return i.default.createElement(e,(0,n.default)({},t,{width:o}))}}}},17111:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ERRORS",{enumerable:!0,get:function(){return a.ERRORS}}),Object.defineProperty(t,"PERMISSION_ERROR",{enumerable:!0,get:function(){return a.PERMISSION_ERROR}}),Object.defineProperty(t,"PROGRESS",{enumerable:!0,get:function(){return a.PROGRESS}}),t.default=void 0;var a=o(71936);t.default=a.Connection},27637:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(32496),c=o(65298),d=o(21839),u=i(o(12539));class p extends r.Component{constructor(e){if(super(e),!this.props.dialogName&&this.props.suppressQuestionMinutes)throw new Error("dialogName required if suppressQuestionMinutes used");let t=!1;this.props.suppressQuestionMinutes&&(t=parseInt((window._localStorage||window.localStorage).getItem(this.props.dialogName),10)||0,t?Date.now()>t&&((window._localStorage||window.localStorage).removeItem(this.props.dialogName),t=!1):t=!1),this.state={suppress:t}}handleOk(){this.state.suppress&&(window._localStorage||window.localStorage).setItem(this.props.dialogName,Date.now()+6e4*(this.props.suppressQuestionMinutes||2)),this.props.onClose&&this.props.onClose(!0)}handleCancel(){this.props.onClose&&this.props.onClose(!1)}render(){return"number"===typeof this.state.suppress?(setTimeout((()=>this.props.onClose&&this.props.onClose(!0)),100),null):r.default.createElement(c.Dialog,{open:!0,maxWidth:"md",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&this.handleCancel()},"aria-labelledby":"ar_confirmation_dialog_title","aria-describedby":"ar_confirmation_dialog_description"},r.default.createElement(c.DialogTitle,{id:"ar_confirmation_dialog_title"},this.props.title||u.default.t("ra_Are you sure?")),r.default.createElement(c.DialogContent,null,r.default.createElement(c.DialogContentText,{id:"ar_confirmation_dialog_description"},this.props.icon||null,this.props.text,this.props.suppressQuestionMinutes?r.default.createElement("br",null):null,this.props.suppressQuestionMinutes?r.default.createElement(c.FormControlLabel,{classes:{label:this.props.classes.suppress,root:this.props.classes.suppressRoot},control:r.default.createElement(c.Checkbox,{id:"ar_dialog_confirm_suppress_".concat(this.props.dialogName||""),checked:!!this.state.suppress,onChange:()=>this.setState({suppress:!this.state.suppress})}),label:this.props.suppressText||u.default.t("ra_Suppress question for next %s minutes",(this.props.suppressQuestionMinutes||2).toString())}):null)),r.default.createElement(c.DialogActions,null,r.default.createElement(c.Button,{id:"ar_dialog_confirm_ok_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:r.default.createElement(d.Check,null)},this.props.ok||u.default.t("ra_Ok")),r.default.createElement(c.Button,{id:"ar_dialog_confirm_cancel_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:r.default.createElement(d.Close,null)},this.props.cancel||u.default.t("ra_Cancel"))))}}const m=(0,l.withStyles)({suppress:{fontSize:12},suppressRoot:{marginTop:16}})(p);t.default=m},99795:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(65298),c=o(21839),d=i(o(12539));class u extends r.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return r.default.createElement(l.Dialog,{open:!0,maxWidth:"sm",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:()=>this.handleOk(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.default.createElement(l.DialogTitle,{id:"ar_alert_dialog_title"},this.props.title||d.default.t("ra_Error")),r.default.createElement(l.DialogContent,null,r.default.createElement(l.DialogContentText,{id:"ar_alert_dialog_description"},this.props.text||d.default.t("ra_Unknown error!"))),r.default.createElement(l.DialogActions,null,r.default.createElement(l.Button,{id:"ar_dialog_error_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:r.default.createElement(c.Check,null)},d.default.t("ra_Ok"))))}}t.default=u},70266:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(65298),c=o(21839),d=i(o(12539));class u extends r.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return r.default.createElement(l.Dialog,{open:!0,maxWidth:"sm",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:()=>this.handleOk(),"aria-labelledby":"ar_dialog_message_title","aria-describedby":"ar_dialog_message_description"},r.default.createElement(l.DialogTitle,{id:"ar_dialog_message_title"},this.props.title||d.default.t("ra_Message")),r.default.createElement(l.DialogContent,null,r.default.createElement(l.DialogContentText,{id:"ar_dialog_message_description"},r.default.createElement("span",{style:{marginRight:this.props.icon?8:0}},this.props.icon||null),this.props.text)),r.default.createElement(l.DialogActions,null,r.default.createElement(l.Button,{id:"ar_dialog_message_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:r.default.createElement(c.Close,null)},this.props.ok||d.default.t("ra_Close"))))}}t.default=u},73900:function(e,t,o){var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&a(t,e,o);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(53482)),l=o(65298),c=o(21839),d=i(o(12539)),u=i(o(96205));class p extends r.Component{constructor(e){super(e),this.dialogName=this.props.dialogName||"default",this.dialogName="SelectID.".concat(this.dialogName);const t=(window._localStorage||window.localStorage).getItem(this.dialogName)||"{}";try{this.filters=JSON.parse(t)}catch(a){this.filters={}}e.filters&&(this.filters=Object.assign(Object.assign({},this.filters),e.filters||{}));let o=this.props.selected||[];if(Array.isArray(o)||(o=[o]),o=o.filter((e=>e)),e.filterFunc)if("string"===typeof e.filterFunc)try{this.filterFunc=new Function("obj",e.filterFunc)}catch(a){console.error('Cannot parse filter function: "obj => '.concat(e.filterFunc,'"')),this.filterFunc=void 0}else this.filterFunc=e.filterFunc;this.state={selected:o,name:""}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.props.multiSelect?this.state.selected:this.state.selected[0]||"",this.state.name),this.props.onClose()}render(){let e;return e=this.state.name||this.state.selected.length?1===this.state.selected.length?[r.default.createElement("span",{key:"selected"},d.default.t("ra_Selected"),"\xa0"),r.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},(this.state.name||this.state.selected)+(this.state.name?" [".concat(this.state.selected,"]"):""))]:[r.default.createElement("span",{key:"selected"},d.default.t("ra_Selected"),"\xa0"),r.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},d.default.t("%s items",this.state.selected.length.toString()))]:this.props.title||d.default.t("ra_Please select object ID..."),r.default.createElement(l.Dialog,{onClose:()=>{},maxWidth:!1,sx:{"& .MuiDialog-paper":{height:"95%",padding:4,width:"100%",maxWidth:"100%",maxHeight:"calc(100% - 16px)"}},fullWidth:!0,open:!0,"aria-labelledby":"ar_dialog_selectid_title"},r.default.createElement(l.DialogTitle,{id:"ar_dialog_selectid_title",style:{whiteSpace:"nowrap",width:"calc(100% - 72px)",overflow:"hidden",display:"inline-block",textOverflow:"ellipsis"}},e),r.default.createElement(l.DialogContent,{style:{height:"100%",overflow:"hidden",padding:"8px 4px"}},r.default.createElement(u.default,{foldersFirst:this.props.foldersFirst,imagePrefix:this.props.imagePrefix||this.props.prefix,defaultFilters:this.filters,dialogName:this.dialogName,showExpertButton:void 0===this.props.showExpertButton||this.props.showExpertButton,expertMode:this.props.expertMode,columns:this.props.columns||["name","type","role","room","func","val"],types:this.props.types?Array.isArray(this.props.types)?this.props.types:[this.props.types]:["state"],root:this.props.root,t:d.default.t,lang:this.props.lang||d.default.getLanguage(),socket:this.props.socket,selected:this.state.selected,multiSelect:this.props.multiSelect,notEditable:void 0===this.props.notEditable||this.props.notEditable,themeName:this.props.themeName,themeType:this.props.themeType,customFilter:this.props.customFilter,onFilterChanged:e=>{this.filters=e,(window._localStorage||window.localStorage).setItem(this.dialogName,JSON.stringify(e))},onSelect:(e,t,o)=>{JSON.stringify(e)!==JSON.stringify(this.state.selected)?this.setState({selected:e,name:t},(()=>o&&this.handleOk())):o&&this.handleOk()},filterFunc:this.filterFunc,title:"",classes:{}})),r.default.createElement(l.DialogActions,null,r.default.createElement(l.Button,{id:"ar_dialog_selectid_ok_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleOk(),startIcon:r.default.createElement(c.Check,null),disabled:!this.state.selected.length,color:"primary"},this.props.ok||d.default.t("ra_Ok")),r.default.createElement(l.Button,{id:"ar_dialog_selectid_cancel_".concat(this.props.dialogName||""),color:"grey",variant:"contained",onClick:()=>this.handleCancel(),startIcon:r.default.createElement(c.Cancel,null)},this.props.cancel||d.default.t("ra_Cancel"))))}}t.default=p},73361:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){console.log("\n\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \n\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\n\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\n"),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)")}},50086:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=o(27547),n=o(85181),s=11/23/100;function i(e){const t={r:0,g:0,b:0};if(7===e.length)t.r=parseInt(e.substr(1,2),16),t.g=parseInt(e.substr(3,2),16),t.b=parseInt(e.substr(5,2),16);else if(4===e.length){const o=e.substr(1,1),a=e.substr(2,1),n=e.substr(3,1);t.r=parseInt(o+o,16),t.g=parseInt(a+a,16),t.b=parseInt(n+n,16)}return t}function r(e,t,o){const a=i(e),n=i(t);return a.r+=n.r*(.05+s*(o-1)),a.g+=n.g*(.05+s*(o-1)),a.b+=n.b*(.05+s*(o-1)),r=a,"#".concat(Math.round(r.r).toString(16)).concat(Math.round(r.g).toString(16)).concat(Math.round(r.b).toString(16));var r}function l(e,t){const o={};for(let a=1;a<=24;a++)o["elevation".concat(a)]={backgroundColor:r(e,t,a)};return o}t.default=e=>{var t,o,s,i,r,c,d,u,p;let m;m="dark"===e?{name:e,palette:{mode:"dark",background:{paper:"#121212",default:"#121212"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#272727"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[200],"&:hover":{color:n.orange[100]}}},MuiPaper:l("#121212","#fff")}}:"blue"===e?{name:e,palette:{mode:"dark",background:{paper:"#151d21",default:"#151d21"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#2a3135"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[200],"&:hover":{color:n.orange[100]}}},MuiPaper:l("#151d21","#fff")}}:"colored"===e?{name:e,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#96fc96"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#3399CC"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[400],"&:hover":{color:n.orange[300]}}}}}:"PT"===e?{name:e,palette:{mode:"light",primary:{main:"#0F99DE"},secondary:{main:"#88A536"},expert:"#BD1B24"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#0F99DE"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[400],"&:hover":{color:n.orange[300]}}}}}:"DX"===e?{name:e,palette:{mode:"light",primary:{main:"#F5F5F7"},secondary:{main:"#a9a9a9"},expert:"#BD1B24",text:{primary:"#007AFE",secondary:"#007AFE",disabled:"#007AFEAA"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#a9a9a9"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[400],"&:hover":{color:n.orange[300]}}}}}:{name:e,palette:{mode:"light",primary:{main:"#3399CC",light:void 0,dark:void 0,contrastText:void 0},secondary:{main:"#164477"},expert:"#14bb00"},overrides:{MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:n.orange[400],"&:hover":{color:n.orange[300]}}}}},m.toolbar={height:48},m.saveToolbar={background:null===(o=null===(t=m.palette)||void 0===t?void 0:t.primary)||void 0===o?void 0:o.main,button:{borderRadius:3,height:32}},m.palette&&(m.palette.grey={main:n.grey[300],dark:n.grey[400]});const h=(0,a.createTheme)(m),f=h.palette;return(0,a.createTheme)(h,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:f.getContrastText&&f.grey&&f.grey[300]?f.getContrastText(f.grey[300]):void 0}},{props:{variant:"outlined",color:"grey"},style:{color:null===(s=f.text)||void 0===s?void 0:s.primary,borderColor:"light"===f.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat(null===(i=f.action)||void 0===i?void 0:i.disabledBackground)},"&:hover":{borderColor:"light"===f.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,a.alpha)((null===(r=f.text)||void 0===r?void 0:r.primary)||"",(null===(c=f.action)||void 0===c?void 0:c.hoverOpacity)||.04)}}},{props:{variant:"text",color:"grey"},style:{color:null===(d=f.text)||void 0===d?void 0:d.primary,"&:hover":{backgroundColor:(0,a.alpha)((null===(u=f.text)||void 0===u?void 0:u.primary)||"",(null===(p=f.action)||void 0===p?void 0:p.hoverOpacity)||.04)}}}]}}})}},12539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class o{static setLanguage(e){e&&(o.lang=e)}static extendTranslations(e,t){if(e.prefix){const t=e;if("string"===typeof t.prefix){const o=t.prefix;delete t.prefix,Object.keys(t).forEach((a=>{const n=a,s={},i=t[n];Object.keys(i).forEach((e=>{e&&i&&(e.startsWith(o)?s[e]=i[e]:s["".concat(o).concat(e)]=i[e])})),e[n]=s}))}else console.warn("Found prefix in translations, but it is not a string")}try{if(t){o.translations[t]||console.warn("Used unknown language: ".concat(t)),o.translations[t]=o.translations[t]||{};const a=o.translations[t];a&&Object.keys(e).forEach((o=>{a[o]?a[o]!==e[o]&&console.warn('Translation for word "'.concat(o,'" in "').concat(t,'" was ignored: existing = "').concat(a[o],'", new = ').concat(e[o])):a[o]=e[o]}))}else e.en&&e.de&&e.ru?Object.keys(e).forEach((t=>{const a=t;o.translations[a]=o.translations[a]||{};const n=o.translations[a];Object.assign(n,e[a])})):Object.keys(e).forEach((t=>{const a=e[t];Object.keys(a).forEach((e=>{const n=e,s=o.translations[n];s?s[t]?s[t]!==a[n]&&console.warn('Translation for word "'.concat(t,'" in "').concat(n,'" was ignored: existing = "').concat(s[t],'", new = ').concat(a[n])):s[t]=a[n]:console.warn("Used unknown language: ".concat(n))}))}))}catch(a){console.error("Cannot apply translations: ".concat(a))}}static setTranslations(e){e&&(o.translations=e)}static getLanguage(){return o.lang}static t(e){const t=o.translations[o.lang];if(t){const a=t[e];if(a)e=a;else if(o.unknownTranslations.includes(e)||(o.unknownTranslations.push(e),!o._disableWarning&&console.log("Translate: ".concat(e))),"en"!==o.lang&&o.translations.en){const t=o.translations.en[e];t&&(e=t)}}for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];for(const o of n)e=e.replace("%s",o);return e}static i18nShow(e){const t={};e?"string"===typeof e?(o.unknownTranslations.forEach((o=>{o.startsWith(e)&&(t[o]=o.replace(e,""))})),console.log(JSON.stringify(t,null,2))):"object"===typeof e&&(o.unknownTranslations.forEach((o=>{e.test(o)&&(t[o]=o)})),console.log(JSON.stringify(t,null,2))):(o.unknownTranslations.forEach((e=>t[e]=e)),console.log(JSON.stringify(t,null,2)))}static disableWarning(e){o._disableWarning=!!e}}o.translations={},o.unknownTranslations=[],o.lang=window.sysLang||"en",o._disableWarning=!1,window.i18nShow=o.i18nShow,window.i18nDisableWarning=o.disableWarning,t.default=o},40626:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},n.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},53905:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},n.default.createElement("path",{fill:"currentColor",d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},68230:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className,style:e.style},n.default.createElement("g",{fill:"currentColor"},n.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"248",cx:"160",fill:"none",strokeWidth:"15"}),n.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},47478:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 24 24",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39A.998.998 0 0 0 18.95 4H5.04c-.83 0-1.3.95-.79 1.61z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},3553:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 650 512",xmlns:"http://www.w3.org/2000/svg",width:e.width||20,height:e.height||e.width||20,className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},80156:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},97075:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("g",{fill:"currentColor"},n.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),n.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("rect",{height:"27",width:"50",y:"140.83068",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),n.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"251",cx:"241",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),n.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"200.94531",x2:"240.5",y1:"45.94531",x1:"240.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("rect",{height:"27",width:"50",y:"78.7979",x:"214.5",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),n.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"84",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),n.default.createElement("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"201.94531",x2:"83.5",y1:"46.94531",x1:"83.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),n.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"57.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},46172:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},34070:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}),n.default.createElement("path",{fill:"currentColor",stroke:"null",d:"m261,270l-12,0l0,-24c0,-33.12 -26.88,-60 -60,-60s-60,26.88 -60,60l0,24l-12,0c-13.2,0 -24,10.8 -24,24l0,120c0,13.2 10.8,24 24,24l144,0c13.2,0 24,-10.8 24,-24l0,-120c0,-13.2 -10.8,-24 -24,-24zm-72,108c-13.2,0 -24,-10.8 -24,-24s10.8,-24 24,-24s24,10.8 24,24s-10.8,24 -24,24zm37.2,-108l-74.4,0l0,-24c0,-20.52 16.68,-37.2 37.2,-37.2c20.52,0 37.2,16.68 37.2,37.2l0,24z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},8225:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(o(53482));t.default=e=>n.default.createElement("svg",{onClick:t=>e.onClick&&e.onClick(t),viewBox:"0 0 486.70625 486",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",d:"m414.928297,149.715165 c-2.639376,-57.222555 -35.669446,-106.505345 -83.345894,-132.039151 c-3.758948,-2.049842 -7.636885,-3.932022 -11.590542,-5.641125 c-19.303146,-8.394083 -40.607459,-13.050853 -63.004303,-13.050853 c-84.113909,0 -152.791790,65.703174 -157.718988,148.605566 l0.043268,-0.010816 v0.281245 c0,3.061243 -0.146031,16.750306 -0.146031,16.750306 l-2.352723,5.224668 h15.744315 c5.916964,-19.384275 24.078904,-32.635245 45.513024,-32.635245 c26.231510,0 47.573684,21.915481 47.573684,48.146991 c0,26.226103 -21.342174,47.146409 -47.573684,47.146409 c-25.111939,0 -45.734774,-19.735831 -47.443879,-44.658471 h-18.789334 c-0.400232,0 -0.778832,0.638209 -1.162839,0.584122 l-19.762875,55.199753 c-2.774590,7.696379 2.926030,16.214860 11.103771,16.214860 h17.020735 l-0.129805,87.899899 c0,17.356066 14.073071,31.174935 31.429136,31.174935 h56.205745 v82.648189 c0,12.877778 12.937273,22.580734 25.815051,22.580734 h144.597825 c12.877778,0 23.429877,-9.702955 23.429877,-22.580734 v-166.037352 c0,-22.645636 5.976457,-44.761234 16.561008,-64.789128 c11.055093,-20.925714 17.523731,-44.620611 18.129489,-69.792045 c0.027042,-1.260193 0.037858,-2.552839 0.037858,-3.845485 c0,-2.466302 -0.070310,-4.938014 -0.183890,-7.377273 zm-155.393308,-11.731165 h-13.456494 v13.559257 c0,4.732489 -4.267352,8.567157 -8.999842,8.567157 c-4.727079,0 -8.999842,-3.834667 -8.999842,-8.567157 v-13.559257 h-12.185483 c-4.732489,0 -8.567157,-4.267352 -8.567157,-8.999842 c0,-4.727079 3.834667,-8.999842 8.567157,-8.999842 h12.185483 v-12.077311 c0,-4.732489 4.272762,-8.567157 8.999842,-8.567157 c4.732489,0 8.999842,3.834667 8.999842,8.567157 v12.077311 h13.456494 c4.727079,0 8.567157,4.272762 8.567157,8.999842 c0,4.732489 -3.840077,8.999842 -8.567157,8.999842 zm0,0"}),n.default.createElement("path",{fill:"currentColor",d:"m187.695312 285.875c3.9375-3.980469 6.414063-9.449219 6.414063-15.523438 0-12.128906-9.855469-21.980468-21.984375-21.980468-6.007812 0-11.472656 2.410156-15.457031 6.347656-4.023438 4.003906-6.523438 9.539062-6.523438 15.636719 0 12.125 9.855469 21.980469 21.980469 21.980469 6.078125 0 11.585938-2.476563 15.570312-6.460938zm0 0"}))},36198:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 512 512",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},47389:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 650 512",xmlns:"http://www.w3.org/2000/svg",width:e.width||20,height:e.height||e.width||20,className:e.className},n.default.createElement("path",{fill:"currentColor",d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},42204:(e,t,o)=>{var a=o(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(53482)),s=a(o(95973)),i=function(e){return n.default.createElement("svg",{onClick:function(t){return e.onClick&&e.onClick(t)},viewBox:"0 0 320 320",width:e.width||20,height:e.height||e.width||20,xmlns:"http://www.w3.org/2000/svg",className:e.className},n.default.createElement("rect",{fill:"none",rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor"}),n.default.createElement("ellipse",{fill:"none",ry:"54",rx:"54",cy:"160",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor"}))};i.propTypes={onClick:s.default.func,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),className:s.default.string};t.default=i},2438:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a.A});var a=o(51229)},7326:(e,t,o)=>{o.r(t),o.d(t,{convertFromNode:()=>u,convertFromString:()=>p,default:()=>m});var a=o(53482),n=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var a,n,s=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(r){n={error:r}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},s=function(e){return e.split(/ ?; ?/).reduce((function(e,t){var o=n(t.split(/ ?: ?/),2),a=o[0],s=o[1];return a&&s&&(e[a.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(s))?s:Number(s)),e}),{})};var i=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],r={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},l=function(){return l=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},l.apply(this,arguments)},c=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var a,n,s=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(r){n={error:r}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},d=function(e,t,o){if(o||2===arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};function u(e,t){var o;if(void 0===t&&(t={}),!e||!(e instanceof Node))return null;var n,p=t.actions,m=void 0===p?[]:p,h=t.index,f=void 0===h?0:h,g=t.level,v=void 0===g?0:g,y=t.randomKey,b=e,w="".concat(v,"-").concat(f),k=[];if(y&&0===v&&(w="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o="",a=e;a>0;--a)o+=t[Math.round(61*Math.random())];return o}(),"-").concat(w)),Array.isArray(m)&&m.forEach((function(t){t.condition(b,w,v)&&("function"===typeof t.pre&&((b=t.pre(b,w,v))instanceof Node||(b=e)),"function"===typeof t.post&&k.push(t.post(b,w,v)))})),k.length)return k;switch(b.nodeType){case 1:return a.createElement((n=b.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(n)?n:n.toLowerCase()),function(e,t){var o={key:t};if(e instanceof Element){var a=e.getAttribute("class");a&&(o.className=a),d([],c(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":o[e.name]=s(e.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":o[r[e.name]||e.name]=!0;break;default:o[r[e.name]||e.name]=e.value}}))}return o}(b,w),function(e,t,o){var a=d([],c(e),!1).map((function(e,a){return u(e,l(l({},o),{index:a,level:t+1}))})).filter(Boolean);return a.length?a:null}(b.childNodes,v,t));case 3:var E=(null===(o=b.nodeValue)||void 0===o?void 0:o.toString())||"";if(/^\s+$/.test(E)&&!/[\u00A0\u202F]/.test(E))return null;if(!b.parentNode)return E;var S=b.parentNode.nodeName.toLowerCase();return i.includes(S)?(/\S/.test(E)&&console.warn("A textNode is not allowed inside '".concat(S,"'. Your text \"").concat(E,'" will be ignored')),null):E;default:return null}}function p(e,t){if(void 0===t&&(t={}),!e||"string"!==typeof e)return null;var o=t.nodeOnly,a=void 0!==o&&o,n=t.selector,s=void 0===n?"body > *":n,i=t.type,r=void 0===i?"text/html":i;try{var l=(new DOMParser).parseFromString(e,r).querySelector(s);if(!(l instanceof Node))throw new TypeError("Error parsing input");return a?l:u(l,t)}catch(c){0}return null}function m(e,t){return void 0===t&&(t={}),"string"===typeof e?p(e,t):e instanceof Node?u(e,t):null}},82239:(e,t,o)=>{var a,n=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,o,a)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let n of r(t))c.call(e,n)||n===o||s(e,n,{get:()=>t[n],enumerable:!(a=i(t,n))||a.enumerable});return e},u=(e,t,o)=>(o=null!=e?n(l(e)):{},d(!t&&e&&e.__esModule?o:s(o,"default",{value:e,enumerable:!0}),e)),p=(e,t,o)=>(((e,t,o)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!==typeof t?t+"":t,o),o),m={};((e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})})(m,{cacheStore:()=>E,default:()=>x}),e.exports=(a=m,d(s({},"__esModule",{value:!0}),a));var h=u(o(53482)),f=u(o(7326)),g="react-inlinesvg",v={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function y(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function b(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!==typeof window&&null!==window}async function w(e,t){const o=await fetch(e,t),a=o.headers.get("content-type"),[n]=(a||"").split(/ ?; ?/);if(o.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((e=>n.includes(e))))throw new Error("Content type isn't valid: ".concat(n));return o.text()}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((t=>{setTimeout(t,1e3*e)}))}var E,S=class{constructor(){p(this,"cacheApi"),p(this,"cacheStore"),p(this,"subscribers",[]),p(this,"isReady",!1),this.cacheStore=new Map;let e=g,t=!1;var o;y()&&(e=null!==(o=window.REACT_INLINESVG_CACHE_NAME)&&void 0!==o?o:g,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE);t?caches.open(e).then((e=>{this.cacheApi=e,this.isReady=!0,this.subscribers.forEach((e=>e()))})):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){var o,a;return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),null!==(o=null===(a=this.cacheStore.get(e))||void 0===a?void 0:a.content)&&void 0!==o?o:""}set(e,t){this.cacheStore.set(e,t)}isCached(e){var t;return(null===(t=this.cacheStore.get(e))||void 0===t?void 0:t.status)===v.LOADED}async fetchAndAddToInternalCache(e,t){const o=this.cacheStore.get(e);if((null===o||void 0===o?void 0:o.status)!==v.LOADING){if(null===o||void 0===o||!o.content){this.cacheStore.set(e,{content:"",status:v.LOADING});try{const o=await w(e,t);this.cacheStore.set(e,{content:o,status:v.LOADED})}catch(a){throw this.cacheStore.set(e,{content:"",status:v.FAILED}),a}}}else await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:v.IDLE}),await this.fetchAndAddToInternalCache(e,t)}))}async fetchAndAddToPersistentCache(e,t){var o;const a=this.cacheStore.get(e);if((null===a||void 0===a?void 0:a.status)===v.LOADED)return;if((null===a||void 0===a?void 0:a.status)===v.LOADING)return void await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:v.IDLE}),await this.fetchAndAddToPersistentCache(e,t)}));this.cacheStore.set(e,{content:"",status:v.LOADING});const n=await(null===(o=this.cacheApi)||void 0===o?void 0:o.match(e));if(n){const t=await n.text();this.cacheStore.set(e,{content:t,status:v.LOADED})}else try{var s,i,r;await(null===(s=this.cacheApi)||void 0===s?void 0:s.add(new Request(e,t)));const o=await(null===(i=this.cacheApi)||void 0===i?void 0:i.match(e)),a=null!==(r=await(null===o||void 0===o?void 0:o.text()))&&void 0!==r?r:"";this.cacheStore.set(e,{content:a,status:v.LOADED})}catch(l){throw this.cacheStore.set(e,{content:"",status:v.FAILED}),l}}async handleLoading(e,t){let o=0;for(;(null===(a=this.cacheStore.get(e))||void 0===a?void 0:a.status)===v.LOADING&&o<10;){var a;await k(.1),o+=1}o>=10&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map((e=>{let[t,o]=e;return{[t]:o}}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}},C=o(63674),N=class extends h.PureComponent{constructor(e){var t;super(e),t=this,p(this,"hash"),p(this,"isActive",!1),p(this,"isInitialized",!1),p(this,"fetchContent",(async()=>{const{fetchOptions:e,src:t}=this.props,o=await w(t,e);this.handleLoad(o)})),p(this,"handleError",(e=>{const{onError:t}=this.props,o="Browser does not support SVG"===e.message?v.UNSUPPORTED:v.FAILED;this.isActive&&this.setState({status:o},(()=>{"function"===typeof t&&t(e)}))})),p(this,"handleLoad",(function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isActive&&t.setState({content:e,isCached:o,status:v.LOADED},t.getElement)})),this.state={content:"",element:null,isCached:!!e.cacheRequests&&E.isCached(e.src),status:v.IDLE},this.hash=e.uniqueHash||function(e){const t="abcdefghijklmnopqrstuvwxyz",o="".concat(t).concat(t.toUpperCase()).concat("1234567890");let a="";for(let s=0;s<e;s++)a+=(n=o)[Math.floor(Math.random()*n.length)];var n;return a}(8)}componentDidMount(){if(this.isActive=!0,!y()||this.isInitialized)return;const{status:e}=this.state,{src:t}=this.props;try{if(e===v.IDLE){if(!b())throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(o){this.handleError(o)}this.isInitialized=!0}componentDidUpdate(e,t){if(!y())return;const{isCached:o,status:a}=this.state,{onLoad:n,src:s}=this.props;if(t.status!==v.READY&&a===v.READY&&n&&n(s,o),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}componentWillUnmount(){this.isActive=!1}getElement(){try{const e=this.getNode(),t=(0,f.default)(e);if(!t||!h.isValidElement(t))throw new Error("Could not convert the src to a React element");this.setState({element:t,status:v.READY})}catch(e){this.handleError(new Error(e.message))}}getNode(){const{description:e,title:t}=this.props;try{const o=this.processSVG(),a=(0,f.default)(o,{nodeOnly:!0});if(!a||!(a instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const n=this.updateSVGAttributes(a);if(e){const t=n.querySelector("desc");t&&t.parentNode&&t.parentNode.removeChild(t);const o=document.createElementNS("http://www.w3.org/2000/svg","desc");o.innerHTML=e,n.prepend(o)}if("undefined"!==typeof t){const e=n.querySelector("title");if(e&&e.parentNode&&e.parentNode.removeChild(e),t){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=t,n.prepend(e)}}return n}catch(o){return this.handleError(o)}}load(){this.isActive&&this.setState({content:"",element:null,isCached:!1,status:v.LOADING},(async()=>{const{cacheRequests:e,fetchOptions:t,src:o}=this.props,a=o.match(/^data:image\/svg[^,]*?(;base64)?,(.*)/u);let n;if(a?n=a[1]?window.atob(a[2]):decodeURIComponent(a[2]):o.includes("<svg")&&(n=o),n)this.handleLoad(n);else try{if(e){const e=await E.get(o,t);this.handleLoad(e,!0)}else await this.fetchContent()}catch(s){this.handleError(s)}}))}processSVG(){const{content:e}=this.state,{preProcessor:t}=this.props;return t?t(e):e}updateSVGAttributes(e){const{baseURL:t="",uniquifyIDs:o}=this.props,a=["id","href","xlink:href","xlink:role","xlink:arcrole"],n=["href","xlink:href"];return o?([...e.children].forEach((e=>{if(e.attributes&&e.attributes.length){const o=Object.values(e.attributes).map((e=>{const o=e,a=e.value.match(/url\((.*?)\)/);return a&&a[1]&&(o.value=e.value.replace(a[0],"url(".concat(t).concat(a[1],"__").concat(this.hash,")"))),o}));a.forEach((e=>{const t=o.find((t=>t.name===e));var a,s;t&&(a=e,s=t.value,!n.includes(a)||!s||s.includes("#"))&&(t.value="".concat(t.value,"__").concat(this.hash))}))}return e.children.length?this.updateSVGAttributes(e):e})),e):e}render(){const{element:e,status:t}=this.state,{children:o=null,innerRef:a,loader:n=null}=this.props,s=function(e){const t={};for(var o=arguments.length,a=new Array(o>1?o-1:0),n=1;n<o;n++)a[n-1]=arguments[n];for(const s in e)({}).hasOwnProperty.call(e,s)&&(a.includes(s)||(t[s]=e[s]));return t}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return y()?e?h.cloneElement(e,{ref:a,...s}):[v.UNSUPPORTED,v.FAILED].includes(t)?o:n:n}};function x(e){E||(E=new S);const{loader:t}=e,o=h.useRef(!1),[a,n]=h.useState(E.isReady);return h.useEffect((()=>{o.current||(E.onReady((()=>{n(!0)})),o.current=!0)}),[]),a?(0,C.jsx)(N,{...e}):t}p(N,"defaultProps",{cacheRequests:!0,uniquifyIDs:!1})}}]);
//# sourceMappingURL=5950.1de8cae0.chunk.js.map