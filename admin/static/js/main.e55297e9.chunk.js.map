{"version":3,"sources":["Components/RulesEditor/components/CurrentItem/style.module.scss","Components/RulesEditor/components/GenericBlock/style.module.scss","Components/RulesEditor/components/CardMenu/style.module.scss","Components/RulesEditor/components/CustomButton/style.module.scss","Components/RulesEditor/components/CustomModal/style.module.scss","Components/RulesEditor/components/CustomSlider/style.module.scss","Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss","Components/RulesEditor/components/CustomInput/style.module.scss","Components/RulesEditor/components/CustomCheckbox/style.module.scss","Components/RulesEditor/components/CustomSelect/style.module.scss","Components/RulesEditor/components/CustomSwitch/style.module.scss","Components/RulesEditor/components/CustomTime/style.module.scss","Components/RulesEditor/components/ContentBlockItems/style.module.scss","assets/js.png","assets/blockly.png","assets/typescript.png","assets/rules.png","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/tileRules.png","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Dialogs/Export.js","Dialogs/Import.js","Components/BlocklyEditor.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Dialogs/ScriptEditor.js","Components/RulesEditor/components/CustomInput/index.js","Components/RulesEditor/helpers/MaterialDynamicIcon.js","Components/RulesEditor/helpers/utils.js","Components/RulesEditor/components/CardMenu/index.js","Components/RulesEditor/helpers/deepCopy.js","Components/RulesEditor/helpers/filterElement.js","Components/RulesEditor/components/CustomButton/index.js","Components/RulesEditor/components/CustomCheckbox/index.js","Components/RulesEditor/components/CustomInstance/index.js","Components/RulesEditor/components/CustomModal/index.js","Components/RulesEditor/components/CustomSelect/index.js","Components/RulesEditor/components/CustomSlider/index.js","Components/RulesEditor/components/CustomSwitch/index.js","Components/RulesEditor/components/CustomTime/index.js","Components/RulesEditor/helpers/Tour.js","Components/RulesEditor/components/GenericBlock/index.js","Components/RulesEditor/components/Blocks/ActionSayText.js","Components/RulesEditor/components/Blocks/ActionSendEmail.js","Components/RulesEditor/components/Blocks/ActionTelegram.js","Components/RulesEditor/helpers/Compile.js","Components/RulesEditor/components/Blocks/TriggerScriptSave.js","Components/RulesEditor/components/Blocks/TriggerSchedule.js","Components/RulesEditor/components/Blocks/TriggerState.js","Components/RulesEditor/components/Blocks/ConditionState.js","Components/RulesEditor/components/Blocks/ConditionTime.js","Components/RulesEditor/components/Blocks/ConditionAstrological.js","Components/RulesEditor/components/Blocks/ActionSetState.js","Components/RulesEditor/components/Blocks/ActionExec.js","Components/RulesEditor/components/Blocks/ActionHTTPCall.js","Components/RulesEditor/components/Blocks/ActionPrintText.js","Components/RulesEditor/components/Blocks/ActionPause.js","Components/RulesEditor/components/StandardBlocks/index.js","Components/RulesEditor/components/ContextWrapper/index.js","Components/RulesEditor/components/CurrentItem/index.js","Components/RulesEditor/helpers/findElement.js","Components/RulesEditor/components/CustomDragLayer/index.js","Components/RulesEditor/helpers/cardSort.js","Components/RulesEditor/components/DragWrapper/index.js","Components/RulesEditor/components/CardMenu/CustomDragItem.js","Components/RulesEditor/hooks/useStateLocal.js","Components/RulesEditor/components/ContentBlockItems/DialogHelp.js","Components/RulesEditor/components/ContentBlockItems/index.js","Components/RulesEditor/components/HamburgerMenu/index.js","Components/RulesEditor/index.js","Editor.js","assets/blockly2js.png","assets/rules2js.png","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","Components/RulesEditor/style.module.scss"],"names":["module","exports","DialogRename","React","Component","constructor","props","super","handleCancel","this","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","componentWillReceiveProps","nextProps","render","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","width","autoFocus","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","className","classes","buttonIcon","withStyles","theme","marginRight","spacing","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","type","openHtml","html","lang","getLanguage","window","focus","getJSCard","Card","card","CardActionArea","CardMedia","media","image","title","CardContent","complexity","text","CardActions","size","getTSCard","getBlocklyCard","getRulesCard","textAlign","display","height","fontStyle","marginBottom","DialogNew","onAdd","existingItems","indexOf","error","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","aria-describedby","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","images","ImgBlockly","ImgJS","def","ImgRules","ImgTypeScript","getObjectName","obj","common","en","toString","prepareList","data","result","depth","index","ids","Object","keys","enabled","engineType","engine","modified","it","sort","a","b","idA","toLowerCase","idB","parentIndex","Droppable","onDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","ref","clsx","children","Draggable","useDrag","opacity","isDragging","drag","transform","SideDrawer","expanded","localStorage","getItem","JSON","parse","inputRef","createRef","listItems","scripts","problems","reorder","themeName","selected","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","readProblems","cb","tasks","shift","match","that","_id","substring","socket","getState","err","componentDidMount","subscribeState","componentWillUnmount","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","objects","newState","filteredPartly","found","source","lastIndexOf","filtered","filterList","filterListStatic","ensureSelectedIsVisibleStatic","nState","assign","getIsAllZeroInstancesStatic","selectId","setItem","saveExpanded","showError","onToggle","stopPropagation","startsWith","renderItemButtonsOnEnd","IconButton","iconButtons","onEnableDisable","onEdit","Promise","resolve","getTextStyle","whiteSpace","padding","overflow","flex","onDblClick","isFilteredOut","renderListItem","childrenFiltered","depthPx","marginLeft","cursor","isExpanded","includes","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","ListItem","script","scriptReorder","folderReorder","onDoubleClick","ListItemIcon","listItemIcon","alt","src","ListItemText","primary","ListItemSecondaryAction","onDragFinish","newId","renderOneItem","items","dragging","filter","element","reactChildren","renderAllItems","List","dense","disablePadding","mainList","onAddNew","onCopy","onAddNewFolder","getUniqueName","copyId","word","m","getUniqueFolderName","onCloseMenu","menuAnchorFilterEl","getFilterBadge","filterIcon","getMainMenu","selectedItem","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","event","then","iconDropdownMenu","onExpertModeChange","onExport","onImport","onThemeChange","newThemeName","getToolbarButtons","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getFolders","folders","onCollapseAll","onExpandAll","getBottomButtons","footerButtons","Blockly","footerButtonsRight","renamingItem","copingItem","Drawer","variant","menu","paper","drawerPaper","anchor","toolbar","Divider","backend","HTML5Backend","innerMenu","footer","newName","newInstance","position","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","gText","Log","lines","goBottom","editing","lastIndex","messagesEnd","logHandlerBound","logHandler","generateLine","message","severity","trTime","Date","ts","trSeverity","substr","scrollToBottom","current","scrollIntoView","behavior","allLines","date","ms","toLocaleString","registerLogHandler","unregisterLogHandler","componentDidUpdate","hasOwnProperty","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","clearLog","logBox","toolbox","onLayoutChange","layoutIcon","verticalLayout","onHideLog","logBoxInner","table","clear","info","warn","debug","silly","fontFamily","left","boxShadow","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","waitForMonaco","monacoCounter","loadTypings","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","currentScriptName","isGlobalScript","test","partialDeclarationsPath","wantedTypings","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","insertTextIntoEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","lineNumber","col","column","initNewScript","UNSAFE_componentWillReceiveProps","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","themeType","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","tabIndex","aria-hidden","DialogImport","fullHeight","resize","toolboxXml","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","url","callback","location","scriptTag","onload","onreadystatechange","onerror","adapter","loadJS","loadScripts","adapters","toLoad","parseXml","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","searchBlocks","Xml","workspaceToDom","allBlocks","getAllBlocks","searchId","blocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","updateBackground","loadCode","fileLang","setAttribute","readyState","getElementsByTagName","fileCustom","svgResize","jsCode2Blockly","xml","l","decodeURIComponent","atob","block","unselect","blocklyRemoveOrphanedShadows","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","blocklyCode2JSCode","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","onImportBlocks","trim","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","domToWorkspace","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","_originalStyle","stroke","fill","removeEventListener","outerHTML","p1","MSG","CustomBlocks","Words","HUE","_b","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","FIELDS","s","h","D","M","Y","offset","arguments","max","isNaN","Math","min","add","sched","inc","addHash","schedules","curSched","hash","dc","clone","field","slice","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","addRange","isHash","itemSorter","toInt","argumentForCoercion","coercedNumber","number","isFinite","ceil","floor","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","k","and","scheduleToSentence","expr","hasSeconds","prepared","toUpperCase","prepareExpr","components","f","component","parseExpr","parseCron","JQUERY_CRON_LOCALE","convertCronToText","cron","seconds","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","p","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","minutes","hours","dates","months","dows","cronParts","recalcCron","nums","getDigitsSelector","values","numberButton","getPeriodsTab","every","everyN","periodSelect","verticalAlign","num","InputLabelProps","shrink","mainDiv","FormControlLabel","control","Checkbox","checked","AppBar","appBar","Tabs","active","Tab","tabContent","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","unit","SimpleCron","time","timeFrom","timeTo","weekdays","list","part","_parts","day","dow","text2weekdays","settings","periodArray2text","getDate","getMonth","partsDate","month","getControlsWeekdaysElements","getControlsPeriodElements","getControlsTime","formControl","formControlMarginRight","getControlsDate","formControlPaddingTop","getOnceElements","getIntervalElements","getIntervalBetweenElements","hour","getSpecificTimeElements","onModeChange","PERIODS","ASTRO","DEFAULT","exactTime","days","weeks","years","yearMonth","yearDate","valid","to","string2USdate","Schedule","now2string","refFrom","refTo","refOnce","desc","state2text","force","isDiff","copy","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","getTime","getTimePeriodElements","wholeDay","night","fromTo","rowDiv","modeDiv","Radio","inputRadio","_schedule","settingsDiv","inputTime","getPeriodSettingsMinutes","getTimeExactElements","isAstro","getDivider","hr","getPeriodModes","isOnce","rowOnce","inputDate","defaultValue","timerOnce","getFullYear","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","getValidSettings","timerFrom","timerTo","scrollWindow","border","borderTop","rowDates","rowWeeks","rowDaysDows","DialogCron","simple","onOk","setMode","dialogPaper","ok","cancel","headerID","radio","DialogScriptEditor","isReturn","args","argsTitle","adapterName","CustomInput","multiline","rows","customValue","useState","inputText","setInputText","cls","defaultProps","native","styleComponentBlock","ICON_CACHE","MaterialDynamicIcon","iconName","setUrl","useEffect","getObject","icon","Element","Icons","getName","CardMenu","switchesItem","switchesItemActive","iconTheme","deepCopy","userRules","additionalParameter","newItemsSwitches","filterElement","CustomButton","square","CustomCheckbox","switchChecked","setSwitchChecked","Boolean","memo","SelectMod","borderBottomColor","CustomInstance","multiple","attr","onInstanceHide","setOptions","getAdapterInstances","_options","renderValue","input","placeContent","title2","FormHelperText","CustomModal","titleButtonApply","titleButtonClose","onApply","textInput","modalDialog","modalWrapper","i18n","CustomSelect","onlyItem","only","titleShort","sel","valueOnly","CustomSlider","step","marks","Slider","valueLabelDisplay","mark","CustomSwitch","Switch","CustomTime","STEPS","steps","selector","GenericBlock","PureComponent","renderText","frontText","backText","nameBlock","displayFlex","blockMarginTop","renderSwitch","renderNameText","signature","displayItalic","renderNumber","visibility","openCheckbox","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","buttonText","renderObjectID","showSelectId","write","Utils","getObjectNameFromObj","imagePrefix","dialogName","getThemeName","statesOnly","role","states","read","setOnUpdate","renderIconTag","iconTag","tagCardArray","openTagMenu","tagCard","renderTime","renderSelect","renderInstance","hideAttributes","renderModalInput","openModal","renderTags","aria-controls","isTourOpen","tourStep","setTourStep","keepMounted","tag","onTagChange","onChangeTag","newTagCardArray","newSettings","newTagCard","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","_attr","getData","onValueChanged","inputs","notFound","iconThemCard","iconThemCardSelectable","blockName","nameCard","nameRender","controlMenuTop","oid","instanceSelectionOptions","instanceSelectionDef","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","getStaticData","config","context","trigger","oidType","volume","unshift","ru","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","user","_setUsers","users","userName","firstName","DEFAULT_RULE","triggers","conditions","justCheck","actions","compileTriggers","json","jsonTriggers","findBlock","_context","condition","compile","ors","_ors","compileConditions","compileActions","_else","else","v","action","Compile","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_ONCHANGE","STANDARD_FUNCTION_STATE","STANDARD_FUNCTION_STATE_ONCHANGE","TriggerScriptSave","TriggerScheduleBlock","coordinates","func","at","_dow","intervals","astro","offsetValue","wizard","padStart","_setAstro","latitude","longitude","sunValue","SunCalc","getTimes","_time2String","order","astroTime","_setInterval","renderCron","textCron","alignItems","openDialog","renderWizard","wizardText","default","TriggerState","ConditionState","isAllTriggersOnState","compare","useTrigger","_setInputs","oidUnit","oidStates","ConditionTime","ConditionAstrological","ActionSetState","parseFloat","oidMax","oidMin","oidRole","oidWrite","oidStep","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","pause","_getOptions","StandardBlocks","TriggerSchedule","ADAPTERS","telegram","email","sayit","ContextWrapperCreate","createContext","ContextWrapper","setBlocks","adapterBlocksArray","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","clientWidth","cardStyle","cardStyleActive","controlMenu","closeBtn","layerStyles","getItemStyles","initialOffset","currentOffset","isSnapToGrid","round","snapToGrid","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","renderItem","funcSet","_","throttle","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","findCard","copyCard","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","dropResult","getDropResult","idNumber","newItem","preview","useRef","canDrop","hover","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","CustomDragItem","onDoubl","useStateLocal","events","nameEvents","newHeadCells","DialogHelp","AdditionallyContentBlockItems","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","targetId","contentBlockItem","contentHeightOn","contentHeightOff","wrapperMargin","clientHeight","emptyBlockStyle","emptyBlock","emptyBlockNone","ContentBlockItems","nameAdditionally","additionallyClickItems","setAdditionallyClickItems","checkLocal","showHelp","setShowHelp","newArray","idx","setAnimation","mainBlockItemRules","nameBlockItems","selectOnChange","_userRules","selectOnChangeHelp","selectOnChangeHelpIcon","Array","booleanAdditionally","newAdditionally","blockCardAdd","cardAdd","HamburgerMenu","hamburgerMenu","animate","RulesEditor","setAllBlocks","hamburgerOnOff","setHamburgerOnOff","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","onChangeBlocks","wrapperRules","rootWrapper","menuWrapper","hamburgerWrapper","hamburgerOff","menuRules","menuOff","controlPanel","controlPanelAppBar","switchesRenderWrapper","nothingFound","resetSearch","menuTitle","marginAuto","inputWidth","COLOR_DEBUG","COLOR_VERBOSE","Editor","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","visible","cmdToBlockly","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","catch","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","subscribeObject","unsubscribeObject","removeNonExistingScripts","_changed","verbose","oldSource","commonLocal","nextCommon","onRestart","onSave","onSaveAll","onCancel","getSelect","onConvertBlockly2JS","showConfirmDialog","nowSelected","onTabChange","isScriptChanged","onTabClose","question","confirmCallback","confirm","sendCommandToBlockly","cmd","getTabs","indicatorColor","textColor","scrollButtons","tabIcon","tabText","tabChanged","tabChangedIcon","closeButton","wrapped","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","getDebugMenu","menuDebugAnchorEl","menuIcon","getDebugBadge","getToolbar","isInstanceRunning","isScriptRunning","changedAll","Toolbar","onLocate","notRunning","textButton","saveButton","textIcon","Badge","badgeMargin","badgeContent","getScriptEditor","editorDiv","getBlocklyEditor","resizing","getRulesEditor","getConfirmDialog","getSelectIdDialog","selectedId","getCronDialog","getEditorDialog","getToast","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","closeToast","getTour","isAnyRulesExists","isOpen","onRequestClose","goToStep","minHeight","hintText","secondary","textOverflow","DialogImportFile","imageStatus","file","reader","FileReader","onabort","readAsDataURL","handleDropFile","files","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","iconError","iconOk","borderWidth","borderStyle","borderColor","boxSizing","App","GenericApp","translations","require","bottomButtons","autoSubscribeLog","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","menuSize","importFile","alert","onConnectionReady","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","getObjectView","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","setObject","onUpdateScript","onSelect","showMessage","isFolder","reg","RegExp","expert","newCommon","_obj","reject","getRawSocket","emit","_rev","getLiveHost","host","link","click","remove","download","onImportConfirmed","toggleLogLayout","renderEditor","reduce","sum","extendObject","showLogButton","renderMain","errorDialog","menuOpenCloseButton","primaryMinSize","secondaryInitialSize","onDragStart","onSecondaryPaneSizeChange","onDragEnd","primaryIndex","secondaryMinSize","customClassName","splitterDivs","menuDivWithoutMenu","SideMenu","update","setThemeName","getThemeType","flexGrow","menuDiv","splitterDivWithMenu","progress","hostname","version","Sentry","dsn","release","integrations","SentryIntegrations","build","isMobile","innerWidth","ReactDOM","DndProvider","TouchBackend","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"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Ac,CAAUP,EAAahzB,EAAI,KAAOA,GAG5BwzB,CAAU9F,EAAUC,GA0NFuC,UAAU,GAAIvC,IC7fjD8F,GAAqB,CAEzBA,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAoB,QACpB,IAAoB,MACpB,YAAoB,YACpB,kBAAoB,kBACpB,KAAoB,OACpB,OAAoB,SACpB,YAAoB,YACpB,OAAoB,SACpB,mBAAoB,mBACpB,kBAAoB,kBACpB,oBAAqB,oBACrB,SAAoB,SACpB,iBAAoB,iBACpB,YAAoB,YACpB,GAAoB,KACpB,GAAoB,KACpB,GAAoB,MAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,SACA,UACA,UACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEJD,IAAK,CACD,UACA,SACA,WACA,WACA,aACA,UACA,WAEJ,MAAoB,UACpB,IAAoB,MACpB,YAAoB,YACpB,kBAAoB,eACpB,KAAoB,SACpB,OAAoB,SACpB,YAAoB,cACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,aACpB,oBAAqB,qBACrB,SAAoB,KACpB,iBAAoB,iBACpB,YAAoB,eACpB,GAAoB,KACpB,GAAoB,KACpB,GAAoB,MAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJ,MAAoB,qDACpB,IAAoB,SACpB,YAAoB,gEACpB,kBAAoB,8CACpB,KAAoB,yCACpB,OAAoB,uCACpB,YAAoB,gDACpB,OAAoB,6CACpB,mBAAoB,yFACpB,kBAAoB,gGACpB,oBAAqB,+FACrB,SAAoB,GACpB,iBAAoB,iHACpB,YAAoB,8CACpB,GAAoB,SACpB,GAAoB,SACpB,GAAoB,UAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJ,MAAoB,SACpB,IAAoB,KACpB,YAAoB,iBACpB,kBAAoB,qBACpB,KAAoB,QACpB,OAAoB,SACpB,YAAoB,YACpB,OAAoB,UACpB,mBAAoB,oBACpB,kBAAoB,sBACpB,oBAAoB,2BACpB,SAAoB,SACpB,iBAAoB,iBACpB,YAAoB,UACpB,GAAoB,OACpB,GAAoB,MACpB,GAAoB,QAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJ,MAAqB,OACrB,IAAqB,IACrB,YAAqB,cACrB,kBAAqB,cACrB,KAAqB,MACrB,OAAqB,SACrB,YAAqB,YACrB,OAAqB,UACrB,mBAAqB,oBACrB,kBAAqB,kBACrB,oBAAqB,kBACrB,SAAqB,MACrB,iBAAqB,eACrB,YAAqB,SACrB,GAAqB,IACrB,GAAqB,QACrB,GAAqB,MAGzBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,WACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,qBACxB,SAAwB,KACxB,iBAAwB,oBACxB,YAAwB,UACxB,GAAwB,KACxB,GAAwB,KACxB,GAAwB,UAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,WACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,WACA,MACA,WACA,OAEJ,MAAoB,iBACpB,IAAoB,IACpB,YAAoB,aACpB,kBAAoB,WACpB,KAAoB,UACpB,OAAoB,WACpB,YAAoB,WACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,YACpB,oBAAqB,wBACrB,SAAoB,IACpB,iBAAoB,6BACpB,YAAoB,iBACpB,GAAoB,IACpB,GAAoB,IACpB,GAAoB,KAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,cACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,mBACxB,SAAwB,WACxB,iBAAwB,cACxB,YAAwB,SACxB,GAAwB,IACxB,GAAwB,KACxB,GAAwB,MAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,KACA,KACA,MACA,OACA,MAEJ,MAAwB,OACxB,IAAwB,KACxB,YAAwB,WACxB,kBAAwB,oBACxB,KAAwB,MACxB,OAAwB,SACxB,YAAwB,aACxB,OAAwB,SACxB,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","file":"static/js/main.e55297e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__wUiIJ\",\"cardStyleActive\":\"style_cardStyleActive__HuLTt\",\"controlMenu\":\"style_controlMenu__2kTdC\",\"closeBtn\":\"style_closeBtn__2IOBL\",\"isDelete\":\"style_isDelete__2m5Dy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__3oB5P\",\"nameCard\":\"style_nameCard__3AbI6\",\"cardStyleActive\":\"style_cardStyleActive__3JFj0\",\"iconThemCard\":\"style_iconThemCard__1hLSl\",\"iconThemCardSelectable\":\"style_iconThemCardSelectable__3Cshz\",\"inputCard\":\"style_inputCard__fblsw\",\"blockName\":\"style_blockName__3wlCq\",\"controlMenu\":\"style_controlMenu__23RNm\",\"closeBtn\":\"style_closeBtn__2_Jzl\",\"controlMenuTop\":\"style_controlMenuTop__FxQrX\",\"tagCard\":\"style_tagCard__29_vM\",\"displayFlex\":\"style_displayFlex__bZG43\",\"blockMarginTop\":\"style_blockMarginTop__2GRLr\",\"nameBlock\":\"style_nameBlock__bT0MG\",\"frontText\":\"style_frontText__2I83B\",\"backText\":\"style_backText__DMzK9\",\"iconTag\":\"style_iconTag__2iTbz\",\"displayItalic\":\"style_displayItalic__34n0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchesItem\":\"style_switchesItem__3w3gs\",\"switchesItemActive\":\"style_switchesItemActive__pO4XX\",\"iconTheme\":\"style_iconTheme__3rfLU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__P91Xu\",\"square\":\"style_square__37DWp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContentWrapper\":\"style_modalContentWrapper__29JXc\",\"modalButtonBlock\":\"style_modalButtonBlock__2D6v5\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__1fKXW\",\"modalWrapper\":\"style_modalWrapper__1hx16\",\"modalDialog\":\"style_modalDialog__2sBvq\",\"close\":\"style_close__2233y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__e-sNP\",\"mark\":\"style_mark__YZfbQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__10pvu\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__3pRZW\",\"animate\":\"hamburgerMenu_animate__yFa5f\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__1roMM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__MdArl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1m2nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2hOWt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2u68I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1fy5J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"style_border__2WYMW\",\"emptyBlockStyle\":\"style_emptyBlockStyle__3VvZJ\",\"emptyBlock\":\"style_emptyBlock__1FjYE\",\"marginTop\":\"style_marginTop__1rrb7\",\"selectOnChange\":\"style_selectOnChange__16h8Y\",\"selectOnChangeHelp\":\"style_selectOnChangeHelp__369Pi\",\"selectOnChangeHelpIcon\":\"style_selectOnChangeHelpIcon__1gBuK\",\"emptyBlockNone\":\"style_emptyBlockNone__3pZ7k\",\"mainBlockItemRules\":\"style_mainBlockItemRules__2zj9l\",\"nameBlockItems\":\"style_nameBlockItems__2COHm\",\"contentBlockItem\":\"style_contentBlockItem__1PN3u\",\"wrapperMargin\":\"style_wrapperMargin__15yUz\",\"contentHeightOn\":\"style_contentHeightOn__1nz_U\",\"heightBlock\":\"style_heightBlock__3_LFG\",\"contentHeightOff\":\"style_contentHeightOff__3A3AV\",\"cardAdd\":\"style_cardAdd__zadBd\",\"blockCardAdd\":\"style_blockCardAdd__13d3e\"};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowODYwNDk3ZS1kM2NmLTQ4NjktOTJkMy1lZDdhMWJhZjRjNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphZGNhYzk5MC01NDk0LTMxNGEtOGUzOS0yMjM3MGIzYTc1NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZGJiZjliOC1lOThkLTQ1YmQtOWZlMS00Njk4NjZkODdiYmUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2RiYmY5YjgtZTk4ZC00NWJkLTlmZTEtNDY5ODY2ZDg3YmJlIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconOk from \"@material-ui/icons/Check\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default withStyles(styles)(DialogRename);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    complexity: {\n        fontWeight: 'bold',\n        fontStyle: 'italic',\n        marginBottom: theme.spacing(1),\n    }\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for programmers')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getTSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for professionals')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('normal')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n\n    getRulesCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('easy')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Rules description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n            <DialogContent style={{textAlign: 'center'}}>\n                {this.getRulesCard()}\n                {this.getBlocklyCard()}\n                {this.getJSCard()}\n                {this.getTSCard()}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphODQ2NTA5Ny0yN2UyLTQwMmMtYmU5Ni02NDI0MDliZDc0MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMmI0ZjY0Ni1kYjQ4LWY3NGUtYmJiMi0zZDY4ZTE1OTg1MWIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmY2ZmNmIzMi0xOThkLTRlOWUtODllYi04ODAwNTA1MTIzYjUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmNmZjZiMzItMTk4ZC00ZTllLTg5ZWItODgwMDUwNTEyM2I1IiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        }\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'Rules':ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder'\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = (props) => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        item: {\n            name,\n            type: 'script'\n        },\n        collect: (monitor) => ({\n            opacity: monitor.isDragging() ? 0.3 : 1,\n        }),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring(ROOT_ID.length + 1);\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = ROOT_ID + '.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton className={this.props.classes.iconButtons}\n                             onClick={e => {\n                                e.stopPropagation();\n                                this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                             }}\n                            title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                            key=\"startStop\"\n                            style={{color}}>\n                            {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton> : null,\n                <IconButton key=\"openInEdit\" title={I18n.t('Edit script or just double click')} onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === GLOBAL_ID && !this.state.expertMode);\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>\n            ];\n        }\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && this.state.reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !this.state.reorder ? SELECTED_STYLE : {});\n\n        if (!this.state.reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = clsx(this.props.classes.folderIcon, this.state.reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = clsx(this.props.classes.scriptIcon, this.state.reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                this.state.reorder && item.type === 'folder' && 'folder-reorder',\n                this.state.reorder && item.type !== 'folder' && 'script-reorder',\n                this.state.reorder && this.props.classes.reorder,\n                this.state.reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                this.state.reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                classes={{root: this.props.classes.listItemIcon}}\n            >{\n                item.type === 'folder' ? (\n                        this.state.reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/>\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def}/>\n            }</ListItemIcon>\n            <ListItemText\n                classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\n                style={this.getTextStyle(item)} primary={(<span>{title}{childrenCount}</span>)}/>\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = target + '.' + source.split('.').pop();\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += '_' + I18n.t('copy');\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item, dragging) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (this.state.reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (this.state.reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={'droppable_' + item.id} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={'draggable_' + item.id} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={'draggable_' + item.id} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense={true}\n            disablePadding={true}\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\.\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"deleted\"\n                disabled={!this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem key=\"expertMode\" selected={this.state.expertMode}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.onCloseMenu(() =>\n                              this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                      }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={event =>\n                    this.onCloseMenu(() => {\n\n                        // TODO: use Utils.toggleTheme(themeName)\n                        // newThemeName = Utils.toggleTheme(themeName);\n                        const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                            this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                                this.state.themeName === 'light' ? 'dark' : 'colored';\n                        this.props.onThemeChange(newThemeName);\n                    })}>\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        if (this.state.searchMode) {\n            result.push(<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>);\n        } else {\n            if (!this.state.reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                    }}\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                        <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={this.state.reorder}\n                className={classes.toolbarButtons}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right', opacity: this.state.reorder ? 0 : 1}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={classes.toolbarButtons}\n                style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder});\n                }}\n            ><IconReorder/></IconButton>);\n\n            if (!this.state.reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton className={classes.toolbarButtons}\n                                         title={I18n.t('Rename')}\n                                         key=\"rename\"\n                                         onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>);\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: ROOT_ID, name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item =>\n            item.type === 'folder' && folders.push({id: item.id, name: item.title})\n        );\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterRules\"\n                className={this.props.classes.footerButtons}\n                alt=\"Rules\"\n                style={{opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['Rules'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <IconExpandAll key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>,\n            this.state.expanded.length ? <IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/> : null,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={ this.getUniqueName() }\n                parents={ this.getFolders() }\n                folder={ false }\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\n                }}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={ this.getUniqueName(this.state.copingScript) }\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\n                }}\n            /> : null,\n            this.state.errorText ? <DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    width: PropTypes.number\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdVisibilityOff as IconHide} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative'\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return '00' + ms;\n    }\n    if (ms < 100) {\n        return '0' + ms;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n        this.logHandlerBound = this.logHandler.bind(this);\n    }\n\n    generateLine(message) {\n        return (<tr key={'tr_' + message.ts + '_' + message.message.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>);\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler(message) {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) return;\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandlerBound);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandlerBound);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (editing.indexOf(id) === -1) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton> : null}\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton> : null}\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onHideLog()} title={I18n.t('Hide logs')}><IconHide /></IconButton>\n            </div>\n            {this.state.selected && lines && lines.length ?\n                <div className={this.props.classes.logBoxInner} key=\"logList\">\n                    <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                    <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n                </div> :\n                <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>\n            }\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n        let scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({alive: true, check: true, typingsLoaded: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => this.highlightText(this.state.searchText));\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({readOnly: options.readOnly});\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts'\n                    : (language === 'coffee' ? 'coffee'\n                        : language));\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n        // BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco.languages.typescript.typescriptDefaults.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco.languages.typescript.typescriptDefaults.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    initNewScript(name, code) {\n        this.setState({name});\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        //this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance will be foung and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log('Insert text' + this.insert);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                color=\"secondary\"><IconNoCheck/></Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport IconCopy from '@material-ui/icons/FileCopy';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.themeType === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\"><IconCopy className={this.props.classes.buttonIcon}/>{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\"><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{zIndex: 10000}}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true} value={this.props.text}/>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    handleOk () {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        autoFocus\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log('Detected custom blockly: ' + adapters[id].common.name);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.includes(b.id)).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({themeType: nextProps.themeType}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                let variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    let vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        let nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({error: I18n.t('Cannot extract Blockly code!')}));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n                for (const _b in this.Blockly[name].blocks) {\n                    if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({message: ''})}\n            /> :\n            null;\n    }\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({error: ''});\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport key=\"dialogImport\"  onClose={text => {\n            this.setState({importText: false});\n            this.onImportBlocks(text);\n        }}/> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    themeType: PropTypes.string\n};\n\nexport default BlocklyEditor;\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'März',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Январе',\n        'Феврале',\n        'Марте',\n        'Апреле',\n        'Майе',\n        'Июне',\n        'Июле',\n        'Августе',\n        'Сентябре',\n        'Октябре',\n        'Ноябре',\n        'Декабре'\n    ],\n    DOW: [\n        'воскресение',\n        'понедельник',\n        'вторник',\n        'среду',\n        'четверг',\n        'пятницу',\n        'субботу'\n    ],\n    'Every':            'Каждую(ый)', // start of expression\n    'and':              'и', // 1, 2, 3 and 15th\n    'every day':        'каждый день',\n    'minute past the':  'минуту в',\n    'hour':             'часа(ов)',\n    'minute':           'минуту',\n    'minute of':        'минут(у) в',\n    'second':           'секунду',\n    'second in minute': 'секунду в минуте',\n    'second of every':  'секунду каждой(го)',\n    'minute every hour': 'минуту каждый час',\n    'on the':           '',\n    'of every month':   'числа каждого месяца',\n    'and every':        'и каждый',\n    'At':               'В',\n    'on':               'в', // on sun, mon\n    'in':               'в' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fév',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Déc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute après le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxième de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               'À',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto após o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.pl = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [ //short or full names\n        'Sty', // or 'Styczeń'\n        'Lut', // or 'Luty'\n        'Mar', // or 'Marzec'\n        'Kwi', // or 'Kwiecień'\n        'Maj', // or 'Maj'\n        'Cze', // or 'Czerwiec'\n        'Lip', // or 'Lipiec'\n        'Sie', // or 'Sierpień'\n        'Wrz', // or 'Wrzesień'\n        'Paź', // or 'Październik'\n        'Lis', // or 'Listopad'\n        'Gru'  // or 'Grudzień'\n    ],\n    DOW: [ //short or full days name\n        'Nie', // or 'Niedziela'\n        'Pon', // or 'Poniedziałek'\n        'Wto', // or 'Wtorek'\n        'Śro', // or 'Środa'\n        'Czw', // or 'Czwartek'\n        'Pią', // or 'Piątek'\n        'Sob'  // or 'Sobota\n    ],\n    'Every':            'Każde(go)', // start of expression\n    'and':              'i', // 1, 2, 3 and 15th\n    'every day':        'codziennie',\n    'minute past the':  'minut po', //minute past the hour ?\n    'hour':             'godzina',\n    'minute':           'minut(a)',\n    'minute of':        'minut po',\n    'second':           'sekunda',\n    'second in minute': 'sekund na minutę',\n    'second of every':  'sekund co',\n    'minute every hour': 'minut co godzinę',\n    'on the':           'w',\n    'of every month':   'każdego miesiąca',\n    'and every':        'i każdego',\n    'At':               'O',\n    'on':               'w', // on sun, mon\n    'in':               'w' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada día',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nJQUERY_CRON_LOCALE['zh-cn'] = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '一月',\n        '二月',\n        '三月',\n        '四月',\n        '五月',\n        '六月',\n        '七月',\n        '八月',\n        '九月',\n        '十月',\n        '十一月',\n        '十二月'\n    ],\n    DOW: [\n        '星期日',\n        '星期一',\n        '星期二',\n        '星期三',\n        '星期四',\n        '星期五',\n        '星期六'\n    ],\n    'Every':            '每', // start of expression\n    'and':              '和', // 1, 2, 3 and 15th\n    'every day':        '每天',\n    'minute past the':  '分钟在每天第',\n    'hour':             '小时',\n    'minute':           '分钟',\n    'minute of':        '分钟的',\n    'second':           '秒',\n    'second in minute': '秒在分钟',\n    'second of every':  '秒在每',\n    'minute every hour': '分钟在每小时中',\n    'on the':           '在',\n    'of every month':   '日在每月',\n    'and every':        '且每',\n    'At':               '在',\n    'on':               '在', // on sun, mon\n    'in':               '在' // in jan, apr\n};\n\nexport default JQUERY_CRON_LOCALE;\n","import cronToText from './cron2text';\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\n\nfunction correctCasus(text, seconds) {\n    text = text.replace('Каждую(ый) минуту',    'Каждую минуту');\n    text = text.replace('Каждую(ый) минут(у)',  'Каждую минуту');\n    text = text.replace('Каждую(ый) час',       'Каждый час');\n    text = text.replace('Каждую(ый) секунду',   'Каждую секунду');\n    text = text.replace(/ (\\d{1,2}) числа/,     ' $1го числа');\n\n    text = text.replace(/ (\\d{1,2}) в Январе/,  ' $1го числа в Январе');\n    text = text.replace(/ (\\d{1,2}) в Феврале/, ' $1го числа в Феврале');\n    text = text.replace(/ (\\d{1,2}) в Марте/,   ' $1го числа в Марте');\n    text = text.replace(/ (\\d{1,2}) в Апреле/,  ' $1го числа в Апреле');\n    text = text.replace(/ (\\d{1,2}) в Майе/,    ' $1го числа в Майе');\n    text = text.replace(/ (\\d{1,2}) в Июне/,    ' $1го числа в Июне');\n    text = text.replace(/ (\\d{1,2}) в Июле/,    ' $1го числа в Июле');\n    text = text.replace(/ (\\d{1,2}) в Августе/,  ' $1го числа в Августе');\n    text = text.replace(/ (\\d{1,2}) в Сентябре/,  ' $1го числа в Сентябре');\n    text = text.replace(/ (\\d{1,2}) в Октябре/,  ' $1го числа в Октябре');\n    text = text.replace(/ (\\d{1,2}) в Ноябре/,  ' $1го числа в Ноябре');\n    text = text.replace(/ (\\d{1,2}) в Декабре/,  ' $1го числа в Декабре');\n\n    text = text.replace('Каждую(ый) 0 минуту',   'Каждые ноль минут');\n    text = text.replace(/Каждую\\(ый\\) ([\\d\\sи,]+) минуту/, 'Каждую $1 минуту');\n\n    text = text.replace(/каждой\\(го\\) ([\\d\\sи,]+) минуту/, 'каждой $1 минуты');\n    text = text.replace('каждой(го) минут(у)',  'каждой минуты');\n\n    text = text.replace(' 0 часа(ов)',           ' 0 часов');\n    text = text.replace(' 1 часа(ов)',           ' 1 час');\n    text = text.replace(' 2 часа(ов)',           ' 2 часа');\n    text = text.replace(' 3 часа(ов)',           ' 3 часа');\n    text = text.replace(' 4 часа(ов)',           ' 4 часа');\n    text = text.replace(/ (\\d{1,2}) часа\\(ов\\)/, ' $1 часов');\n\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\n    text = text.replace('Jede Minuten',         'Jede Minute');\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\n\n    return text;\n}\n\nfunction convertCronToText(cron, lang) {\n    const withSeconds = cron.split(' ').length === 6;\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang] || JQUERY_CRON_LOCALE.en);\n    return correctCasus(text, withSeconds);\n}\n\nexport default convertCronToText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport TextField from '@material-ui/core/TextField';\nimport convertCronToText from './simple-cron/cronText';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    periodSelect: {\n        //margin: '0 10px 60px 10px',\n        display: 'block',\n        width: 200\n    },\n    slider: {\n        marginTop: 20,\n        display: 'block',\n        width: '100%'\n    },\n    tabContent: {\n        padding: 20\n    },\n    numberButton: {\n        padding: 4,\n        minWidth: 40,\n        margin: 5\n    },\n    numberButtonBreak: {\n        display: 'block'\n    },\n    appBar: {\n        color: 'white'\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n// 5-7,9-11 => [5,6,7,9,10,11]\nfunction convertMinusIntoArray(value, max) {\n    let result = [];\n    if (value === '*') {\n        if (max === 24 || max === 60 || max === 7) {\n            for (let i = 0; i < max; i++) {\n                result.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                result.push(i);\n            }\n        }\n        return result; // array with entries max\n    }\n    const parts = (value || '').toString().split(',');\n    for (let p = 0; p < parts.length; p++) {\n        if (! parts[p].trim().length) continue;\n        const items = parts[p].trim().split('-');\n        if (items.length > 1) {\n            let iMax = parseInt(items[1], 10);\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\n                result.push(i);\n            }\n        } else {\n            result.push(parseInt(parts[p], 10));\n        }\n    }\n    result = result.map(a => parseInt(a, 10));\n\n    result.sort();\n\n\n    // remove double entries\n    for (let p = result.length - 1; p >= 0; p--) {\n        if (result[p] === result[p + 1]) {\n            result.splice(p + 1, 1);\n        }\n    }\n\n\n    return result;\n}\n\n// [5,6,7,9,10,11] => 5-7,9-11\nfunction convertArrayIntoMinus(value, max) {\n    if (typeof value !== 'object') {\n        value = [value];\n    }\n    if (value.length === max) {\n        return '*';\n    }\n    const newParts = [];\n    if (!value.length) {\n        return '-';\n    }\n    value = value.map(a => parseInt(a, 10));\n\n    value.sort((a, b) => a -b);\n\n    let start = value[0];\n    let end = value[0];\n    for (let p = 1; p < value.length; p++) {\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\n            if (start === end) {\n                newParts.push(start)\n            } else if (end - 1 === start) {\n                newParts.push(start + ',' + end);\n            } else {\n                newParts.push(start + '-' + end);\n            }\n            start = value[p];\n            end = value[p];\n        } else {\n            end = value[p];\n        }\n    }\n\n    if (start === end) {\n        newParts.push(start)\n    } else if (end - 1 === start) {\n        newParts.push(start + ',' + end);\n    } else {\n        newParts.push(start + '-' + end);\n    }\n\n    return newParts.join(',');\n}\n\nclass ComplexCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = ComplexCron.cron2state(cron || '* * * * *');\n\n        this.state = {\n            extended: false,\n            tab: state.seconds !== false ? 1 : 0,\n            cron: ComplexCron.state2cron(state),\n            modes: {\n                seconds: null,\n                minutes: null,\n                hours: null,\n                dates: null,\n                months: null,\n                dows: null\n            }\n        };\n        Object.assign(this.state, state);\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ').map(p => p.trim());\n        const options = {};\n\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.dates = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dows = cronParts[5] || '*';\n        } else {\n            options.seconds = false;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.dates = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dows = cronParts[4] || '*';\n        }\n        return options;\n    }\n    static state2cron(state) {\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\n        if (state.seconds !== false) {\n            text = state.seconds + ' ' + text;\n        }\n        return text;\n    }\n\n    recalcCron() {\n        let cron = ComplexCron.state2cron(this.state);\n        if (cron !== this.state.cron) {\n            this.setState({cron}, () => {\n                this.props.onChange && this.props.onChange(this.state.cron);\n            });\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    onToggle(i, type, max) {\n        if (i === true) {\n            this.setState({[type]: '*'}, () => this.recalcCron());\n        } else if (i === false) {\n            if (max === 60 || max === 24) {\n                this.setState({[type]: '0'}, () => this.recalcCron());\n            } else {\n                this.setState({[type]: '1'}, () => this.recalcCron());\n            }\n        } else {\n            let nums = convertMinusIntoArray(this.state[type], max);\n            const pos = nums.indexOf(i);\n            if (pos !== -1) {\n                nums.splice(pos, 1);\n            } else {\n                nums.push(i);\n                nums.sort();\n            }\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\n        }\n    }\n\n    getDigitsSelector(type, max) {\n        let values = [];\n        if (max === 7) {\n            values = [1,2,3,4,5,6,0];\n        } else if (max === 60 || max === 24) {\n            for (let i = 0; i < max; i++) {\n                values.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                values.push(i);\n            }\n        }\n        const parts = convertMinusIntoArray(this.state[type], max);\n        return [\n            (<Button\n                key=\"removeall\"\n                variant={'outlined'}\n                className={this.props.classes.numberButton}\n                //style={{paddingBottom: 20}}\n                color={'primary'}\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\n            (<Button\n                key=\"addall\"\n                variant={'contained'}\n                //style={{paddingBottom: 20}}\n                className={this.props.classes.numberButton}\n                color={'secondary'}\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\n            (<div key=\"all\">\n                {values.map(i =>\n                    [((max === 7 && i === 4) ||\n                    (max === 12 && i === 7) ||\n                    (max === 31 && !((i - 1) % 10)) ||\n                    (max === 60 && i && !(i % 10)) ||\n                    (max === 24 && i && !(i % 6))) ?\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>) : null,\n                        (<Button\n                            key={'_' + i}\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\n                            className={this.props.classes.numberButton}\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\n                    )])}\n                    </div>)];\n    }\n\n    getPeriodsTab(type, max) {\n        let value = this.state[type];\n        let every = value === '*';\n        let everyN = value.toString().indexOf('/') !== -1;\n        let select;\n        if (this.state.modes[type] === null) {\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\n            modes[type] = select;\n            return setTimeout(() => this.setState({modes}, () => this.recalcCron()), 100);\n        } else {\n            every = this.state.modes[type] === 'every';\n            everyN = this.state.modes[type] === 'everyN';\n            select = this.state.modes[type];\n        }\n\n        if (everyN) {\n            value = parseInt(value.replace('*/', ''), 10) || 1;\n        }\n\n        return <div>\n            <Select\n                className={this.props.classes.periodSelect}\n                style={{verticalAlign: 'bottom'}}\n                value={select}\n                onChange={e => {\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\n                    modes[type] = e.target.value;\n                    if (e.target.value === 'every') {\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'everyN') {\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'specific') {\n                        let num = parseInt(this.state[type].split(',')[0], 10) || 0;\n                        console.log(num);\n                        if (!num && (type === 'months' || type === 'dates')) {\n                            num = 1;\n                        }\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\n                    }\n                }}>\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\n            </Select>\n            {everyN && false && <span>{value}</span>}\n            {everyN && <TextField\n                key=\"interval\"\n                label={I18n.t('sc_' + type)}\n                value={value}\n                min={1}\n                max={max}\n                onChange={e => {\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                type=\"number\"\n                margin=\"normal\"\n            />}\n            {!every && !everyN && this.getDigitsSelector(type, max)}\n        </div>;\n    }\n\n    convertCronToText(cron, lang) {\n        if (cron.split(' ').indexOf('-') !== -1) {\n            return I18n.t('Invalid CRON');\n        } else {\n            return convertCronToText(cron, lang);\n        }\n    }\n\n    render() {\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\n        return <div className={this.props.classes.mainDiv}>\n            <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n            <div style={{paddingLeft: 8, width: '100%', height: 60}}>{this.convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n            <FormControlLabel\n                control={<Checkbox checked={this.state.seconds}\n                                   onChange={e => this.setState({seconds: e.target.checked ? '*' : false}, () => this.recalcCron())}/>}\n                label={I18n.t('use seconds')}\n            />\n            <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\n                <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\n                    this.setState({tab})}>\n                    {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\n                    <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\n                    <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\n                    <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\n                    <Tab  id=\"months\" label={I18n.t('sc_months')}/>\n                    <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\n                </Tabs>\n            </AppBar>\n            {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\n            {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\n            {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\n            {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\n            {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\n            {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\n        </div>;\n    }\n}\n\nComplexCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(ComplexCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport convertCronToText from './cronText';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    formControl: {\n        margin: 0,\n        minWidth: 120,\n    },\n    formControlMarginRight: {\n        marginRight: 5\n    },\n    formControlPaddingTop: {\n        paddingTop: 6.2\n    }\n});\n\nconst PERIODIC = {\n    once: 'once',\n    interval: 'interval',\n    intervalBetween: 'intervalBetween',\n    specific: 'specific'\n};\nconst PERIODIC_TYPES = {\n    seconds: 'seconds',\n    minutes: 'minutes',\n    //hours: 'hours',\n};\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\nconst DEFAULT_STATE = {\n    mode: PERIODIC.interval,\n    interval: {\n        period: 1,\n        unit: PERIODIC_TYPES.minutes\n    }\n};\n\nclass SimpleCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\n\n        this.state = {\n            extended: false,\n            cron: SimpleCron.state2cron(state),\n            mode: 'interval',\n            once: {\n                time: '00:00',\n                date: ''\n            },\n            interval: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            },\n            intervalBetween: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: 0,\n                timeTo: 24,\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            },\n            specific: {\n                time: '00:00',\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            }\n        };\n        Object.assign(this.state, state);\n\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static periodArray2text(list, max) {\n        max = max || 7;\n        if (list.length === max) {\n            return '*';\n        } else {\n            let text = [];\n            let start = null;\n            let end = null;\n            for (let i = 0; i < list.length; i++) {\n                if (start === null) {\n                    start = list[i];\n                    end = list[i];\n                } else if (list[i - 1] + 1 === list[i]) {\n                    end = list[i];\n                } else {\n                    if (start !== end) {\n                        text.push(start + '-' + end);\n                    } else {\n                        text.push(start);\n                    }\n                    start = list[i];\n                    end = list[i];\n                }\n            }\n            if (start !== end) {\n                text.push(start + '-' + end);\n            } else {\n                text.push(start);\n            }\n            return text.join(',');\n        }\n    }\n\n    static text2weekdays(text) {\n        if (text === '*') {\n            return [0,1,2,3,4,5,6];\n        }\n        const parts = text.split(',');\n        const list = [];\n        parts.forEach(part => {\n            const _parts = part.split('-');\n            if (_parts.length === 2) {\n                const start = parseInt(_parts[0], 10);\n                const end = parseInt(_parts[1], 10);\n                for (let day = start; day <= end; day++) {\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\n                        list.push(day === 7 ? 0 : day);\n                    }\n                }\n            } else {\n                if (part === '7') {\n                    part = 0;\n                }\n                part = parseInt(part, 10);\n                if (list.indexOf(part) === -1) {\n                    list.push(part);\n                }\n            }\n        });\n        list.sort();\n        return list;\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ');\n        const options = {};\n        const state = {\n            mode: ''\n        };\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.date = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dow = cronParts[5] || '*';\n        } else {\n            options.seconds = null;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.date = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dow = cronParts[4] || '*';\n        }\n\n        // * * * * *\n        if (options.seconds === null &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            };\n        } // * * * * * *\n        if (options.seconds === '*' &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else// */n * * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes\n            };\n        } else\n        // */n * * * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h * * 1-7 or m h * * *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.specific;\n            state.specific = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h d M *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            parseInt(options.date, 10).toString() === options.date &&\n            parseInt(options.months, 10).toString() === options.months &&\n            options.dow === '*') {\n            state.mode = PERIODIC.once;\n            state.once = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\n            // ignored\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            }\n        }\n\n        if (state.mode) {\n            return state;\n        } else {\n            return null;\n        }\n    }\n\n    static state2cron(state) {\n        let cron = '* * * * *';\n        if (state.mode === PERIODIC.interval) {\n            const settings = state.interval || {};\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n\n            if (settings.minutes > 60) settings.minutes = 60;\n            if (settings.minutes < 1) settings.minutes = 1;\n\n            if (settings.hours > 24) settings.hours = 24;\n            if (settings.hours < 1) settings.hours = 1;\n\n            if (state.extended) {\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\n            } else {\n                switch (settings.unit) {\n                    case PERIODIC_TYPES.seconds:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\n                        break;\n                    case PERIODIC_TYPES.minutes:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if (state.mode === PERIODIC.intervalBetween) {\n            const settings = state.intervalBetween || {};\n            let hours;\n            settings.timeFrom = settings.timeFrom || 0;\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\n                hours = '*';\n            } else {\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\n            }\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\n            switch (settings.unit) {\n                case PERIODIC_TYPES.seconds:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                case PERIODIC_TYPES.minutes:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                default:\n                    break;\n            }\n        } else if (state.mode === PERIODIC.specific) {\n            const settings = state.specific || {};\n            const parts = (settings.time || '00:00').split(':');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\n        } else if (state.mode === PERIODIC.once) {\n            const settings = state.once || {};\n            if (!settings.date) {\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\n            }\n            const parts = (settings.time || '00:00').split(':');\n            const partsDate = settings.date.split('.');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n            let date = parseInt(partsDate[0], 10) || 1;\n            if (date > 31) date = 31;\n            if (date < 1) hours = 1;\n            let month = parseInt(partsDate[1], 10) || 1;\n            if (month > 12) month = 12;\n            if (month < 1) month = 1;\n\n            cron = `${minutes} ${hours} ${date} ${month} *`;\n        }\n        return cron;\n    }\n\n    recalcCron() {\n        this.onChange(SimpleCron.state2cron(this.state));\n    }\n\n    getControlsWeekdaysElements(type) {\n        const settings = this.state[type];\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\n            <h5>{I18n.t('On weekdays')}</h5>\n            {[1,2,3,4,5,6,0].map(day => (\n                <FormControlLabel\n                    key={WEEKDAYS[day]}\n                    control={\n                        <Checkbox\n                            checked={settings.weekdays.indexOf(day) !== -1}\n                            onChange={e => {\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\n                                const pos = settings.weekdays.indexOf(day);\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\n                                settings.weekdays.sort();\n                                this.setState({[type]: settings}, () => this.recalcCron());\n                            }}\n                            value={day.toString()}\n                        />\n                    }\n                    label={I18n.t(WEEKDAYS[day])}\n                />))\n            }</div>);\n    }\n\n    getControlsPeriodElements(type) {\n        const settings = this.state[type];\n\n        if (this.state.extended) {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_minutes')}\n                    value={settings.minutes}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.minutes = parseInt(e.target.value, 10);\n                        if (settings.minutes < 1) settings.minutes = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_hours')}\n                    value={settings.hours}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.hours = parseInt(e.target.value, 10);\n                        if (settings.hours < 1) settings.hours = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={24}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n            </div>);\n        } else {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_every')}\n                    value={settings.period}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.period = parseInt(e.target.value, 10);\n                        if (settings.period < 1) settings.period = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /><Select\n                style={{verticalAlign: 'bottom'}}\n                value={settings.unit}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.unit = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}>\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\n            </Select></div>);\n        }\n    }\n\n    getControlsTime(type) {\n        const settings = this.state[type];\n        return (<FormControl className={this.props.classes.formControl} classes={{root: this.props.classes.formControlMarginRight}}>\n            <TextField\n                key=\"at\"\n                label={I18n.t('sc_time')}\n                value={settings.time}\n                type=\"time\"\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.time = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getControlsDate(type) {\n        const settings = this.state[type];\n\n        if (!settings.date) {\n            const d = new Date();\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\n        }\n\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\n        return (<FormControl className={this.props.classes.formControl}>\n            <TextField\n                key=\"date\"\n                label={I18n.t('sc_date')}\n                value={settings.date}\n                type=\"text\"\n                inputProps={{className: this.props.classes.formControlPaddingTop}}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.date = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getOnceElements() {\n        return (<div style={{marginLeft: 8}}>\n            {this.getControlsTime('once')}\n            {this.getControlsDate('once')}\n            </div>);\n    }\n\n    getIntervalElements() {\n        return this.getControlsPeriodElements('interval');\n    }\n\n    getIntervalBetweenElements() {\n        const settings = this.state.intervalBetween;\n        return [\n            this.getControlsPeriodElements('intervalBetween'),\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\n                    <Select\n                    style={{width: 100}}\n                    value={settings.timeFrom}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                        settings.timeFrom = parseInt(e.target.value, 10);\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\n                    }}>\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                </Select>\n                </FormControl>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\n                    <Select\n                        style={{width: 100}}\n                        value={settings.timeTo}\n                        onChange={e => {\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                            settings.timeTo = parseInt(e.target.value, 10);\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\n                        }}>\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                    </Select>\n                </FormControl>\n            </div>),\n            this.getControlsWeekdaysElements('intervalBetween')\n        ];\n    }\n\n    getSpecificTimeElements() {\n        return [\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\n            this.getControlsWeekdaysElements('specific')\n        ]\n    }\n\n    onModeChange(mode) {\n        if (mode !== this.state.mode) {\n            this.setState({mode}, () => this.recalcCron());\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\n                    <Select\n                        value={this.state.mode}\n                        onChange={e => this.onModeChange(e.target.value)}\n                        inputProps={{name: 'mode', id: 'mode',}}>\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\n                    </Select>\n                </FormControl></div>\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\n            </div>\n        );\n    }\n}\n\nSimpleCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(SimpleCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaskedInput from 'react-text-mask';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from \"@material-ui/core/TextField\";\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    hr: {\n        border: 0,\n        borderTop: '1px solid gray'\n    },\n    scrollWindow: {\n        width: '100%',\n        overflow: 'auto',\n        height: 'calc(100% - 22px)'\n    },\n    rowDiv: {\n        width: '100%',\n    },\n    modeDiv: {\n        width: 200,\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    settingsDiv: {\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    inputTime: {\n        width: 90,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputDate: {\n        width: 140,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputEvery: {\n        width: 40,\n        marginLeft: 5,\n        marginRight: 5,\n    },\n    inputRadio: {\n        padding: '4px 12px',\n        verticalAlign: 'top'\n    },\n    inputGroup: {\n        maxWidth: 400,\n        display: 'inline-block'\n    },\n    inputGroupElement: {\n        width: 120,\n    },\n    inputDateDay: {\n        width: 60,\n    },\n    inputDateDayCheck: {\n        padding: 4,\n    },\n    inputSmallCheck: {\n        padding: 0,\n    },\n    rowOnce: {\n\n    },\n\n    rowDays: {\n        background: theme.palette.type !== 'dark' ? '#ddeaff' :  '#4b5057'\n    },\n    rowDows: {\n        background: theme.palette.type !== 'dark' ? '#DDFFDD' :  '#52646c'\n    },\n    rowDates: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#747a86'\n    },\n    rowWeeks: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#717680'\n    },\n    rowMonths: {\n        background: theme.palette.type !== 'dark' ? '#DDFFFF' :  '#1f5557'\n    },\n    rowMonthsDates: {\n        background: theme.palette.type !== 'dark' ? '#EEFFFF' :  '#3c5737',\n        maxWidth: 600\n    },\n    rowYears: {\n        background: theme.palette.type !== 'dark' ? '#fbffdd' :  '#574b33'\n    },\n    rowDaysDows: {\n        background: theme.palette.type !== 'dark' ? '#EEEAFF' :  '#573544',\n        paddingLeft: 10,\n        paddingBottom: 10\n    },\n    rowDowsDows: {\n        background: theme.palette.type !== 'dark' ? '#EEFFEE' :  '#3d4c54',\n        paddingLeft: 10,\n        paddingBottom: 10\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nconst PERIODS = {\n    'minutes': 'minutes',\n    'hours': 'hours',\n};\nconst ASTRO = [\n    'sunrise',\n    'sunriseEnd',\n    'goldenHourEnd',\n    'solarNoon',\n    'goldenHour',\n    'sunsetStart',\n    'sunset',\n    'dusk',\n    'nauticalDusk',\n    'night',\n    'nightEnd',\n    'nauticalDawn',\n    'dawn',\n    'nadir',\n];\n\nfunction padding(num) {\n    if (num < 10) {\n        return '0' + num;\n    } else {\n        return '' + num;\n    }\n}\n\nfunction TextTime(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '00:00'}\n            showMask\n        />\n    );\n}\n\nTextTime.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nfunction TextDate(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '01.01.2020'}\n            showMask\n        />\n    );\n}\n\nTextDate.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nconst DEFAULT = {\n    time: {\n        exactTime: false,\n\n        start: '00:00',\n        end: '23:59',\n\n        mode: 'hours',\n        interval: 1,\n    },\n    period: {\n        once: '',\n        days: 1,\n        dows: '',\n        dates: '',\n        weeks: 0,\n        months: '',\n\n        years: 0,\n        yearMonth: 0,\n        yearDate: 0,\n    },\n    valid: {\n        from: '',\n        to: ''\n    }\n};\nfunction string2USdate(date) {\n    const parts = date.split('.');\n    if (parts.length === 3) {\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\n    }\n\n}\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        let schedule;\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\n            try {\n                schedule = JSON.parse(this.props.schedule);\n            } catch (e) {\n\n            }\n        }\n\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\n        }\n        schedule = schedule || {};\n        schedule = Object.assign({}, DEFAULT, schedule);\n        schedule.valid.from = schedule.valid.from || Schedule.now2string();\n\n        this.refFrom = React.createRef();\n        this.refTo = React.createRef();\n        this.refOnce = React.createRef();\n\n        this.state = {\n            schedule,\n            desc: Schedule.state2text(schedule)\n        };\n\n        if (JSON.stringify(schedule) !== this.props.schedule) {\n            setTimeout(() => this.props.onChange && this.props.onChange(JSON.stringify(schedule)), 100);\n        }\n    }\n\n    onChange(schedule, force) {\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\n        if (force || isDiff) {\n            isDiff && this.setState({schedule, desc: Schedule.state2text(schedule)});\n            const copy = JSON.parse(JSON.stringify(schedule));\n            if (copy.period.once) {\n                let once = copy.period.once;\n                delete copy.period;\n                copy.period = {once};\n                delete copy.valid;\n            } else\n            if (copy.period.days) {\n                let days = copy.period.days;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {days};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.weeks) {\n                let weeks = copy.period.weeks;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {weeks};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.months) {\n                let months = copy.period.months;\n                let dates = copy.period.dates;\n                delete copy.period;\n                copy.period = {months};\n                if (dates && dates !== '[]') {\n                    copy.period.dates = dates;\n                }\n            } else\n            if (copy.period.years) {\n                let years = copy.period.years;\n                let yearMonth = copy.period.yearMonth;\n                let yearDate = copy.period.yearDate;\n                delete copy.period;\n                copy.period = {years, yearDate};\n                if (yearMonth) {\n                    copy.period.yearMonth = yearMonth;\n                }\n            }\n\n            if (copy.time.exactTime) {\n                delete copy.time.end;\n                delete copy.time.mode;\n                delete copy.time.interval;\n            } else {\n                delete copy.time.exactTime;\n            }\n            if (copy.valid) {\n                if (!copy.valid.to) {\n                    delete copy.valid.to;\n                }\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\n                    const from = Schedule.string2date(copy.valid.from);\n                    const today = new Date();\n                    today.setHours(0);\n                    today.setMinutes(0);\n                    today.setSeconds(0);\n                    today.setMilliseconds(0);\n                    if (from <= today) {\n                        delete copy.valid.from;\n                    }\n                }\n                if (!copy.valid.from && !copy.valid.to) {\n                    delete copy.valid;\n                }\n            }\n\n            this.props.onChange && this.props.onChange(JSON.stringify(copy), Schedule.state2text(schedule));\n        }\n    }\n\n    static state2text(schedule) {\n        if (typeof schedule === 'string') {\n            try {\n                schedule = JSON.parse(schedule);\n            } catch (e) {\n                schedule = {};\n            }\n        }\n\n        let desc = [];\n        let validFrom = Schedule.string2date(schedule.valid.from);\n        if (schedule.period.once) {\n            // once\n            let once = Schedule.string2date(schedule.period.once);\n            let now = new Date();\n            now.setMilliseconds(0);\n            now.setSeconds(0);\n            now.setMinutes(0);\n            now.setHours(0);\n\n            //\n            if (once < now) {\n                // will ne be not executed any more, because start is in the past\n                return I18n.t('sch_desc_onceInPast');\n            } else {\n                // only once\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\n            }\n        } else\n        if (schedule.period.days) {\n            if (schedule.period.days === 1) {\n                if (schedule.period.dows) {\n                    const dows = JSON.parse(schedule.period.dows);\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                        // on weekends\n                        desc.push(I18n.t('sch_desc_onWeekends'));\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                        // on workdays\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\n                    } else {\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                        if (tDows.length === 1) {\n                            // on Monday\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                        } else if (tDows.length === 7) {\n                            // on every day\n                            desc.push(I18n.t('sch_desc_everyDay'));\n                        } else {\n                            const last = tDows.pop();\n                            // on Monday and Sunday\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                        }\n                    }\n                } else {\n                    desc.push(I18n.t('sch_desc_everyDay'));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\n            }\n        } else\n        if (schedule.period.weeks) {\n            if (schedule.period.weeks === 1) {\n                desc.push(I18n.t('sch_desc_everyWeek'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\n            }\n\n            if (schedule.period.dows) {\n                const dows = JSON.parse(schedule.period.dows);\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                    // on weekends\n                    desc.push(I18n.t('sch_desc_onWeekends'));\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                    // on workdays\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\n                } else {\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                    if (tDows.length === 1) {\n                        // on Monday\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                    } else if (tDows.length === 7) {\n                        // on every day\n                        desc.push(I18n.t('sch_desc_everyDay'));\n                    } else {\n                        const last = tDows.pop();\n                        // on Monday and Sunday\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                    }\n                }\n            } else {\n                return I18n.t('sch_desc_never');\n            }\n        } else\n        if (schedule.period.months) {\n            if (schedule.period.dates) {\n                const dates = JSON.parse(schedule.period.dates);\n                if (dates.length === 1) {\n                    // in 1 of month\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\n                } else if (dates.length === 31) {\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\n                } else if (!dates.length) {\n                    return I18n.t('sch_desc_never');\n                } else {\n                    const last = dates.pop();\n                    // in 1 and 4 of month\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_onEveryDate'));\n            }\n\n            if (schedule.period.months === 1) {\n                desc.push(I18n.t('sch_desc_everyMonth'));\n            } else if (typeof schedule.period.months === 'number') {\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\n            } else {\n                const months = JSON.parse(schedule.period.months);\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\n                if (!tMonths.length) {\n                    // in January\n                    return I18n.t('sch_desc_never');\n                } else if (tMonths.length === 1) {\n                    // in January\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\n                } else if (tMonths.length === 12) {\n                    // every month\n                    desc.push(I18n.t('sch_desc_everyMonth'));\n                } else {\n                    const last = tMonths.pop();\n                    // in January and May\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\n                }\n            }\n        }\n        else\n        if (schedule.period.years) {\n            if (schedule.period.years === 1) {\n                desc.push(I18n.t('sch_desc_everyYear'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\n            }\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\n        }\n\n        // time\n        if (schedule.time.exactTime) {\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\n                // at sunset\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\n            } else {\n                // at HH:MM\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\n            }\n        } else {\n            if (schedule.time.mode === PERIODS.minutes) {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyMinute'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\n                }\n            } else {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyHour'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\n                }\n            }\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\n                // from HH:mm to HH:mm\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\n            }\n        }\n\n        if (!schedule.period.once) {\n            // valid\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\n                // from XXX to XXXX\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\n            } else if (validFrom.getTime() > Date.now()) {\n                // from XXXX\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\n            } else if (schedule.valid.to) {\n                // till XXXX\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\n            }\n        }\n        return desc.join(' ');\n    }\n\n    getTimePeriodElements() {\n        const schedule = this.state.schedule;\n        let wholeDay = false;\n        let day = false;\n        let night = false;\n        let fromTo = true;\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\n            wholeDay = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunrise') {\n            day = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunset') {\n            night = true;\n            fromTo = false;\n        }\n\n        return (\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.exactTime = false;\n                        this.onChange(_schedule);\n                    }}/>} label={I18n.t('sch_intervalTime')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>\n                        {!schedule.time.exactTime && (<div>\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.time.start = '00:00';\n                                _schedule.time.end = '23:59';\n                                this.onChange(_schedule);\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\n                                {fromTo && [\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        style={{marginRight: 10}}\n                                        key=\"exactTimeFrom\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.start}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.start = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_from')}\n                                        margin=\"normal\"\n                                    />),\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        key=\"exactTimeTo\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.end}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.end = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_to')}\n                                        margin=\"normal\"\n                                    />)\n                                ]}\n                            </div>\n                        </div>)}\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = '00:00';\n                            _schedule.time.end = '24:00';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunrise';\n                            _schedule.time.end = 'sunset';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunset';\n                            _schedule.time.end = 'sunrise';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\n                    </div>\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\n                </div>\n            </div>);\n    }\n\n    getTimeExactElements() {\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\n\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\n            <div className={this.props.classes.modeDiv}>\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    schedule.time.exactTime = true;\n                    this.onChange(schedule);\n                }}/>} label={I18n.t('sch_exactTime')} />\n            </div>\n            {this.state.schedule.time.exactTime &&\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\n                         onChange={e => {\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                             _schedule.time.start = e.target.value;\n                             this.onChange(_schedule);\n                         }}\n                >\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\n                </Select>)\n            }\n            {this.state.schedule.time.exactTime && !isAstro &&\n                (<div className={this.props.classes.settingsDiv}><TextField\n                    className={this.props.classes.inputTime}\n                    key=\"exactTimeValue\"\n                    value={this.state.schedule.time.start}\n                    type=\"time\"\n                    // inputComponent={TextTime}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.start = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /></div>)\n            }\n        </div>)\n    }\n\n    getDivider() {\n        return <hr className={this.props.classes.hr}/>;\n    }\n\n    getPeriodModes() {\n        const schedule = this.state.schedule;\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\n        if (isOnce && !schedule.period.once) {\n            schedule.period.once = Schedule.now2string(true);\n        }\n\n        return [\n            // ----- once ---\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.once = _schedule.period.once || Schedule.now2string(true);\n                                    _schedule.period.dows = '';\n                                    _schedule.period.months = '';\n                                    _schedule.period.dates = '';\n                                    _schedule.period.years = 0;\n                                    _schedule.period.yearDate = 0;\n                                    _schedule.period.yearMonth = 0;\n                                    _schedule.period.weeks = 0;\n                                    _schedule.period.days = 0;\n                                    this.onChange(_schedule);\n                                }}/>)}\n                              label={I18n.t('sch_periodOnce')} />\n                </div>\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\n                    {<TextField\n                        className={this.props.classes.inputDate}\n                        type=\"date\"\n                        ref={this.refOnce}\n                        key=\"exactDateAt\"\n                        defaultValue={string2USdate(schedule.period.once)}\n                        //InputProps={{inputComponent: TextTime}}\n                        onChange={e => {\n                            this.timerOnce && clearTimeout(this.timerOnce);\n\n                            this.refOnce.current.style.background = '#ff000030';\n                            this.timerOnce = setTimeout(value => {\n                                this.timerOnce = null;\n                                this.refOnce.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = Schedule.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        label={I18n.t('sch_at')}\n                        margin=\"normal\"\n                    />}\n                </div>)}\n            </div>),\n\n\n            // ----- days ---\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.days = 1;\n                                _schedule.period.dows = '';\n                                _schedule.period.months = '';\n                                _schedule.period.dates = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.once = '';\n                               this.onChange(_schedule);\n                           }}/>)}\n                           label={I18n.t('sch_periodDaily')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsDaily()}\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\n                </div>\n            </div>),\n\n\n            // ----- days of weeks ---\n            /*!schedule.period.days && (\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                    <div className={this.props.classes.modeDiv}>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\n                            this.onChange(schedule);\n                        }}/>)}\n                        label={I18n.t('sch_periodWeekdays')} />\n                    </div>\n                    <div className={this.props.classes.settingsDiv}>\n                        {this.getPeriodSettingsWeekdays()}\n                    </div>\n                </div>),\n*/\n            // ----- weeks ---\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\n                        _schedule.period.dows = schedule.period.dows || '[0]';\n                        _schedule.period.months = '';\n                        _schedule.period.dates = '';\n                        _schedule.period.years = 0;\n                        _schedule.period.yearDate = 0;\n                        _schedule.period.yearMonth = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                        this.onChange(_schedule);\n                    }}/>)}\n                    label={I18n.t('sch_periodWeekly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\n                </div>\n            </div>),\n\n\n            // ----- months ---\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.months = 1;\n                            _schedule.period.dows = '';\n                            _schedule.period.dates = '';\n                            _schedule.period.years = 0;\n                            _schedule.period.yearDate = 0;\n                            _schedule.period.yearMonth = 0;\n                            _schedule.period.weeks = 0;\n                            _schedule.period.days = 0;\n                            _schedule.period.once = '';\n                           this.onChange(_schedule);\n                       }}/>)}\n                       label={I18n.t('sch_periodMonthly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsMonthly()}\n                    {schedule.period.months ? (<div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.months = _schedule.period.months || 1;\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\n                                _schedule.period.dows = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.days = 0;\n                                _schedule.period.once = '';\n\n                                this.onChange(_schedule);\n                            }}/>)}\n                            label={I18n.t('sch_periodDates')} /></div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            {this.getPeriodSettingsDates()}\n                        </div>\n                    </div>) : null}\n                </div>\n            </div>),\n\n\n            // ----- years ---\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.years = 1;\n                        _schedule.period.yearDate = 1;\n                        _schedule.period.yearMonth = 1;\n                        _schedule.period.dows = '';\n                        _schedule.period.months = 0;\n                        _schedule.period.dates = '';\n                        _schedule.period.weeks = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                       this.onChange(_schedule);\n                   }}/>)}\n                   label={I18n.t('sch_periodYearly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\n                        <span>{I18n.t('sch_on')}</span>\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\n                            if (_schedule.period.yearDate < 1) _schedule.period.yearDate = 31;\n                            if (_schedule.period.yearDate > 31) _schedule.period.yearDate = 1;\n                            this.onChange(_schedule);\n                        }} />\n                        <Select value={schedule.period.yearMonth}\n                             onChange={e => {\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                 _schedule.period.yearMonth = e.target.value;\n                                 this.onChange(_schedule);\n                             }}\n                        >\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\n                        </Select>\n                    </div>)}\n                </div>\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsMinutes() {\n        return (<div style={{display: 'inline-block'}}>\n            <label>{I18n.t('sch_every')}</label>\n            <Input value={this.state.schedule.time.interval}\n                   style={{ verticalAlign: 'bottom'}}\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                _schedule.time.interval = parseInt(e.target.value, 10);\n                this.onChange(_schedule);\n            }} />\n            <Select value={this.state.schedule.time.mode}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.mode = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n            >\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\n            </Select>\n        </div>);\n    }\n\n    getPeriodSettingsWeekdays() {\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\n        const schedule = this.state.schedule;\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\n        return [\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWorkdays')} /></div>),\n\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0, 6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWeekend')} /></div>),\n\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)\n                }\n                label={I18n.t('sch_periodWeekdays')} />\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\n                    {[1,2,3,4,5,6,0].map(i =>\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dows;\n                                        try {\n                                            dows = JSON.parse(_schedule.period.dows);\n                                        } catch (e) {\n                                            dows = [];\n                                        }\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\n                                            dows.push(i);\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\n                                            dows.splice(dows.indexOf(i), 1);\n                                        }\n                                        dows.sort((a, b) => a - b);\n                                        _schedule.period.dows = JSON.stringify(dows);\n                                        if (_schedule.period.days) {\n                                            _schedule.period.days = 1;\n                                        }\n                                        this.onChange(_schedule);\n                                    }}\n                              />\n                          }\n                          label={I18n.t(WEEKDAYS[i])}\n                        />))}\n                </FormGroup>)}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsDaily() {\n        if (!this.state.schedule.period.days) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 1;\n                                    _schedule.period.dows = '';\n                                   this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 2;\n                                    _schedule.period.dows = '';\n                                    this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.days = parseInt(e.target.value, 10);\n                    _schedule.period.dows = '';\n                    this.onChange(_schedule);\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsWeekly() {\n        if (!this.state.schedule.period.weeks) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 1;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\n                    <div>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 2;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                        label={I18n.t('sch_periodEvery')} />\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\n                            this.onChange(_schedule);\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\n                    </div>\n                </div>),\n            ];\n    }\n\n    getPeriodSettingsDates() {\n        if (!this.state.schedule.period.dates) {\n            return;\n        }\n        const schedule = this.state.schedule;\n\n        const dates = [];\n        for (let i = 1; i <= 31; i++) {\n            dates.push(i);\n        }\n\n        const parsedDates = JSON.parse(schedule.period.dates);\n\n        return (\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = JSON.stringify(dates);\n                                this.onChange(_schedule);\n                            }}\n                      />\n                    } label={I18n.t('sch_all')}\n                />\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.dates = '[]';\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_no_one')}\n                />\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const result = [];\n                                const parsedDates = JSON.parse(_schedule.period.dates);\n                                for (let i = 1; i <= 31; i++) {\n                                    if (parsedDates.indexOf(i) === -1) {\n                                        result.push(i);\n                                    }\n                                }\n                                result.sort((a, b) => a - b);\n                                _schedule.period.dates = JSON.stringify(result);\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_invert')}\n                />)}\n                <div/>\n            {dates.map(i =>\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\n                      control={\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dates;\n                                        try {\n                                            dates = JSON.parse(_schedule.period.dates);\n                                        } catch (e) {\n                                            dates = [];\n                                        }\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\n                                            dates.push(i);\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\n                                            dates.splice(dates.indexOf(i), 1);\n                                        }\n                                        dates.sort((a, b) => a - b);\n                                        _schedule.period.dates = JSON.stringify(dates);\n                                        this.onChange(_schedule);\n                                    }}\n                          />\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\n                />))}\n            </FormGroup>);\n    }\n\n    getPeriodSettingsMonthly() {\n        if (!this.state.schedule.period.months) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\n\n        return [\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 1;\n                                        this.onChange(schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.months = parseInt(e.target.value, 10);\n                    if (_schedule.period.months < 1) _schedule.period.months = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\n            </div>),\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodSpecificMonths')} />\n                {typeof schedule.period.months === 'string' &&\n                (<FormGroup row className={this.props.classes.inputGroup}>\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        const months = [];\n                                                        for (let i = 1; i <= 12; i++) {\n                                                            months.push(i);\n                                                        }\n                                                        _schedule.period.months = JSON.stringify(months);\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_all')}\n                    />\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        _schedule.period.months = '[]';\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_no_one')}\n                    />\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                                                                                             control={\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                                                                                                           onChange={e => {\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                                                                               const result = [];\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\n                                                                                                               for (let i = 1; i <= 12; i++) {\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\n                                                                                                                       result.push(i);\n                                                                                                                   }\n                                                                                                               }\n                                                                                                               result.sort((a, b) => a - b);\n                                                                                                               _schedule.period.months = JSON.stringify(result);\n                                                                                                               this.onChange(_schedule);\n                                                                                                           }}\n                                                                                                 />\n                                                                                             } label={I18n.t('sch_invert')}\n                    />)}\n                    <div/>\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\n                        control={\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\n                                      onChange={e => {\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                          let months;\n                                          try {\n                                              months = JSON.parse(_schedule.period.months);\n                                          } catch (e) {\n                                              months = [];\n                                          }\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\n                                              months.push(i + 1);\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\n                                              months.splice(months.indexOf(i + 1), 1);\n                                          }\n                                          months.sort((a, b) => a - b);\n                                          _schedule.period.months = JSON.stringify(months);\n                                          this.onChange(_schedule);\n                                      }}\n                            />\n                        }\n                        label={I18n.t(month)}\n                    />))}\n                </FormGroup>)}\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsYearly() {\n        if (!this.state.schedule.period.years) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 1;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.years = parseInt(e.target.value, 10);\n                    if (_schedule.period.years < 1) _schedule.period.years = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\n            </div>),\n        ];\n    }\n\n    static now2string(isEnd) {\n        const d = new Date();\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n        if (isEnd) {\n            d.setDate(d.getDate() + 2);\n            d.setMilliseconds(d.getMilliseconds() - 1);\n        }\n\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\n    }\n\n    static string2date(str) {\n        let parts = str.split('.'); // 31.12.2019\n        if (parts.length === 1) {\n            parts = str.split('-'); // 2018-12-31\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\n        } else {\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\n        }\n    }\n\n    getValidSettings() {\n        const schedule = this.state.schedule;\n        // ----- from ---\n        return (\n            <div className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\n                    <span>{I18n.t('sch_validFrom')}</span>\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <TextField\n                        className={this.props.classes.inputDate}\n                        style={{marginRight: 10}}\n                        key=\"exactTimeFrom\"\n                        inputRef={this.refFrom}\n                        defaultValue={string2USdate(schedule.valid.from)}\n                        type=\"date\"\n                        //inputComponent={TextDate}\n                        onChange={e => {\n                            this.timerFrom && clearTimeout(this.timerFrom);\n\n                            this.refFrom.current.style.background = '#ff000030';\n\n                            this.timerFrom = setTimeout(value => {\n                                this.timerFrom = null;\n                                this.refFrom.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = Schedule.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        margin=\"normal\"\n                    />\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.valid.to = _schedule.valid.to ? '' : Schedule.now2string(true);\n                        this.onChange(_schedule);\n                    }}/>)}\n                        label={I18n.t('sch_validTo')} />\n                        {!!schedule.valid.to && (\n                            <TextField\n                                inputRef={this.refTo}\n                                className={this.props.classes.inputDate}\n                                style={{marginRight: 10}}\n                                key=\"exactTimeFrom\"\n                                type=\"date\"\n                                defaultValue={string2USdate(schedule.valid.to)}\n                                //inputComponent={TextDate}\n                                onChange={e => {\n                                    this.timerTo && clearTimeout(this.timerTo);\n\n                                    this.refTo.current.style.background = '#ff000030';\n                                    this.timerTo = setTimeout(value => {\n                                        this.timerTo = null;\n                                        this.refTo.current.style.background = '';\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        const date = Schedule.string2date(value);\n                                        if (date.toString() !== 'Invalid Date') {\n                                            _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                            this.onChange(_schedule);\n                                        }\n                                    }, 1500, e.target.value);\n                                }}\n                                InputLabelProps={{shrink: true,}}\n                                margin=\"normal\"\n                            />)}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\n            <div>{this.state.desc}</div>\n            <div className={this.props.classes.scrollWindow}>\n                <h5>{I18n.t('sch_time')}</h5>\n                {this.getTimePeriodElements()}\n                {this.getTimeExactElements()}\n                {this.getDivider()}\n                <h5>{I18n.t('sch_period')}</h5>\n                {this.getPeriodModes()}\n                {!this.state.schedule.period.once && this.getDivider()}\n                {!this.state.schedule.period.once && this.getValidSettings()}\n            </div>\n        </div>);\n    }\n}\n\nSchedule.propTypes = {\n    schedule: PropTypes.string,\n    onChange: PropTypes.func\n};\n\nexport default withStyles(styles)(Schedule);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles/index';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Radio from '@material-ui/core/Radio';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ComplexCron from '../Components/ComplexCron';\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\nimport Schedule from '../Components/Schedule';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\n// Generate cron expression\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    radio: {\n        display: 'inline-block'\n    },\n    dialogPaper: {\n        height: 'calc(100% - 96px)'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron;\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\n        } else {\n            cron = this.props.cron || '{}';\n            if (typeof cron === 'string') {\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\n            }\n        }\n\n        this.state =  {\n            cron,\n            mode: this.props.simple ?\n                'simple' :\n                (typeof cron === 'object' || cron[0] === '{' ?\n                    'wizard' :\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onOk(this.state.cron);\n        this.props.onClose();\n    }\n\n    setMode(mode) {\n        this.setState({mode});\n    }\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                classes={{paper: this.props.classes.dialogPaper}}\n                open={true}\n                aria-labelledby=\"cron-dialog-title\"\n            >\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\n                    {!this.props.simple && (<div>\n                        <Radio\n                            key=\"wizard\"\n                            checked={this.state.mode === 'wizard'}\n                            onChange={e => this.setMode('wizard')}\n                        /><label onClick={e => this.setMode('wizard')}\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\n\n                        <Radio\n                            key=\"simple\"\n                            checked={this.state.mode === 'simple'}\n                            onChange={e => this.setMode('simple')}\n                        /><label onClick={e => this.setMode('simple')}\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\n                        <Radio\n                            key=\"complex\"\n                            checked={this.state.mode === 'complex'}\n                            onChange={e => this.setMode('complex')}\n                        /><label onClick={e => this.setMode('complex')} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\n\n                    {this.state.mode === 'simple' &&\n                        (<SimpleCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'wizard' &&\n                        (<Schedule\n                            schedule={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'complex' &&\n                        (<ComplexCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()}     color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogCron.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    cron: PropTypes.string,\n    cancel: PropTypes.string,\n    ok: PropTypes.string,\n    simple: PropTypes.bool,\n    language: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogCron);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && !this.state.source.includes('return ')) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => this.handleOk()} color=\"primary\"><IconSave className={this.props.classes.buttonIcon}/>{I18n.t('Save')}</Button>\n                <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import { TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomInput = ({ fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, minWidth }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            !customValue && setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;","import { createElement, useState, useEffect } from 'react';\nimport * as Icons from '@material-ui/icons/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket, onClick }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img onClick={e => onClick && onClick(e)} src={url || ''} className={className} alt=\"\"/>;\n    } else {\n        const Element = Icons[iconName || 'Help'];\n        return <Element\n            className\n            onClick={e => onClick && onClick(e)}\n        />;\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;","import I18n from '@iobroker/adapter-react/i18n';\n\nlet lang;\nconst getName = obj => {\n    lang = lang || I18n.getLanguage();\n    if (typeof obj === 'object') {\n        return obj[lang] || obj.en;\n    } else {\n        return obj;\n    }\n};\n\nconst utils = {\n    getName\n};\n\nexport default utils;","import React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils'\n\nconst CardMenu = ({ name, id, active, icon, adapter, socket, onDoubleClick, title }) => {\n    return <div\n        onDoubleClick={onDoubleClick}\n        key={id}\n        title={title}\n        className={clsx(cls.switchesItem, active && cls.switchesItemActive, 'block-' + id)}\n    >\n        <MaterialDynamicIcon iconName={icon} className={cls.iconTheme} adapter={adapter} socket={socket} />\n        <span>\n            {utils.getName(name)}\n        </span>\n    </div>;\n}\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    onDoubleClick: () => { }\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules,\n                [name]: {\n                    ...userRules[name],\n                    [additionalParameter]: [...userRules[name][additionalParameter]]\n                }\n            };\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules,\n                [name]: [...userRules[name]]\n            };\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","import { Button } from '@material-ui/core';\nimport React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value, square }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={clsx(cls.root, className, square ? cls.square : '')}\n        margin=\"normal\"\n        size={size}\n    >{value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    className: null,\n    variant: 'standard',\n    size: 'medium',\n    fullWidth: false,\n    square: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default CustomButton;","import { Checkbox } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);","import { FormControl, FormHelperText, Input, MenuItem, Select, withStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst SelectMod = withStyles({\n    root: {\n        margin: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n})(FormControl);\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                setOptions(_options);\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                }\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <SelectMod\n        className={className}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={<Input name={attr} id={attr + '-helper'} />}\n        >\n            {options.map(item =>\n                <MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </SelectMod>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;","import React, {useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport { Dialog, DialogActions, DialogContent } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport i18n from '@iobroker/adapter-react/i18n';\nimport CustomInput from \"../CustomInput\";\n\nconst CustomModal = ({ open, onClose, children, titleButtonApply, titleButtonClose, onApply, className, textInput, defaultValue}) => {\n    let [value, setValue] = useState(defaultValue);\n\n    return <Dialog\n        open={open}\n        maxWidth=\"md\"\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{paper: cls.modalDialog, /*paper: classes.background*/}}\n        className={cls.modalWrapper}\n    >\n        <DialogContent>\n            {textInput && <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"medium\"\n                rows={10}\n                multiline\n                value={value}\n                onChange={setValue}\n                customValue\n            />}\n            {!textInput && children}\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => onApply(textInput ? value : null)}  variant=\"contained\" color=\"primary\">\n                {i18n.t(titleButtonApply)}\n            </Button>\n            <Button onClick={onClose} variant=\"contained\">\n                {i18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok'\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func\n};\n\nexport default CustomModal;","import { FormControl, FormHelperText, Input, MenuItem, Select } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport clsx from 'clsx';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className }) => {\n    const [inputText, setInputText] = useState(value === undefined ? options[0].value : value);\n\n    return <FormControl\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort || onlyItem.title;\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? item.titleShort || item.title : item);\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title || selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly));\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value));\n                        }\n                    }\n                }\n                onChange(e.target.value);\n            }}\n            input={<Input name={attr} id={attr + '-helper'} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;","import React, { useState } from 'react';\nimport cls from './style.module.scss';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Slider } from '@material-ui/core';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, min, max, step, unit }) => {\n    const [inputText, setInputText] = useState(0);\n    min = min !== undefined ? min : 0;\n    max = max !== undefined ? max : 0;\n    step = step !== undefined ? step : (max - min) / 100;\n\n    const marks = [\n        {\n            value: min,\n            label: min + (unit || ''),\n        },\n        {\n            value: max,\n            label: max + (unit || ''),\n        },\n    ];\n\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        classes={{mark: cls.mark}}\n        marks={marks}\n        step={step}\n        min={min}\n        max={max}\n        error={!!error}\n        fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            !customValue && setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","import { FormControlLabel, Switch } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);","import { TextField } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomTime = ({ table, value, title, attr, options, style, native, onChange, className }) => {\n    return <TextField\n        id=\"time\"\n        // label=\"Alarm clock\"\n        type=\"time\"\n        defaultValue=\"07:30\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    // options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    // native: PropTypes.object.isRequired,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","const STEPS = {\r\n    selectTriggers: 0,\r\n    addScheduleByDoubleClick: 1,\r\n    openTagsMenu: 2,\r\n    selectIntervalTag: 3,\r\n    selectActions: 4,\r\n    addActionPrintText: 5,\r\n    showJavascript: 6,\r\n    switchBackToRules: 7,\r\n    saveTheScript: 8,\r\n};\r\n\r\nconst steps = [\r\n    {  // 0\r\n        selector: '.blocks-triggers',\r\n        content: 'Select triggers',\r\n    },\r\n    {  // 1\r\n        selector: '.block-TriggerScheduleBlock',\r\n        content: 'Double click to add the block',\r\n    },\r\n    {   // 2\r\n        selector: '.tag-card',\r\n        content: 'Open drop down menu',\r\n    },\r\n    {   // 3\r\n        selector: '.tag-card-interval',\r\n        content: 'Select interval',\r\n    },\r\n    {   // 4\r\n        selector: '.blocks-actions',\r\n        content: 'Select action blocks',\r\n    },\r\n    {  // 5\r\n        selector: '.block-ActionPrintText',\r\n        content: 'Double click to add the block',\r\n    },\r\n    {  // 6\r\n        selector: '.button-js-code',\r\n        content: 'Check the script',\r\n    },\r\n    {  // 7\r\n        selector: '.button-js-code',\r\n        content: 'Switch back to rules',\r\n    },\r\n    {   // 8\r\n        selector: '.button-save',\r\n        content: 'Save the script',\r\n    }\r\n];\r\n\r\nexport {STEPS};\r\n\r\nexport default steps;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport { Menu, MenuItem } from '@material-ui/core';\n\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogError from '@iobroker/adapter-react/Dialogs/Error';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport clsx from 'clsx';\nimport {STEPS} from \"../../helpers/Tour\";\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : ''\n        }\n\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            showSelectId: false,\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n            error: '',\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings,\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const settings = JSON.parse(JSON.stringify(nextProps.settings));\n        if (!settings.tagCard && this.state.tagCardArray && this.state.tagCardArray.length) {\n            settings.tagCard = typeof this.state.tagCardArray[0] !== 'string' ? this.state.tagCardArray[0].title : this.state.tagCardArray[0];\n        }\n\n        if (JSON.stringify(settings) !== JSON.stringify(this.state.settings)) {\n            this.setState({settings});\n        }\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard, cb) {\n        // analyse inputs and fill the attributes with default values\n        let changed = false;\n        let settings = JSON.parse(JSON.stringify(this.state.settings));\n        this.state.inputs.forEach(input => {\n            if (input.attr && input.defaultValue !== undefined) {\n                if (settings[input.attr] === undefined) {\n                    changed = true;\n                    settings[input.attr] = input.defaultValue;\n                }\n            }\n        });\n        if (changed) {\n            this.setState({settings}, () => cb && cb());\n            this.props.onChange(settings);\n        } else {\n            cb && cb();\n        }\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name } = input;\n        return <Fragment key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock } = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature }, value) => <div\n        className={clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {value}\n    </div>;\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n        return visibility ? <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInput\n                className={clsx(className, input.className)}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomCheckbox\n                className={className}\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div onClick={() => onChange(typeof settings[attr] === 'boolean' ? !settings[attr] : !defaultValue)} className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, min, max, step, unit } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex} style={{marginRight: 20}}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomSlider\n                    customValue\n                    min={min}\n                    max={max}\n                    step={step}\n                    unit={unit}\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={val => {\n                        console.log(val);\n                        onChange(val)\n                    }}\n                />\n                {backText && <div style={{ marginLeft: 20 }} className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    }\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, buttonText } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomButton\n                label={buttonText}\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderObjectID = (input, value, onChange) => {\n        const { showSelectId, settings } = this.state;\n        const { className, socket } = this.props;\n        const { attr, openCheckbox } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                socket.getObject(value)\n                    .then(obj =>\n                        this.setState({\n                            [settings[attr]]: obj,\n                            error: obj?.common?.write === false ? I18n.t('Read only value selected') : ''\n                        }));\n            }, 0);\n        }\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ showSelectId: true })}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                key=\"tableSelect\"\n                imagePrefix=\"../..\"\n                dialogName={'javascript'}\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly={true}\n                selected={value}\n                onClose={() => this.setState({ showSelectId: false })}\n                onOk={(selected, name, common) =>\n                    this.setState({ showSelectId: false }, () => {\n                        // read type of object\n                        socket.getObject(selected)\n                            .then(obj => onChange({\n                                [attr]: selected,\n                                [attr + 'Role']: obj.common.role,\n                                [attr + 'Type']: obj.common.type,\n                                [attr + 'Unit']: obj.common.unit,\n                                [attr + 'States']: obj.common.states,\n                                [attr + 'Min']: obj.common.min,\n                                [attr + 'Max']: obj.common.max,\n                                [attr + 'Step']: obj.common.step,\n                                [attr + 'Def']: obj.common.def,\n                                [attr + 'Write']: obj.common.write,\n                                [attr + 'Read']: obj.common.read,\n                            }, null, () =>\n                                this.props.setOnUpdate && this.props.setOnUpdate(true)));\n                    })}\n            /> : null}\n        </div> : null;\n    }\n\n    renderIconTag = () => {\n        return <div\n            className={cls.iconTag}\n            onClick={e => {\n                this.state.tagCardArray.length >= 3 && this.setState({ openTagMenu: e.currentTarget });\n            }}>\n            {this.state.settings.tagCard}\n        </div>;\n    }\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, multiple } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomSelect\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className, socket } = this.props;\n        const { name, options, frontText, backText, attr, adapter } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInstance\n                socket={socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({ hideAttributes: [...this.state.hideAttributes, attr] }, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText } = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    // fullWidth\n                    style={{ marginLeft: 5 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {openModal ? <CustomModal\n                open={true}\n                onApply={val =>\n                    this.setState({ openModal: false }, () =>\n                        val !== null && val !== undefined && onChange(val))}\n                onClose={() => this.setState({ openModal: false })}\n                defaultValue={value}\n                textInput={true}\n            /> : null}\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    };\n\n    /////////////////////////////\n    renderTags = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        let { tagCard } = this.state.settings;\n        let result = tagCard;\n        if (tagCardArray.length >= 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={(e) => {\n                        this.setState({ openTagMenu: e.currentTarget }, () => {\n                            this.props.isTourOpen &&\n                            this.props.tourStep === STEPS.openTagsMenu &&\n                                setTimeout(() => this.props.setTourStep(STEPS.selectIntervalTag), 300);\n                        });\n                    }}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return <MenuItem\n                            key={tag}\n                            selected={tag === tagCard}\n                            className={'tag-card-' + tag}\n                            style={{ placeContent: 'space-between' }}\n                            onClick={e => {\n                                const settings = { ...this.state.settings, tagCard: tag };\n                                this.setState({ openTagMenu: null, settings }, () => {\n                                    this.props.onChange(settings);\n                                    this.onTagChange(tag);\n                                });\n                                (this.props.isTourOpen &&\n                                    (this.props.tourStep === STEPS.openTagsMenu ||\n                                    this.props.tourStep === STEPS.selectIntervalTag) &&\n                                    tag === 'interval' &&\n                                    setTimeout(() => this.props.setTourStep(STEPS.selectActions), 500));\n\n                            }}>{I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{el.title2}</div>}</MenuItem>\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    onChangeTag = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n\n        if (tagCard && newTagCardArray.length < 4) {\n            const newSettings = { ...settings };\n            const newTagCard = newTagCardArray[(newTagCardArray.indexOf(tagCard) + 1) % newTagCardArray.length]\n            newSettings.tagCard = newTagCard;\n            this.setState({ settings: newSettings }, () => {\n                this.props.onChange(newSettings);\n                this.onTagChange(newTagCard);\n            });\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n        // detect changes\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = attribute => {\n        return (value, attr, cb) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n\n            if (typeof value === 'object' && (!attr || typeof attr === 'function')) {\n                Object.keys(value).forEach(_attr => settings[_attr] = value[_attr]);\n            } else {\n                settings[attr || attribute] = value;\n            }\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n                cb && cb();\n            });\n        }\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard } } = this.state;\n        const { socket, notFound } = this.props;\n\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon\n                    iconName={icon}\n                    className={clsx(cls.iconThemCard, this.state.tagCardArray.length >= 3 && cls.iconThemCardSelectable)}\n                    adapter={adapter}\n                    socket={socket}\n                    onClick={e => {\n                        this.state.tagCardArray.length >= 3 && this.setState({ openTagMenu: e.currentTarget });\n                    }}\n                />}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {name && name.en}\n                    {!!notFound ? `${settings.id} not found` : ''}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            settings[attr] !== undefined ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={() => this.onChangeTag()} className={clsx(cls.tagCard, 'tag-card') }>{this.renderTags()}</div>\n            </div>}\n            {this.state.error ? <DialogError title={I18n.t('Warning')} text={this.state.error} onClose={() => this.setState({error: ''})}/> : null}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;","import GenericBlock from '../GenericBlock';\nimport i18n from '@iobroker/adapter-react/i18n';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    \"en\":       {name: \"Google - English\",         engine: \"google\",  params: []},\n    \"de\":       {name: \"Google - Deutsch\",         engine: \"google\",  params: []},\n    \"ru\":       {name: \"Google - Русский\",         engine: \"google\",  params: []},\n    \"it\":       {name: \"Google - Italiano\",        engine: \"google\",  params: []},\n    \"es\":       {name: \"Google - Espaniol\",        engine: \"google\",  params: []},\n    \"fr\":       {name: \"Google - Français\",        engine: \"google\",  params: []},\n    \"ru_YA\":    {name: \"Yandex - Русский\",         engine: \"yandex\",  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed']},\n    \"ru_YA_CLOUD\":   {name: \"Yandex Cloud - Русский\",   engine: \"yandexCloud\",  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil']},\n\n    \"en-US\":    {name: \"PicoTTS - Englisch US\",    engine: \"PicoTTS\", params: []},\n    \"en-GB\":    {name: \"PicoTTS - Englisch GB\",    engine: \"PicoTTS\", params: []},\n    \"de-DE\":    {name: \"PicoTTS - Deutsch\",        engine: \"PicoTTS\", params: []},\n    \"it-IT\":    {name: \"PicoTTS - Italiano\",       engine: \"PicoTTS\", params: []},\n    \"es-ES\":    {name: \"PicoTTS - Espaniol\",       engine: \"PicoTTS\", params: []},\n    \"fr-FR\":    {name: \"PicoTTS - Français\",       engine: \"PicoTTS\", params: []},\n\n    \"ru-RU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"Cloud - Русский - Татьяна\"},\n    \"ru-RU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"Cloud - Русский - Максим\"},\n    \"de-DE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"Cloud - Deutsch - Marlene\"},\n    \"de-DE_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"Cloud - Deutsch - Hans\"},\n    \"en-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"Cloud - en-US - Female - Salli\"},\n    \"en-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"Cloud - en-US - Male - Joey\"},\n    \"da-DK_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"Cloud - da-DK - Female - Naja\"},\n    \"da-DK_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"Cloud - da-DK - Male - Mads\"},\n    \"en-AU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"Cloud - en-AU - Female - Nicole\"},\n    \"en-AU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"Cloud - en-AU - Male - Russell\"},\n    \"en-GB_CLOUD_Female_Amy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"Cloud - en-GB - Female - Amy\"},\n    \"en-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"Cloud - en-GB - Male - Brian\"},\n    \"en-GB_CLOUD_Female_Emma\":  {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"Cloud - en-GB - Female - Emma\"},\n    \"en-GB-WLS_CLOUD_Female\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"Cloud - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_CLOUD_Male\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"Cloud - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"Cloud - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"Cloud - cy-GB - Male - Geraint\"},\n    \"en-IN_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"Cloud - en-IN - Female - Raveena\"},\n    \"en-US_CLOUD_Male_Chipmunk\":{gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"Cloud - en-US - Male - Chipmunk\"},\n    \"en-US_CLOUD_Male_Eric\":    {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"Cloud - en-US - Male - Eric\"},\n    \"en-US_CLOUD_Female_Ivy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"Cloud - en-US - Female - Ivy\"},\n    \"en-US_CLOUD_Female_Jennifer\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Jennifer\",   ssml: true, name: \"Cloud - en-US - Female - Jennifer\"},\n    \"en-US_CLOUD_Male_Justin\":  {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"Cloud - en-US - Male - Justin\"},\n    \"en-US_CLOUD_Female_Kendra\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",     ename: \"Kendra\",     ssml: true, name: \"Cloud - en-US - Female - Kendra\"},\n    \"en-US_CLOUD_Female_Kimberly\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Kimberly\",   ssml: true, name: \"Cloud - en-US - Female - Kimberly\"},\n    \"es-ES_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"Cloud - es-ES - Female - Conchita\"},\n    \"es-ES_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"Cloud - es-ES - Male - Enrique\"},\n    \"es-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"Cloud - es-US - Female - Penelope\"},\n    \"es-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"Cloud - es-US - Male - Miguel\"},\n    \"fr-CA_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"Cloud - fr-CA - Female - Chantal\"},\n    \"fr-FR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"Cloud - fr-FR - Female - Celine\"},\n    \"fr-FR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"Cloud - fr-FR - Male - Mathieu\"},\n    \"is-IS_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"Cloud - is-IS - Female - Dora\"},\n    \"is-IS_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"Cloud - is-IS - Male - Karl\"},\n    \"it-IT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"Cloud - it-IT - Female - Carla\"},\n    \"it-IT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"Cloud - it-IT - Male - Giorgio\"},\n    \"nb-NO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"Cloud - nb-NO - Female - Liv\"},\n    \"nl-NL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"Cloud - nl-NL - Female - Lotte\"},\n    \"nl-NL_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"Cloud - nl-NL - Male - Ruben\"},\n    \"pl-PL_CLOUD_Female_Agnieszka\":{gender: \"Female\", engine: \"cloud\",params: ['cloud'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"Cloud - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_CLOUD_Male_Jacek\":   {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"Cloud - pl-PL - Male - Jacek\"},\n    \"pl-PL_CLOUD_Female_Ewa\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"Cloud - pl-PL - Female - Ewa\"},\n    \"pl-PL_CLOUD_Male_Jan\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"Cloud - pl-PL - Male - Jan\"},\n    \"pl-PL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"Cloud - pl-PL - Female - Maja\"},\n    \"pt-BR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"Cloud - pt-BR - Female - Vitoria\"},\n    \"pt-BR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"Cloud - pt-BR - Male - Ricardo\"},\n    \"pt-PT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"Cloud - pt-PT - Male - Cristiano\"},\n    \"pt-PT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"Cloud - pt-PT - Female - Ines\"},\n    \"ro-RO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"Cloud - ro-RO - Female - Carmen\"},\n    \"sv-SE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"Cloud - sv-SE - Female - Astrid\"},\n    \"tr-TR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"Cloud - tr-TR - Female - Filiz\"},\n\n    \"ru-RU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"AWS Polly - Русский - Татьяна\"},\n    \"ru-RU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"AWS Polly - Русский - Максим\"},\n    \"de-DE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"AWS Polly - Deutsch - Marlene\"},\n    \"de-DE_AP_Female_Vicky\":    {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Vicky\",      ssml: true, name: \"AWS Polly - Deutsch - Vicky\"},\n    \"de-DE_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"AWS Polly - Deutsch - Hans\"},\n    \"en-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"AWS Polly - en-US - Female - Salli\"},\n    \"en-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"AWS Polly - en-US - Male - Joey\"},\n    \"da-DK_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"AWS Polly - da-DK - Female - Naja\"},\n    \"da-DK_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"AWS Polly - da-DK - Male - Mads\"},\n    \"en-AU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"AWS Polly - en-AU - Female - Nicole\"},\n    \"en-AU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"AWS Polly - en-AU - Male - Russell\"},\n    \"en-GB_AP_Female_Amy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"AWS Polly - en-GB - Female - Amy\"},\n    \"en-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"AWS Polly - en-GB - Male - Brian\"},\n    \"en-GB_AP_Female_Emma\":     {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"AWS Polly - en-GB - Female - Emma\"},\n    \"en-GB-WLS_AP_Female\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_AP_Male\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"AWS Polly - cy-GB - Male - Geraint\"},\n    \"en-IN_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"AWS Polly - en-IN - Female - Raveena\"},\n    \"en-US_AP_Male_Chipmunk\":   {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"AWS Polly - en-US - Male - Chipmunk\"},\n    \"en-US_AP_Male_Eric\":       {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"AWS Polly - en-US - Male - Eric\"},\n    \"en-US_AP_Female_Ivy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"AWS Polly - en-US - Female - Ivy\"},\n    \"en-US_AP_Female_Jennifer\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Jennifer\",   ssml: true, name: \"AWS Polly - en-US - Female - Jennifer\"},\n    \"en-US_AP_Male_Justin\":     {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"AWS Polly - en-US - Male - Justin\"},\n    \"en-US_AP_Female_Kendra\":   {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kendra\",     ssml: true, name: \"AWS Polly - en-US - Female - Kendra\"},\n    \"en-US_AP_Female_Kimberly\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kimberly\",   ssml: true, name: \"AWS Polly - en-US - Female - Kimberly\"},\n    \"es-ES_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"AWS Polly - es-ES - Female - Conchita\"},\n    \"es-ES_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"AWS Polly - es-ES - Male - Enrique\"},\n    \"es-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"AWS Polly - es-US - Female - Penelope\"},\n    \"es-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"AWS Polly - es-US - Male - Miguel\"},\n    \"fr-CA_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"AWS Polly - fr-CA - Female - Chantal\"},\n    \"fr-FR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"AWS Polly - fr-FR - Female - Celine\"},\n    \"fr-FR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"AWS Polly - fr-FR - Male - Mathieu\"},\n    \"is-IS_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"AWS Polly - is-IS - Female - Dora\"},\n    \"is-IS_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"AWS Polly - is-IS - Male - Karl\"},\n    \"it-IT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"AWS Polly - it-IT - Female - Carla\"},\n    \"it-IT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"AWS Polly - it-IT - Male - Giorgio\"},\n    \"nb-NO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"AWS Polly - nb-NO - Female - Liv\"},\n    \"nl-NL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"AWS Polly - nl-NL - Female - Lotte\"},\n    \"nl-NL_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"AWS Polly - nl-NL - Male - Ruben\"},\n    \"pl-PL_AP_Female_Agnieszka\":{gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"AWS Polly - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_AP_Male_Jacek\":      {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"AWS Polly - pl-PL - Male - Jacek\"},\n    \"pl-PL_AP_Female_Ewa\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"AWS Polly - pl-PL - Female - Ewa\"},\n    \"pl-PL_AP_Male_Jan\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"AWS Polly - pl-PL - Male - Jan\"},\n    \"pl-PL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"AWS Polly - pl-PL - Female - Maja\"},\n    \"pt-BR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"AWS Polly - pt-BR - Female - Vitoria\"},\n    \"pt-BR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"AWS Polly - pt-BR - Male - Ricardo\"},\n    \"pt-PT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"AWS Polly - pt-PT - Male - Cristiano\"},\n    \"pt-PT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"AWS Polly - pt-PT - Female - Ines\"},\n    \"ro-RO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"AWS Polly - ro-RO - Female - Carmen\"},\n    \"sv-SE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"AWS Polly - sv-SE - Female - Astrid\"},\n    \"tr-TR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"AWS Polly - tr-TR - Female - Filiz\"}\n};\n\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return '// no text defined'\n        } else {\n            let value = '';\n            if (context.trigger?.oidType) {\n                value = '.replace(/%s/g, obj.state.value).replace(/%id/g, obj.id)';\n            }\n            return `await setStateAsync(\"${config.instance}.tts.text\", \"${config.language ? config.language + ';' : ''}${config.volume ? config.volume + ';' : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${value});`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        const lang = i18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({title: sayitEngines[lang].name, value: lang}));\n        options.unshift({title: 'Default', value: '_'});\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options,\n                    defaultValue: '_',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    min: 0,\n                    max: 100\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Say It',\n                ru: 'Say It'\n            },\n            id: 'ActionSayText',\n            adapter: 'sayit',\n            title: 'Say some text via sayit adapter'\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.value).replace(/%id/g, obj.id)';\n        }\n        if (!config.recipients) {\n            return '// no recipients defined'\n        } else {\n            return `sendTo(\"${config.instance || 'email.0'}\", {\n            to:      \"${config.recipients || ''}\",\n            subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${value},\n            text:    \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${value}\n        });`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Send email',\n                ru: 'Send email'\n            },\n            id: 'ActionSendEmail',\n            adapter: 'email',\n            title: 'Sends an email'\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.value).replace(/%id/g, obj.id)';\n        }\n        if (!text) {\n            return '// no text defined'\n        } else {\n            return `sendTo(\"${config.instance}\", ${config.user && config.user !== '_' ? `{user: \"${(config.user || '').replace(/\"/g, '\\\\\"')}\", text: \"${(text || '').replace(/\"/g, '\\\\\"')}\"${value}}` : `\"${(text || '').replace(/\"/g, '\\\\\"')}\"${value}`});`;\n        }\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(instance + '.communicate.users');\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            }, () => super.onTagChange());\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({title: 'all', value: ''});\n                } catch (e) {\n                    users = [{title: 'all', value: ''}];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        }\n                    ]\n                }, () => super.onTagChange());\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Telegram',\n                ru: 'Telegram'\n            },\n            id: 'ActionTelegram',\n            adapter: 'telegram',\n            title: 'Sends message via telegram'\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    const _cond = __%%CONDITION%%__;\n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION_STATE_ONCHANGE = `async function (obj) {\n    const _cond = __%%CONDITION%%__;\n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION =\n`async function () {\n    const _cond = __%%CONDITION%%__;\n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst STANDARD_FUNCTION_ONCHANGE =\n`async function () {\n    const _cond = __%%CONDITION%%__;\n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    justCheck: false,\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n\n    const vars = [];\n    jsonTriggers.forEach((trigger, i) => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {trigger, condition: {}, justCheck: json.justCheck || (!json.conditions.length || !json.conditions[0].length)};\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n            vars.push('cond' + i);\n\n            triggers.push(\n                text\n                    .replace(/__%%STATE%%__/g, 'cond' + i)\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n            );\n        }\n    });\n\n    let text = triggers.join('\\n\\n');\n\n    if (!json.justCheck) {\n        text = vars.map(v => `let ${v} = false;`).join('\\n') + '\\n\\n' + text;\n    }\n\n    return text;\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.getStaticData && block.getStaticData().id === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    let i = 0;\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length')) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    context.condition.index = i++;\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push(_ors.join(' && '));\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                context.condition.index = i++;\n                result.push(found.compile(ors, context));\n            }\n        }\n\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return '(' + result.join(') || (') + ')';\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*const demo = ${JSON.stringify(json, null, 2)};*/\\n`;\n\n    return code + '\\n//' + JSON.stringify(json);\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_ONCHANGE,\n    STANDARD_FUNCTION_STATE,\n    STANDARD_FUNCTION_STATE_ONCHANGE,\n};\n\nexport default Compile;","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../helpers/Compile\";\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `if (__%%CONDITION%%__) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'On script save or adapter start',\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'Script save', ru: 'Script save' },\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n            title: 'Triggers the on script save or the javascript instance restart'\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../helpers/Compile\";\nimport CustomInput from \"../CustomInput\";\nimport CustomButton from \"../CustomButton\";\nimport CustomModal from \"../CustomModal\";\nimport ComplexCron from \"../../../ComplexCron\";\nimport Schedule from \"../../../Schedule\";\n// import CustomTime from \"../CustomTime\";\nimport SunCalc from \"suncalc2\";\nimport React from \"react\"; // @iobroker/javascript-rules\nimport convertCronToText from '../../../simple-cron/cronText';\nimport I18n from '@iobroker/adapter-react/i18n';\n\n\nconst DEFAULT_WIZARD = \"{\\\"time\\\":{\\\"start\\\":\\\"00:00\\\",\\\"end\\\":\\\"24:00\\\",\\\"mode\\\":\\\"hours\\\",\\\"interval\\\":1},\\\"period\\\":{\\\"days\\\":1}}\";\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        let text = '';\n        const func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${func}, ${config.interval || 1} * ${config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${func});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow?.length && !config.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${func});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${func});`;\n        } else if (config.tagCard === 'wizard') {\n            text = `schedule('${config.wizard}', ${func});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: sunValue ? TriggerScheduleBlock._time2String(sunValue[name]) : '??:??'\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`;// translate\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes', // translate\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at', // translate\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset', // translate\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    async _setInterval(interval) {\n        interval = parseInt(interval || this.state.settings.interval, 10) || 30;\n        let options;\n        if (interval === 1) {\n            options = [\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            options = [\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    prefix: {\n                        en: 'every'\n                    },\n                    attr: 'interval',\n                    frontText: 'every',\n                    defaultValue: 30,\n                    className: 'block-input-interval'\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 's',\n                    options\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        } else if (this.state.settings.tagCard === 'interval') {\n            if (attr === 'interval') {\n                this._setInterval(value);\n            }\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: 'text',\n                        defaultValue: value\n                    }, !!settings['text'] ? settings['text'] : value, onChange)}\n                </div>\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={async () => {\n                    await onChange(textCron, 'text');\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false });\n                }}\n                onClose={() => this.setState({ openDialog: false })}>\n                <ComplexCron\n                    cronExpression={!!settings[input.attr] ? '' : settings[attr]}\n                    onChange={el => {textCron = el}} />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: 'every hour at 0 minutes',\n                attr: 'addText',\n                signature: true\n            }, !!settings['addText'] ? settings['addText'] : 'every hour at 0 minutes', onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let wizardText = '';\n        let wizard = null;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={this.state.settings[attr + 'Text']}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={() =>\n                    this.setState({ openDialog: false }, () =>\n                        onChange({\n                            [attr + 'Text']: wizardText,\n                            [attr]: wizard,\n                        }))}\n                onClose={() => this.setState({ openDialog: false })}>\n                <Schedule onChange={(val, text) => {\n                    wizardText = text;\n                    wizard = typeof val === 'object' ? JSON.parse(JSON.stringify(val)) : JSON.parse(val);\n                    wizard.valid = wizard.valid || {};\n                    wizard.valid.from = wizard.valid.from || Schedule.now2string();\n                    wizard = JSON.stringify(wizard);\n                }} />\n            </CustomModal>\n        </div>;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this._setInterval();\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'wizard':\n                const wizard = JSON.parse(DEFAULT_WIZARD);\n                wizard.valid = wizard.valid || {};\n                wizard.valid.from = wizard.valid.from || Schedule.now2string();\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: JSON.stringify(wizard),\n                        }\n                    ]\n                }, () => super.onTagChange(null, () => {\n                    const wizardText = Schedule.state2text(this.state.settings.wizard || wizard);\n                    if (this.state.settings.wizardText !== wizardText) {\n                        const settings = JSON.parse(JSON.stringify(this.state.settings));\n                        settings.wizardText = wizardText;\n                        this.setState({settings});\n                        this.props.onChange(settings);\n                    }\n                }));\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: '07:30',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_', '1', '2', '3', '4', '5', '6', '0'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'Schedule', ru: 'Schedule' },\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n            title: 'Triggers the rule periodically or on some specific time'\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n    }\n\n    static compile(config, context) {\n        const func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        return `on({id: \"${config.oid || ''}\", change: \"${config.tagCard === 'on update' ? 'any' : 'ne'}\"}, ${func});`\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: ''\n                }\n            ]\n        }, () => {\n            super.onTagChange();\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'State', ru: 'State' },\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update'],\n            title: 'Triggers the rule on update or change of some state' // translate\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\n\nexport default TriggerState;\n","import GenericBlock from '../GenericBlock';\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === null || value === undefined) {\n            value = false;\n        }\n        let result;\n        if (config.tagCard !== 'includes') {\n            const compare = config.tagCard === '=' ? '==' : (config.tagCard === '<>' ? '!=' : config.tagCard);\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    result = `obj.state.val ${compare} ${value}`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `(await getStateAsync(\"${config.oid}\")).val ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    result = `(await getStateAsync(\"${config.oid}\")).val ${compare} ${value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `(await getStateAsync(\"${config.oid}\").val).includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    _setInputs(useTrigger, tagCard, oidType, oidUnit, oidStates) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        tagCard   = tagCard   || this.state.settings.tagCard;\n        oidType   = oidType   || this.state.settings.oidType;\n        oidUnit   = oidUnit   || this.state.settings.oidUnit;\n        oidStates = oidStates || this.state.settings.oidStates;\n\n        if (isAllTriggersOnState && useTrigger && this.props.userRules?.triggers?.length === 1) {\n            oidType   = this.props.userRules.triggers[0].oidType;\n            oidUnit   = this.props.userRules.triggers[0].oidUnit;\n            oidStates = this.props.userRules.triggers[0].oidStates;\n        }\n\n        const _tagCardArray = ConditionState.getStaticData().tagCardArray;\n        const tag = _tagCardArray.find(item => item.title === tagCard);\n        let tagCardArray;\n        let options = null;\n\n        if (oidType === 'number') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        } else if (oidType === 'boolean') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ];\n            options = [\n                {title: 'false', value: false},\n                {title: 'true', value: true},\n            ];\n        } else {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n            }\n        }\n\n        let settings = null;\n        if (!tagCardArray.find(item => item.title === tagCard)) {\n            tagCard = tagCardArray[0].title;\n            settings = settings || {...this.state.settings};\n            settings.tagCard = tagCard;\n        }\n\n        let inputs;\n        let renderText = {\n            nameRender: 'renderText',\n            defaultValue: '',\n            attr: 'value',\n            frontText: tag?.text || 'compare with',\n            backText: oidUnit\n        };\n\n        if (options) {\n            renderText = {\n                nameRender: 'renderSelect',\n                defaultValue: options[0].value,\n                options,\n                attr: 'value',\n                frontText: tag?.text || 'compare with',\n                backText: oidUnit\n            };\n            if (!options.find(item => item.value === this.state.settings.value)) {\n                settings = settings || {...this.state.settings};\n                settings.value = options[0].value;\n            }\n            if (options.length <= 2) {\n                tagCardArray = [\n                    {\n                        title: '=',\n                        title2: '[equal]',\n                        text: 'equal to'\n                    },\n                    {\n                        title: '<>',\n                        title2: '[not equal]',\n                        text: 'not equal to'\n                    }\n                ];\n            }\n        }\n\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n                renderText,\n            ];\n        } else if (isAllTriggersOnState) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                },\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        }\n\n        const state = {\n            iconTag: true,\n            tagCardArray,\n            inputs\n        };\n\n        this.setState(state,() =>\n            super.onTagChange(null, () => {\n                if (settings) {\n                    this.setState({settings});\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        if (typeof value === 'object') {\n            this._setInputs(value.useTrigger, value.tagCard, value.oidType, value.states);\n        } else {\n            if (attr === 'useTrigger') {\n                this._setInputs(value);\n            } else if (attr === 'oidType') {\n                this._setInputs(value, undefined, value);\n            } else if (attr === 'oidUnit') {\n                this._setInputs(value, undefined, undefined, value);\n            } else if (attr === 'oidStates') {\n                this._setInputs(value, undefined, undefined, undefined, value);\n            }\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger, tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: { en: 'State condition', ru: 'State condition' },\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes'\n                }\n            ],\n            title: 'Compares the state value with user defined value'\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        return `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'interval',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: tag?.text || tagCard,\n                    nameRender: 'renderTime',\n                    attr: 'time',\n                    defaultValue: '12:00',\n                },\n            ],\n            iconTag:true\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: {\n                en: 'Time condition',\n                ru: 'Time condition'\n            },\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with the user specific time'\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import GenericBlock from '../GenericBlock';\n// import Compile from \"../../Compile\";\nimport SunCalc from \"suncalc2\";\n\nclass ConditionAstrological extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstrological.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        return `formatDate(Date.now(), 'hh:mm')  ${compare} formatDate(getAstroDate(\"${config.astro}\", 'hh:mm')`;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstrological._time2String(sunValue[name])}]`,\n            order: ConditionAstrological._time2String(sunValue[name])\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstrological.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${tag.text} ${ConditionAstrological._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: 'greater than',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: {\n                en: 'Astrological',\n                ru: 'Astrological'\n            },\n            id: 'ConditionAstrological',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n            title: 'Compares current time with astrological event'\n        }\n    }\n\n    getData() {\n        return ConditionAstrological.getStaticData();\n    }\n}\n\nexport default ConditionAstrological;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === undefined || value === null) {\n            value = '';\n        }\n\n        if (typeof config.value === 'string' &&\n            parseFloat(config.value).toString() !== config.value &&\n            config.value !== 'true' &&\n            config.value !== 'false'\n        ) {\n            value = `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n        }\n\n        return `await setStateAsync(\"${config.oid}\", ${value}, ${config.tagCard === 'update'});`;\n    }\n\n    _setInputs() {\n        let input;\n        let type = '';\n        let options;\n        const { oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep } = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val =>\n                    ({value: val, title: oidStates[val]}));\n                type = 'select';\n            }\n        }\n\n        switch (type) {\n            case 'number':\n                input = {\n                    backText: oidUnit || '',\n                    frontText: 'with',\n                    nameRender: 'renderNumber',\n                    defaultValue: oidMax === undefined ? 0 : oidMax,\n                }\n                if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                    settings = {value: oidMax === undefined ? 0 : oidMax};\n                }\n                break;\n\n            case 'slider':\n                input = {\n                    nameRender: 'renderSlider',\n                    defaultValue: oidMax,\n                    min: oidMin,\n                    max: oidMax,\n                    unit: oidUnit,\n                    step: oidStep,\n                };\n                const f = parseFloat(this.state.settings.value);\n                if (this.state.settings.value !== undefined &&\n                    (isNaN(f) || f < oidMin || f > oidMax)\n                ) {\n                    settings = {value: oidMax};\n                }\n                break;\n\n            case 'select':\n                input = {\n                    nameRender: 'renderSelect',\n                    frontText: 'with',\n                    options,\n                    defaultValue: options[0].value,\n                };\n                if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                    settings = {value: options[0].value};\n                }\n                break;\n\n            case 'boolean':\n                input = {\n                    backText: 'true',\n                    frontText: 'false',\n                    nameRender: 'renderSwitch',\n                    defaultValue: false,\n                };\n                if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                    settings = {value: false};\n                }\n                break;\n\n            case 'button':\n                input = {\n                    nameRender: 'renderButton',\n                    defaultValue: true,\n                };\n                if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                    settings = {value: true};\n                }\n                break;\n\n            case 'color':\n                input = {\n                    nameRender: 'renderColor',\n                    frontText: 'with',\n                    defaultValue: '#FFFFFF',\n                };\n                if (this.state.settings.value !== undefined &&\n                    (\n                        typeof this.state.settings.value !== 'string' ||\n                        (typeof this.state.settings.value.startsWith('#') &&\n                         typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                    settings = {value: '#FFFFFF'};\n                }\n                break;\n\n            default:\n                input = {\n                    backText: oidUnit || '',\n                    frontText: 'with',\n                    nameRender: 'renderText',\n                    defaultValue: ''\n                };\n                break;\n        }\n        input.attr = 'value';\n\n        return {input, newSettings: settings};\n    }\n\n    onTagChange() {\n        const {input, newSettings} = this._setInputs();\n        let inputs = [\n            {\n                nameRender: 'renderObjectID',\n                attr: 'oid',\n                defaultValue: '',\n            },\n            input\n        ];\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            if (newSettings) {\n                const settings = JSON.parse(JSON.stringify(this.state.settings));\n                Object.assign(settings, newSettings);\n                this.setState(settings);\n                this.props.onChange(settings);\n            }\n        }));\n    }\n\n    onValueChanged() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: { en: 'Set state action', ru: 'Set state action' },\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state'\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default ActionSetState;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `exec(\"${(config.exec || '').replace(/\"/g, '\\\\\"')}\");`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Exec',\n                ru: 'Exec'\n            },\n            id: 'ActionExec',\n            icon: 'Apps',\n            title: 'Executes some shell command'\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `request(\"${(config.url || '').replace(/\"/g, '\\\\\"')}\");`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'HTTP Call',\n                ru: 'HTTP Call'\n            },\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n            title: 'Make a HTTP get request'\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.value).replace(/%id/g, obj.id)';\n        }\n        return `console.log(\"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${value});`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text'\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Log text',\n                ru: 'Log text'\n            },\n            id: 'ActionPrintText',\n            icon: 'Subject',\n            title: 'Print some text in log'\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `await wait(${config.pause} * ${config.unit === 'ms' ? 1 : \n            (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))});`;\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause)\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Pause',\n                ru: 'Pause'\n            },\n            id: 'ActionPause',\n            icon: 'Pause',\n            title: 'Make a pause between actions'\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstrological from '../Blocks/ConditionAstrological';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstrological,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n];\n\nexport default StandardBlocks;","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n}\n\nexport const ContextWrapperCreate = createContext();\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [blocks, setBlocks] = useState(null);\n    const [onUpdate, setOnUpdate] = useState(false);\n\n    useEffect(() => {\n        onUpdate && setOnUpdate(false);\n    }, [onUpdate]);\n\n    useEffect(() => {\n        socket.getAdapterInstances()\n            .then(instances => {\n                const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                    instances.find(obj => obj?.common?.name === adapter));\n                const adapterBlocksArray = adapters.map(adapter => ADAPTERS[adapter]);\n\n                setBlocks([...StandardBlocks, ...adapterBlocksArray]);\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{ blocks, socket, onUpdate, setOnUpdate }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, { memo, useCallback, useContext, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy, isTourOpen, setTourStep, tourStep } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { blocks, socket, onUpdate, setOnUpdate} = useContext(ContextWrapperCreate);\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id) || GenericBlock;\n        return <CustomBlock\n            isTourOpen={isTourOpen}\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            {...props}\n            onUpdate={onUpdate}\n            setOnUpdate={setOnUpdate}\n            onChange={onChange}\n            className={null}\n            socket={socket}\n        />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setOnUpdate(true);\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","import React, { useContext, useEffect, useRef } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { setOnUpdate } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        item: { ...allProperties, type: 'box', id, isActive, _id },\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setOnUpdate(true);\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY\n                            );\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n\n    return <div ref={ref} style={{ opacity, }}>{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;","import React from 'react';\nimport CardMenu from '.';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport DragWrapper from '../DragWrapper';\nimport {STEPS} from '../../helpers/Tour';\n\n\nconst CustomDragItem = props => {\n    const { allProperties, allProperties: { acceptedBy, id }, setUserRules, userRules, setTourStep, tourStep, isTourOpen } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu onDoubleClick={() => {\n            (isTourOpen &&\n                tourStep === STEPS.addScheduleByDoubleClick &&\n                id === 'TriggerScheduleBlock' &&\n                setTourStep(STEPS.openTagsMenu)\n            );\n            (isTourOpen &&\n                tourStep === STEPS.addActionPrintText &&\n                id === 'ActionPrintText' &&\n                setTourStep(STEPS.showJavascript)\n            );\n\n            let _id = Date.now();\n            let blockValue;\n            switch (acceptedBy) {\n                case 'actions':\n                    blockValue = 'then';\n                    break;\n\n                case 'conditions':\n                    blockValue = userRules[acceptedBy].length - 1;\n                    break;\n\n                default:\n                    break;\n            }\n            let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n            const newItem = { id, _id, acceptedBy };\n\n\n            if (blockValue !== undefined) {\n                newUserRules[acceptedBy][blockValue].push({ ...newItem });\n            } else {\n                newUserRules[acceptedBy].push({ ...newItem });\n            }\n            setUserRules(newUserRules);\n        }} onDoubl {...props} {...allProperties} />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\n\r\nexport default function DialogHelp({onClose}) {\r\n    return <Dialog\r\n        open={true}\r\n        onClose={onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n    >\r\n        <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n                <h3>{I18n.t('On condition change')}</h3>\r\n                <div>{I18n.t('help_on_change')}</div>\r\n                <h3>{I18n.t('Just check')}</h3>\r\n                <div>{I18n.t('help_just_check')}</div>\r\n            </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={onClose} color=\"primary\" autoFocus>\r\n                {I18n.t('OK')}\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>;\r\n}","\nimport React, { Fragment, useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { useDrop } from 'react-dnd';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconHelp from '@material-ui/icons/HelpOutline';\nimport { deepCopy } from '../../helpers/deepCopy';\n\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport DialogHelp from './DialogHelp';\n\nconst AdditionallyContentBlockItems = ({ itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation, setTourStep, tourStep, isTourOpen }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div ref={drop} style={{ backgroundColor }} className={`${cls.contentBlockItem} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}>\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    isTourOpen={isTourOpen}\n                    setTourStep={setTourStep}\n                    tourStep={tourStep}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height').clientHeight } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket, setTourStep, tourStep, isTourOpen }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n    const [showHelp, setShowHelp] = useState(false);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${cls.mainBlockItemRules} ${border ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon iconName={iconName} className={cls.iconThemCard} adapter={adapter} socket={socket}/>{name}\n        </span>\n        {typeBlock === 'conditions' && name === '...and...' ?\n            <div style={{width: '100%'}}>\n                <Select\n                    className={cls.selectOnChange}\n                    value={userRules.justCheck || false}\n                    onChange={e => {\n                        const _userRules = deepCopy('conditions', userRules);\n                        _userRules.justCheck = e.target.value;\n                        setUserRules(_userRules);\n                    }}\n                >\n                    <MenuItem value={false}>{I18n.t('on condition change')}</MenuItem>\n                    <MenuItem value={true}>{I18n.t('just check')}</MenuItem>\n                </Select>\n                <IconButton size=\"small\" title={I18n.t('Explanation')} className={cls.selectOnChangeHelp} onClick={() => setShowHelp(true)}>\n                    <IconHelp className={cls.selectOnChangeHelpIcon}/>\n                </IconButton>\n            </div>\n            : null}\n        <AdditionallyContentBlockItems\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            isTourOpen={isTourOpen}\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}>\n                <div\n                    onClick={() => {\n                        if (typeBlock === 'actions') {\n                            setAdditionallyClickItems(!additionallyClickItems);\n                            return null;\n                        }\n                        let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                        if (userRules['conditions'][index + 1].length) {\n                            newAdditionally[index].open = !newAdditionally[index].open\n                            setAdditionallyClickItems(newAdditionally);\n                            return null;\n                        }\n                        newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                        setAdditionallyClickItems(newAdditionally);\n                        setAnimation(typeBlock === 'actions' ? true : index);\n                        setTimeout(() => {\n                            setAnimation(false);\n                            setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                        }, 250);\n\n                    }}\n                    key={index} className={cls.blockCardAdd}>\n                    {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                        {nameAdditionally}\n                    </div>\n                </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n        {showHelp ? <DialogHelp onClose={() => setShowHelp(false)}/> : null}\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: ''\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;","import React from 'react';\nimport cls from './hamburgerMenu.module.scss';\nimport PropTypes from 'prop-types';\n\nconst HamburgerMenu = ({boolean}) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;","import React, { Fragment, useCallback, useContext, useEffect, useState } from 'react';\nimport cls from './style.module.scss';\nimport CustomInput from './components/CustomInput';\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport CustomDragItem from './components/CardMenu/CustomDragItem';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport HamburgerMenu from './components/HamburgerMenu';\nimport { useStateLocal } from './hooks/useStateLocal';\nimport { AppBar, Tab, Tabs } from '@material-ui/core';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './helpers/Compile';\nimport MaterialDynamicIcon from './helpers/MaterialDynamicIcon';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport './helpers/stylesVariables.scss';\nimport {STEPS} from './helpers/Tour';\n\nconst RulesEditor = ({ code, onChange, themeName, setTourStep, tourStep, isTourOpen }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket, setOnUpdate } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [userRules, setUserRules] = useState(Compile.code2json(code));\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    React.useEffect(() => {\n        const newUserRules = Compile.code2json(code);\n        if (JSON.stringify(newUserRules) !== JSON.stringify(userRules)) {\n            setUserRules(newUserRules);\n            setOnUpdate(true);\n        }\n        // eslint-disable-next-line\n    }, [code]);\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && name.en.toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = themeName || 'blue';\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [themeName]);\n\n    useEffect(() => {\n        setBlocksFunc();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    const handleChange = (event, newValue) => {\n        isTourOpen && (newValue === 0 && tourStep === STEPS.selectTriggers) && setTourStep(STEPS.addScheduleByDoubleClick);\n        isTourOpen && (newValue === 2 && tourStep === STEPS.selectActions) && setTourStep(STEPS.addActionPrintText);\n\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\n    if (!blocks) {\n        return null;\n    }\n\n    return <div className={clsx(cls.wrapperRules)}>\n        <CustomDragLayer allBlocks={allBlocks} socket={socket} />\n        <div className={cls.rootWrapper}>\n            <div className={cls.menuWrapper}>\n                <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n                    onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} />\n                </div>\n                <div className={`${cls.menuRules} ${hamburgerOnOff ? cls.menuOff : null}`}>\n                    <div className={cls.controlPanel}>\n                        <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                            <Tabs\n                                value={filter.index}\n                                onChange={handleChange}\n                            >\n                                <Tab className=\"blocks-triggers\" icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                                    {...a11yProps(0)} />\n                                <Tab className=\"blocks-conditions\" icon={<MaterialDynamicIcon iconName='Help' />}\n                                    {...a11yProps(1)} />\n                                <Tab className=\"blocks-actions\" icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                                    {...a11yProps(2)} />\n                            </Tabs>\n                        </AppBar>\n                    </div>\n                    <div className={cls.switchesRenderWrapper}>\n                        <span>\n                            {allBlocks.map(el => {\n                                const { name, id, icon, adapter } = el.getStaticData();\n                                return <Fragment key={id}>\n                                    <CustomDragItem\n                                        setTourStep={setTourStep}\n                                        tourStep={tourStep}\n                                        isTourOpen={isTourOpen}\n                                        allProperties={el.getStaticData()}\n                                        name={name}\n                                        icon={icon}\n                                        adapter={adapter}\n                                        socket={socket}\n                                        userRules={userRules}\n                                        setUserRules={onChangeBlocks}\n                                        isActive={false}\n                                        id={id}\n                                    />\n                                </Fragment>;\n                            })}\n                            {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                                Nothing found...\n                            <div className={cls.resetSearch} onClick={() => {\n                                    setFilter({\n                                        ...filter,\n                                        text: ''\n                                    });\n                                    setBlocksFunc('');\n                                }}>reset search</div>\n                            </div>}\n                        </span>\n                    </div>\n                    <div className={clsx(cls.menuTitle, cls.marginAuto)} />\n                    <CustomInput\n                        className={cls.inputWidth}\n                        fullWidth\n                        customValue\n                        value={filter.text}\n                        size=\"small\"\n                        autoComplete=\"off\"\n                        label=\"search\"\n                        variant=\"outlined\"\n                        onChange={(value) => {\n                            setFilter({ ...filter, text: value });\n                            setBlocksFunc(value);\n                        }}\n                    />\n                </div>\n            </div>\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                userRules={userRules}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                name=\"when...\"\n                typeBlock=\"triggers\"\n                iconName=\"FlashOn\"\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name=\"...and...\"\n                typeBlock=\"conditions\"\n                iconName=\"Help\"\n                nameAdditionally=\"or\"\n                additionally\n                border\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name=\"...then\"\n                typeBlock=\"actions\"\n                iconName=\"PlayForWork\"\n                nameAdditionally=\"else\"\n                additionally\n            />\n        </div>\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default RulesEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport {MdSave as IconSave} from 'react-icons/md';\nimport {MdCancel as IconCancel} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdRefresh as IconRestart} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {FaClock as IconCron} from 'react-icons/fa';\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\nimport {MdClearAll as IconCloseAll} from 'react-icons/md';\nimport {MdBuild as IconDebugMenu} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\nimport {MdPlaylistAddCheck as IconVerbose} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png';\nimport ImgRules2Js from './assets/rules2js.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogCron from './Dialogs/Cron';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\nimport steps, {STEPS} from './Components/RulesEditor/helpers/Tour';\nimport Tour from 'reactour';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    saveButton: {\n        background: '#ff9900'\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1)\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n            isTourOpen: window.localStorage.getItem('tour') !== 'true',\n            tourStep: STEPS.selectTriggers,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({showSelectId: true});\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({showCron: true});\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({showScript: true});\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({instancesLoaded: true});\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n        if (obj && obj.type === 'instance') {\n            // update instances\n            if (!window.main.instances.includes(id)) {\n                window.main.instances.push(id);\n                window.main.instances.sort();\n            }\n            window.main.objects[id] = obj;\n        }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({toast: I18n.t('Script %s was modified on disk.', id.split('.').pop())});\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.isTourOpen && this.state.tourStep === STEPS.saveTheScript) {\n            this.setState({isTourOpen: false});\n            window.localStorage.setItem('tour', 'true');\n        }\n\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({changed}, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({changed}, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({changed, blockly: false, selected: ''}, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({selected: nowSelected}), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({changed}, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = {editing};\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () =>  {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({confirm: question});\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({cmdToBlockly: cmd}, () =>\n            setTimeout(() =>\n                this.setState({cmdToBlockly: ''}), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                    component={'div'}\n                    key=\"tabs1\"\n                    value={this.state.selected}\n                    onChange={(event, value) => this.onTabChange(event, value)}\n                    indicatorColor=\"primary\"\n                    style={{position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block'}}\n                    textColor=\"primary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {this.state.editing.map(id => {\n                        if (!this.props.objects[id]) {\n                            const label = [\n                                <div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{id.split('.').pop()}</div>,\n                                <span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>];\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                value={id}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        } else {\n                            let text = this.props.objects[id].common.name;\n                            let title = '';\n                            if (text.length > 18) {\n                                title = text;\n                                text = text.substring(0, 15) + '...';\n                            }\n                            const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                            const label = [\n                                <img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>,\n                                <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                                changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span> : null,\n                                <span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>\n                                ];\n\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                className={this.props.classes.tabButton}\n                                value={id}\n                                title={title}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        }\n                    })}\n                </Tabs>,\n                this.state.editing.length > 1 ? <IconButton\n                    key=\"menuButton\"\n                    href=\"#\"\n                    aria-label=\"Close all but current\"\n                    className={this.props.classes.tabMenuButton}\n                    title={I18n.t('Close all but current')}\n                    aria-haspopup=\"false\"\n                    onClick={_event => {\n                        const editing = [this.state.selected];\n                        // Do not close not saved tabs\n                        Object.keys(this.scripts).forEach(id =>\n                            id !== this.state.selected &&\n                            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                            editing.push(id)\n                        );\n\n                        window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                        this.setState({menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing});\n                    }}\n                >\n                    <IconCloseAll />\n                </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon}/>\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) return null;\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({showDebugMenu: false, menuDebugAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                      title={I18n.t('debug_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled}, () => this.onChange({debug: this.state.debugEnabled}));\n                      }}>\n                <Checkbox checked={this.state.debugEnabled}/>\n                <IconDebug className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                      title={I18n.t('verbose_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled}, () => this.onChange({verbose: this.state.verboseEnabled}));\n                      }}>\n                <Checkbox checked={this.state.verboseEnabled}/>\n                <IconVerbose className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled  && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n        ]\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {this.state.menuOpened && this.props.onLocate && <IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>}\n                    {!changed && isInstanceRunning && <IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>}\n                    {!changed && !isScriptRunning && <span className={ this.props.classes.notRunning }>{I18n.t('Script is not running')}</span>}\n                    {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                    {changed && <Button key=\"save\" variant=\"contained\" className={clsx(this.props.classes.textButton, this.props.classes.saveButton, 'button-save')} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={ this.props.classes.textIcon }/></Button>}\n                    {(changedAll > 1 || (changedAll === 1 && !changed)) && <Button key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={ this.props.classes.textIcon }/></Button>}\n                    {changed && <Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={ this.props.classes.textIcon }/></Button>}\n                    <div style={{flex: 2}}/>\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                                     title={I18n.t('Export blocks')}\n                             className={this.props.classes.toolbarButtons}\n                             onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                                     title={I18n.t('Import blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('import')}>\n                            <IconImport /></IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"check\" aria-label=\"Check code\"\n                                     title={I18n.t('Check blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('check')}>\n                            <IconCheck /></IconButton>}\n\n                    {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                                                                                        title={I18n.t('Create or edit CRON or time wizard')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>}\n\n                    {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-id\" aria-label=\"select ID\"\n                                                                                        title={I18n.t('Insert object ID')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>}\n\n                    {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                                                                                  title={I18n.t('Convert blockly to javascript for ever.')}\n                                                                                  onClick={() => this.onConvertBlockly2JS()}\n                    >Blockly=>JS</Button>}\n\n                    {(this.state.blockly || this.state.rules) && <Button\n                        key=\"blockly-code\"\n                        aria-label=\"blockly\"\n                        title={I18n.t('Show javascript code')}\n                        className={clsx(this.props.classes.toolbarButtons, 'button-js-code')}\n                        color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                        style={{padding: '0 5px'}}\n                        onClick={() => {\n                            this.setState({showCompiledCode: !this.state.showCompiledCode});\n                            this.state.isTourOpen && this.state.tourStep === STEPS.showJavascript && this.setState({tourStep: STEPS.switchBackToRules});\n                            this.state.isTourOpen && this.state.tourStep === STEPS.switchBackToRules && this.setState({tourStep: STEPS.saveTheScript});\n                        }}>\n                        <img alt={this.state.blockly?\"blockly2js\":\"rules2js\"} src={this.state.blockly?ImgBlockly2Js:ImgRules2Js} /></Button>}\n                    <IconButton\n                        key=\"debug\"\n                        aria-label=\"Debug menu\"\n                        title={I18n.t('Debug options')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={e => this.setState({showDebugMenu: true, menuDebugAnchorEl: e.currentTarget})}\n                    >\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>\n                </Toolbar>;\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules   || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({insert: ''})}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({script: newValue})}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({script: newValue})}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={clsx(this.props.classes.editorDiv)} key=\"flowEditorDiv\">\n                <RulesEditor\n                    setTourStep={this.setTourStep}\n                    tourStep={this.state.tourStep}\n                    isTourOpen={this.state.isTourOpen}\n\n                    command={this.state.cmdToBlockly}\n                    key=\"flowEditorDiv\"\n                    themeType={this.state.themeType}\n                    themeName={this.props.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return (<DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({confirm: ''});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                statesOnly={true}\n                onClose={() => {\n                    this.setState({showSelectId: false});\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({insert: `'${selected}'/*${name}*/`})\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return (<DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({showCron: false})}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({insert: `'${cron}'`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({showScript: false});\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({toast: ''})}\n            ContentProps={{'aria-describedby': 'message-id',}}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({toast: ''})}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    setTourStep = tourStep => this.setState({tourStep});\n\n    getTour() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.isAnyRulesExists === 1 &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            this.state.visible) {\n            return <Tour\n                steps={steps}\n                isOpen={this.state.isTourOpen}\n                onRequestClose={() => {\n                    this.setState({isTourOpen: false});\n                    window.localStorage.setItem('tour', 'true');\n                    this.props.socket.setState('javascript.0.variables.rulesTour', true, true);\n                }}\n                //getCurrentStep={tourStep => this.setTourStep(tourStep)}\n                goToStep={this.state.tourStep}\n            />;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n            this.getTour(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(Editor);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAYAAADXRcu0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAABxRJREFUaEPdmotTE0ccx/Pn9OG003baaeuoqGh1pPUtIogvFIWqoKLUIiY8whunqKjBKloVsMZQEV8FFBWtgkKtGFoRUWx9gsgzCcl9u3u5JLvJFuk01ITfzGeS++4vd7e/b2739hIVgBFPQEBAAQGEfsJ+gjDvTSIURxK06IoB1AgHwtw3iVAcSdCiu5lwV5T3phGKIwlSeKObEcK8N41QpKiTUlTpOj38mfXqXNYATAoch87zbwPX3/I5hCZQ1Mmpquwj1di4sxzr88r8khmhyzkj0tZ/IiyCLyA0geIwYklqCRaoj/gdwfE6BIwfzxnRpB8lLIIvIDSB4u9GBC2K5UxYETZaWABfQS76Vk2SaqtaPWKMCEk8hAmTp3JGnNz+gbAAXsHW78K97fY8SLZ+idTUHqIcgkpDCp51qBLRyTpsVqc6jdCkZrzWiLg9Z7A255hnm6YIWwpOIyLJTR8iWwrOINxDL8a3RF+ocdc9mRmVwpkwbcpYmGs8O+812GB0qa/FpKie0ZLI5ao02qyjtOBhpHi0E6vV26/Eq7WqdZkHkXn4AsKTiz06aqcYDy1ARUWNR9uSjOPkSDZsy+L1oUK+Qtjgrmech5XsNSrj9Vfo5BkhnBH5iR9znfY6bDi0pghFGCSYfajSdh1pSz1QKezQwiS7OWKK0WoGzlVcxgKSF6F1GeYwIocxIkL7I1alHXVus6zMOEaO5dqmRsQw7TJpVRgge32dEXM37OBMoDw4+S7Xaa/DhkOz9ikC6U7vH71OnfRN6rltcm4ryGuFBN0ZYacGx25Ex8suDNjsQ2BnRzuWkjbOiBQDGv/qgmOQ7H75EonJ9n3EH6pFl5l+z+n5WVF/7bqsO4wI0xrQ/KIX5p4OrMlWjMgph8lkQXXpCed5NHea0HLzhrw9LTSaMyFuxWdch4cFNhwaa0T7WRuXL0A2YtOuU0qn/g12I+jko803IDq3HP1WCZbO+5wRhtvt5L0JSXl6RGYZ0Ge1wdLXg0UZpRgg7rQam7AqU4/CXx7Sc5avLGrEutRjeNxrgc3Uhdg0chUwV0QXee3ueCqfR7TugmzynsPlmJ9wAOMDJ3NGXNj7vrDjXoUNh/YgUxHsIZmfDGqGbET8fzCiig5NinbE2EEOaWOMKMEjMo/UnHblLNtvhGQdQEz+BZJjhVbr2l/u4SpEkmHOFRasUT7HGhFX1kY+asFKou+ofETedyGSvJ++PIEzYc70MbBeFXfcq7DxTzobv07l8wiyEVt0Z52FGjrMHKFoe+qfkaNIjBHH8NQsQf9TlTMnbNs1eRhK3HWFFLAXUYpOWZxSjFDySsPc3y9Pzo03b9nb3eYIGtWnz6KNGH2n9qasBQbN5ow4qP3Io8PDAhuDtTEhvbrWx+ap0neXtGkPugo1dOxGtN2549SMHeQe2fKSuyLaTBLu3Whw5pxo6YFtwIK1Oyvp6aDge72sr9xbKw8x68gw5Jgj9lyiw5WE3XsNHkY0dFrR298r5+4q0GNO7DbOhAkTxqG98h2+KMMFG6L2hkBIkjKRMiE9+UFy5LhuX5U7pNmbdAhcuhXztxx0Fk9MMR4od8lNxmZc/v25/P7APr3TCHr7uqOiWdavX29Eac09ckJkjVNzCSFJP6Kl0wIrKaah6hZemawwv3qKcLJOoMVdT44RkqJHW/cAzJ3PsTKHNyJ6X528335lrpgybxlnROLqT/liDCdsiNod1H2oJDGhtMmLt/QCwxW6Xpi0TI3RM1cgJm6zKiElO3dT/mBzRxHyyurwXclFVDXcx293H0JXZL/7CksuQeGpWqxR7o6yj9fCeK8Nd+8/RmHpRec+Fqfrob/UhPqmVpRX3UBEqv0WmH52mZITs+Nnsl2H2Lxy7COvS1LsX5hFGQa5H5eraxC8eR8CJkzkjKgveo8vgjdpXtfNbbPB6NIzg4Q6wRqGDUWTjUhUa1RfLYpBZMzmXLVGwz3iWOyDjzjUhyqhq26FZOlDFDH7yyUbORMWzh3Dd9xLSI3BruGlYZI8rEhNkfyQQ7WGQE6TbgU5hyC0n/PIpzgfabjjy8+ajPalB65WX5SfK02cEsQZcXwbGQIcHfcionGeDclmcRV8CCG9OOWaI8i2EH956Dfr6zTOhCmTx6K7erh+/CEr9MGCza0dpYjikKzdLtMIQhMo/mLEF7PDOSNy4of/xx/pvtpMrg4bqZMc0qP8AVEeRTKG2yTTn+R20h5S52UbGiZ65AlNoDiMCE86jOCEQp9kzobtnAmUu6W+++PPYAhNcJCUmXc0NOobhERu9EmmzeKfsq4K/1zulPnK/7R+8CJCA/wBUnjKc9YIqoly/QGh6A/QoruZQE0R5voDQtEfIEW/yphASRPl+QtC0dchRXe/GgaoJsr1F4Sir0OLTigiOP7TWibK8x+g+hsk/tajNC8OFQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAYAAADXRcu0AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0zMFQwOTo0Njo0MCswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTUwYTA2OS0wNjQ3LTQxM2ItOWI5MC02MjYxMjBjNDg1MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYTliOGE0YS01MzMzLTc1NDgtYjUxZi01YTI2NWU4NDU3ZjUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQxMjExMGQ0YzAiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMjg5NDQwYi1hMjJlLWMxNGEtOGRhMy1jMmI4NTA1YjJhMjA8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQx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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/zip,application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport { MdMenu as IconMenuClosed } from 'react-icons/md';\nimport { MdArrowBack as IconMenuOpened } from 'react-icons/md';\nimport { MdVisibility as IconShowLog } from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    },\n    showLogButton: {\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        paddingTop: 3,\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 8,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            translations: {\n                'en': require('./i18n/en'),\n                'de': require('./i18n/de'),\n                'es': require('./i18n/es'),\n                'fr': require('./i18n/fr'),\n                'it': require('./i18n/it'),\n                'nl': require('./i18n/nl'),\n                'pl': require('./i18n/pl'),\n                'pt': require('./i18n/pt'),\n                'ru': require('./i18n/ru'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n        });\n\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith('system.adapter.' + this.adapterName + '.')) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(obj._id + '.alive', this.onInstanceAliveChange());\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(id + '.alive', this.onInstanceAliveChange());\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n\n\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances['system.adapter.' + this.adapterName + '.' + id] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(id + '.'));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => {\n                            console.log(e);\n                        });\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop()\n                        },\n                        native: {}\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    } else {\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    }\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive')\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        const isAnyRulesExists = Object.keys(this.scripts).reduce((sum, id) =>\n            sum + (this.scripts[id].common.engineType === 'Rules' ? 1 : 0), 0);\n\n        return <Editor\n            key=\"editor\"\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            isAnyRulesExists={isAnyRulesExists}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <div\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            className={this.props.classes.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </div>;\n    }\n\n    renderMain() {\n        const { classes } = this.props;\n        const errorDialog = this.state.errorText ? <DialogError key=\"dialogError\" onClose={() => this.setState({ errorText: '' })} text={this.state.errorText} /> : null;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            errorDialog,\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                    setTimeout(() => this.setState({ resizing: false }), 300);\n                }}>\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </div>\n                {this.state.hideLog ?\n                    <>\n                        {this.renderEditor()}\n                        {this.showLogButton()}\n                    </>\n                    :\n                    <SplitterLayout\n                        key=\"splitterLayout\"\n                        vertical={!this.state.logHorzLayout}\n                        primaryMinSize={100}\n                        secondaryInitialSize={this.logSize}\n                        //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                        onDragStart={() => this.setState({ resizing: true })}\n                        onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                        onDragEnd={() => {\n                            this.setState({ resizing: false });\n                            window.localStorage.setItem('App.logSize', this.logSize.toString());\n                        }}\n                    >\n                        {this.renderEditor()}\n                        <Log\n                            key=\"log\"\n                            verticalLayout={!this.state.logHorzLayout}\n                            onLayoutChange={() => this.toggleLogLayout()}\n                            editing={this.state.editing}\n                            socket={this.socket}\n                            selected={this.state.selected}\n                            onHideLog={() => {\n                                window.localStorage.setItem('App.hideLog', 'true');\n                                this.setState({ hideLog: true, resizing: true });\n                                setTimeout(() => this.setState({ resizing: false }), 300);\n                            }}\n                        />\n                    </SplitterLayout>\n                }\n            </div>,\n        ];\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType} />;\n        }\n\n        return <div className={classes.root}>\n            <ContextWrapper socket={this.socket}>\n                <SplitterLayout\n                    key=\"menuSplitter\"\n                    vertical={false}\n                    primaryMinSize={300}\n                    primaryIndex={1}\n                    secondaryMinSize={300}\n                    secondaryInitialSize={this.menuSize}\n                    customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                    }}\n                >\n                    <div className={classes.mainDiv} key=\"menu\">\n                        <SideMenu\n                            key=\"sidemenu\"\n                            scripts={this.scripts}\n                            scriptsHash={this.state.scriptsHash}\n                            instances={this.state.instances}\n                            update={this.state.updateScripts}\n                            onRename={this.onRename.bind(this)}\n                            onSelect={this.onSelect.bind(this)}\n                            socket={this.socket}\n                            selectId={this.state.menuSelectId}\n                            onEdit={this.onEdit.bind(this)}\n                            expertMode={this.state.expertMode}\n                            themeType={this.state.themeType}\n                            themeName={this.state.themeName}\n                            onThemeChange={themeName => {\n                                Utils.setThemeName(themeName);\n                                const themeType = Utils.getThemeType(themeName);\n                                this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName))\n                            }}\n                            runningInstances={this.state.runningInstances}\n                            onExpertModeChange={this.onExpertModeChange.bind(this)}\n                            onDelete={this.onDelete.bind(this)}\n                            onAddNew={this.onAddNew.bind(this)}\n                            onEnableDisable={this.onEnableDisable.bind(this)}\n                            onExport={this.onExport.bind(this)}\n                            width={this.menuSize}\n                            onImport={() => this.setState({ importFile: true })}\n                            onSearch={searchText => this.setState({ searchText })}\n                        />\n                    </div>\n                    {this.renderMain()}\n                </SplitterLayout>\n            </ContextWrapper>\n        </div>;\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { version } from '../package.json';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nwindow.adapterName = 'javascript';\nlet themeName = Utils.getThemeName();\n\nconsole.log('iobroker.' + window.adapterName + '@' + version + ' using theme \"' + themeName + '\"');\n\nfunction build() {\n    const isMobile = window.innerWidth < 600;\n    return ReactDOM.render(<MuiThemeProvider theme={theme(themeName)}>\n        <DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n            <App onThemeChange={_theme => {\n                themeName = _theme;\n                build();\n            }} />\n        </DndProvider>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\n// if not local development\nif (window.location.host !== 'localhost:3000') {\n    Sentry.init({\n        dsn: 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56',\n        release: 'iobroker.' + window.adapterName + '@' + version,\n        integrations: [\n            new SentryIntegrations.Dedupe()\n        ]\n    });\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperRules\":\"style_wrapperRules__3qQa2\",\"menuRules\":\"style_menuRules__3fiP_\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__1GT_a\",\"menuOff\":\"style_menuOff__DgpqH\",\"menuTitle\":\"style_menuTitle__cfhJ4\",\"marginAuto\":\"style_marginAuto__3helm\",\"iconThem\":\"style_iconThem__1D-fC\",\"inputWidth\":\"style_inputWidth__2vyAH\",\"rootWrapper\":\"style_rootWrapper__3ABmF\",\"menuWrapper\":\"style_menuWrapper__12_5s\",\"hamburgerWrapper\":\"style_hamburgerWrapper__2KAxG\",\"hamburgerOff\":\"style_hamburgerOff__3J3tW\",\"nothingFound\":\"style_nothingFound__1fKq1\",\"resetSearch\":\"style_resetSearch__2b0Wt\",\"controlPanel\":\"style_controlPanel__3eVg8\",\"controlPanelAppBar\":\"style_controlPanelAppBar__2uF9J\",\"hintContent\":\"style_hintContent__AMA0I\",\"hintSquare\":\"style_hintSquare__2RO3y\",\"editorDivRules\":\"style_editorDivRules__3vTmC\"};"],"sourceRoot":""}