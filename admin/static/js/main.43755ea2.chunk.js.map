{"version":3,"sources":["Components/RulesEditor/components/CurrentItem/style.module.scss","Components/RulesEditor/components/CustomModal/style.module.scss","Components/RulesEditor/components/GenericBlock/style.module.scss","Components/RulesEditor/components/CardMenu/style.module.scss","Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss","Components/RulesEditor/components/CustomInput/style.module.scss","Components/RulesEditor/components/CustomButton/style.module.scss","Components/RulesEditor/components/CustomCheckbox/style.module.scss","Components/RulesEditor/components/CustomSelect/style.module.scss","Components/RulesEditor/components/CustomSlider/style.module.scss","Components/RulesEditor/components/CustomSwitch/style.module.scss","Components/RulesEditor/components/CustomTime/style.module.scss","assets/js.png","assets/blockly.png","assets/typescript.png","assets/rules.png","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/tileRules.png","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Dialogs/Export.js","Dialogs/Import.js","Components/BlocklyEditor.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Dialogs/ScriptEditor.js","Components/RulesEditor/components/CustomInput/index.js","Components/RulesEditor/helpers/MaterialDynamicIcon.js","Components/RulesEditor/helpers/utils.js","Components/RulesEditor/components/CardMenu/index.js","Components/RulesEditor/helpers/deepCopy.js","Components/RulesEditor/helpers/filterElement.js","Components/RulesEditor/components/CustomButton/index.js","Components/RulesEditor/components/CustomCheckbox/index.js","Components/RulesEditor/components/CustomInstance/index.js","Components/RulesEditor/components/CustomModal/index.js","Components/RulesEditor/components/CustomSelect/index.js","Components/RulesEditor/components/CustomSlider/index.js","Components/RulesEditor/components/CustomSwitch/index.js","Components/RulesEditor/components/CustomTime/index.js","Components/RulesEditor/components/GenericBlock/index.js","Components/RulesEditor/components/Blocks/ActionSayText.js","Components/RulesEditor/Compile.js","Components/RulesEditor/components/Blocks/ActionSendEmail.js","Components/RulesEditor/components/Blocks/ActionTelegram.js","Components/RulesEditor/components/Blocks/TriggerScriptSave.js","Components/RulesEditor/components/Blocks/TriggerSchedule.js","Components/RulesEditor/components/Blocks/TriggerState.js","Components/RulesEditor/components/Blocks/ConditionState.js","Components/RulesEditor/components/Blocks/ConditionTime.js","Components/RulesEditor/components/Blocks/ConditionAstrological.js","Components/RulesEditor/components/Blocks/ActionSetState.js","Components/RulesEditor/components/Blocks/ActionExec.js","Components/RulesEditor/components/Blocks/ActionHTTPCall.js","Components/RulesEditor/components/Blocks/ActionPrintText.js","Components/RulesEditor/components/Blocks/ActionPause.js","Components/RulesEditor/components/StandardBlocks/index.js","Components/RulesEditor/components/ContextWrapper/index.js","Components/RulesEditor/components/CurrentItem/index.js","Components/RulesEditor/helpers/findElement.js","Components/RulesEditor/components/CustomDragLayer/index.js","Components/RulesEditor/helpers/cardSort.js","Components/RulesEditor/components/DragWrapper/index.js","Components/RulesEditor/components/CardMenu/CustomDragItem.js","Components/RulesEditor/hooks/useStateLocal.js","Components/RulesEditor/components/ContentBlockItems/index.js","Components/RulesEditor/components/HamburgerMenu/index.js","Components/RulesEditor/index.js","Editor.js","assets/blockly2js.png","assets/rules2js.png","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","Components/RulesEditor/style.module.scss","Components/RulesEditor/components/ContentBlockItems/style.module.scss"],"names":["module","exports","DialogRename","React","Component","constructor","props","super","handleCancel","this","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","replace","componentWillReceiveProps","nextProps","render","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","I18n","t","DialogContent","noValidate","autoComplete","TextField","style","width","autoFocus","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","className","classes","buttonIcon","withStyles","theme","marginRight","spacing","DialogDelete","onDelete","fontSize","fontWeight","DialogAddNew","type","openHtml","html","lang","getLanguage","window","focus","getJSCard","Card","card","CardActionArea","CardMedia","media","image","title","CardContent","text","CardActions","size","getTSCard","getBlocklyCard","getRulesCard","textAlign","display","height","DialogNew","onAdd","existingItems","indexOf","error","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","aria-describedby","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","images","ImgBlockly","ImgJS","def","ImgRules","ImgTypeScript","getObjectName","obj","common","en","toString","prepareList","data","result","depth","index","ids","Object","keys","enabled","engineType","engine","modified","it","sort","a","b","idA","toLowerCase","idB","parentIndex","Droppable","onDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","ref","clsx","children","Draggable","useDrag","opacity","isDragging","drag","transform","SideDrawer","expanded","localStorage","getItem","JSON","parse","inputRef","createRef","listItems","scripts","problems","reorder","themeName","selected","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","readProblems","cb","tasks","shift","match","that","_id","substring","socket","getState","err","componentDidMount","subscribeState","componentWillUnmount","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","objects","newState","filteredPartly","found","source","lastIndexOf","filtered","filterList","filterListStatic","ensureSelectedIsVisibleStatic","nState","assign","getIsAllZeroInstancesStatic","selectId","setItem","saveExpanded","showError","onToggle","stopPropagation","startsWith","renderItemButtonsOnEnd","IconButton","iconButtons","onEnableDisable","onEdit","Promise","resolve","getTextStyle","whiteSpace","padding","overflow","flex","onDblClick","isFilteredOut","renderListItem","childrenFiltered","depthPx","marginLeft","cursor","isExpanded","includes","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","ListItem","script","scriptReorder","folderReorder","onDoubleClick","ListItemIcon","listItemIcon","alt","src","ListItemText","primary","ListItemSecondaryAction","onDragFinish","newId","renderOneItem","items","dragging","filter","element","reactChildren","renderAllItems","List","dense","disablePadding","mainList","onAddNew","onCopy","onAddNewFolder","getUniqueName","copyId","word","m","getUniqueFolderName","onCloseMenu","menuAnchorFilterEl","getFilterBadge","filterIcon","getMainMenu","selectedItem","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","event","then","iconDropdownMenu","onExpertModeChange","onExport","onImport","onThemeChange","newThemeName","getToolbarButtons","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getFolders","folders","onCollapseAll","onExpandAll","getBottomButtons","footerButtons","Blockly","footerButtonsRight","renamingItem","copingItem","Drawer","variant","menu","paper","drawerPaper","anchor","toolbar","Divider","backend","HTML5Backend","innerMenu","footer","newName","newInstance","position","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","marginBottom","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","gText","Log","lines","goBottom","editing","lastIndex","messagesEnd","logHandlerBound","logHandler","generateLine","message","severity","trTime","Date","ts","trSeverity","substr","scrollToBottom","current","scrollIntoView","behavior","allLines","date","ms","toLocaleString","registerLogHandler","unregisterLogHandler","componentDidUpdate","hasOwnProperty","str","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","clearLog","logBox","toolbox","onLayoutChange","layoutIcon","verticalLayout","onHideLog","logBoxInner","table","clear","info","warn","debug","silly","fontFamily","left","boxShadow","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","waitForMonaco","monacoCounter","loadTypings","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","currentScriptName","isGlobalScript","test","partialDeclarationsPath","wantedTypings","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","insertTextIntoEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","lineNumber","col","column","initNewScript","UNSAFE_componentWillReceiveProps","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogExport","popper","getElementById","dialog","textArea","themeType","textAreaLight","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","typography","tabIndex","aria-hidden","DialogImport","fullHeight","resize","toolboxXml","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","url","callback","location","scriptTag","onload","onreadystatechange","onerror","adapter","loadJS","loadScripts","adapters","toLoad","parseXml","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","searchBlocks","Xml","workspaceToDom","allBlocks","getAllBlocks","searchId","blocks","addSelect","someSelectedTime","now","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","updateBackground","loadCode","fileLang","setAttribute","readyState","getElementsByTagName","fileCustom","svgResize","jsCode2Blockly","xml","l","decodeURIComponent","atob","block","unselect","blocklyRemoveOrphanedShadows","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","blocklyCode2JSCode","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","onImportBlocks","trim","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","domToWorkspace","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","_originalStyle","stroke","fill","removeEventListener","outerHTML","p1","MSG","CustomBlocks","Words","HUE","_b","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","FIELDS","s","h","D","M","Y","offset","arguments","max","isNaN","Math","min","add","sched","inc","addHash","schedules","curSched","hash","dc","clone","field","slice","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","addRange","isHash","itemSorter","toInt","argumentForCoercion","coercedNumber","number","isFinite","ceil","floor","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","k","and","scheduleToSentence","expr","hasSeconds","prepared","toUpperCase","prepareExpr","components","f","component","parseExpr","parseCron","JQUERY_CRON_LOCALE","convertCronToText","cron","seconds","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","p","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","minutes","hours","dates","months","dows","cronParts","recalcCron","nums","getDigitsSelector","values","numberButton","getPeriodsTab","every","everyN","periodSelect","verticalAlign","num","InputLabelProps","shrink","mainDiv","FormControlLabel","control","Checkbox","checked","AppBar","appBar","Tabs","active","Tab","tabContent","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","unit","SimpleCron","time","timeFrom","timeTo","weekdays","list","part","_parts","day","dow","text2weekdays","settings","periodArray2text","getDate","getMonth","partsDate","month","getControlsWeekdaysElements","getControlsPeriodElements","getControlsTime","formControl","formControlMarginRight","getControlsDate","formControlPaddingTop","getOnceElements","getIntervalElements","getIntervalBetweenElements","hour","getSpecificTimeElements","onModeChange","PERIODS","ASTRO","DEFAULT","exactTime","days","weeks","years","yearMonth","yearDate","valid","to","string2USdate","Schedule","now2string","refFrom","refTo","refOnce","desc","state2text","force","isDiff","copy","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","getTime","getTimePeriodElements","wholeDay","night","fromTo","rowDiv","modeDiv","Radio","inputRadio","_schedule","settingsDiv","inputTime","getPeriodSettingsMinutes","getTimeExactElements","isAstro","getDivider","hr","getPeriodModes","isOnce","rowOnce","inputDate","defaultValue","timerOnce","getFullYear","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","getValidSettings","timerFrom","timerTo","scrollWindow","border","borderTop","rowDates","rowWeeks","rowDaysDows","DialogCron","simple","onOk","setMode","dialogPaper","ok","cancel","headerID","fontStyle","radio","DialogScriptEditor","isReturn","args","argsTitle","adapterName","CustomInput","multiline","rows","customValue","useState","inputText","setInputText","cls","defaultProps","native","styleComponentBlock","ICON_CACHE","MaterialDynamicIcon","iconName","setUrl","useEffect","getObject","icon","Icons","getName","CardMenu","switchesItem","switchesItemActive","iconThem","deepCopy","userRules","additionalParameter","newItemsSwitches","filterElement","CustomButton","CustomCheckbox","switchChecked","setSwitchChecked","Boolean","memo","SelectMod","borderBottomColor","CustomInstance","multiple","attr","onInstanceHide","setOptions","getAdapterInstances","_options","renderValue","input","placeContent","title2","FormHelperText","useStyles","makeStyles","CustomModal","close","titleButton","titleButton2","buttonClick","modalWrapper","modalContentWrapper","modalButtonBlock","modalButtonBlockTwo","CustomSelect","onlyItem","only","titleShort","sel","valueOnly","CustomSlider","Slider","valueLabelDisplay","CustomSwitch","Switch","CustomTime","step","GenericBlock","PureComponent","renderText","frontText","backText","nameBlock","displayFlex","blockMarginTop","renderSwitch","renderNameText","signature","displayItalic","renderNumber","visibility","openCheckbox","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","renderObjectID","showSelectId","onTagChange","Utils","getObjectNameFromObj","dialogName","getThemeName","statesOnly","renderIconTag","iconTag","tagCard","renderTime","renderSelect","renderInstance","hideAttributes","renderModalInput","openModal","tagGenerate","tagCardArray","openTagMenu","aria-controls","keepMounted","tag","tagGenerateNew","newTagCardArray","newSettings","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","getData","onValueChanged","inputs","iconThemCard","blockName","nameCard","nameRender","controlMenuTop","oid","instanceSelectionOptions","instanceSelectionDef","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","getStaticData","config","context","trigger","oidType","volume","i18n","unshift","ru","DEFAULT_RULE","triggers","conditions","actions","compileTriggers","json","jsonTriggers","findBlock","_context","compile","ors","_ors","compileConditions","compileActions","_else","else","action","Compile","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_STATE","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","user","_setUsers","users","userName","firstName","TriggerScriptSave","TriggerScheduleBlock","at","_dow","intervals","astro","offsetValue","padStart","_setAstro","sunValue","SunCalc","getTimes","_time2String","order","astroTime","default","renderCron","textCron","alignItems","openDialog","renderWizard","textWizard","_","TriggerState","ConditionState","isAllTriggersOnState","useTrigger","_setInputs","ConditionTime","compare","ConditionAstrological","ActionSetState","parseFloat","obg","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","pause","_getOptions","StandardBlocks","TriggerSchedule","ADAPTERS","telegram","email","sayit","ContextWrapperCreate","createContext","ContextWrapper","adapterBlocksArray","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","notFound","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","clientWidth","cardStyle","cardStyleActive","controlMenu","closeBtn","layerStyles","getItemStyles","initialOffset","currentOffset","isSnapToGrid","round","snapToGrid","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","renderItem","funcSet","throttle","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","findCard","copyCard","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","dropResult","getDropResult","idNumber","newItem","preview","useRef","canDrop","hover","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","CustomDragItem","useStateLocal","events","nameEvents","newHeadCells","AdditionallyContentBlockItems","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","targetId","contentBlockItem","contentHeightOn","contentHeightOff","wrapperMargin","clientHeight","emptyBlockStyle","emptyBlock","emptyBlockNone","ContentBlockItems","nameAdditionally","additionallyClickItems","setAdditionallyClickItems","checkLocal","newArray","idx","setAnimation","mainBlockItemRules","nameBlockItems","Array","booleanAdditionally","newAdditionally","blockCardAdd","cardAdd","HamburgerMenu","hamburgerMenu","animate","RulesEditor","setAllBlocks","hamburgerOnOff","setHamburgerOnOff","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","onChangeBlocks","wrapperRules","hamburgerWrapper","hamburgerOff","menuRules","menuOff","controlPanel","controlPanelAppBar","switchesRenderWrapper","nothingFound","resetSearch","menuTitle","marginAuto","blockTheme","borderColor","currentBlockTheme","inputWidth","COLOR_DEBUG","COLOR_VERBOSE","Editor","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","visible","cmdToBlockly","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","catch","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","subscribeObject","unsubscribeObject","removeNonExistingScripts","_changed","verbose","oldSource","commonLocal","nextCommon","onRestart","onSave","onSaveAll","onCancel","func","getSelect","onConvertBlockly2JS","showConfirmDialog","nowSelected","onTabChange","isScriptChanged","onTabClose","question","confirmCallback","confirm","sendCommandToBlockly","cmd","getTabs","indicatorColor","textColor","scrollButtons","tabIcon","tabText","tabChanged","tabChangedIcon","closeButton","wrapped","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","getDebugMenu","menuDebugAnchorEl","menuIcon","getDebugBadge","getToolbar","isInstanceRunning","isScriptRunning","changedAll","Toolbar","onLocate","notRunning","textButton","saveButton","textIcon","Badge","badgeMargin","badgeContent","getScriptEditor","editorDiv","getBlocklyEditor","resizing","getRulesEditor","getConfirmDialog","getSelectIdDialog","selectedId","imagePrefix","getCronDialog","getEditorDialog","getToast","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","closeToast","minHeight","hintText","secondary","textOverflow","DialogImportFile","imageStatus","file","reader","FileReader","onabort","readAsDataURL","handleDropFile","files","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","maxSize","acceptClassName","rejectClassName","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","iconError","iconOk","borderWidth","borderStyle","boxSizing","App","GenericApp","translations","require","bottomButtons","autoSubscribeLog","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","menuSize","importFile","alert","onConnectionReady","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","getObjectView","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","setObject","onUpdateScript","onSelect","showMessage","isFolder","reg","RegExp","expert","newCommon","_obj","reject","getRawSocket","emit","_rev","getLiveHost","host","link","click","remove","download","onImportConfirmed","toggleLogLayout","renderEditor","extendObject","showLogButton","renderMain","errorDialog","menuOpenCloseButton","primaryMinSize","secondaryInitialSize","onDragStart","onSecondaryPaneSizeChange","onDragEnd","primaryIndex","secondaryMinSize","customClassName","splitterDivs","menuDivWithoutMenu","SideMenu","update","setThemeName","getThemeType","flexGrow","menuDiv","splitterDivWithMenu","progress","hostname","version","Sentry","dsn","release","integrations","SentryIntegrations","build","isMobile","innerWidth","ReactDOM","DndProvider","TouchBackend","_theme","navigator","serviceWorker","registration","unregister"],"mappings":"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UACA,SACA,WACA,WACA,aACA,UACA,WAEJ,MAAoB,UACpB,IAAoB,MACpB,YAAoB,YACpB,kBAAoB,eACpB,KAAoB,SACpB,OAAoB,SACpB,YAAoB,cACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,aACpB,oBAAqB,qBACrB,SAAoB,KACpB,iBAAoB,iBACpB,YAAoB,eACpB,GAAoB,KACpB,GAAoB,KACpB,GAAoB,MAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJ,MAAoB,qDACpB,IAAoB,SACpB,YAAoB,gEACpB,kBAAoB,8CACpB,KAAoB,yCACpB,OAAoB,uCACpB,YAAoB,gDACpB,OAAoB,6CACpB,mBAAoB,yFACpB,kBAAoB,gGACpB,oBAAqB,+FACrB,SAAoB,GACpB,iBAAoB,iHACpB,YAAoB,8CACpB,GAAoB,SACpB,GAAoB,SACpB,GAAoB,UAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJ,MAAoB,SACpB,IAAoB,KACpB,YAAoB,iBACpB,kBAAoB,qBACpB,KAAoB,QACpB,OAAoB,SACpB,YAAoB,YACpB,OAAoB,UACpB,mBAAoB,oBACpB,kBAAoB,sBACpB,oBAAoB,2BACpB,SAAoB,SACpB,iBAAoB,iBACpB,YAAoB,UACpB,GAAoB,OACpB,GAAoB,MACpB,GAAoB,QAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJ,MAAqB,OACrB,IAAqB,IACrB,YAAqB,cACrB,kBAAqB,cACrB,KAAqB,MACrB,OAAqB,SACrB,YAAqB,YACrB,OAAqB,UACrB,mBAAqB,oBACrB,kBAAqB,kBACrB,oBAAqB,kBACrB,SAAqB,MACrB,iBAAqB,eACrB,YAAqB,SACrB,GAAqB,IACrB,GAAqB,QACrB,GAAqB,MAGzBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJ,MAAwB,OACxB,IAAwB,IACxB,YAAwB,WACxB,kBAAwB,mBACxB,KAAwB,OACxB,OAAwB,SACxB,YAAwB,YACxB,OAAwB,UACxB,mBAAwB,oBACxB,kBAAwB,kBACxB,oBAAwB,qBACxB,SAAwB,KACxB,iBAAwB,oBACxB,YAAwB,UACxB,GAAwB,KACxB,GAAwB,KACxB,GAAwB,UAG5BqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,WACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,WACA,MACA,WACA,OAEJ,MAAoB,iBACpB,IAAoB,IACpB,YAAoB,aACpB,kBAAoB,WACpB,KAAoB,UACpB,OAAoB,WACpB,YAAoB,WACpB,OAAoB,UACpB,mBAAoB,wBACpB,kBAAoB,YACpB,oBAAqB,wBACrB,SAAoB,IACpB,iBAAoB,6BACpB,YAAoB,iBACpB,GAAoB,IACpB,GAAoB,IACpB,GAAoB,KAGxBqB,GAAwB,CACpB9B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MA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","file":"static/js/main.43755ea2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__wUiIJ\",\"cardStyleActive\":\"style_cardStyleActive__HuLTt\",\"controlMenu\":\"style_controlMenu__2kTdC\",\"closeBtn\":\"style_closeBtn__2IOBL\",\"isDelete\":\"style_isDelete__2m5Dy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContentWrapper\":\"style_modalContentWrapper__29JXc\",\"modalButtonBlock\":\"style_modalButtonBlock__2D6v5\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__1fKXW\",\"modalWrapper\":\"style_modalWrapper__1hx16\",\"close\":\"style_close__2233y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardStyle\":\"style_cardStyle__3oB5P\",\"nameCard\":\"style_nameCard__3AbI6\",\"cardStyleActive\":\"style_cardStyleActive__3JFj0\",\"iconThemCard\":\"style_iconThemCard__1hLSl\",\"inputCard\":\"style_inputCard__fblsw\",\"blockName\":\"style_blockName__3wlCq\",\"controlMenu\":\"style_controlMenu__23RNm\",\"closeBtn\":\"style_closeBtn__2_Jzl\",\"controlMenuTop\":\"style_controlMenuTop__FxQrX\",\"tagCard\":\"style_tagCard__29_vM\",\"displayFlex\":\"style_displayFlex__bZG43\",\"blockMarginTop\":\"style_blockMarginTop__2GRLr\",\"nameBlock\":\"style_nameBlock__bT0MG\",\"frontText\":\"style_frontText__2I83B\",\"backText\":\"style_backText__DMzK9\",\"iconTag\":\"style_iconTag__2iTbz\",\"displayItalic\":\"style_displayItalic__34n0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchesItem\":\"style_switchesItem__3w3gs\",\"switchesItemActive\":\"style_switchesItemActive__pO4XX\",\"iconThem\":\"style_iconThem__g38Ft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__10pvu\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__3pRZW\",\"animate\":\"hamburgerMenu_animate__yFa5f\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__1roMM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__MdArl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__P91Xu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1m2nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2hOWt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__e-sNP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__2u68I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1fy5J\"};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6MzM6NTMrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowODYwNDk3ZS1kM2NmLTQ4NjktOTJkMy1lZDdhMWJhZjRjNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphZGNhYzk5MC01NDk0LTMxNGEtOGUzOS0yMjM3MGIzYTc1NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZGJiZjliOC1lOThkLTQ1YmQtOWZlMS00Njk4NjZkODdiYmUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2RiYmY5YjgtZTk4ZC00NWJkLTlmZTEtNDY5ODY2ZDg3YmJlIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTU3ODA5YjgtMDVmMy00MzU2LWEzYjctZjkzM2YxOTllZGEzIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTI4VDExOjU0OjM4KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDg2MDQ5N2UtZDNjZi00ODY5LTkyZDMtZWQ3YTFiYWY0YzQzIiBzdEV2dDp3aGVuPSIyMDIxLTAyLTI1VDA5OjMzOjUzKzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5J8hTjAAAIl0lEQVRoga1aa2xVRRCePbl/sEQeCQWlYADlJS9RCRACYjAUS5pIhBYoLaAJSkEIilABjYA8RIGkkKAxUEMVKhDAQKI8jApBUTCCRTAooBYpKCQYCj/XH3vPntmZ2T23wU0De2bn7H7fvHb33qtadBynFJimbA/1zf94yB1VWmtJIelrDUqB1kCaZiIsMX2sYkdRBzIEH8fhg04kTEzJSAqKADJTuRZJaGBj2VcyIia+nt8DImJHqrXGS+IlLDJCg/SxJqGXySVsuA5GKPLnfDgrPI/W1PypHEzLhNGLhhdzRgRNGnYFs3pCgytYDlyHhhAO+twNLyWGBZ2EShQpa2nLx/bRW4IriOHtY+IBgt6Vq1ToPmeQDOYxg5lYGqIrbNzjWMqICIgTeMwQp1HQoDRoZYsMaCPhxMTUtNGCXUHetS9mrIiDC6OnZQqc50hFic10IrEKhg8O66wceQO7AvsB57QTQggcdYtPjqEHNjvS0dr1D/IGw0PDiXDIgBQDFKKE3o87m7i2xe5OIDoRb+IEEnuD5AcGL05isWimGt6s6js+sE2QdvD+BbFDsCtYzQEAWo6UUgA6KaO88HvxgXLVqG3A00jVBzeJbaJ7Ql/gADYHxG3LHcpCZ6Mh3DhkrQ4zLUpi7SS3RUwmxI8ZfxhkKfnCJlxbGX/ZLbjwZ9V0TISZALOyTCJxDUESRK/IVufOw4VWH3XcCQG5PWiCyLdq4OzgS3EMjkDEEh+9VA4iwiiQjokcLJpkRo4pkL5+0NQPfA5mL2c0SWLfm6TmpGLia+CGN10IXRWcnMZysqOl7MQCH7ozyA4kKLGOb1dC4NCWl+wP+IaQKCRJLMMNml9EL8Y6FuI44aniWws8toscuG7pxOi5+Tn6XBDwSsCmYvUHZTNZEXAVClqaLiaiJ1jBY9dAyroGSkGVJWDnt8nBdygfQ1yUfDgIaEnNmSH3gqEUKKW8HkCHzRCHXID6NHMcVUqRIwweFTayHNeWyi6PKzlI2Iu+RdPVkjL69uKJz1UUc41r1258vOPA6o37lVKvziyaW1li5POqqj/Zd8IAOnl4bX67tgBw4PDx5+dteqR3x73blhu1mtr9b7yzE8C5DLw8Y8ycmRNk1ABjJ1SdrG8AgInFj49/5omhg/sbeVPTnbqdB+cv3wZoQ0j3QH5+27mVpQsqi/hQaoa5yqENztEEBQAvlo9ct3qORQ8AeXktplcUf39gDaC9JRKzML/H5PY9y4qeXdjUdMdIBj3aO3egzRqdV1Vd0LeiY5/s3/0Pl5880wAAU0oLjcL6Ddvb9yxbt2GbeezapWD21Cct4JAHTtQ3/HaxwfRbtmzhx9QMP6Q2W8G6duloJL16PgAAK6v3WWt2Kmhv9elRArfC4b26dSkw/SuN131q/CSTBlEWkmkuXLxsOIweNeTquSFNTXfqdh08XX+hds938keLuF375SPn8e8b1e/vbRbK3NvalbPXrkweT9efLyxZprVeuqqm5r1FVp6X12J6eTEATC8/P23mu5eu3AQApSBKNd+xb0+NLVnyw5nLPoX/N4Qgvjl9fuTc2PELd+4+TIb79XloxZIK00++HyAtv8fkrRtnjR41BACGDu5f9NTATVu/VErd/Lfp7gESk82rqt6x/6TW2biIv9fQAHCivuHEa1sqq7YUDu81Ylhf4wEAGDZ0gH3d64HFy2tt0rzy0qTOHVoBwMXfG61C61Z5tp+Xl03xv678k0qAm4xn0YLKois/b208W9t4trZzh1affX124Vt13BtKxWWUT/FH4826XYcsvhemFQLAgSPnLlzKxlJZ6eiC9vcCwLo3y/PuyRLYvf+bVALhoDUBeeirU1ayfHGZ1lqDHjigh5EcPfZjMlXrriVtupW0fbD0g5q9Om7tuk9q133SYyNm3rp120hu3bo9aGTlfb2nVMxYYYWkbdm6r3P/qZ37Ty0uXSQqmNap39T1G+sCCus2bO/Qq2zH7sPiaOPV62PGzW/TrcT8RTEV4VInOuHg0XOl05ft2vMFVv6p/telq7a8vmZnMytqqM2q2rx+4/bT9eexcPOHnz49ftHx039aD6jWXUvCtxl+WXHvVinHYCzGaYqEmg/pOKmtXMff9uEs1zrn0yhfmAitiyWd7F9MiV6XyUviJL4WgcAeAH02xmcTTeh/dIYwSYLeNa3oFvJFckzAd3lztQUDk7W5Msfk4xkeIh+uYM3IogosE3AC5hCIMR960fypDatF4gCJIkDeJAEAcYjnuDDOzjB6nr5ii7A258cfXegOQxOjPHIIvkDKkuIjrov4xzcyESJ2Ak8pDMtnOZFqPArkXZ6dsSWERMct4q8J3NN0OD6xI/qZeQzxd2KYMnQIcMdhJ5jQ4Ih9JiTL8JiRPBOIHNk/YKuQOJc0kexNYksfNzzqs4Ijd7deHzCaAyzQBb8HOIiURAWe2b7g4UvjdzNEyW5nbh9AaUAf15mJlArlDD8yiCRBsghiJaeHbRmdfIWWgLNLG+1kKDaNkQQ0RdA+lFgeOMKA47EssQzExnb/zVrXcYIxufnlRgzXLuO7GPkaz2yCPpDf2C2Rb4AlA/I4aLw/oCVzAs3zKs61FPQ8nbSOcwAbGxKfOH4w6yQfx8ff6Jpmgyo3Do45fKMB9LZDj9OBl8kyeHl7hkhDj+oscKs3D715sh4Q0pEUJSzEoW85GDX+cwRKA2RzcOuK5iNDGV/pRHMlF0vtfitqmTj3Rs/Z3QeCQPSh9+05uArRiMcd6yJcLsVapN0fC4mIRSisJFBW4jbqJLEl6eMA4KWBmYRzIbypEfS+YmrlGW5ycEzrdGKcdBbCJMcm1gYxnLACkSchRPRIOLkoFbjRQpg0C7cIHXKwvRNCVsST2HfZ11pI4rvciUWIYVYZm7tAYyaLjEeRFGnJGgEfaPd3+OFkIIYX9QHgP2TOLzmSH794AAAAAElFTkSuQmCC\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport IconCancel from '@material-ui/icons/Cancel';\nimport IconOk from \"@material-ui/icons/Check\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default withStyles(styles)(DialogRename);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getTSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getRulesCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div className={this.props.classes.text}>Rules Rules Rules Rules</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n                <DialogContent style={{textAlign: 'center'}}>\n                    {this.getJSCard()}\n                    {this.getBlocklyCard()}\n                    {this.getTSCard()}\n                    {this.getRulesCard()}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdLaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0xMFQxMTowNDoxNiswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTM6MTYrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphODQ2NTA5Ny0yN2UyLTQwMmMtYmU5Ni02NDI0MDliZDc0MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMmI0ZjY0Ni1kYjQ4LWY3NGUtYmJiMi0zZDY4ZTE1OTg1MWIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmY2ZmNmIzMi0xOThkLTRlOWUtODllYi04ODAwNTA1MTIzYjUiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmNmZjZiMzItMTk4ZC00ZTllLTg5ZWItODgwMDUwNTEyM2I1IiBzdEV2dDp3aGVuPSIyMDIxLTAxLTEwVDExOjA0OjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5p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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            autoFocus\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconOk from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity'\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        }\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'Rules':ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder'\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = (props) => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        item: {\n            name,\n            type: 'script'\n        },\n        collect: (monitor) => ({\n            opacity: monitor.isDragging() ? 0.3 : 1,\n        }),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = 'javascript.' + instance + '.scriptProblem.' + id.substring(ROOT_ID.length + 1);\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = ROOT_ID + '.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton className={this.props.classes.iconButtons}\n                             onClick={e => {\n                                e.stopPropagation();\n                                this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                             }}\n                            title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                            key=\"startStop\"\n                            style={{color}}>\n                            {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton> : null,\n                <IconButton key=\"openInEdit\" title={I18n.t('Edit script or just double click')} onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === GLOBAL_ID && !this.state.expertMode);\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>\n            ];\n        }\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && this.state.reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !this.state.reorder ? SELECTED_STYLE : {});\n\n        if (!this.state.reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = clsx(this.props.classes.folderIcon, this.state.reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = clsx(this.props.classes.scriptIcon, this.state.reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                this.state.reorder && item.type === 'folder' && 'folder-reorder',\n                this.state.reorder && item.type !== 'folder' && 'script-reorder',\n                this.state.reorder && this.props.classes.reorder,\n                this.state.reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                this.state.reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                classes={{root: this.props.classes.listItemIcon}}\n            >{\n                item.type === 'folder' ? (\n                        this.state.reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !this.state.reorder && this.onToggle(item.id, e)}/>\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def}/>\n            }</ListItemIcon>\n            <ListItemText\n                classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\n                style={this.getTextStyle(item)} primary={(<span>{title}{childrenCount}</span>)}/>\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = target + '.' + source.split('.').pop();\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += '_' + I18n.t('copy');\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item, dragging) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (this.state.reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (this.state.reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={'droppable_' + item.id} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={'draggable_' + item.id} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={'draggable_' + item.id} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense={true}\n            disablePadding={true}\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\.\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"deleted\"\n                disabled={!this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem key=\"expertMode\" selected={this.state.expertMode}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.onCloseMenu(() =>\n                              this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                      }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={event =>\n                    this.onCloseMenu(() => {\n\n                        // TODO: use Utils.toggleTheme(themeName)\n                        // newThemeName = Utils.toggleTheme(themeName);\n                        const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                            this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                                this.state.themeName === 'light' ? 'dark' : 'colored';\n                        this.props.onThemeChange(newThemeName);\n                    })}>\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        if (this.state.searchMode) {\n            result.push(<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>);\n        } else {\n            if (!this.state.reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                    }}\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                        <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={this.state.reorder}\n                className={classes.toolbarButtons}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right', opacity: this.state.reorder ? 0 : 1}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={classes.toolbarButtons}\n                style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder});\n                }}\n            ><IconReorder/></IconButton>);\n\n            if (!this.state.reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton className={classes.toolbarButtons}\n                                         title={I18n.t('Rename')}\n                                         key=\"rename\"\n                                         onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>);\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: ROOT_ID, name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item =>\n            item.type === 'folder' && folders.push({id: item.id, name: item.title})\n        );\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <img\n                key=\"filterRules\"\n                className={this.props.classes.footerButtons}\n                alt=\"Rules\"\n                style={{opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['Rules'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />,\n            <IconExpandAll key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>,\n            this.state.expanded.length ? <IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/> : null,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={ this.getUniqueName() }\n                parents={ this.getFolders() }\n                folder={ false }\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\n                }}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={ this.getUniqueName(this.state.copingScript) }\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\n                }}\n            /> : null,\n            this.state.errorText ? <DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/> : null\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    width: PropTypes.number\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdVisibilityOff as IconHide} from 'react-icons/md';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport {withStyles} from '@material-ui/core/styles/index';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) i = '0' + i.toString();\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) i = '0' + i.toString();\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) i = '0' + i.toString();\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    logBoxInner: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative'\n    },\n    info: {\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    trTime: {\n        width: 90\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold'\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.type === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.type === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction copyToClipboard(str) {\n    const el = window.document.createElement('textarea');\n    el.value = str;\n    window.document.body.appendChild(el);\n    el.select();\n    window.document.execCommand('copy');\n    window.document.body.removeChild(el);\n}\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return '00' + ms;\n    }\n    if (ms < 100) {\n        return '0' + ms;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || []\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n        this.logHandlerBound = this.logHandler.bind(this);\n    }\n\n    generateLine(message) {\n        return (<tr key={'tr_' + message.ts + '_' + message.message.substr(-10)} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.message}</td>\n        </tr>);\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n    logHandler(message) {\n        let allLines = this.state.lines;\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\n        if (!selected) return;\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({lines: allLines});\n    }\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandlerBound);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandlerBound);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (editing.indexOf(id) === -1) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({lines: allLines});\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton> : null}\n                {lines && lines.length ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton> : null}\n                <IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onHideLog()} title={I18n.t('Hide logs')}><IconHide /></IconButton>\n            </div>\n            {this.state.selected && lines && lines.length ?\n                <div className={this.props.classes.logBoxInner} key=\"logList\">\n                    <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                    <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n                </div> :\n                <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>\n            }\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool\n};\n\nexport default withStyles(styles)(Log);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n        let scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({alive: true, check: true, typingsLoaded: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true\n            });\n\n            this.editor.onDidChangeModelContent(e =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => this.highlightText(this.state.searchText));\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({readOnly: options.readOnly});\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts'\n                    : (language === 'coffee' ? 'coffee'\n                        : language));\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n        // BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco.languages.typescript.typescriptDefaults.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco.languages.typescript.typescriptDefaults.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    initNewScript(name, code) {\n        this.setState({name});\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        //this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance will be foung and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (!nextProps.changed && nextProps.code !== this.originalCode) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log('Insert text' + this.insert);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                color=\"secondary\"><IconNoCheck/></Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport IconCopy from '@material-ui/icons/FileCopy';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.themeType === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\"><IconCopy className={this.props.classes.buttonIcon}/>{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\"><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{zIndex: 10000}}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true} value={this.props.text}/>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    handleOk () {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        autoFocus\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log('Detected custom blockly: ' + adapters[id].common.name);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.includes(b.id)).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({themeType: nextProps.themeType}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n\n    importBlocks() {\n        this.setState({importText: true});\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                let variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    let vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        let nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({error: I18n.t('Cannot extract Blockly code!')}));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml  = toolboxXml  || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n                for (const _b in this.Blockly[name].blocks) {\n                    if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({message: ''})}\n            /> :\n            null;\n    }\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({error: ''});\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport key=\"dialogImport\"  onClose={text => {\n            this.setState({importText: false});\n            this.onImportBlocks(text);\n        }}/> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    themeType: PropTypes.string\n};\n\nexport default BlocklyEditor;\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'März',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Январе',\n        'Феврале',\n        'Марте',\n        'Апреле',\n        'Майе',\n        'Июне',\n        'Июле',\n        'Августе',\n        'Сентябре',\n        'Октябре',\n        'Ноябре',\n        'Декабре'\n    ],\n    DOW: [\n        'воскресение',\n        'понедельник',\n        'вторник',\n        'среду',\n        'четверг',\n        'пятницу',\n        'субботу'\n    ],\n    'Every':            'Каждую(ый)', // start of expression\n    'and':              'и', // 1, 2, 3 and 15th\n    'every day':        'каждый день',\n    'minute past the':  'минуту в',\n    'hour':             'часа(ов)',\n    'minute':           'минуту',\n    'minute of':        'минут(у) в',\n    'second':           'секунду',\n    'second in minute': 'секунду в минуте',\n    'second of every':  'секунду каждой(го)',\n    'minute every hour': 'минуту каждый час',\n    'on the':           '',\n    'of every month':   'числа каждого месяца',\n    'and every':        'и каждый',\n    'At':               'В',\n    'on':               'в', // on sun, mon\n    'in':               'в' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fév',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Déc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute après le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxième de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               'À',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto após o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.pl = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [ //short or full names\n        'Sty', // or 'Styczeń'\n        'Lut', // or 'Luty'\n        'Mar', // or 'Marzec'\n        'Kwi', // or 'Kwiecień'\n        'Maj', // or 'Maj'\n        'Cze', // or 'Czerwiec'\n        'Lip', // or 'Lipiec'\n        'Sie', // or 'Sierpień'\n        'Wrz', // or 'Wrzesień'\n        'Paź', // or 'Październik'\n        'Lis', // or 'Listopad'\n        'Gru'  // or 'Grudzień'\n    ],\n    DOW: [ //short or full days name\n        'Nie', // or 'Niedziela'\n        'Pon', // or 'Poniedziałek'\n        'Wto', // or 'Wtorek'\n        'Śro', // or 'Środa'\n        'Czw', // or 'Czwartek'\n        'Pią', // or 'Piątek'\n        'Sob'  // or 'Sobota\n    ],\n    'Every':            'Każde(go)', // start of expression\n    'and':              'i', // 1, 2, 3 and 15th\n    'every day':        'codziennie',\n    'minute past the':  'minut po', //minute past the hour ?\n    'hour':             'godzina',\n    'minute':           'minut(a)',\n    'minute of':        'minut po',\n    'second':           'sekunda',\n    'second in minute': 'sekund na minutę',\n    'second of every':  'sekund co',\n    'minute every hour': 'minut co godzinę',\n    'on the':           'w',\n    'of every month':   'każdego miesiąca',\n    'and every':        'i każdego',\n    'At':               'O',\n    'on':               'w', // on sun, mon\n    'in':               'w' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada día',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nJQUERY_CRON_LOCALE['zh-cn'] = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '一月',\n        '二月',\n        '三月',\n        '四月',\n        '五月',\n        '六月',\n        '七月',\n        '八月',\n        '九月',\n        '十月',\n        '十一月',\n        '十二月'\n    ],\n    DOW: [\n        '星期日',\n        '星期一',\n        '星期二',\n        '星期三',\n        '星期四',\n        '星期五',\n        '星期六'\n    ],\n    'Every':            '每', // start of expression\n    'and':              '和', // 1, 2, 3 and 15th\n    'every day':        '每天',\n    'minute past the':  '分钟在每天第',\n    'hour':             '小时',\n    'minute':           '分钟',\n    'minute of':        '分钟的',\n    'second':           '秒',\n    'second in minute': '秒在分钟',\n    'second of every':  '秒在每',\n    'minute every hour': '分钟在每小时中',\n    'on the':           '在',\n    'of every month':   '日在每月',\n    'and every':        '且每',\n    'At':               '在',\n    'on':               '在', // on sun, mon\n    'in':               '在' // in jan, apr\n};\n\nexport default JQUERY_CRON_LOCALE;\n","import cronToText from './cron2text';\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\n\nfunction correctCasus(text, seconds) {\n    text = text.replace('Каждую(ый) минуту',    'Каждую минуту');\n    text = text.replace('Каждую(ый) минут(у)',  'Каждую минуту');\n    text = text.replace('Каждую(ый) час',       'Каждый час');\n    text = text.replace('Каждую(ый) секунду',   'Каждую секунду');\n    text = text.replace(/ (\\d{1,2}) числа/,     ' $1го числа');\n\n    text = text.replace(/ (\\d{1,2}) в Январе/,  ' $1го числа в Январе');\n    text = text.replace(/ (\\d{1,2}) в Феврале/, ' $1го числа в Феврале');\n    text = text.replace(/ (\\d{1,2}) в Марте/,   ' $1го числа в Марте');\n    text = text.replace(/ (\\d{1,2}) в Апреле/,  ' $1го числа в Апреле');\n    text = text.replace(/ (\\d{1,2}) в Майе/,    ' $1го числа в Майе');\n    text = text.replace(/ (\\d{1,2}) в Июне/,    ' $1го числа в Июне');\n    text = text.replace(/ (\\d{1,2}) в Июле/,    ' $1го числа в Июле');\n    text = text.replace(/ (\\d{1,2}) в Августе/,  ' $1го числа в Августе');\n    text = text.replace(/ (\\d{1,2}) в Сентябре/,  ' $1го числа в Сентябре');\n    text = text.replace(/ (\\d{1,2}) в Октябре/,  ' $1го числа в Октябре');\n    text = text.replace(/ (\\d{1,2}) в Ноябре/,  ' $1го числа в Ноябре');\n    text = text.replace(/ (\\d{1,2}) в Декабре/,  ' $1го числа в Декабре');\n\n    text = text.replace('Каждую(ый) 0 минуту',   'Каждые ноль минут');\n    text = text.replace(/Каждую\\(ый\\) ([\\d\\sи,]+) минуту/, 'Каждую $1 минуту');\n\n    text = text.replace(/каждой\\(го\\) ([\\d\\sи,]+) минуту/, 'каждой $1 минуты');\n    text = text.replace('каждой(го) минут(у)',  'каждой минуты');\n\n    text = text.replace(' 0 часа(ов)',           ' 0 часов');\n    text = text.replace(' 1 часа(ов)',           ' 1 час');\n    text = text.replace(' 2 часа(ов)',           ' 2 часа');\n    text = text.replace(' 3 часа(ов)',           ' 3 часа');\n    text = text.replace(' 4 часа(ов)',           ' 4 часа');\n    text = text.replace(/ (\\d{1,2}) часа\\(ов\\)/, ' $1 часов');\n\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\n    text = text.replace('Jede Minuten',         'Jede Minute');\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\n\n    return text;\n}\n\nfunction convertCronToText(cron, lang) {\n    const withSeconds = cron.split(' ').length === 6;\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang] || JQUERY_CRON_LOCALE.en);\n    return correctCasus(text, withSeconds);\n}\n\nexport default convertCronToText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport TextField from '@material-ui/core/TextField';\nimport convertCronToText from './simple-cron/cronText';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    periodSelect: {\n        //margin: '0 10px 60px 10px',\n        display: 'block',\n        width: 200\n    },\n    slider: {\n        marginTop: 20,\n        display: 'block',\n        width: '100%'\n    },\n    tabContent: {\n        padding: 20\n    },\n    numberButton: {\n        padding: 4,\n        minWidth: 40,\n        margin: 5\n    },\n    numberButtonBreak: {\n        display: 'block'\n    },\n    appBar: {\n        color: 'white'\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n// 5-7,9-11 => [5,6,7,9,10,11]\nfunction convertMinusIntoArray(value, max) {\n    let result = [];\n    if (value === '*') {\n        if (max === 24 || max === 60 || max === 7) {\n            for (let i = 0; i < max; i++) {\n                result.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                result.push(i);\n            }\n        }\n        return result; // array with entries max\n    }\n    const parts = (value || '').toString().split(',');\n    for (let p = 0; p < parts.length; p++) {\n        if (! parts[p].trim().length) continue;\n        const items = parts[p].trim().split('-');\n        if (items.length > 1) {\n            let iMax = parseInt(items[1], 10);\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\n                result.push(i);\n            }\n        } else {\n            result.push(parseInt(parts[p], 10));\n        }\n    }\n    result = result.map(a => parseInt(a, 10));\n\n    result.sort();\n\n\n    // remove double entries\n    for (let p = result.length - 1; p >= 0; p--) {\n        if (result[p] === result[p + 1]) {\n            result.splice(p + 1, 1);\n        }\n    }\n\n\n    return result;\n}\n\n// [5,6,7,9,10,11] => 5-7,9-11\nfunction convertArrayIntoMinus(value, max) {\n    if (typeof value !== 'object') {\n        value = [value];\n    }\n    if (value.length === max) {\n        return '*';\n    }\n    const newParts = [];\n    if (!value.length) {\n        return '-';\n    }\n    value = value.map(a => parseInt(a, 10));\n\n    value.sort((a, b) => a -b);\n\n    let start = value[0];\n    let end = value[0];\n    for (let p = 1; p < value.length; p++) {\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\n            if (start === end) {\n                newParts.push(start)\n            } else if (end - 1 === start) {\n                newParts.push(start + ',' + end);\n            } else {\n                newParts.push(start + '-' + end);\n            }\n            start = value[p];\n            end = value[p];\n        } else {\n            end = value[p];\n        }\n    }\n\n    if (start === end) {\n        newParts.push(start)\n    } else if (end - 1 === start) {\n        newParts.push(start + ',' + end);\n    } else {\n        newParts.push(start + '-' + end);\n    }\n\n    return newParts.join(',');\n}\n\nclass ComplexCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = ComplexCron.cron2state(cron || '* * * * *');\n\n        this.state = {\n            extended: false,\n            tab: state.seconds !== false ? 1 : 0,\n            cron: ComplexCron.state2cron(state),\n            modes: {\n                seconds: null,\n                minutes: null,\n                hours: null,\n                dates: null,\n                months: null,\n                dows: null\n            }\n        };\n        Object.assign(this.state, state);\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ').map(p => p.trim());\n        const options = {};\n\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.dates = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dows = cronParts[5] || '*';\n        } else {\n            options.seconds = false;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.dates = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dows = cronParts[4] || '*';\n        }\n        return options;\n    }\n    static state2cron(state) {\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\n        if (state.seconds !== false) {\n            text = state.seconds + ' ' + text;\n        }\n        return text;\n    }\n\n    recalcCron() {\n        let cron = ComplexCron.state2cron(this.state);\n        if (cron !== this.state.cron) {\n            this.setState({cron}, () => {\n                this.props.onChange && this.props.onChange(this.state.cron);\n            });\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    onToggle(i, type, max) {\n        if (i === true) {\n            this.setState({[type]: '*'}, () => this.recalcCron());\n        } else if (i === false) {\n            if (max === 60 || max === 24) {\n                this.setState({[type]: '0'}, () => this.recalcCron());\n            } else {\n                this.setState({[type]: '1'}, () => this.recalcCron());\n            }\n        } else {\n            let nums = convertMinusIntoArray(this.state[type], max);\n            const pos = nums.indexOf(i);\n            if (pos !== -1) {\n                nums.splice(pos, 1);\n            } else {\n                nums.push(i);\n                nums.sort();\n            }\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\n        }\n    }\n\n    getDigitsSelector(type, max) {\n        let values = [];\n        if (max === 7) {\n            values = [1,2,3,4,5,6,0];\n        } else if (max === 60 || max === 24) {\n            for (let i = 0; i < max; i++) {\n                values.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                values.push(i);\n            }\n        }\n        const parts = convertMinusIntoArray(this.state[type], max);\n        return [\n            (<Button\n                key=\"removeall\"\n                variant={'outlined'}\n                className={this.props.classes.numberButton}\n                //style={{paddingBottom: 20}}\n                color={'primary'}\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\n            (<Button\n                key=\"addall\"\n                variant={'contained'}\n                //style={{paddingBottom: 20}}\n                className={this.props.classes.numberButton}\n                color={'secondary'}\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\n            (<div key=\"all\">\n                {values.map(i =>\n                    [((max === 7 && i === 4) ||\n                    (max === 12 && i === 7) ||\n                    (max === 31 && !((i - 1) % 10)) ||\n                    (max === 60 && i && !(i % 10)) ||\n                    (max === 24 && i && !(i % 6))) ?\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>) : null,\n                        (<Button\n                            key={'_' + i}\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\n                            className={this.props.classes.numberButton}\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\n                    )])}\n                    </div>)];\n    }\n\n    getPeriodsTab(type, max) {\n        let value = this.state[type];\n        let every = value === '*';\n        let everyN = value.toString().indexOf('/') !== -1;\n        let select;\n        if (this.state.modes[type] === null) {\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\n            modes[type] = select;\n            return setTimeout(() => this.setState({modes}, () => this.recalcCron()), 100);\n        } else {\n            every = this.state.modes[type] === 'every';\n            everyN = this.state.modes[type] === 'everyN';\n            select = this.state.modes[type];\n        }\n\n        if (everyN) {\n            value = parseInt(value.replace('*/', ''), 10) || 1;\n        }\n\n        return <div>\n            <Select\n                className={this.props.classes.periodSelect}\n                style={{verticalAlign: 'bottom'}}\n                value={select}\n                onChange={e => {\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\n                    modes[type] = e.target.value;\n                    if (e.target.value === 'every') {\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'everyN') {\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'specific') {\n                        let num = parseInt(this.state[type].split(',')[0], 10) || 0;\n                        console.log(num);\n                        if (!num && (type === 'months' || type === 'dates')) {\n                            num = 1;\n                        }\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\n                    }\n                }}>\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\n            </Select>\n            {everyN && false && <span>{value}</span>}\n            {everyN && <TextField\n                key=\"interval\"\n                label={I18n.t('sc_' + type)}\n                value={value}\n                min={1}\n                max={max}\n                onChange={e => {\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                type=\"number\"\n                margin=\"normal\"\n            />}\n            {!every && !everyN && this.getDigitsSelector(type, max)}\n        </div>;\n    }\n\n    convertCronToText(cron, lang) {\n        if (cron.split(' ').indexOf('-') !== -1) {\n            return I18n.t('Invalid CRON');\n        } else {\n            return convertCronToText(cron, lang);\n        }\n    }\n\n    render() {\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\n        return <div className={this.props.classes.mainDiv}>\n            <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n            <div style={{paddingLeft: 8, width: '100%', height: 60}}>{this.convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n            <FormControlLabel\n                control={<Checkbox checked={this.state.seconds}\n                                   onChange={e => this.setState({seconds: e.target.checked ? '*' : false}, () => this.recalcCron())}/>}\n                label={I18n.t('use seconds')}\n            />\n            <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\n                <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\n                    this.setState({tab})}>\n                    {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\n                    <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\n                    <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\n                    <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\n                    <Tab  id=\"months\" label={I18n.t('sc_months')}/>\n                    <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\n                </Tabs>\n            </AppBar>\n            {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\n            {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\n            {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\n            {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\n            {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\n            {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\n        </div>;\n    }\n}\n\nComplexCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(ComplexCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport convertCronToText from './cronText';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    formControl: {\n        margin: 0,\n        minWidth: 120,\n    },\n    formControlMarginRight: {\n        marginRight: 5\n    },\n    formControlPaddingTop: {\n        paddingTop: 6.2\n    }\n});\n\nconst PERIODIC = {\n    once: 'once',\n    interval: 'interval',\n    intervalBetween: 'intervalBetween',\n    specific: 'specific'\n};\nconst PERIODIC_TYPES = {\n    seconds: 'seconds',\n    minutes: 'minutes',\n    //hours: 'hours',\n};\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\nconst DEFAULT_STATE = {\n    mode: PERIODIC.interval,\n    interval: {\n        period: 1,\n        unit: PERIODIC_TYPES.minutes\n    }\n};\n\nclass SimpleCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\n\n        this.state = {\n            extended: false,\n            cron: SimpleCron.state2cron(state),\n            mode: 'interval',\n            once: {\n                time: '00:00',\n                date: ''\n            },\n            interval: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            },\n            intervalBetween: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: 0,\n                timeTo: 24,\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            },\n            specific: {\n                time: '00:00',\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            }\n        };\n        Object.assign(this.state, state);\n\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static periodArray2text(list, max) {\n        max = max || 7;\n        if (list.length === max) {\n            return '*';\n        } else {\n            let text = [];\n            let start = null;\n            let end = null;\n            for (let i = 0; i < list.length; i++) {\n                if (start === null) {\n                    start = list[i];\n                    end = list[i];\n                } else if (list[i - 1] + 1 === list[i]) {\n                    end = list[i];\n                } else {\n                    if (start !== end) {\n                        text.push(start + '-' + end);\n                    } else {\n                        text.push(start);\n                    }\n                    start = list[i];\n                    end = list[i];\n                }\n            }\n            if (start !== end) {\n                text.push(start + '-' + end);\n            } else {\n                text.push(start);\n            }\n            return text.join(',');\n        }\n    }\n\n    static text2weekdays(text) {\n        if (text === '*') {\n            return [0,1,2,3,4,5,6];\n        }\n        const parts = text.split(',');\n        const list = [];\n        parts.forEach(part => {\n            const _parts = part.split('-');\n            if (_parts.length === 2) {\n                const start = parseInt(_parts[0], 10);\n                const end = parseInt(_parts[1], 10);\n                for (let day = start; day <= end; day++) {\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\n                        list.push(day === 7 ? 0 : day);\n                    }\n                }\n            } else {\n                if (part === '7') {\n                    part = 0;\n                }\n                part = parseInt(part, 10);\n                if (list.indexOf(part) === -1) {\n                    list.push(part);\n                }\n            }\n        });\n        list.sort();\n        return list;\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ');\n        const options = {};\n        const state = {\n            mode: ''\n        };\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.date = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dow = cronParts[5] || '*';\n        } else {\n            options.seconds = null;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.date = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dow = cronParts[4] || '*';\n        }\n\n        // * * * * *\n        if (options.seconds === null &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            };\n        } // * * * * * *\n        if (options.seconds === '*' &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else// */n * * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes\n            };\n        } else\n        // */n * * * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h * * 1-7 or m h * * *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.specific;\n            state.specific = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h d M *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            parseInt(options.date, 10).toString() === options.date &&\n            parseInt(options.months, 10).toString() === options.months &&\n            options.dow === '*') {\n            state.mode = PERIODIC.once;\n            state.once = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\n            // ignored\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            }\n        }\n\n        if (state.mode) {\n            return state;\n        } else {\n            return null;\n        }\n    }\n\n    static state2cron(state) {\n        let cron = '* * * * *';\n        if (state.mode === PERIODIC.interval) {\n            const settings = state.interval || {};\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n\n            if (settings.minutes > 60) settings.minutes = 60;\n            if (settings.minutes < 1) settings.minutes = 1;\n\n            if (settings.hours > 24) settings.hours = 24;\n            if (settings.hours < 1) settings.hours = 1;\n\n            if (state.extended) {\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\n            } else {\n                switch (settings.unit) {\n                    case PERIODIC_TYPES.seconds:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\n                        break;\n                    case PERIODIC_TYPES.minutes:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if (state.mode === PERIODIC.intervalBetween) {\n            const settings = state.intervalBetween || {};\n            let hours;\n            settings.timeFrom = settings.timeFrom || 0;\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\n                hours = '*';\n            } else {\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\n            }\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\n            switch (settings.unit) {\n                case PERIODIC_TYPES.seconds:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                case PERIODIC_TYPES.minutes:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                default:\n                    break;\n            }\n        } else if (state.mode === PERIODIC.specific) {\n            const settings = state.specific || {};\n            const parts = (settings.time || '00:00').split(':');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\n        } else if (state.mode === PERIODIC.once) {\n            const settings = state.once || {};\n            if (!settings.date) {\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\n            }\n            const parts = (settings.time || '00:00').split(':');\n            const partsDate = settings.date.split('.');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n            let date = parseInt(partsDate[0], 10) || 1;\n            if (date > 31) date = 31;\n            if (date < 1) hours = 1;\n            let month = parseInt(partsDate[1], 10) || 1;\n            if (month > 12) month = 12;\n            if (month < 1) month = 1;\n\n            cron = `${minutes} ${hours} ${date} ${month} *`;\n        }\n        return cron;\n    }\n\n    recalcCron() {\n        this.onChange(SimpleCron.state2cron(this.state));\n    }\n\n    getControlsWeekdaysElements(type) {\n        const settings = this.state[type];\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\n            <h5>{I18n.t('On weekdays')}</h5>\n            {[1,2,3,4,5,6,0].map(day => (\n                <FormControlLabel\n                    key={WEEKDAYS[day]}\n                    control={\n                        <Checkbox\n                            checked={settings.weekdays.indexOf(day) !== -1}\n                            onChange={e => {\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\n                                const pos = settings.weekdays.indexOf(day);\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\n                                settings.weekdays.sort();\n                                this.setState({[type]: settings}, () => this.recalcCron());\n                            }}\n                            value={day.toString()}\n                        />\n                    }\n                    label={I18n.t(WEEKDAYS[day])}\n                />))\n            }</div>);\n    }\n\n    getControlsPeriodElements(type) {\n        const settings = this.state[type];\n\n        if (this.state.extended) {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_minutes')}\n                    value={settings.minutes}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.minutes = parseInt(e.target.value, 10);\n                        if (settings.minutes < 1) settings.minutes = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_hours')}\n                    value={settings.hours}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.hours = parseInt(e.target.value, 10);\n                        if (settings.hours < 1) settings.hours = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={24}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n            </div>);\n        } else {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_every')}\n                    value={settings.period}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.period = parseInt(e.target.value, 10);\n                        if (settings.period < 1) settings.period = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /><Select\n                style={{verticalAlign: 'bottom'}}\n                value={settings.unit}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.unit = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}>\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\n            </Select></div>);\n        }\n    }\n\n    getControlsTime(type) {\n        const settings = this.state[type];\n        return (<FormControl className={this.props.classes.formControl} classes={{root: this.props.classes.formControlMarginRight}}>\n            <TextField\n                key=\"at\"\n                label={I18n.t('sc_time')}\n                value={settings.time}\n                type=\"time\"\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.time = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getControlsDate(type) {\n        const settings = this.state[type];\n\n        if (!settings.date) {\n            const d = new Date();\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\n        }\n\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\n        return (<FormControl className={this.props.classes.formControl}>\n            <TextField\n                key=\"date\"\n                label={I18n.t('sc_date')}\n                value={settings.date}\n                type=\"text\"\n                inputProps={{className: this.props.classes.formControlPaddingTop}}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.date = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getOnceElements() {\n        return (<div style={{marginLeft: 8}}>\n            {this.getControlsTime('once')}\n            {this.getControlsDate('once')}\n            </div>);\n    }\n\n    getIntervalElements() {\n        return this.getControlsPeriodElements('interval');\n    }\n\n    getIntervalBetweenElements() {\n        const settings = this.state.intervalBetween;\n        return [\n            this.getControlsPeriodElements('intervalBetween'),\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\n                    <Select\n                    style={{width: 100}}\n                    value={settings.timeFrom}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                        settings.timeFrom = parseInt(e.target.value, 10);\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\n                    }}>\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                </Select>\n                </FormControl>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\n                    <Select\n                        style={{width: 100}}\n                        value={settings.timeTo}\n                        onChange={e => {\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                            settings.timeTo = parseInt(e.target.value, 10);\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\n                        }}>\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                    </Select>\n                </FormControl>\n            </div>),\n            this.getControlsWeekdaysElements('intervalBetween')\n        ];\n    }\n\n    getSpecificTimeElements() {\n        return [\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\n            this.getControlsWeekdaysElements('specific')\n        ]\n    }\n\n    onModeChange(mode) {\n        if (mode !== this.state.mode) {\n            this.setState({mode}, () => this.recalcCron());\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\n                    <Select\n                        value={this.state.mode}\n                        onChange={e => this.onModeChange(e.target.value)}\n                        inputProps={{name: 'mode', id: 'mode',}}>\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\n                    </Select>\n                </FormControl></div>\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\n            </div>\n        );\n    }\n}\n\nSimpleCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(SimpleCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaskedInput from 'react-text-mask';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from \"@material-ui/core/TextField\";\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    hr: {\n        border: 0,\n        borderTop: '1px solid gray'\n    },\n    scrollWindow: {\n        width: '100%',\n        overflow: 'auto',\n        height: 'calc(100% - 22px)'\n    },\n    rowDiv: {\n        width: '100%',\n    },\n    modeDiv: {\n        width: 200,\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    settingsDiv: {\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    inputTime: {\n        width: 90,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputDate: {\n        width: 140,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputEvery: {\n        width: 40,\n        marginLeft: 5,\n        marginRight: 5,\n    },\n    inputRadio: {\n        padding: '4px 12px',\n        verticalAlign: 'top'\n    },\n    inputGroup: {\n        maxWidth: 400,\n        display: 'inline-block'\n    },\n    inputGroupElement: {\n        width: 120,\n    },\n    inputDateDay: {\n        width: 60,\n    },\n    inputDateDayCheck: {\n        padding: 4,\n    },\n    inputSmallCheck: {\n        padding: 0,\n    },\n    rowOnce: {\n\n    },\n\n    rowDays: {\n        background: theme.palette.type !== 'dark' ? '#ddeaff' :  '#4b5057'\n    },\n    rowDows: {\n        background: theme.palette.type !== 'dark' ? '#DDFFDD' :  '#52646c'\n    },\n    rowDates: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#747a86'\n    },\n    rowWeeks: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#717680'\n    },\n    rowMonths: {\n        background: theme.palette.type !== 'dark' ? '#DDFFFF' :  '#1f5557'\n    },\n    rowMonthsDates: {\n        background: theme.palette.type !== 'dark' ? '#EEFFFF' :  '#3c5737',\n        maxWidth: 600\n    },\n    rowYears: {\n        background: theme.palette.type !== 'dark' ? '#fbffdd' :  '#574b33'\n    },\n    rowDaysDows: {\n        background: theme.palette.type !== 'dark' ? '#EEEAFF' :  '#573544',\n        paddingLeft: 10,\n        paddingBottom: 10\n    },\n    rowDowsDows: {\n        background: theme.palette.type !== 'dark' ? '#EEFFEE' :  '#3d4c54',\n        paddingLeft: 10,\n        paddingBottom: 10\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nconst PERIODS = {\n    'minutes': 'minutes',\n    'hours': 'hours',\n};\nconst ASTRO = [\n    'sunrise',\n    'sunriseEnd',\n    'goldenHourEnd',\n    'solarNoon',\n    'goldenHour',\n    'sunsetStart',\n    'sunset',\n    'dusk',\n    'nauticalDusk',\n    'night',\n    'nightEnd',\n    'nauticalDawn',\n    'dawn',\n    'nadir',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\n\nfunction TextTime(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '00:00'}\n            showMask\n        />\n    );\n}\n\nTextTime.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nfunction TextDate(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '01.01.2020'}\n            showMask\n        />\n    );\n}\n\nTextDate.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nconst DEFAULT = {\n    time: {\n        exactTime: false,\n\n        start: '00:00',\n        end: '23:59',\n\n        mode: 'hours',\n        interval: 1,\n    },\n    period: {\n        once: '',\n        days: 1,\n        dows: '',\n        dates: '',\n        weeks: 0,\n        months: '',\n\n        years: 0,\n        yearMonth: 0,\n        yearDate: 0,\n    },\n    valid: {\n        from: '',\n        to: ''\n    }\n};\nfunction string2USdate(date) {\n    const parts = date.split('.');\n    if (parts.length === 3) {\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\n    }\n\n}\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        let schedule;\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\n            try {\n                schedule = JSON.parse(this.props.schedule);\n            } catch (e) {\n\n            }\n        }\n\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\n        }\n        schedule = schedule || {};\n        schedule = Object.assign({}, DEFAULT, schedule);\n        schedule.valid.from = schedule.valid.from || this.now2string();\n\n        this.refFrom = React.createRef();\n        this.refTo = React.createRef();\n        this.refOnce = React.createRef();\n\n        this.state = {\n            schedule,\n            desc: this.state2text(schedule)\n        };\n\n        if (JSON.stringify(schedule) !== this.props.schedule) {\n            setTimeout(() => this.props.onChange && this.props.onChange(JSON.stringify(schedule)), 100);\n        }\n    }\n\n    onChange(schedule, force) {\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\n        if (force || isDiff) {\n            isDiff && this.setState({schedule, desc: this.state2text(schedule)});\n            const copy = JSON.parse(JSON.stringify(schedule));\n            if (copy.period.once) {\n                let once = copy.period.once;\n                delete copy.period;\n                copy.period = {once};\n                delete copy.valid;\n            } else\n            if (copy.period.days) {\n                let days = copy.period.days;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {days};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.weeks) {\n                let weeks = copy.period.weeks;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {weeks};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.months) {\n                let months = copy.period.months;\n                let dates = copy.period.dates;\n                delete copy.period;\n                copy.period = {months};\n                if (dates && dates !== '[]') {\n                    copy.period.dates = dates;\n                }\n            } else\n            if (copy.period.years) {\n                let years = copy.period.years;\n                let yearMonth = copy.period.yearMonth;\n                let yearDate = copy.period.yearDate;\n                delete copy.period;\n                copy.period = {years, yearDate};\n                if (yearMonth) {\n                    copy.period.yearMonth = yearMonth;\n                }\n            }\n\n            if (copy.time.exactTime) {\n                delete copy.time.end;\n                delete copy.time.mode;\n                delete copy.time.interval;\n            } else {\n                delete copy.time.exactTime;\n            }\n            if (copy.valid) {\n                if (!copy.valid.to) {\n                    delete copy.valid.to;\n                }\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\n                    const from = this.string2date(copy.valid.from);\n                    const today = new Date();\n                    today.setHours(0);\n                    today.setMinutes(0);\n                    today.setSeconds(0);\n                    today.setMilliseconds(0);\n                    if (from <= today) {\n                        delete copy.valid.from;\n                    }\n                }\n                if (!copy.valid.from && !copy.valid.to) {\n                    delete copy.valid;\n                }\n            }\n\n            this.props.onChange && this.props.onChange(JSON.stringify(copy),this.state2text(schedule));\n        }\n    }\n\n    state2text(schedule) {\n        let desc = [];\n        let validFrom = this.string2date(schedule.valid.from);\n        if (schedule.period.once) {\n            // once\n            let once = this.string2date(schedule.period.once);\n            let now = new Date();\n            now.setMilliseconds(0);\n            now.setSeconds(0);\n            now.setMinutes(0);\n            now.setHours(0);\n\n            //\n            if (once < now) {\n                // will ne be not executed any more, because start is in the past\n                return I18n.t('sch_desc_onceInPast');\n            } else {\n                // only once\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\n            }\n        } else\n        if (schedule.period.days) {\n            if (schedule.period.days === 1) {\n                if (schedule.period.dows) {\n                    const dows = JSON.parse(schedule.period.dows);\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                        // on weekends\n                        desc.push(I18n.t('sch_desc_onWeekends'));\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                        // on workdays\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\n                    } else {\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                        if (tDows.length === 1) {\n                            // on Monday\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                        } else if (tDows.length === 7) {\n                            // on every day\n                            desc.push(I18n.t('sch_desc_everyDay'));\n                        } else {\n                            const last = tDows.pop();\n                            // on Monday and Sunday\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                        }\n                    }\n                } else {\n                    desc.push(I18n.t('sch_desc_everyDay'));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\n            }\n        } else\n        if (schedule.period.weeks) {\n            if (schedule.period.weeks === 1) {\n                desc.push(I18n.t('sch_desc_everyWeek'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\n            }\n\n            if (schedule.period.dows) {\n                const dows = JSON.parse(schedule.period.dows);\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                    // on weekends\n                    desc.push(I18n.t('sch_desc_onWeekends'));\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                    // on workdays\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\n                } else {\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                    if (tDows.length === 1) {\n                        // on Monday\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                    } else if (tDows.length === 7) {\n                        // on every day\n                        desc.push(I18n.t('sch_desc_everyDay'));\n                    } else {\n                        const last = tDows.pop();\n                        // on Monday and Sunday\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                    }\n                }\n            } else {\n                return I18n.t('sch_desc_never');\n            }\n        } else\n        if (schedule.period.months) {\n            if (schedule.period.dates) {\n                const dates = JSON.parse(schedule.period.dates);\n                if (dates.length === 1) {\n                    // in 1 of month\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\n                } else if (dates.length === 31) {\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\n                } else if (!dates.length) {\n                    return I18n.t('sch_desc_never');\n                } else {\n                    const last = dates.pop();\n                    // in 1 and 4 of month\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_onEveryDate'));\n            }\n\n            if (schedule.period.months === 1) {\n                desc.push(I18n.t('sch_desc_everyMonth'));\n            } else if (typeof schedule.period.months === 'number') {\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\n            } else {\n                const months = JSON.parse(schedule.period.months);\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\n                if (!tMonths.length) {\n                    // in January\n                    return I18n.t('sch_desc_never');\n                } else if (tMonths.length === 1) {\n                    // in January\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\n                } else if (tMonths.length === 12) {\n                    // every month\n                    desc.push(I18n.t('sch_desc_everyMonth'));\n                } else {\n                    const last = tMonths.pop();\n                    // in January and May\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\n                }\n            }\n        }\n        else\n        if (schedule.period.years) {\n            if (schedule.period.years === 1) {\n                desc.push(I18n.t('sch_desc_everyYear'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\n            }\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\n        }\n\n        // time\n        if (schedule.time.exactTime) {\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\n                // at sunset\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\n            } else {\n                // at HH:MM\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\n            }\n        } else {\n            if (schedule.time.mode === PERIODS.minutes) {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyMinute'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\n                }\n            } else {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyHour'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\n                }\n            }\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\n                // from HH:mm to HH:mm\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\n            }\n        }\n\n        if (!schedule.period.once) {\n            // valid\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\n                // from XXX to XXXX\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\n            } else if (validFrom.getTime() > Date.now()) {\n                // from XXXX\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\n            } else if (schedule.valid.to) {\n                // till XXXX\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\n            }\n        }\n        return desc.join(' ');\n    }\n\n    getTimePeriodElements() {\n        const schedule = this.state.schedule;\n        let wholeDay = false;\n        let day = false;\n        let night = false;\n        let fromTo = true;\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\n            wholeDay = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunrise') {\n            day = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunset') {\n            night = true;\n            fromTo = false;\n        }\n\n        return (\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.exactTime = false;\n                        this.onChange(_schedule);\n                    }}/>} label={I18n.t('sch_intervalTime')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>\n                        {!schedule.time.exactTime && (<div>\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.time.start = '00:00';\n                                _schedule.time.end = '23:59';\n                                this.onChange(_schedule);\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\n                                {fromTo && [\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        style={{marginRight: 10}}\n                                        key=\"exactTimeFrom\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.start}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.start = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_from')}\n                                        margin=\"normal\"\n                                    />),\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        key=\"exactTimeTo\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.end}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.end = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_to')}\n                                        margin=\"normal\"\n                                    />)\n                                ]}\n                            </div>\n                        </div>)}\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = '00:00';\n                            _schedule.time.end = '24:00';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunrise';\n                            _schedule.time.end = 'sunset';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunset';\n                            _schedule.time.end = 'sunrise';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\n                    </div>\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\n                </div>\n            </div>);\n    }\n\n    getTimeExactElements() {\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\n\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\n            <div className={this.props.classes.modeDiv}>\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    schedule.time.exactTime = true;\n                    this.onChange(schedule);\n                }}/>} label={I18n.t('sch_exactTime')} />\n            </div>\n            {this.state.schedule.time.exactTime &&\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\n                         onChange={e => {\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                             _schedule.time.start = e.target.value;\n                             this.onChange(_schedule);\n                         }}\n                >\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\n                </Select>)\n            }\n            {this.state.schedule.time.exactTime && !isAstro &&\n                (<div className={this.props.classes.settingsDiv}><TextField\n                    className={this.props.classes.inputTime}\n                    key=\"exactTimeValue\"\n                    value={this.state.schedule.time.start}\n                    type=\"time\"\n                    // inputComponent={TextTime}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.start = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /></div>)\n            }\n        </div>)\n    }\n\n    getDivider() {\n        return (<hr className={this.props.classes.hr}/>);\n    }\n\n    getPeriodModes() {\n        const schedule = this.state.schedule;\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\n        if (isOnce && !schedule.period.once) {\n            schedule.period.once = this.now2string(true);\n        }\n\n        return [\n            // ----- once ---\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.once = _schedule.period.once || this.now2string(true);\n                                    _schedule.period.dows = '';\n                                    _schedule.period.months = '';\n                                    _schedule.period.dates = '';\n                                    _schedule.period.years = 0;\n                                    _schedule.period.yearDate = 0;\n                                    _schedule.period.yearMonth = 0;\n                                    _schedule.period.weeks = 0;\n                                    _schedule.period.days = 0;\n                                    this.onChange(_schedule);\n                                }}/>)}\n                              label={I18n.t('sch_periodOnce')} />\n                </div>\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\n                    {<TextField\n                        className={this.props.classes.inputDate}\n                        type=\"date\"\n                        ref={this.refOnce}\n                        key=\"exactDateAt\"\n                        defaultValue={string2USdate(schedule.period.once)}\n                        //InputProps={{inputComponent: TextTime}}\n                        onChange={e => {\n                            this.timerOnce && clearTimeout(this.timerOnce);\n\n                            this.refOnce.current.style.background = '#ff000030';\n                            this.timerOnce = setTimeout(value => {\n                                this.timerOnce = null;\n                                this.refOnce.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        label={I18n.t('sch_at')}\n                        margin=\"normal\"\n                    />}\n                </div>)}\n            </div>),\n\n\n            // ----- days ---\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.days = 1;\n                                _schedule.period.dows = '';\n                                _schedule.period.months = '';\n                                _schedule.period.dates = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.once = '';\n                               this.onChange(_schedule);\n                           }}/>)}\n                           label={I18n.t('sch_periodDaily')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsDaily()}\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\n                </div>\n            </div>),\n\n\n            // ----- days of weeks ---\n            /*!schedule.period.days && (\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                    <div className={this.props.classes.modeDiv}>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\n                            this.onChange(schedule);\n                        }}/>)}\n                        label={I18n.t('sch_periodWeekdays')} />\n                    </div>\n                    <div className={this.props.classes.settingsDiv}>\n                        {this.getPeriodSettingsWeekdays()}\n                    </div>\n                </div>),\n*/\n            // ----- weeks ---\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\n                        _schedule.period.dows = schedule.period.dows || '[0]';\n                        _schedule.period.months = '';\n                        _schedule.period.dates = '';\n                        _schedule.period.years = 0;\n                        _schedule.period.yearDate = 0;\n                        _schedule.period.yearMonth = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                        this.onChange(_schedule);\n                    }}/>)}\n                    label={I18n.t('sch_periodWeekly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\n                </div>\n            </div>),\n\n\n            // ----- months ---\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.months = 1;\n                            _schedule.period.dows = '';\n                            _schedule.period.dates = '';\n                            _schedule.period.years = 0;\n                            _schedule.period.yearDate = 0;\n                            _schedule.period.yearMonth = 0;\n                            _schedule.period.weeks = 0;\n                            _schedule.period.days = 0;\n                            _schedule.period.once = '';\n                           this.onChange(_schedule);\n                       }}/>)}\n                       label={I18n.t('sch_periodMonthly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsMonthly()}\n                    {schedule.period.months ? (<div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.months = _schedule.period.months || 1;\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\n                                _schedule.period.dows = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.days = 0;\n                                _schedule.period.once = '';\n\n                                this.onChange(_schedule);\n                            }}/>)}\n                            label={I18n.t('sch_periodDates')} /></div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            {this.getPeriodSettingsDates()}\n                        </div>\n                    </div>) : null}\n                </div>\n            </div>),\n\n\n            // ----- years ---\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.years = 1;\n                        _schedule.period.yearDate = 1;\n                        _schedule.period.yearMonth = 1;\n                        _schedule.period.dows = '';\n                        _schedule.period.months = 0;\n                        _schedule.period.dates = '';\n                        _schedule.period.weeks = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                       this.onChange(_schedule);\n                   }}/>)}\n                   label={I18n.t('sch_periodYearly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\n                        <span>{I18n.t('sch_on')}</span>\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\n                            if (_schedule.period.yearDate < 1) _schedule.period.yearDate = 31;\n                            if (_schedule.period.yearDate > 31) _schedule.period.yearDate = 1;\n                            this.onChange(_schedule);\n                        }} />\n                        <Select value={schedule.period.yearMonth}\n                             onChange={e => {\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                 _schedule.period.yearMonth = e.target.value;\n                                 this.onChange(_schedule);\n                             }}\n                        >\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\n                        </Select>\n                    </div>)}\n                </div>\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsMinutes() {\n        return (<div style={{display: 'inline-block'}}>\n            <label>{I18n.t('sch_every')}</label>\n            <Input value={this.state.schedule.time.interval}\n                   style={{ verticalAlign: 'bottom'}}\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                _schedule.time.interval = parseInt(e.target.value, 10);\n                this.onChange(_schedule);\n            }} />\n            <Select value={this.state.schedule.time.mode}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.mode = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n            >\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\n            </Select>\n        </div>);\n    }\n\n    getPeriodSettingsWeekdays() {\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\n        const schedule = this.state.schedule;\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\n        return [\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWorkdays')} /></div>),\n\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0, 6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWeekend')} /></div>),\n\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)\n                }\n                label={I18n.t('sch_periodWeekdays')} />\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\n                    {[1,2,3,4,5,6,0].map(i =>\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dows;\n                                        try {\n                                            dows = JSON.parse(_schedule.period.dows);\n                                        } catch (e) {\n                                            dows = [];\n                                        }\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\n                                            dows.push(i);\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\n                                            dows.splice(dows.indexOf(i), 1);\n                                        }\n                                        dows.sort((a, b) => a - b);\n                                        _schedule.period.dows = JSON.stringify(dows);\n                                        if (_schedule.period.days) {\n                                            _schedule.period.days = 1;\n                                        }\n                                        this.onChange(_schedule);\n                                    }}\n                              />\n                          }\n                          label={I18n.t(WEEKDAYS[i])}\n                        />))}\n                </FormGroup>)}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsDaily() {\n        if (!this.state.schedule.period.days) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 1;\n                                    _schedule.period.dows = '';\n                                   this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 2;\n                                    _schedule.period.dows = '';\n                                    this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.days = parseInt(e.target.value, 10);\n                    _schedule.period.dows = '';\n                    this.onChange(_schedule);\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsWeekly() {\n        if (!this.state.schedule.period.weeks) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 1;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\n                    <div>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 2;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                        label={I18n.t('sch_periodEvery')} />\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\n                            this.onChange(_schedule);\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\n                    </div>\n                </div>),\n            ];\n    }\n\n    getPeriodSettingsDates() {\n        if (!this.state.schedule.period.dates) {\n            return;\n        }\n        const schedule = this.state.schedule;\n\n        const dates = [];\n        for (let i = 1; i <= 31; i++) {\n            dates.push(i);\n        }\n\n        const parsedDates = JSON.parse(schedule.period.dates);\n\n        return (\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = JSON.stringify(dates);\n                                this.onChange(_schedule);\n                            }}\n                      />\n                    } label={I18n.t('sch_all')}\n                />\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.dates = '[]';\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_no_one')}\n                />\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const result = [];\n                                const parsedDates = JSON.parse(_schedule.period.dates);\n                                for (let i = 1; i <= 31; i++) {\n                                    if (parsedDates.indexOf(i) === -1) {\n                                        result.push(i);\n                                    }\n                                }\n                                result.sort((a, b) => a - b);\n                                _schedule.period.dates = JSON.stringify(result);\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_invert')}\n                />)}\n                <div/>\n            {dates.map(i =>\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\n                      control={\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dates;\n                                        try {\n                                            dates = JSON.parse(_schedule.period.dates);\n                                        } catch (e) {\n                                            dates = [];\n                                        }\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\n                                            dates.push(i);\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\n                                            dates.splice(dates.indexOf(i), 1);\n                                        }\n                                        dates.sort((a, b) => a - b);\n                                        _schedule.period.dates = JSON.stringify(dates);\n                                        this.onChange(_schedule);\n                                    }}\n                          />\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\n                />))}\n            </FormGroup>);\n    }\n\n    getPeriodSettingsMonthly() {\n        if (!this.state.schedule.period.months) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\n\n        return [\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 1;\n                                        this.onChange(schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.months = parseInt(e.target.value, 10);\n                    if (_schedule.period.months < 1) _schedule.period.months = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\n            </div>),\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodSpecificMonths')} />\n                {typeof schedule.period.months === 'string' &&\n                (<FormGroup row className={this.props.classes.inputGroup}>\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        const months = [];\n                                                        for (let i = 1; i <= 12; i++) {\n                                                            months.push(i);\n                                                        }\n                                                        _schedule.period.months = JSON.stringify(months);\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_all')}\n                    />\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        _schedule.period.months = '[]';\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_no_one')}\n                    />\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                                                                                             control={\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                                                                                                           onChange={e => {\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                                                                               const result = [];\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\n                                                                                                               for (let i = 1; i <= 12; i++) {\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\n                                                                                                                       result.push(i);\n                                                                                                                   }\n                                                                                                               }\n                                                                                                               result.sort((a, b) => a - b);\n                                                                                                               _schedule.period.months = JSON.stringify(result);\n                                                                                                               this.onChange(_schedule);\n                                                                                                           }}\n                                                                                                 />\n                                                                                             } label={I18n.t('sch_invert')}\n                    />)}\n                    <div/>\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\n                        control={\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\n                                      onChange={e => {\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                          let months;\n                                          try {\n                                              months = JSON.parse(_schedule.period.months);\n                                          } catch (e) {\n                                              months = [];\n                                          }\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\n                                              months.push(i + 1);\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\n                                              months.splice(months.indexOf(i + 1), 1);\n                                          }\n                                          months.sort((a, b) => a - b);\n                                          _schedule.period.months = JSON.stringify(months);\n                                          this.onChange(_schedule);\n                                      }}\n                            />\n                        }\n                        label={I18n.t(month)}\n                    />))}\n                </FormGroup>)}\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsYearly() {\n        if (!this.state.schedule.period.years) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 1;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.years = parseInt(e.target.value, 10);\n                    if (_schedule.period.years < 1) _schedule.period.years = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\n            </div>),\n        ];\n    }\n\n    now2string(isEnd) {\n        const d = new Date();\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n        if (isEnd) {\n            d.setDate(d.getDate() + 2);\n            d.setMilliseconds(d.getMilliseconds() - 1);\n        }\n\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\n    }\n\n    string2date(str) {\n        let parts = str.split('.'); // 31.12.2019\n        if (parts.length === 1) {\n            parts = str.split('-'); // 2018-12-31\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\n        } else {\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\n        }\n    }\n\n    getValidSettings() {\n        const schedule = this.state.schedule;\n        // ----- from ---\n        return (\n            <div className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\n                    <span>{I18n.t('sch_validFrom')}</span>\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <TextField\n                        className={this.props.classes.inputDate}\n                        style={{marginRight: 10}}\n                        key=\"exactTimeFrom\"\n                        inputRef={this.refFrom}\n                        defaultValue={string2USdate(schedule.valid.from)}\n                        type=\"date\"\n                        //inputComponent={TextDate}\n                        onChange={e => {\n                            this.timerFrom && clearTimeout(this.timerFrom);\n\n                            this.refFrom.current.style.background = '#ff000030';\n\n                            this.timerFrom = setTimeout(value => {\n                                this.timerFrom = null;\n                                this.refFrom.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        margin=\"normal\"\n                    />\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.valid.to = _schedule.valid.to ? '' : this.now2string(true);\n                        this.onChange(_schedule);\n                    }}/>)}\n                        label={I18n.t('sch_validTo')} />\n                        {!!schedule.valid.to && (\n                            <TextField\n                                inputRef={this.refTo}\n                                className={this.props.classes.inputDate}\n                                style={{marginRight: 10}}\n                                key=\"exactTimeFrom\"\n                                type=\"date\"\n                                defaultValue={string2USdate(schedule.valid.to)}\n                                //inputComponent={TextDate}\n                                onChange={e => {\n                                    this.timerTo && clearTimeout(this.timerTo);\n\n                                    this.refTo.current.style.background = '#ff000030';\n                                    this.timerTo = setTimeout(value => {\n                                        this.timerTo = null;\n                                        this.refTo.current.style.background = '';\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        const date = this.string2date(value);\n                                        if (date.toString() !== 'Invalid Date') {\n                                            _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                            this.onChange(_schedule);\n                                        }\n                                    }, 1500, e.target.value);\n                                }}\n                                InputLabelProps={{shrink: true,}}\n                                margin=\"normal\"\n                            />)}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\n            <div>{this.state.desc}</div>\n            <div className={this.props.classes.scrollWindow}>\n                <h5>{I18n.t('sch_time')}</h5>\n                {this.getTimePeriodElements()}\n                {this.getTimeExactElements()}\n                {this.getDivider()}\n                <h5>{I18n.t('sch_period')}</h5>\n                {this.getPeriodModes()}\n                {!this.state.schedule.period.once && this.getDivider()}\n                {!this.state.schedule.period.once && this.getValidSettings()}\n            </div>\n        </div>);\n    }\n}\n\nSchedule.propTypes = {\n    schedule: PropTypes.string,\n    onChange: PropTypes.func\n};\n\nexport default withStyles(styles)(Schedule);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles/index';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Radio from '@material-ui/core/Radio';\n\nimport IconOk from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ComplexCron from '../Components/ComplexCron';\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\nimport Schedule from '../Components/Schedule';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\n// Generate cron expression\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    radio: {\n        display: 'inline-block'\n    },\n    dialogPaper: {\n        height: 'calc(100% - 96px)'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron;\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\n        } else {\n            cron = this.props.cron || '{}';\n            if (typeof cron === 'string') {\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\n            }\n        }\n\n        this.state =  {\n            cron,\n            mode: this.props.simple ?\n                'simple' :\n                (typeof cron === 'object' || cron[0] === '{' ?\n                    'wizard' :\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onOk(this.state.cron);\n        this.props.onClose();\n    }\n\n    setMode(mode) {\n        this.setState({mode});\n    }\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                classes={{paper: this.props.classes.dialogPaper}}\n                open={true}\n                aria-labelledby=\"cron-dialog-title\"\n            >\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\n                    {!this.props.simple && (<div>\n                        <Radio\n                            key=\"wizard\"\n                            checked={this.state.mode === 'wizard'}\n                            onChange={e => this.setMode('wizard')}\n                        /><label onClick={e => this.setMode('wizard')}\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\n\n                        <Radio\n                            key=\"simple\"\n                            checked={this.state.mode === 'simple'}\n                            onChange={e => this.setMode('simple')}\n                        /><label onClick={e => this.setMode('simple')}\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\n                        <Radio\n                            key=\"complex\"\n                            checked={this.state.mode === 'complex'}\n                            onChange={e => this.setMode('complex')}\n                        /><label onClick={e => this.setMode('complex')} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\n\n                    {this.state.mode === 'simple' &&\n                        (<SimpleCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'wizard' &&\n                        (<Schedule\n                            schedule={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'complex' &&\n                        (<ComplexCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()}     color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogCron.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    cron: PropTypes.string,\n    cancel: PropTypes.string,\n    ok: PropTypes.string,\n    simple: PropTypes.bool,\n    language: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogCron);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && this.state.source.indexOf('return ') === -1) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth=\"lg\"\n            classes={{paper: classes.dialog}}\n            fullWidth={true}\n            open={true}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => this.handleOk()} color=\"primary\"><IconSave className={this.props.classes.buttonIcon}/>{I18n.t('Save')}</Button>\n                <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import { TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomInput = ({ fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            if (!customValue) setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;","import { createElement, useState, useEffect } from 'react';\nimport * as Icons from '@material-ui/icons/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img src={url || ''} className={className} alt=\"\"/>;\n    } else {\n        return createElement(Icons[iconName || 'Help'], { className });\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;","import I18n from '@iobroker/adapter-react/i18n';\r\n\r\nlet lang;\r\nconst getName = obj => {\r\n    lang = lang || I18n.getLanguage();\r\n    if (typeof obj === 'object') {\r\n        return obj[lang] || obj.en;\r\n    } else {\r\n        return obj;\r\n    }\r\n};\r\n\r\nconst utils = {\r\n    getName\r\n};\r\n\r\nexport default utils;","import React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils'\n\nconst CardMenu = ({ name, id, active, icon, adapter, socket }) => {\n    return <div key={id} className={`${cls.switchesItem} ${active ? cls.switchesItemActive : null}`}>\n        <MaterialDynamicIcon iconName={icon} className={cls.iconThem} adapter={adapter} socket={socket}/>\n        <span>\n            {utils.getName(name)}\n        </span>\n    </div>;\n}\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: ''\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules, [name]: {\n                    ...userRules[name], [additionalParameter]:\n                        [...userRules[name][additionalParameter]]\n                }\n            }\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules, [name]: [\n                    ...userRules[name]\n                ]\n            }\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","import { Button } from '@material-ui/core';\nimport React from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport cls from './style.module.scss';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={clsx(cls.root, className)}\n        margin=\"normal\"\n        size={size}\n    >{value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomButton;","import { Checkbox } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);","import { FormControl, FormHelperText, Input, MenuItem, Select, withStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\n\nconst SelectMod = withStyles({\n    root: {\n        margin: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n})(FormControl);\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                setOptions(_options);\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                }\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <SelectMod\n        className={className}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={customValue ? value : inputText}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={<Input name={attr} id={attr + '-helper'} />}\n        >\n            {options.map(item => (<MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>))}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </SelectMod>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { Dialog } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst useStyles = makeStyles((theme) => ({\n    background: {\n        // backgroundColor: '#fdf3ffdb',\n        overflowY: 'visible',\n    },\n})\n);\n\nconst CustomModal = ({ open, close, children, titleButton, titleButton2, buttonClick }) => {\n    const classes = useStyles();\n    return (\n        <Dialog\n            open={open}\n            maxWidth='xl'\n            disableEscapeKeyDown={true}\n            onClose={close}\n            classes={{ paper: classes.background }}\n            className={cls.modalWrapper}\n        >\n            <div className={cls.modalContentWrapper}>\n                <div className={cls.close} onClick={close} />\n                {children}\n                <div className={`${cls.modalButtonBlock} ${titleButton ? cls.modalButtonBlockTwo : ''}`}>\n                    {titleButton && <Button fullWidth onClick={buttonClick}>\n                        {titleButton}\n                    </Button>}\n                    {titleButton2 && <Button fullWidth onClick={close}>\n                        {titleButton2}\n                    </Button>}\n                </div>\n            </div>\n        </Dialog>\n    );\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    buttonClick: () => { },\n    close: () => { }\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    close: PropTypes.func,\n    children: PropTypes.any,\n    titleButton: PropTypes.string,\n    titleButton2: PropTypes.string,\n    buttonClick: PropTypes.func\n};\n\nexport default CustomModal;","import { FormControl, FormHelperText, Input, MenuItem, Select } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport clsx from 'clsx';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className }) => {\n    const [inputText, setInputText] = useState(value || options[0].value);\n    return <FormControl\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            value={customValue ? value : inputText}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort || onlyItem.title;\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? item.titleShort || item.title : item);\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title || selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly));\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value));\n                        }\n                    }\n                }\n                onChange(e.target.value);\n            }}\n            input={<Input name={attr} id={attr + '-helper'} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;","import { Slider } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue }) => {\n    const [inputText, setInputText] = useState(0);\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        // step={10}\n        // marks\n        min={0}\n        max={100}\n        error={!!error}\n        fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            if (!customValue) setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","import { FormControlLabel, Switch } from '@material-ui/core';\nimport React, { memo, useState } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);","import { TextField } from '@material-ui/core';\nimport React from 'react';\nimport cls from './style.module.scss';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nconst CustomTime = ({ table, value, title, attr, options, style, native, onChange, className }) => {\n    return <TextField\n        id=\"time\"\n        // label=\"Alarm clock\"\n        type=\"time\"\n        defaultValue=\"07:30\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    // options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    // native: PropTypes.object.isRequired,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport { Menu, MenuItem } from '@material-ui/core';\n\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport clsx from 'clsx';\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : ''\n        }\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            showSelectId: false,\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings\n        };\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name } = input;\n        return <Fragment key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock } = input;\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature }, value) => <div\n        className={clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {value}\n    </div>\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n        return visibility ? <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInput\n                className={className}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomCheckbox\n                className={className}\n                autoComplete=\"off\"\n                label=\"number\"\n                variant=\"outlined\"\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomSlider\n                    customValue\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    }\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomButton\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderObjectID = (input, value, onChange) => {\n        const { showSelectId, settings } = this.state;\n        const { className, socket } = this.props;\n        const { attr, openCheckbox } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                this.props.socket.getObject(value)\n                    .then(obj =>\n                        this.setState({ [settings[attr]]: obj }, () => this.onTagChange(obj.common)));\n            }, 0);\n        }\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    // fullWidth\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ showSelectId: true })}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                key=\"tableSelect\"\n                // imagePrefix=\"../..\"\n                dialogName={'javascript'}\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly={true}\n                // selected={this.selectIdValue}\n                onClose={() => this.setState({ showSelectId: false })}\n                onOk={(selected, name, common) =>\n                    this.setState({ showSelectId: false }, () => {\n                        onChange(selected);\n                        // read type of object\n                        this.props.socket.getObject(selected)\n                            .then(obj =>\n                                onChange(obj.common.type, attr + 'Type'));\n                    })}\n            /> : null}\n        </div> : null;\n    }\n\n    renderIconTag = () => <div className={cls.iconTag}>\n        {this.state.settings.tagCard}\n    </div>;\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, multiple } = input;\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomSelect\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, adapter } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{frontText}</div>}\n            <CustomInstance\n                socket={this.props.socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({hideAttributes : [...this.state.hideAttributes, attr]}, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{backText}</div>}\n        </div>;\n    }\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal, settings } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText } = input;\n        console.log(settings[attr])\n        return <div key={attr}>\n            <div className={clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{frontText}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    fullWidth\n                    style={{ width: 80, marginLeft: 5 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{backText}</div>}\n            </div>\n            <CustomModal\n                open={openModal}\n                buttonClick={() => this.setState({ openModal: false })}\n                close={() => this.setState({ openModal: false })}\n                titleButton={'ok'}\n                titleButton2={'cancel'}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    rows={10}\n                    multiline\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n            </CustomModal>\n            {nameBlock && <div className={cls.nameBlock}>{nameBlock}</div>}\n        </div>;\n    };\n\n    /////////////////////////////\n    tagGenerate = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        console.log('tagCardArray',tagCardArray)\n        let { tagCard } = this.state.settings;\n        let result = tagCard;\n        if (tagCardArray.length > 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={(e) => this.setState({ openTagMenu: e.currentTarget })}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return <MenuItem key={tag}\n                            selected={tag === tagCard}\n                            style={{ placeContent: 'space-between' }}\n                            onClick={e => {\n                                const settings = { ...this.state.settings, tagCard: tag };\n                                this.setState({ openTagMenu: null, settings }, () => {\n                                    this.props.onChange(settings);\n                                    this.onTagChange(tag);\n                                });\n                            }}>{I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{el.title2}</div>}</MenuItem>\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    tagGenerateNew = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n        console.log(newTagCardArray)\n        if (tagCard && newTagCardArray.length < 4) {\n            const newSettings = { ...settings };\n            if (newTagCardArray.indexOf(tagCard) === newTagCardArray.length - 1) {\n                newSettings.tagCard = newTagCardArray[0];\n                return this.setState({ settings: newSettings }, () => {\n                    this.props.onChange(newSettings)\n                });\n            } else {\n                newSettings.tagCard = newTagCardArray[newTagCardArray.indexOf(tagCard) + 1];\n                this.setState({ settings: newSettings }, () => {\n                    this.props.onChange(newSettings)\n                });\n            }\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n    };\n\n    componentDidUpdate = (prevProps) => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            console.log(this.props.settings._id, this.props.onUpdate)\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = (attribute) => {\n        return (value, attr) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n            settings[attr || attribute] = value;\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n            });\n        }\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard } } = this.state;\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon iconName={icon} className={cls.iconThemCard} adapter={adapter} socket={this.props.socket}/>}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {name && name.en}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            !!settings[attr] ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={e => this.tagGenerateNew()} className={cls.tagCard}>{this.tagGenerate()}</div>\n            </div>}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;","import GenericBlock from '../GenericBlock';\nimport i18n from '@iobroker/adapter-react/i18n';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    \"en\":       {name: \"Google - English\",         engine: \"google\",  params: []},\n    \"de\":       {name: \"Google - Deutsch\",         engine: \"google\",  params: []},\n    \"ru\":       {name: \"Google - Русский\",         engine: \"google\",  params: []},\n    \"it\":       {name: \"Google - Italiano\",        engine: \"google\",  params: []},\n    \"es\":       {name: \"Google - Espaniol\",        engine: \"google\",  params: []},\n    \"fr\":       {name: \"Google - Français\",        engine: \"google\",  params: []},\n    \"ru_YA\":    {name: \"Yandex - Русский\",         engine: \"yandex\",  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed']},\n    \"ru_YA_CLOUD\":   {name: \"Yandex Cloud - Русский\",   engine: \"yandexCloud\",  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil']},\n\n    \"en-US\":    {name: \"PicoTTS - Englisch US\",    engine: \"PicoTTS\", params: []},\n    \"en-GB\":    {name: \"PicoTTS - Englisch GB\",    engine: \"PicoTTS\", params: []},\n    \"de-DE\":    {name: \"PicoTTS - Deutsch\",        engine: \"PicoTTS\", params: []},\n    \"it-IT\":    {name: \"PicoTTS - Italiano\",       engine: \"PicoTTS\", params: []},\n    \"es-ES\":    {name: \"PicoTTS - Espaniol\",       engine: \"PicoTTS\", params: []},\n    \"fr-FR\":    {name: \"PicoTTS - Français\",       engine: \"PicoTTS\", params: []},\n\n    \"ru-RU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"Cloud - Русский - Татьяна\"},\n    \"ru-RU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"Cloud - Русский - Максим\"},\n    \"de-DE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"Cloud - Deutsch - Marlene\"},\n    \"de-DE_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"Cloud - Deutsch - Hans\"},\n    \"en-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"Cloud - en-US - Female - Salli\"},\n    \"en-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"Cloud - en-US - Male - Joey\"},\n    \"da-DK_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"Cloud - da-DK - Female - Naja\"},\n    \"da-DK_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"Cloud - da-DK - Male - Mads\"},\n    \"en-AU_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"Cloud - en-AU - Female - Nicole\"},\n    \"en-AU_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"Cloud - en-AU - Male - Russell\"},\n    \"en-GB_CLOUD_Female_Amy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"Cloud - en-GB - Female - Amy\"},\n    \"en-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"Cloud - en-GB - Male - Brian\"},\n    \"en-GB_CLOUD_Female_Emma\":  {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"Cloud - en-GB - Female - Emma\"},\n    \"en-GB-WLS_CLOUD_Female\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"Cloud - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_CLOUD_Male\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"Cloud - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"Cloud - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"Cloud - cy-GB - Male - Geraint\"},\n    \"en-IN_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"Cloud - en-IN - Female - Raveena\"},\n    \"en-US_CLOUD_Male_Chipmunk\":{gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"Cloud - en-US - Male - Chipmunk\"},\n    \"en-US_CLOUD_Male_Eric\":    {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"Cloud - en-US - Male - Eric\"},\n    \"en-US_CLOUD_Female_Ivy\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"Cloud - en-US - Female - Ivy\"},\n    \"en-US_CLOUD_Female_Jennifer\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Jennifer\",   ssml: true, name: \"Cloud - en-US - Female - Jennifer\"},\n    \"en-US_CLOUD_Male_Justin\":  {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"Cloud - en-US - Male - Justin\"},\n    \"en-US_CLOUD_Female_Kendra\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",     ename: \"Kendra\",     ssml: true, name: \"Cloud - en-US - Female - Kendra\"},\n    \"en-US_CLOUD_Female_Kimberly\": {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"en-US\",   ename: \"Kimberly\",   ssml: true, name: \"Cloud - en-US - Female - Kimberly\"},\n    \"es-ES_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"Cloud - es-ES - Female - Conchita\"},\n    \"es-ES_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"Cloud - es-ES - Male - Enrique\"},\n    \"es-US_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"Cloud - es-US - Female - Penelope\"},\n    \"es-US_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"Cloud - es-US - Male - Miguel\"},\n    \"fr-CA_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"Cloud - fr-CA - Female - Chantal\"},\n    \"fr-FR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"Cloud - fr-FR - Female - Celine\"},\n    \"fr-FR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"Cloud - fr-FR - Male - Mathieu\"},\n    \"is-IS_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"Cloud - is-IS - Female - Dora\"},\n    \"is-IS_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"Cloud - is-IS - Male - Karl\"},\n    \"it-IT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"Cloud - it-IT - Female - Carla\"},\n    \"it-IT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"Cloud - it-IT - Male - Giorgio\"},\n    \"nb-NO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"Cloud - nb-NO - Female - Liv\"},\n    \"nl-NL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"Cloud - nl-NL - Female - Lotte\"},\n    \"nl-NL_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"Cloud - nl-NL - Male - Ruben\"},\n    \"pl-PL_CLOUD_Female_Agnieszka\":{gender: \"Female\", engine: \"cloud\",params: ['cloud'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"Cloud - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_CLOUD_Male_Jacek\":   {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"Cloud - pl-PL - Male - Jacek\"},\n    \"pl-PL_CLOUD_Female_Ewa\":   {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"Cloud - pl-PL - Female - Ewa\"},\n    \"pl-PL_CLOUD_Male_Jan\":     {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"Cloud - pl-PL - Male - Jan\"},\n    \"pl-PL_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"Cloud - pl-PL - Female - Maja\"},\n    \"pt-BR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"Cloud - pt-BR - Female - Vitoria\"},\n    \"pt-BR_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"Cloud - pt-BR - Male - Ricardo\"},\n    \"pt-PT_CLOUD_Male\":         {gender: \"Male\",   engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"Cloud - pt-PT - Male - Cristiano\"},\n    \"pt-PT_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"Cloud - pt-PT - Female - Ines\"},\n    \"ro-RO_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"Cloud - ro-RO - Female - Carmen\"},\n    \"sv-SE_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"Cloud - sv-SE - Female - Astrid\"},\n    \"tr-TR_CLOUD_Female\":       {gender: \"Female\", engine: \"cloud\",   params: ['cloud'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"Cloud - tr-TR - Female - Filiz\"},\n\n    \"ru-RU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Tatyana\",    ssml: true, name: \"AWS Polly - Русский - Татьяна\"},\n    \"ru-RU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ru-RU\",      ename: \"Maxim\",      ssml: true, name: \"AWS Polly - Русский - Максим\"},\n    \"de-DE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Marlene\",    ssml: true, name: \"AWS Polly - Deutsch - Marlene\"},\n    \"de-DE_AP_Female_Vicky\":    {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Vicky\",      ssml: true, name: \"AWS Polly - Deutsch - Vicky\"},\n    \"de-DE_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"de-DE\",      ename: \"Hans\",       ssml: true, name: \"AWS Polly - Deutsch - Hans\"},\n    \"en-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Salli\",      ssml: true, name: \"AWS Polly - en-US - Female - Salli\"},\n    \"en-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Joey\",       ssml: true, name: \"AWS Polly - en-US - Male - Joey\"},\n    \"da-DK_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Naja\",       ssml: true, name: \"AWS Polly - da-DK - Female - Naja\"},\n    \"da-DK_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"da-DK\",      ename: \"Mads\",       ssml: true, name: \"AWS Polly - da-DK - Male - Mads\"},\n    \"en-AU_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Nicole\",     ssml: true, name: \"AWS Polly - en-AU - Female - Nicole\"},\n    \"en-AU_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-AU\",      ename: \"Russell\",    ssml: true, name: \"AWS Polly - en-AU - Male - Russell\"},\n    \"en-GB_AP_Female_Amy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Amy\",        ssml: true, name: \"AWS Polly - en-GB - Female - Amy\"},\n    \"en-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Brian\",      ssml: true, name: \"AWS Polly - en-GB - Male - Brian\"},\n    \"en-GB_AP_Female_Emma\":     {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB\",      ename: \"Emma\",       ssml: true, name: \"AWS Polly - en-GB - Female - Emma\"},\n    \"en-GB-WLS_AP_Female\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Female - Gwyneth\"},\n    \"en-GB-WLS_AP_Male\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-GB-WLS\",  ename: \"Geraint\",    ssml: true, name: \"AWS Polly - en-GB-WLS - Male - Geraint\"},\n    \"cy-GB_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Gwyneth\",    ssml: true, name: \"AWS Polly - cy-GB - Female - Gwyneth\"},\n    \"cy-GB_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"cy-GB\",      ename: \"Geraint\",    ssml: true, name: \"AWS Polly - cy-GB - Male - Geraint\"},\n    \"en-IN_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-IN\",      ename: \"Raveena\",    ssml: true, name: \"AWS Polly - en-IN - Female - Raveena\"},\n    \"en-US_AP_Male_Chipmunk\":   {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Chipmunk\",   ssml: true, name: \"AWS Polly - en-US - Male - Chipmunk\"},\n    \"en-US_AP_Male_Eric\":       {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Eric\",       ssml: true, name: \"AWS Polly - en-US - Male - Eric\"},\n    \"en-US_AP_Female_Ivy\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Ivy\",        ssml: true, name: \"AWS Polly - en-US - Female - Ivy\"},\n    \"en-US_AP_Female_Jennifer\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Jennifer\",   ssml: true, name: \"AWS Polly - en-US - Female - Jennifer\"},\n    \"en-US_AP_Male_Justin\":     {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Justin\",     ssml: true, name: \"AWS Polly - en-US - Male - Justin\"},\n    \"en-US_AP_Female_Kendra\":   {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kendra\",     ssml: true, name: \"AWS Polly - en-US - Female - Kendra\"},\n    \"en-US_AP_Female_Kimberly\": {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"en-US\",      ename: \"Kimberly\",   ssml: true, name: \"AWS Polly - en-US - Female - Kimberly\"},\n    \"es-ES_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Conchita\",   ssml: true, name: \"AWS Polly - es-ES - Female - Conchita\"},\n    \"es-ES_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-ES\",      ename: \"Enrique\",    ssml: true, name: \"AWS Polly - es-ES - Male - Enrique\"},\n    \"es-US_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Penelope\",   ssml: true, name: \"AWS Polly - es-US - Female - Penelope\"},\n    \"es-US_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"es-US\",      ename: \"Miguel\",     ssml: true, name: \"AWS Polly - es-US - Male - Miguel\"},\n    \"fr-CA_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-CA\",      ename: \"Chantal\",    ssml: true, name: \"AWS Polly - fr-CA - Female - Chantal\"},\n    \"fr-FR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Celine\",     ssml: true, name: \"AWS Polly - fr-FR - Female - Celine\"},\n    \"fr-FR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"fr-FR\",      ename: \"Mathieu\",    ssml: true, name: \"AWS Polly - fr-FR - Male - Mathieu\"},\n    \"is-IS_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Dora\",       ssml: true, name: \"AWS Polly - is-IS - Female - Dora\"},\n    \"is-IS_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"is-IS\",      ename: \"Karl\",       ssml: true, name: \"AWS Polly - is-IS - Male - Karl\"},\n    \"it-IT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Carla\",      ssml: true, name: \"AWS Polly - it-IT - Female - Carla\"},\n    \"it-IT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"it-IT\",      ename: \"Giorgio\",    ssml: true, name: \"AWS Polly - it-IT - Male - Giorgio\"},\n    \"nb-NO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nb-NO\",      ename: \"Liv\",        ssml: true, name: \"AWS Polly - nb-NO - Female - Liv\"},\n    \"nl-NL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Lotte\",      ssml: true, name: \"AWS Polly - nl-NL - Female - Lotte\"},\n    \"nl-NL_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"nl-NL\",      ename: \"Ruben\",      ssml: true, name: \"AWS Polly - nl-NL - Male - Ruben\"},\n    \"pl-PL_AP_Female_Agnieszka\":{gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Agnieszka\",  ssml: true, name: \"AWS Polly - pl-PL - Female - Agnieszka\"},\n    \"pl-PL_AP_Male_Jacek\":      {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jacek\",      ssml: true, name: \"AWS Polly - pl-PL - Male - Jacek\"},\n    \"pl-PL_AP_Female_Ewa\":      {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Ewa\",        ssml: true, name: \"AWS Polly - pl-PL - Female - Ewa\"},\n    \"pl-PL_AP_Male_Jan\":        {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Jan\",        ssml: true, name: \"AWS Polly - pl-PL - Male - Jan\"},\n    \"pl-PL_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pl-PL\",      ename: \"Maja\",       ssml: true, name: \"AWS Polly - pl-PL - Female - Maja\"},\n    \"pt-BR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Vitoria\",    ssml: true, name: \"AWS Polly - pt-BR - Female - Vitoria\"},\n    \"pt-BR_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-BR\",      ename: \"Ricardo\",    ssml: true, name: \"AWS Polly - pt-BR - Male - Ricardo\"},\n    \"pt-PT_AP_Male\":            {gender: \"Male\",   engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Cristiano\",  ssml: true, name: \"AWS Polly - pt-PT - Male - Cristiano\"},\n    \"pt-PT_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"pt-PT\",      ename: \"Ines\",       ssml: true, name: \"AWS Polly - pt-PT - Female - Ines\"},\n    \"ro-RO_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"ro-RO\",      ename: \"Carmen\",     ssml: true, name: \"AWS Polly - ro-RO - Female - Carmen\"},\n    \"sv-SE_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"sv-SE\",      ename: \"Astrid\",     ssml: true, name: \"AWS Polly - sv-SE - Female - Astrid\"},\n    \"tr-TR_AP_Female\":          {gender: \"Female\", engine: \"polly\",   params: ['accessKey', 'secretKey', 'region'], language: \"tr-TR\",      ename: \"Filiz\",      ssml: true, name: \"AWS Polly - tr-TR - Female - Filiz\"}\n};\n\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return '// no text defined'\n        } else {\n            let value = '';\n            if (context.trigger?.oidType) {\n                value = '.replace(/%s/g, obj.state.value)';\n            }\n            return `await setStateAsync(\"${config.instance}.tts.text\", \"${config.language && config.language !== '_' ? config.language + ';' : ''}${config.volume ? config.volume + ';' : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${value});`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        const lang = i18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({title: sayitEngines[lang].name, value: lang}));\n        options.unshift({title: 'Default', value: ''});\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options: options,\n                    defaultValue: '',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    frontText: '0',\n                    backText: '100'\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Say It',\n                ru: 'Say It'\n            },\n            id: 'ActionSayText',\n            adapter: 'sayit'\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    if (__%%CONDITION%%__) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION = `async function () {\n    if (__%%CONDITION%%__) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n    jsonTriggers.forEach(trigger => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {trigger}\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n\n            triggers.push(\n                text\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n            );\n        }\n    });\n\n    return triggers.join('\\n\\n');\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.name === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length')) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push(_ors.join(' && '));\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                result.push(found.compile(ors, context));\n            }\n        }\n\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return '(' + result.join(') || (') + ')';\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*const demo = ${JSON.stringify(json, null, 2)};*/\\n`;\n\n    return code + '\\n//' + JSON.stringify(json);\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_STATE\n};\n\nexport default Compile;","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../Compile\";\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.value)';\n        }\n        if (!config.recipients) {\n            return '// no recipients defined'\n        } else {\n            return `sendTo(\"${config.instance || 'email.0'}\", {\n            to:      \"${config.recipients || ''}\",\n            subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${value},\n            text:    \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${value}\n        });`;\n        }\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Send email',\n                ru: 'Send email'\n            },\n            id: 'ActionSendEmail',\n            adapter: 'email',\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../Compile\";\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.value)';\n        }\n        return `sendTo(\"${config.instance}\", ${config.user ? `{user: ${config.user}, text: \"${text}\"${value}}` : `\"${text}\"${value}`});`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(instance + '.communicate.users');\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            });\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({title: 'all', value: ''});\n                } catch (e) {\n                    users = [{title: 'all', value: ''}];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        }\n                    ]\n                });\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Telegram',\n                ru: 'Telegram'\n            },\n            id: 'ActionTelegram',\n            adapter: 'telegram'\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","import GenericBlock from '../GenericBlock';\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `if (__%%CONDITION%%__) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'interval',\n                    defaultValue: 'On script save or adapter start',\n                },\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'Script save', ru: 'Script save' },\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../Compile\";\nimport CustomInput from \"../CustomInput\";\nimport CustomButton from \"../CustomButton\";\nimport CustomModal from \"../CustomModal\";\nimport ComplexCron from \"../../../ComplexCron\";\nimport Schedule from \"../../../Schedule\";\n// import CustomTime from \"../CustomTime\";\nimport SunCalc from \"suncalc2\";\nimport React from \"react\"; // @iobroker/javascript-rules\nimport convertCronToText from '../../../simple-cron/cronText';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n    }\n\n    static compile(config, context) {\n        let text = '';\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${Compile.STANDARD_FUNCTION}, ${config.interval || 1} * ${config.attr === 's' ? 1000 : (config.attr === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${Compile.STANDARD_FUNCTION});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow.length && !config?.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${Compile.STANDARD_FUNCTION});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${Compile.STANDARD_FUNCTION});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        const sunValue = SunCalc.getTimes(new Date(), 51.5, -0.1);\n        const options = Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: TriggerScheduleBlock._time2String(sunValue[name])\n        }));\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: 'minute(s)',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({inputs});\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        }\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderNumber',\n                            prefix: {\n                                en: 'every'\n                            },\n                            attr: 'interval',\n                            frontText: 'every',\n                            defaultValue: 30,\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'unit',\n                            defaultValue: 'second(s)',\n                            options: [\n                                { value: 'second(s)', title: 'second(s)' },\n                                { value: 'minute(s)', title: 'minute(s)' },\n                                { value: 'hour(s)', title: 'hour(s)' }\n                            ]\n                        }\n                    ]\n                });\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                });\n                break;\n\n            case 'wizard':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: 'Every hour from 8:00 to 17:00',\n                        }\n                    ]\n                });\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: \"07:30\",\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                });\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: 'text',\n                        defaultValue: value\n                    },!!settings['text'] ? settings['text'] : value,onChange)}\n                </div>\n                <CustomButton\n                    // fullWidth\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                buttonClick={async () => {\n                    await onChange(textCron, 'text');\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false })\n                }}\n                close={() => this.setState({ openDialog: false })}\n                titleButton={'add'}\n                titleButton2={'close'}>\n                <ComplexCron\n                    cronExpression={!!settings[input.attr] ? '' : settings[attr]}\n                    onChange={(el) => {\n                        textCron = el\n                    }} />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: 'every hour at 0 minutes',\n                attr: 'addText',\n                signature:true\n            },!!settings['addText'] ? settings['addText'] : 'every hour at 0 minutes',onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let textWizard = '';\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={value}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    // fullWidth\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                buttonClick={() => {\n                    onChange(textWizard);\n                    this.setState({ openDialog: false });\n                }}\n                close={() => this.setState({ openDialog: false })}\n                titleButton={'add'}\n                titleButton2={'close'}>\n                <Schedule onChange={(_, text) => textWizard = text} />\n            </CustomModal>\n        </div>;\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'Schedule', ru: 'Schedule' },\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import GenericBlock from '../GenericBlock';\nimport Compile from '../../Compile';\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `on({id: \"${config.oid || ''}\", change: ${config.tagCard === 'on update' ? 'any' : 'ne'}}, ${Compile.STANDARD_FUNCTION_STATE});`\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: ''\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: { en: 'State', ru: 'State' },\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update']\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\n\nexport default TriggerState;\n","import GenericBlock from '../GenericBlock';\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        if (config.tagCard !== 'includes') {\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    return `obj.state.value ${config.tagCard} \"${config.value}\"`;\n                } else {\n                    return `obj.state.value ${config.tagCard} ${config.value}`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    return `await getStateAsync(\"${config.oid}\").val ${config.tagCard} \"${config.value}\"`;\n                } else {\n                    return `await getStateAsync(\"${config.oid}\").val ${config.tagCard} ${config.value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                if (context?.trigger?.oidType === 'string') {\n                    return `obj.state.value.includes(\"${config.value}\")`;\n                } else {\n                    return `false`;\n                }\n            } else {\n                if (config.oidType === 'string') {\n                    return `(await getStateAsync(\"${config.oid}\").val).includes(\"${config.value}\")`;\n                } else {\n                    return `false`;\n                }\n            }\n        }\n    }\n\n    _setInputs(useTrigger) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        if (isAllTriggersOnState && useTrigger) {\n            this.setState({\n                inputs: [\n                    {\n                        backText: 'use trigger value',\n                        nameRender: 'renderCheckbox',\n                        attr: 'useTrigger',\n                        defaultValue: false,\n                    },\n                    {\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    },\n                ],\n                openCheckbox: false,\n                iconTag: true\n            });\n        } else if (isAllTriggersOnState) {\n            this.setState({\n                inputs: [\n                    {\n                        backText: 'use trigger value',\n                        nameRender: 'renderCheckbox',\n                        attr: 'useTrigger',\n                    },\n                    {\n                        nameRender: 'renderObjectID',\n                        attr: 'oid',\n                        defaultValue: '',\n                    },\n                    {\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value',\n                        frontText: 'compare with',\n                    },\n                ],\n                iconTag: true\n            });\n        } else {\n            this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderObjectID',\n                        attr: 'oid',\n                        defaultValue: '',\n                    },\n                    {\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value',\n                        frontText: 'compare with',\n                    },\n                ],\n                iconTag: true\n            });\n        }\n    }\n\n    onValueChanged(value, attr, context) {\n        if (attr === 'useTrigger') {\n            this._setInputs(value);\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: { en: 'State condition', ru: 'State condition' },\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [{\n                title: '>',\n                title2: '[greater]'\n            }, {\n                title: '>=',\n                title2: '[greater or equal]'\n            }, {\n                title: '<',\n                title2: '[less]'\n            }, {\n                title: '<=',\n                title2: '[less or equal]'\n            }, {\n                title: '=',\n                title2: '[equal]',\n            }, {\n                title: '<>',\n                title2: '[not equal]'\n            }, {\n                title: '.',\n                title2: '[includes]'\n            }],\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        return `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'interval',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: tag?.text || tagCard,\n                    nameRender: 'renderTime',\n                    attr: 'time',\n                    defaultValue: '12:00',\n                },\n            ],\n            iconTag:true\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: {\n                en: 'Time condition',\n                ru: 'Time condition'\n            },\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import GenericBlock from '../GenericBlock';\nimport Compile from \"../../Compile\";\nimport SunCalc from \"suncalc2\";\n\nclass ConditionAstrological extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstrological.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        return `formatDate(Date.now(), 'hh:mm')  ${compare} formatDate(getAstroDate(\"${config.astro}\", 'hh:mm')`;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        const sunValue = SunCalc.getTimes(new Date(), 51.5, -0.1);\n        const options = Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstrological._time2String(sunValue[name])}]`,\n            order: ConditionAstrological._time2String(sunValue[name])\n        }));\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstrological.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${tag.text} ${ConditionAstrological._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: 'greater than',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: 'minute(s)',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon'\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({inputs});\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: {\n                en: 'Astrological',\n                ru: 'Astrological'\n            },\n            id: 'ConditionAstrological',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to'\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to'\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than'\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to'\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than'\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to'\n                }\n            ],\n        }\n    }\n\n    getData() {\n        return ConditionAstrological.getStaticData();\n    }\n}\n\nexport default ConditionAstrological;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === undefined || value === null) {\n            value = '';\n        }\n\n        if (parseFloat(config.value).toString() !== config.value && config.value !== 'true' && config.value !== 'false') {\n            value = `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n        }\n\n        return `await setStateAsync(\"${config.oid}\", ${value}, ${config.tagCard === 'update'});`;\n    }\n\n    onTagChange(common) {\n        let obg;\n        let type = '';\n        console.log('oid', common)\n        if (common) {\n            if (common.type === 'string') {\n                type = 'number'\n            }\n            else if (common.type === 'boolean') {\n                type = 'boolean'\n            }\n            else {\n                type = ''\n            }\n        }\n        switch (type) {\n            case 'number':\n                obg = {\n                    attr: 'value',\n                    backText: common?.unit || '',\n                    frontText: 'with',\n                    nameRender: 'renderNumber',\n                    defaultValue: 30\n                }\n                break;\n\n            case 'control1':\n                obg = {\n                    nameRender: 'renderSlider',\n                    attr: 'value',\n                    defaultValue: 50,\n                    frontText: '0',\n                    backText: '100'\n                }\n                break;\n\n            case 'control2':\n                obg = {\n                    attr: 'value',\n                    nameRender: 'renderSelect',\n                    frontText: 'Instance:',\n                    options: [{\n                        value: 'State1',\n                        title: 'State1',\n                    }],\n                    defaultValue: 'State1',\n                }\n                break;\n\n            case 'boolean':\n                obg = {\n                    backText: 'true',\n                    frontText: 'false',\n                    nameRender: 'renderSwitch',\n                    defaultValue: false\n                }\n                break;\n\n            case 'control4':\n                obg = {\n                    nameRender: 'renderButton',\n                    defaultValue: 'Press'\n                }\n                break;\n\n            case 'control5':\n                obg = {\n                    nameRender: 'renderColor',\n                    defaultValue: 30\n                }\n                break;\n\n            default:\n                obg = {};\n                break;\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                obg\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: { en: 'Set state action', ru: 'Set state action' },\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update']\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default ActionSetState;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `exec(\"${(config.exec || '').replace(/\"/g, '\\\\\"')}\");`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command'\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Exec',\n                ru: 'Exec'\n            },\n            id: 'ActionExec',\n            icon: 'Apps',\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `request(\"${(config.url || '').replace(/\"/g, '\\\\\"')}\");`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL'\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'HTTP Call',\n                ru: 'HTTP Call'\n            },\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `console.log(\"${(config.text || '').replace(/\"/g, '\\\\\"')}\");`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text'\n                }\n            ]\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Print text',\n                ru: 'Print text'\n            },\n            id: 'ActionPrintText',\n            icon: 'Subject',\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `await wait(${config.pause} * ${config.unit === 'ms' ? 1 : \n            (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))});`;\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' }\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' }\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause)\n                },\n            ]\n        });\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: {\n                en: 'Pause',\n                ru: 'Pause'\n            },\n            id: 'ActionPause',\n            icon: 'Pause',\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstrological from '../Blocks/ConditionAstrological';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstrological,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n];\n\nexport default StandardBlocks;","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n}\n\nexport const ContextWrapperCreate = createContext();\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [state, setState] = useState({\n        blocks: null,\n        onUpdate: false\n    });\n\n    useEffect(() => {\n        if (state.onUpdate) {\n            setState({ ...state, onUpdate: false })\n        }\n    }, [state, state.onUpdate]);\n\n    useEffect(() => {\n        socket.getAdapterInstances()\n            .then(instances => {\n                const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                    instances.find(obj => obj?.common?.name === adapter));\n                const adapterBlocksArray = adapters.map(adapter => ADAPTERS[adapter]);\n\n                setState({\n                    ...state,\n                    blocks: [...StandardBlocks, ...adapterBlocksArray],\n                });\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{ state, setState, socket }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, { memo, useCallback, useContext, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { state, setState, state: { blocks, onUpdate }, socket } = useContext(ContextWrapperCreate);\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id);\n        if (CustomBlock) {\n            return <CustomBlock {...props} onUpdate={onUpdate} onChange={onChange} className={null} socket={socket} />;\n        } else {\n            return <GenericBlock {...props} onUpdate={onUpdate} notFound={true} onChange={onChange} className={null} socket={socket} />;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setState({ ...state, onUpdate: true });\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","import React, { useContext, useEffect, useRef } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { state, setState } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        item: { ...allProperties, type: 'box', id, isActive, _id },\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setState({ ...state, onUpdate: true })\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY);\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY);\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY);\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n\n    return <div ref={ref} style={{ opacity, }}>{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;","import React from 'react';\nimport CardMenu from '.';\nimport DragWrapper from '../DragWrapper';\n\nconst CustomDragItem = (props) => {\n    const { allProperties } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu {...props} {...allProperties} />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","\nimport React, { Fragment, useEffect, useState } from 'react';\n// import I18n from '@iobroker/adapter-react/i18n';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { useDrop } from 'react-dnd';\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\n\nconst AdditionallyContentBlockItems = ({ itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div ref={drop} style={{ backgroundColor }} className={`${cls.contentBlockItem} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}>\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height').clientHeight } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${cls.mainBlockItemRules} ${border ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon iconName={iconName} className={cls.iconThemCard} adapter={adapter} socket={socket}/>{name}</span>\n        <AdditionallyContentBlockItems\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}><div\n                onClick={() => {\n                    if (typeBlock === 'actions') {\n                        setAdditionallyClickItems(!additionallyClickItems);\n                        return null;\n                    }\n                    let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                    if (userRules['conditions'][index + 1].length) {\n                        newAdditionally[index].open = !newAdditionally[index].open\n                        setAdditionallyClickItems(newAdditionally);\n                        return null;\n                    }\n                    newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                    setAdditionallyClickItems(newAdditionally);\n                    setAnimation(typeBlock === 'actions' ? true : index);\n                    setTimeout(() => {\n                        setAnimation(false);\n                        setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                    }, 250);\n\n                }}\n                key={index} className={cls.blockCardAdd}>\n                {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                    {nameAdditionally}\n                </div>\n            </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: ''\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;","import React from 'react';\nimport cls from './hamburgerMenu.module.scss';\nimport PropTypes from 'prop-types';\n\nconst HamburgerMenu = ({boolean}) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;","import React, { Fragment, useCallback, useContext, useEffect, useState } from 'react';\nimport cls from './style.module.scss';\nimport CustomInput from './components/CustomInput';\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport CustomDragItem from './components/CardMenu/CustomDragItem';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport HamburgerMenu from './components/HamburgerMenu';\nimport { useStateLocal } from './hooks/useStateLocal';\nimport { AppBar, Tab, Tabs } from '@material-ui/core';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './Compile';\nimport MaterialDynamicIcon from './helpers/MaterialDynamicIcon';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport './helpers/stylesVariables.scss';\n\nconst RulesEditor = ({ code, onChange }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { state: { blocks }, socket } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [theme, setTheme] = useStateLocal('themeStandart', 'themeRules');\n    const [userRules, setUserRules] = useState(Compile.code2json(code)); //useStateLocal(DEFAULT_RULE, 'userRules');\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && name.en.toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = theme;\n    }, [theme]);\n    useEffect(() => {\n        setBlocksFunc();\n        // onChange(Compile.json2code({\n        //     triggers: [],\n        //     conditions: [[]],\n        //     actions: {\n        //         then: [],\n        //         'else': []\n        //     }\n        // },blocks))\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    const handleChange = (event, newValue) => {\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\tif (!blocks) {\n        return null;\n    }\n    return <div className={clsx(cls.wrapperRules, theme)}>\n        <CustomDragLayer allBlocks={allBlocks} socket={socket}/>\n        <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n            onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} /></div>\n        <div className={`${cls.menuRules} ${hamburgerOnOff ? cls.menuOff : null}`}>\n            <div className={cls.controlPanel}>\n                <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                    <Tabs\n                        value={filter.index}\n                        onChange={handleChange}\n                    >\n                        <Tab icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                            {...a11yProps(0)} />\n                        <Tab icon={<MaterialDynamicIcon iconName='Help' />}\n                            {...a11yProps(1)} />\n                        <Tab icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                            {...a11yProps(2)} />\n                    </Tabs>\n                </AppBar>\n            </div>\n            <div className={cls.switchesRenderWrapper}>\n                <span>\n                    {allBlocks.map(el => {\n                        const { name, id, icon, adapter } = el.getStaticData();\n                        return <Fragment key={id}>\n                            <CustomDragItem\n                                allProperties={el.getStaticData()}\n                                name={name}\n                                icon={icon}\n                                adapter={adapter}\n                                socket={socket}\n                                userRules={userRules}\n                                setUserRules={onChangeBlocks}\n                                isActive={false}\n                                id={id}\n                            />\n                        </Fragment>;\n                    })}\n                    {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                        Nothing found...\n                            <div className={cls.resetSearch} onClick={() => {\n                            setFilter({\n                                ...filter,\n                                text: ''\n                            });\n                            setBlocksFunc('');\n                        }}>reset search</div>\n                    </div>}\n                </span>\n            </div>\n            <div className={clsx(cls.menuTitle, cls.marginAuto)} />\n            <div className={cls.blockTheme}>\n                <div onClick={() => setTheme('themeStandart')} style={{ background: '#4caaf47d', borderColor: '#4caaf4', opacity: theme !== 'themeStandart' ? 0.4 : 1 }} className={cls.currentBlockTheme}></div>\n                <div onClick={() => setTheme('themeGreen')} style={{ background: '#4cf4577d', borderColor: '#50f44c', opacity: theme !== 'themeGreen' ? 0.4 : 1 }} className={cls.currentBlockTheme}></div>\n                <div onClick={() => setTheme('themeSilver')} style={{ background: '#f3f3f37d', borderColor: '#dedede', opacity: theme !== 'themeSilver' ? 0.4 : 1 }} className={cls.currentBlockTheme}></div>\n            </div>\n            <CustomInput\n                className={cls.inputWidth}\n                fullWidth\n                customValue\n                value={filter.text}\n                size=\"small\"\n                autoComplete=\"off\"\n                label=\"search\"\n                variant=\"outlined\"\n                onChange={(value) => {\n                    setFilter({ ...filter, text: value });\n                    setBlocksFunc(value);\n                }}\n            />\n        </div>\n        <ContentBlockItems\n            setUserRules={onChangeBlocks}\n            userRules={userRules}\n            name=\"when...\"\n            typeBlock=\"triggers\"\n            iconName=\"FlashOn\"\n        />\n        <ContentBlockItems\n            setUserRules={onChangeBlocks}\n            userRules={userRules}\n            name=\"...and...\"\n            typeBlock=\"conditions\"\n            iconName=\"Help\"\n            nameAdditionally=\"or\"\n            additionally\n            border\n        />\n        <ContentBlockItems\n            setUserRules={onChangeBlocks}\n            userRules={userRules}\n            name=\"...then\"\n            typeBlock=\"actions\"\n            iconName=\"PlayForWork\"\n            nameAdditionally=\"else\"\n            additionally\n        />\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default RulesEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport {MdSave as IconSave} from 'react-icons/md';\nimport {MdCancel as IconCancel} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdRefresh as IconRestart} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {FaClock as IconCron} from 'react-icons/fa';\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\nimport {MdClearAll as IconCloseAll} from 'react-icons/md';\nimport {MdBuild as IconDebugMenu} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\nimport {MdPlaylistAddCheck as IconVerbose} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png';\nimport ImgRules2Js from './assets/rules2js.png';\nimport ImgRules from './assets/rules.png';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\nimport DialogCron from './Dialogs/Cron';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    saveButton: {\n        background: '#ff9900'\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1)\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({showSelectId: true});\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({showCron: true});\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({showScript: true});\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({instancesLoaded: true});\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n        if (obj && obj.type === 'instance') {\n            // update instances\n            if (!window.main.instances.includes(id)) {\n                window.main.instances.push(id);\n                window.main.instances.sort();\n            }\n            window.main.objects[id] = obj;\n        }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({toast: I18n.t('Script %s was modified on disk.', id.split('.').pop())});\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({changed}, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({changed}, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({changed, blockly: false, selected: ''}, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({selected: nowSelected}), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({changed}, () => this.setChangedInAdmin());\n\n        }\n    }\n\n    onTabChange(event, selected) {\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = {editing};\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () =>  {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({confirm: question});\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({cmdToBlockly: cmd}, () =>\n            setTimeout(() =>\n                this.setState({cmdToBlockly: ''}), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                    component={'div'}\n                    key=\"tabs1\"\n                    value={this.state.selected}\n                    onChange={(event, value) => this.onTabChange(event, value)}\n                    indicatorColor=\"primary\"\n                    style={{position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block'}}\n                    textColor=\"primary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {this.state.editing.map(id => {\n                        if (!this.props.objects[id]) {\n                            const label = [\n                                <div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{id.split('.').pop()}</div>,\n                                <span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>];\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                value={id}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        } else {\n                            let text = this.props.objects[id].common.name;\n                            let title = '';\n                            if (text.length > 18) {\n                                title = text;\n                                text = text.substring(0, 15) + '...';\n                            }\n                            const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                            const label = [\n                                <img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>,\n                                <div key=\"text\" className={clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                                changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}>▣</span> : null,\n                                <span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>\n                                ];\n\n                            return <Tab\n                                wrapped\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                className={this.props.classes.tabButton}\n                                value={id}\n                                title={title}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />;\n                        }\n                    })}\n                </Tabs>,\n                this.state.editing.length > 1 ? <IconButton\n                    key=\"menuButton\"\n                    href=\"#\"\n                    aria-label=\"Close all but current\"\n                    className={this.props.classes.tabMenuButton}\n                    title={I18n.t('Close all but current')}\n                    aria-haspopup=\"false\"\n                    onClick={_event => {\n                        const editing = [this.state.selected];\n                        // Do not close not saved tabs\n                        Object.keys(this.scripts).forEach(id =>\n                            id !== this.state.selected &&\n                            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                            editing.push(id)\n                        );\n\n                        window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                        this.setState({menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing});\n                    }}\n                >\n                    <IconCloseAll />\n                </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon}/>\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) return null;\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({showDebugMenu: false, menuDebugAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                      title={I18n.t('debug_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled}, () => this.onChange({debug: this.state.debugEnabled}));\n                      }}>\n                <Checkbox checked={this.state.debugEnabled}/>\n                <IconDebug className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                      title={I18n.t('verbose_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled}, () => this.onChange({verbose: this.state.verboseEnabled}));\n                      }}>\n                <Checkbox checked={this.state.verboseEnabled}/>\n                <IconVerbose className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled  && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n        ]\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {this.state.menuOpened && this.props.onLocate && (<IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>)}\n                    {!changed && isInstanceRunning && <IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>}\n                    {!changed && !isScriptRunning && <span className={ this.props.classes.notRunning }>{I18n.t('Script is not running')}</span>}\n                    {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                    {changed && <Button key=\"save\" variant=\"contained\" className={clsx(this.props.classes.textButton, this.props.classes.saveButton)} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={ this.props.classes.textIcon }/></Button>}\n                    {(changedAll > 1 || (changedAll === 1 && !changed)) && (<Button key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={ this.props.classes.textIcon }/></Button>)}\n                    {changed && (<Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={ this.props.classes.textIcon }/></Button>)}\n                    <div style={{flex: 2}}/>\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"export\" aria-label=\"Export Blocks\"\n                                     title={I18n.t('Export blocks')}\n                             className={this.props.classes.toolbarButtons}\n                             onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"import\" aria-label=\"Import Blocks\"\n                                     title={I18n.t('Import blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('import')}>\n                            <IconImport /></IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton key=\"check\" aria-label=\"Check code\"\n                                     title={I18n.t('Check blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('check')}>\n                            <IconCheck /></IconButton>}\n\n                    {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                                                                                        title={I18n.t('Create or edit CRON or time wizard')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>}\n\n                    {!this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton key=\"select-id\" aria-label=\"select ID\"\n                                                                                        title={I18n.t('Insert object ID')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>}\n\n                    {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                                                                                  title={I18n.t('Convert blockly to javascript for ever.')}\n                                                                                  onClick={() => this.onConvertBlockly2JS()}\n                    >Blockly=>JS</Button>}\n\n                    {(this.state.blockly || this.state.rules) && <Button key=\"blockly-code\" aria-label=\"blockly\"\n                                                    title={I18n.t('Show javascript code')}\n                                                    className={this.props.classes.toolbarButtons}\n                                                    color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                                                    style={{padding: '0 5px'}}\n                                                    onClick={() => this.setState({showCompiledCode: !this.state.showCompiledCode})}>\n                        <img alt={this.state.blockly?\"blockly2js\":\"rules2js\"} src={this.state.blockly?ImgBlockly2Js:ImgRules2Js} /></Button>}\n\n                    <IconButton key=\"debug\" aria-label=\"Debug menu\"\n                                                                 title={I18n.t('Debug options')}\n                                                                 className={this.props.classes.toolbarButtons}\n                                                                 onClick={e => this.setState({showDebugMenu: true, menuDebugAnchorEl: e.currentTarget})}>\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>\n                </Toolbar>;\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules   || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({insert: ''})}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({script: newValue})}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({script: newValue})}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={clsx(this.props.classes.editorDiv)} key=\"flowEditorDiv\">\n                <RulesEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"flowEditorDiv\"\n                    themeType={this.state.themeType}\n                    themeName={this.state.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return (<DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({confirm: ''});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                statesOnly={true}\n                onClose={() => {\n                    this.setState({showSelectId: false});\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({insert: `'${selected}'/*${name}*/`})\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return (<DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({showCron: false})}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({insert: `'${cron}'`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({showScript: false});\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({toast: ''})}\n            ContentProps={{'aria-describedby': 'message-id',}}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({toast: ''})}\n                ><IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(Editor);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAYAAADXRcu0AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0zMFQwOTo0Njo0MCswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iQWRvYmUgUkdCICgxOTk4KSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTUwYTA2OS0wNjQ3LTQxM2ItOWI5MC02MjYxMjBjNDg1MzMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkYTliOGE0YS01MzMzLTc1NDgtYjUxZi01YTI2NWU4NDU3ZjUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQxMjExMGQ0YzAiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IlJVTEVTIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJSVUxFUyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMjg5NDQwYi1hMjJlLWMxNGEtOGRhMy1jMmI4NTA1YjJhMjA8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNzdmMTM3Ni0xYWRiLTQ5ZTktYmM2NS1hOTQxMjExMGQ0YzAiIHN0RXZ0OndoZW49IjIwMjEtMDEtMzBUMDk6NDY6NDArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZGQ5ZjNjYi1kMzY3LTQzNzctOTE2Yy1iZWYwNWRlNDkwZTkiIHN0RXZ0OndoZW49IjIwMjEtMDItMTdUMTI6MTA6NDMrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2NTUwYTA2OS0wNjQ3LTQxM2ItOWI5MC02MjYxMjBjNDg1MzMiIHN0RXZ0OndoZW49IjIwMjEtMDItMjVUMDk6NTA6MzIrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq+d06IAAAcUSURBVGiB7Zp7cFTVHcc/Z4UlYZNlgiTQhgQSUEkDQcqsTRlUIqgzFBwUFp1W0HTGaTt9aCsVK/yDE9TS6bSiA45WwoZHq+D4IMZH69BxxhmnCXbU4JJhrAUSRmjrjLCbF7t7+sfN3nvPPXfvLmmebb8zd+7v/M7vnPPb87u/xz13hZSS8YK6urrBDj0JzAX6gYNAPcDRo0eHRrEhgG+0FRgBzMYwAoAfuBe4b7SUyYT/BUP80IX3rRHXIgv+2w0RAH7qwn9ypBXJBuGVI4Kzw1IIQfoCEAIbLYw2wppwgGdvu9FuSOti1ylNmn1IhWdcajtNTyvoZVZxTFmjrDhBZNM/yaLKiMPTI+wGMNpqn7u8PtY5j9d4fWxm+Wx6VX6lX5Ndf0P3mDMCDCI0OQ2T9ga3J183pNO7hKuMG23yyM3jgvkJkgnVEJMnSVYs6snth44wsnqE/e7k63LZ5/Lqz2xA73Xd1q6q1EPu6tpu8vxjs1yf4NUppcy4yc7cYPEze4h9bK6vL0KIAT2sMQIBwsoNaZk07Z+QJNH9pbbmmiXduS16uVj8V4s+tkjtm1yDrIpI4cszNiHVq8sw4BGBsrWyoHydtjW5xHWrz42nP9nW061fbmOc63p5QRrFhXr4qZ3Xx4yiZEb9/yP48qzLBjm/pY/qFzCNkJYNRWHaenWK/NI7TAMUzgrLwllhCTClYr2EXEOKRWcao3tU9ozpaXgEUuoyPiEpmdKryYdviGddb0gRXIrIr5iUsb9im9L0+Xx62AjODksnz6KNxquRzZzvOMC5E/v5PGpcTz1WjxCCw89v4uzxJho2hwFo2Bym8+MIL/7uQQA63n+GMx/t5eal85S1Dz3/IF3tEbraI5w93sTZ40289/oTAPxgQx0fv7uTcyf2c77jAK9EHnINl0WBXpAphV96ZZJrK/UKalgxd6dJyu6T3bRWQWsVyBQyfryP1ipF3Ae51PdqO5P4ujU38fXq0svS1y0UuWHT/d+mpGSq2V5Su5BHfrxak5tV0qfx7loWH92StfczK2a1VSM+Wad5imuydkuumXD45Xf40SONfNr2HIFAPqFFV3nqlMumN+5rZusvDykvdvFuI+6/8NKfeHj7HwDj5c4+b8DfRyqhGiLPP0ola9fTUP5zQ7ept/hkwZ9T4sNlGatUH6hvspeLdbcv5/PofgKBfOLxHlr++MGg50qjfsMqMzzt3H4vAA9t3c2nn3Xy3Y2rOd9xgPff3EFoQZkyblqhXhXd9o1RKlnP7VGawj/dRyhqJOpJFZq4q4UGa5jn9r7KmXMXuBgzNuSaq8qN+9XGPRbLrXxs3NdM6fx7+Gr1Rn6yZS8Ab74b5ZbwNqbPu5s9TUeorCjl/u+vMcf4r0gyJV/1BiHg9qXDVLLmAkceMFHTgrwmorip53tEGkZ14t53+OV3KCyczK0rvsltK69nx64Woh2nuHVFLUtqa+hqj5iy0Y5TipEbd//CpB99wnqC6jeson7DKgDi8R7urH+U5hcf99TxygJ9w0NXD2PJmitaq8A/E1nzlhTCqoxE8Lp8Wb5FitPbBYDP/vDn6glOsa0N+4nHe6isKKVhc5gdu16ncV+zItO4r5lf7W7xzhEZlj/W3smepiMK76P2k2xpaAIGStagngfuunGES9ZM6O9EtFULji1W2GL63ZZhpJQEytZK+zvAxVOHRKBsrZw4cULWU1e3w7nMRyM42sL1pNWgpXZ3nsSmBu5Fk+PMLLqgzD2jKMnBh/8xPNXS1JUxvmgpMNuhqNVnC0dy9uNSnH5MkLqojneR9wHEz7wkAJLJFBdPHRJ2XjYv8ep39jlFrU3O/cjDHGu6j6S85JLW/52bhr5klYGFklAU5vy6AH+ZBJDBGzXNpX+mJBRFFK8RLP4LMm+uJTNnp+svNXNE7PRhT7WNjbLOnqQEhDTPm+x5xH5GZaetebzWkRrtxksj4O8ndUkNS5MmSpYPR8laddCiF74tAATWgZtMXZIChOjvVPZSLDhib1vy/3pDpsd7nr4OpnrKZfNyWU8PTerHoTSmFeh5YOV1PeQPQ8kq2mo8H1ZxzNbftsBzLpmMSfG3n5nyWb9H6OFFKptjl9HbUqOz8Zzj7fOqesBEX4Kgs2QFwtcPV5JOQmsV8u/b+qVMmecosmt3QitVZcKQPXFPSvadNQ+/5JfvpfhwBeKDkOo1Xk/rlIr10pl400lbaaPL2NtOOhPcjeFo2z6VzgheoLhQ3fRr5/Tzm+99kXWtsQZPj0gmUxnDihIycH+CnRt7uR7hvq5xF6RcS9aNy2P0J8bffyI8PWKsoU79g9l9wLMOkU+A+WR8I1Hx/z+YDQ0ecOH9lhyNMNYwXg2xDPiag9cL/H7kVRkajFdDPODCexqIufDHBcarIV4D7KWRBHaNki5Dgn8DIpsEjn2A+AIAAAAASUVORK5CYII=\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/zip,application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport { MdMenu as IconMenuClosed } from 'react-icons/md';\nimport { MdArrowBack as IconMenuOpened } from 'react-icons/md';\nimport { MdVisibility as IconShowLog } from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\nimport Loader from '@iobroker/adapter-react/Components/Loader'\nimport I18n from '@iobroker/adapter-react/i18n';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%'\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    },\n    showLogButton: {\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        paddingTop: 3,\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 8,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            translations: {\n                'en': require('./i18n/en'),\n                'de': require('./i18n/de'),\n                'es': require('./i18n/es'),\n                'fr': require('./i18n/fr'),\n                'it': require('./i18n/it'),\n                'nl': require('./i18n/nl'),\n                'pl': require('./i18n/pl'),\n                'pt': require('./i18n/pt'),\n                'ru': require('./i18n/ru'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n        });\n\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith('system.adapter.' + this.adapterName + '.')) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(obj._id + '.alive', this.onInstanceAliveChange());\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(id + '.alive', this.onInstanceAliveChange());\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n\n\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances['system.adapter.' + this.adapterName + '.' + id] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = parts.join('.') + '.' + newId.split('.').pop();\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(id + '.'));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => {\n                            console.log(e);\n                        });\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop()\n                        },\n                        native: {}\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    } else {\n                        return new Promise((resolve, reject) =>\n                            this.socket.getRawSocket().emit('extendObject', oldId, obj, err =>\n                                err ? reject(err) : resolve()));\n                    }\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive')\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) {\n                m = '0' + m;\n            }\n            date += '-' + m + '-';\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                    const parts = data.split('.zip.');\n                    a.href = '/zip/' + parts[0] + '/' + parts[1];\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        return <Editor\n            key=\"editor\"\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <div\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            className={this.props.classes.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </div>;\n    }\n\n    renderMain() {\n        const { classes } = this.props;\n        const errorDialog = this.state.errorText ? <DialogError key=\"dialogError\" onClose={() => this.setState({ errorText: '' })} text={this.state.errorText} /> : null;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            errorDialog,\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                    setTimeout(() => this.setState({ resizing: false }), 300);\n                }}>\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </div>\n                {this.state.hideLog ?\n                    <>\n                        {this.renderEditor()}\n                        {this.showLogButton()}\n                    </>\n                    :\n                    <SplitterLayout\n                        key=\"splitterLayout\"\n                        vertical={!this.state.logHorzLayout}\n                        primaryMinSize={100}\n                        secondaryInitialSize={this.logSize}\n                        //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                        onDragStart={() => this.setState({ resizing: true })}\n                        onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                        onDragEnd={() => {\n                            this.setState({ resizing: false });\n                            window.localStorage.setItem('App.logSize', this.logSize.toString());\n                        }}\n                    >\n                        {this.renderEditor()}\n                        <Log\n                            key=\"log\"\n                            verticalLayout={!this.state.logHorzLayout}\n                            onLayoutChange={() => this.toggleLogLayout()}\n                            editing={this.state.editing}\n                            socket={this.socket}\n                            selected={this.state.selected}\n                            onHideLog={() => {\n                                window.localStorage.setItem('App.hideLog', 'true');\n                                this.setState({ hideLog: true, resizing: true });\n                                setTimeout(() => this.setState({ resizing: false }), 300);\n                            }}\n                        />\n                    </SplitterLayout>\n                }\n            </div>,\n        ];\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType} />;\n        }\n\n        return <div className={classes.root}>\n            <ContextWrapper socket={this.socket}>\n                <SplitterLayout\n                    key=\"menuSplitter\"\n                    vertical={false}\n                    primaryMinSize={300}\n                    primaryIndex={1}\n                    secondaryMinSize={300}\n                    secondaryInitialSize={this.menuSize}\n                    customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                    }}\n                >\n                    <div className={classes.mainDiv} key=\"menu\">\n                        <SideMenu\n                            key=\"sidemenu\"\n                            scripts={this.scripts}\n                            scriptsHash={this.state.scriptsHash}\n                            instances={this.state.instances}\n                            update={this.state.updateScripts}\n                            onRename={this.onRename.bind(this)}\n                            onSelect={this.onSelect.bind(this)}\n                            socket={this.socket}\n                            selectId={this.state.menuSelectId}\n                            onEdit={this.onEdit.bind(this)}\n                            expertMode={this.state.expertMode}\n                            themeType={this.state.themeType}\n                            themeName={this.state.themeName}\n                            onThemeChange={themeName => {\n                                Utils.setThemeName(themeName);\n                                const themeType = Utils.getThemeType(themeName);\n                                this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName))\n                            }}\n                            runningInstances={this.state.runningInstances}\n                            onExpertModeChange={this.onExpertModeChange.bind(this)}\n                            onDelete={this.onDelete.bind(this)}\n                            onAddNew={this.onAddNew.bind(this)}\n                            onEnableDisable={this.onEnableDisable.bind(this)}\n                            onExport={this.onExport.bind(this)}\n                            width={this.menuSize}\n                            onImport={() => this.setState({ importFile: true })}\n                            onSearch={searchText => this.setState({ searchText })}\n                        />\n                    </div>\n                    {this.renderMain()}\n                </SplitterLayout>\n            </ContextWrapper>\n        </div>;\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { version } from '../package.json';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nwindow.adapterName = 'javascript';\nlet themeName = Utils.getThemeName();\n\nconsole.log('iobroker.' + window.adapterName + '@' + version + ' using theme \"' + themeName + '\"');\n\nfunction build() {\n    const isMobile = window.innerWidth < 600;\n    return ReactDOM.render(<MuiThemeProvider theme={theme(themeName)}>\n        <DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n            <App onThemeChange={_theme => {\n                themeName = _theme;\n                build();\n            }} />\n        </DndProvider>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\n// if not local development\nif (window.location.host !== 'localhost:3000') {\n    Sentry.init({\n        dsn: 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56',\n        release: 'iobroker.' + window.adapterName + '@' + version,\n        integrations: [\n            new SentryIntegrations.Dedupe()\n        ]\n    });\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperRules\":\"style_wrapperRules__3qQa2\",\"menuRules\":\"style_menuRules__3fiP_\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__1GT_a\",\"menuOff\":\"style_menuOff__DgpqH\",\"menuTitle\":\"style_menuTitle__cfhJ4\",\"marginAuto\":\"style_marginAuto__3helm\",\"iconThem\":\"style_iconThem__1D-fC\",\"inputWidth\":\"style_inputWidth__2vyAH\",\"hamburgerWrapper\":\"style_hamburgerWrapper__2KAxG\",\"hamburgerOff\":\"style_hamburgerOff__3J3tW\",\"nothingFound\":\"style_nothingFound__1fKq1\",\"resetSearch\":\"style_resetSearch__2b0Wt\",\"controlPanel\":\"style_controlPanel__3eVg8\",\"controlPanelAppBar\":\"style_controlPanelAppBar__2uF9J\",\"hintContent\":\"style_hintContent__AMA0I\",\"hintSquare\":\"style_hintSquare__2RO3y\",\"blockTheme\":\"style_blockTheme__3aK68\",\"currentBlockTheme\":\"style_currentBlockTheme__cHRuz\",\"editorDivRules\":\"style_editorDivRules__3vTmC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"style_border__2WYMW\",\"emptyBlockStyle\":\"style_emptyBlockStyle__3VvZJ\",\"emptyBlock\":\"style_emptyBlock__1FjYE\",\"marginTop\":\"style_marginTop__1rrb7\",\"emptyBlockNone\":\"style_emptyBlockNone__3pZ7k\",\"mainBlockItemRules\":\"style_mainBlockItemRules__2zj9l\",\"nameBlockItems\":\"style_nameBlockItems__2COHm\",\"contentBlockItem\":\"style_contentBlockItem__1PN3u\",\"wrapperMargin\":\"style_wrapperMargin__15yUz\",\"contentHeightOn\":\"style_contentHeightOn__1nz_U\",\"heightBlock\":\"style_heightBlock__3_LFG\",\"contentHeightOff\":\"style_contentHeightOff__3A3AV\",\"cardAdd\":\"style_cardAdd__zadBd\",\"blockCardAdd\":\"style_blockCardAdd__13d3e\"};"],"sourceRoot":""}